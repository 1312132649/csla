<html><header><title>CSLA Linq Provider</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA Linq Provider</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8203.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>acgritt posted on Wednesday, December 23, 2009</h2>I have found several times that using LINQ against the CSLA Business Objects have generated some unexpected results.&nbsp; These have usually been easy to get around by inserting a .ToList() call in the chain of Linq statements.&nbsp; However, is there an easy way to disable the CSLA Linq Provider without removing it from the codebase?<br><br>The most recent issue I found was when I had a call similar to this:<br><br>Channels.Where(chan =&gt; chan.OtherChannelReference == Id).OfType&lt;Csla.Core.BusinessBase&gt;()<br><br>If the Channels list has 4 items in it, this query will always return the 4 items because the Where clause seems to be skipped and only the OfType seems to be run.&nbsp; If I do the following:<br><br>Channels.SelectMany(chan =&gt; chan.ChildList.Where( cl =&gt; cl.ChannelReference == Id)).OfType&lt;&gt;()<br><br>Then the call works fine.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, December 23, 2009</h2><P>There is no way to disable the L2C behavior, no.</P>
<P>In CSLA .NET 4.0 the LINQ support will undergo radical change, which should resolve this issue. </P>
<P>The change is that you'll need to explicitly opt in to get a synchronized result list, and by default you'll only get LINQ to Object behaviors.</P>
<P>I'm sure this will make some people happy because things like you are doing should work as normal.</P>
<P>Of course I'm also sure it will make a lot of people unhappy as they bind to LINQ resuts and find that items they add/delete in the collection aren't really added/deleted in the database - until they find out they needed to use the .ToSynchronizedList() extension method (or whatever we call it).</P>
<P>This is clearly a no-win situation though, so I'm switching the CSLA implementation to the option that requires the least work for me :)</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
