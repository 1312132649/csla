<html><header><title>WCF service to return XML: is CSLA a fit for this scenario?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>WCF service to return XML: is CSLA a fit for this scenario?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7761.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>sami posted on Friday, October 09, 2009</h2>We provide a SaaS application which uses a WinForm client app communicating through the backend via WCF. Our application is strictly built on the CSLA framework. <br /><br /><br />Nonetheless, it seems that I need to do something slightly out of the norm and would like some advice.  I’m adding a WCF service that needs to hand back an XML Document to the client application. The service currently does not hand back an object (or collection) because the database call returns XML (using FOR XML in stored procedure). Now, while the XML does describe one or more complex business objects, it doesn’t make sense to build a list of objects and then put them back into XML. The query can change anytime so it needs to be agile; making business object changes to reflect the data and then recompiling/deploying wouldn’t be worth it (a third party company determines the structure).<br /><br /> <br />The question I have is how would this service, which hands back XML, fit into the CSLA framework? <br /><br /><br />I guess another question is: Does the service need to go through the business layer if there are no business objects constructed or validated? <br /><br /> <br />In other words, is CSLA a fit for this type of scenario and, if so, do you have any examples for it?<br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, October 09, 2009</h2><P>I think you should always look at a technology or framework and decide to use it based on whether you need its features. Factors for CSLA decisions include:</P>
<OL>
<LI>Are you already using CSLA .NET in the app? If so, you should probably be consistent everywhere</LI>
<LI>Do you need to centralize business logic into a business layer?</LI>
<LI>Do you need the data portal (location transparency - switch from 2-tier to 3-tier via config)?</LI>
<LI>Do you need data binding?</LI></OL>
<P>For an XML interface number 4 isn't so useful.</P>
<P>Number 3 might be important, depending on your environment.</P>
<P>Number 2 sounds like it isn't important, becuase it sounds like you have no business logic - this is a straight data feed.</P>
<P>Number 1 is important - consistency is very important imo.</P>
<P>Assuming you decide you should use CSLA .NET, that doesn't mean you have to load/unload an object graph. You could use a simple model where you have a business object that has one property: the XML string from the database.</P>
<P>No business, validation or authorization logic - just a data dump. But you'd retain architectural consistency with the rest of the app and retain the ability to use the data portal - both of which might be very valuable.</P>
<P>If the data flows outbound only I'd use a ReadOnlyBase object. If the data is bi-directional you might use a CommandBase object. Either way, the string data type is serializable, so just get the XML string from the database, put it in the property and dump it into the Response stream.</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
