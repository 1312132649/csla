<html><header><title>Need for IsUnused, in addition to IsDirty and IsValid</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Need for IsUnused, in addition to IsDirty and IsValid</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8813.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav posted on Monday, April 19, 2010</h2><p>My new object graph contains (one Root, of course) and&nbsp;many, many&nbsp;child objects, a few with grandchild objects.&nbsp; It is more efficient for me to create All objects in the graph at once, and let the user use the ones she needs.&nbsp; When Save is clicked, I want to save only those child objects that have user entered data. The unused child objects should not be saved.</p>
<p>Right now IsNew = IsDirty = IsSavable (Unless !IsValid in which case Exception must occur).&nbsp; Now I do need to have data validation, including mandatory fields, if the user does start editing the child object. But if the user completely igores a certain child object, what would be the best way to exclude it (and its children, if any) from the Save operation?</p>
<p>One solution that comes to mind is to have an IsUnused flag set to True until the user starts editing an object.&nbsp; Then I could delete the unused objects before the Save operation begins.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, April 19, 2010</h2><p>You can change the behavior of IsSelfDirty if you&#39;d like - it is virtual. So is MarkNew iirc. It is a long-standing debate (back at least 10-12 years) about whether a new object is dirty automatically. CSLA defaults one way, but you can certainly switch the model.</p>
<p>Or, as you suggest, you can add another property in your custom base class, and probably set it to true in a MarkDirty or OnPropertyChanged override.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Tuesday, April 20, 2010</h2><p>Thanks Rocky,</p>
<p>I see that MarkClean() is available.&nbsp; Any object in my graph that happens to be a parent must be saved&nbsp;if any of its descendants isDirty, even if&nbsp;the parent&nbsp;itself has not been touched&nbsp;by the user,&nbsp; So perhaps in all my Child_Creat() methods I can call MarkClean().&nbsp; From that point on, the standard Csla behavior should probably take care of the rest.</p>
<p>Jav</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
