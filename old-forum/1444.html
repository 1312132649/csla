<html><header><title>OT:  Generics question</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>OT:  Generics question</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1444.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>razorkai posted on Wednesday, October 11, 2006</h2><P>Given a method such as this</P><FONT color=#0000ff size=2>
<P>public</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>List</FONT><FONT size=2>&lt;T&gt; GetPickedIds&lt;T&gt;()</FONT></P>
<P><FONT size=2>Is there any way I can call this method passing in a Type for T derived from elsewhere?&nbsp; What I mean is instead of typing GetPickedIds&lt;int&gt;&nbsp;I could do something like</FONT></P>
<P><FONT size=2>Type type = GetType("int");<BR>GetPickedIds&lt;type&gt;;</FONT></P>
<P><FONT size=2>Any thoughts?</FONT></P>
<P><FONT size=2>TIA.</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Wednesday, October 11, 2006</h2>As far as I know, you cannot do that.&nbsp; Reasons include that there is no way to know what type T is for the List&lt;T&gt;.&nbsp; Use generics when you can tell what type it will be.&nbsp; In your case, you would need to use an ArrayList.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Tamir replied on Wednesday, October 11, 2006</h2><P>hi razorkai <BR>i'm pretty sure you can't<BR>generics mechanism need to know at compile time what kind of type it handle.</P>
<P>i think that one of the purposes of generics is to simplify the implementation of <BR>strong Type classes.<BR>if what you're suggesting is true that what would </P>
<P>'GetPickedIds&lt;type&gt;[0]' returns? </P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P><FONT size=2></FONT>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Wednesday, October 11, 2006</h2>Well, you definitely can, but it's not as straight forward... you're going to have to use reflection.<br><br>Andrés<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>razorkai replied on Wednesday, October 11, 2006</h2><P>Andrés<BR><BR>Don't dangle the carrot like that! &lt;g&gt;&nbsp; How could I achieve this?&nbsp;&nbsp;I have been trying for ages but figured it was not possible.&nbsp; Any example code would be appreciated.</P>
<P>John.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Tamir replied on Wednesday, October 11, 2006</h2><P>hi.</P>
<P>i tried it' just&nbsp;4 fun :) and i think you're mistaken.</P>
<P>when you try this code you get InvalidOperationException: "Late bound operations cannot be performed on types or methods for which ContainsGenericParameters is true."</P>
<P>
<TABLE cellSpacing=0 cellPadding=0>

<TR>
<TD colSpan=2><PRE><FONT color=#1000a0>public</FONT> <FONT color=#1000a0>static</FONT> <A title=System.Void href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=1"><FONT color=#006018>void</FONT></A> <B>test</B>&lt;<B>T</B>&gt;()
{
      <A title=System.Console href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=2"><FONT color=#006018>Console</FONT></A>.<A title="void System.Console.WriteLine(string);" href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=3"><FONT color=#006018>WriteLine</FONT></A>(<FONT color=#1000a0>typeof</FONT>(<A title="T // Generic Argument"><FONT color=#006018>T</FONT></A>).<A title="string System.Type.FullName { ... }" href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=4"><FONT color=#006018>FullName</FONT></A>);
}<TABLE cellSpacing=0 cellPadding=0><TR><TD colSpan=2><PRE><FONT color=#1000a0>private</FONT> <FONT color=#1000a0>static</FONT> <A title=System.Void href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=1"><FONT color=#006018>void</FONT></A> <B>Main</B>(<A title=System.String href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=2"><FONT color=#006018>string</FONT></A>[] args)
{
      <FONT color=#1000a0>typeof</FONT>(<A title=ConsoleApplication10.Program href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=3"><FONT color=#006018>Program</FONT></A>).<A title="MethodInfo System.Type.GetMethod(string, BindingFlags);" href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=4"><FONT color=#006018>GetMethod</FONT></A>(<FONT color=#800000>"test"</FONT>, <A title=System.Reflection.BindingFlags href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=5"><FONT color=#006018>BindingFlags</FONT></A>.<A title="BindingFlags System.Reflection.BindingFlags.Public;" href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=6"><FONT color=#006018>Public</FONT></A> | <A title=System.Reflection.BindingFlags href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=7"><FONT color=#006018>BindingFlags</FONT></A>.<A title="BindingFlags System.Reflection.BindingFlags.Static;" href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=8"><FONT color=#006018>Static</FONT></A>).<A title="object System.Reflection.MethodBase.Invoke(object, object[]);" href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=9"><FONT color=#006018>Invoke</FONT></A>(<FONT color=#800000>null</FONT>, <FONT color=#800000>null</FONT>);
}
</PRE></TD></TR></TABLE></PRE></TD></TR></TABLE></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Thursday, October 12, 2006</h2>No I'm not.<br>Create a windows forms vb project and paste this inside the form's code:<br><br>&nbsp;&nbsp;&nbsp; Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) _<br>&nbsp;&nbsp;&nbsp; Handles MyBase.Load<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Dim mi As Reflection.MethodInfo = Me.GetType().GetMethod("DoSomething")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Dim mi2 As Reflection.MethodInfo = mi.MakeGenericMethod(GetType(Integer))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mi2.Invoke(Nothing, New Object() {2})<br>&nbsp;&nbsp;&nbsp; End Sub<br><br>&nbsp;&nbsp;&nbsp; Public Shared Sub DoSomething(Of T)(ByVal param As T)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MessageBox.Show(param.ToString())<br>&nbsp;&nbsp;&nbsp; End Sub<br><br>Andrés<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
