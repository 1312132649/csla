<html><header><title>IAuthorizeDataPortal / IInterceptDataPortal and DataPortalOperations.Execute </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>IAuthorizeDataPortal / IInterceptDataPortal and DataPortalOperations.Execute </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12038.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>DrLik posted on Tuesday, June 25, 2013</h2><p>Hi,</p>
<p>I have implemented both IAutorizeDataPortal and IInterceptDataPortal in my project. When commands are executed, IInterceptDataPortal methods gets DataPortalOperations.Execute parameter, but IAutorizeDataPortal.Authorize gets DataPortalOperations.Update. The difference is in server DataPortal class Update method:</p>
<div class="line" id="LC330"><span class="k">if</span> <span class="p">(</span><span class="n">obj</span> <span class="k">is</span> <span class="n">Core</span><span class="p">.</span><span class="n">ICommandObject</span><span class="p">)</span></div>
<div class="line" id="LC331">&nbsp; <span class="n">operation</span> <span class="p">=</span> <span class="n">DataPortalOperations</span><span class="p">.</span><span class="n">Execute</span><span class="p">;</span></div>
<div class="line" id="LC332"><span class="n">Initialize</span><span class="p">(</span><span class="k">new</span> <span class="n">InterceptArgs</span> <span class="p">{</span> <span class="n">ObjectType</span> <span class="p">=</span> <span class="n">objectType</span><span class="p">,</span> <span class="n">Parameter</span> <span class="p">=</span> <span class="n">obj</span><span class="p">,</span> <span class="n">Operation</span> <span class="p">=</span> <span class="n">operation</span><span class="p">,</span> <span class="n">IsSync</span> <span class="p">=</span> <span class="n">isSync</span> <span class="p">});</span></div>
<p><span class="n">AuthorizeRequest</span><span class="p">(</span><span class="k">new</span> <span class="n">AuthorizeRequest</span><span class="p">(</span><span class="n">objectType</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">DataPortalOperations</span><span class="p">.</span><span class="n">Update</span><span class="p">));</span></p>
<p>Is it bug or feature? For my case it would be better to have both parameter the same... :) </p>
<p>&nbsp;</p>
<p><span class="p">Zdenek<br /></span></p>
<p><span class="p"><br /></span></p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JonnyBee replied on Tuesday, June 25, 2013</h2><p>Hi, </p>
<p>It is a bug. Thanks for reporting this. </p>
<p>See: <a href="https://github.com/MarimerLLC/csla/issues/166%20">https://github.com/MarimerLLC/csla/issues/166 </a></p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
