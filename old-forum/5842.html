<html><header><title>Bug in Core.BusinessBase SetProperty?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Bug in Core.BusinessBase SetProperty?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5842.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Michael posted on Thursday, November 20, 2008</h2><font size="2"><font face="Arial">In version 3.5.2, passing in null for a string property is not coercing the new value to string.Empty. Is SetProperty:<br><br><font face="Courier New"><font color="#0000ff">if </font>(newValue <font color="#0000ff">is string </font>&amp;&amp; newValue == <font color="#0000ff">null</font>)</font><br><br>is evaluating as false, and skipping the Utilities.CoerceValue call. The problem is:<br><br><font face="Courier New"><font color="#0000ff">string </font>s = <font color="#0000ff">null</font>;<br><font color="#0000ff">bool </font>isString = s <font color="#0000ff">is string</font>; <font color="#006400">// This is false</font></font><br><br>So, we really need to know if P is a string. This is working for me:<br><br></font></font><font size="2"><font face="Arial"><font face="Courier New"><font color="#0000ff">if </font>(<font color="#0000ff">typeof</font>(P) == <font color="#0000ff">typeof</font>(<font color="#0000ff">string</font>)<font color="#0000ff"> </font>&amp;&amp; newValue == <font color="#0000ff">null</font>)</font></font></font><br><br><font size="2"><font face="Arial">Regards<br>Michael<br></font></font></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, November 20, 2008</h2>Oh, that is nasty! Thanks for catching this!</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
