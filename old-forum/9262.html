<html><header><title>Strange behaviour in Visual Studio designer dragging Model onto the canvas</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Strange behaviour in Visual Studio designer dragging Model onto the canvas</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9262.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds posted on Friday, July 23, 2010</h2><p>Hi Rocky</p>
<p>I have a very strange problem. </p>
<p>I have bought and viewed the MVVM video series (excellent so far). I have the demo project open and it all works fine.</p>
<p>In my own solution I&#39;ve replicated what is in the demo and it all works fine except....</p>
<p>I have a ViewModel subclass for a ReadOnlyList - I do the BeginRefresh and it all works fine.</p>
<p>But when I drag the Model off the DataSources window, it creates the DataGrid on my User Control. Everything is bound correctly - I have 2 CollectionViewSources in the UserControl.Resources - one for the ViewModel and the other for the Model off the ViewModel - all seems right, and exactly the same as the SLDemo project.</p>
<p>However, when I look at the DataGrid, the ItemsSource is missing. In the SLDemo it has&nbsp;ItemsSource=&quot;{Binding&quot; but this isn&#39;t done by the designer in my example project.</p>
<p>I can&#39;t figure out what the difference is! </p>
<p>Naturally when my ViewModel refreshes, unless I have manually typed the ItemsSource=&quot;{Binding}&quot; into the XAML I don&#39;t see anything in the grid.</p>
<p>Any ideas on what might be making the Cider designer behave this way? I&#39;m running on the CSLA 4 release now. I&#39;ve also tried this multiple times in my demo project, but each time with the same result. And I&#39;ve tried adding a new UserControl in the SLDemo project and it works fine there.</p>
<p>Thanks,</p>
<p>Craig</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, July 23, 2010</h2><p>There was a refresh to the Silverlight 4 designer for VS10 after VS10 itself was released. Perhaps you aren&#39;t running the final Silverlight designer code?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Friday, July 23, 2010</h2><p>No, I don&#39;t think that&#39;s the case. I&#39;m running two copies of VS2010 - one on my project and one on the source code from the MVVM videos. </p>
<p>Anyway I completely rebuilt my solution from scratch then it started working properly. <img src="http://forums.lhotka.net/emoticons/emotion-1.gif" alt="Smile" /> Then I added a second ViewModel and it broke again! <img src="http://forums.lhotka.net/emoticons/emotion-6.gif" alt="Sad" /></p>
<p>So, I don&#39;t know what the pattern is - but at least I know what&nbsp;to look out for when it&#39;s not working. I guess manually having to add ItemsSource=&quot;{Binding}&quot; to the DataGrid isn&#39;t too much of a burden.</p>
<p>Cheers,</p>
<p>Craig</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Saturday, July 24, 2010</h2><p>The designer does act differently depending on whether there&#39;s already some designer code there or not. They add resources and set datacontext values the first time you drag something on. The second time, you are probably dragging into a container, and they set up the bindings a little differently, because there&#39;s already a top-level datacontext.</p>
<p>Maybe you are hitting a bug in the designer, or maybe it is just acting differently because you are dragging out several different data sources.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
