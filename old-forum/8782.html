<html><header><title>How to change WcfProxy Url or EndPoint?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to change WcfProxy Url or EndPoint?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8782.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Roy_MA posted on Thursday, April 08, 2010</h2><p>&nbsp;Hi -</p>
<p>In my project I am trying to change WcfProxy Url after the Silverlight (also&nbsp;the OOB) application starts. My focus is to change the Url to my WebServer or AppServer depending on the Network status. In other words, if the Silverlight app is running in the corporate Network I want to use the AppServer. If the AppServer is not available, the application should contact the WebServer.</p>
<p>My Application_Startup, looks like:</p>
<p>Csla.DataPortal.ProxyTypeName = (typeof(Csla.DataPortalClient.SynchronizedWcfProxy&lt;&gt;).AssemblyQualifiedName);</p>
<p>Csla.DataPortalClient.WcfProxy.DefaultUrl = redirectToUrl;<br />this.RootVisual = new MainPage();</p>
<p>I see that although I am changing the DefaultUrl property, the controls bound to the DataPortal is not refreshing. What is the process to refresh the&nbsp;DataPortal? I tried dp.Refresh() that did not reload the data.&nbsp;I have tried changing the DefaultEndPoint and that does not reload the DataPortal either. I would appreciate&nbsp;your help.</p>
<p>Thanks.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, April 08, 2010</h2><p>I am not sure I understand. You are binding UI controls to the data portal? That&#39;s not normal. What properties of the data portal would you bind to the UI?</p>
<p>Or are you saying you are binding by using a CslaDataProvider? I&#39;ll assume so, as that makes sense.</p>
<p>It should work to Refresh() a data provider after changing WcfProxy.DefaultUrl. The DefaultUrl property is used (by default) when a new WcfProxy is created, and that should occur any time one of your business object&#39;s factory methods creates an instance of DataPortal&lt;T&gt;. When you call Refresh() on the CslaDataProvider, the data provider invokes your business object&#39;s factory method.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
