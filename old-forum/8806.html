<html><header><title>losing value of the base object's ID</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>losing value of the base object's ID</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8806.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Parvathy posted on Friday, April 16, 2010</h2><p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:small;"><span style="font-family:Calibri;">I have a class IndividualApplication which is derived from Application Class which is a businessbase object. Tha Application class has an ApplicationId property which is readonly. A protected method SetIdValue is used to set this ApplicationID property which resides in the Application class.</span></span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:small;font-family:Calibri;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="text-decoration:underline;"><span style="font-size:small;"><span style="font-family:Calibri;">Application class:</span></span></span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">[<span style="color:#2b91af;">Serializable</span>()]</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">public</span> <span style="color:blue;">class</span> <span style="color:#2b91af;">Application</span> : <span style="color:#2b91af;">BusinessBase</span>&lt;<span style="color:#2b91af;">Application</span>&gt;</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-tab-count:1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">private</span> <span style="color:blue;">int</span> mApplicationID = 0;</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-tab-count:1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>[System.ComponentModel.<span style="color:#2b91af;">DataObjectField</span>(<span style="color:blue;">true</span>, <span style="color:blue;">true</span>)]</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">public</span> <span style="color:blue;">int</span> ApplicationID</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>[System.Runtime.CompilerServices.<span style="color:#2b91af;">MethodImpl</span>(System.Runtime.CompilerServices.<span style="color:#2b91af;">MethodImplOptions</span>.NoInlining)]</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">get</span></span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>CanReadProperty(<span style="color:blue;">true</span>);</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">return</span> mApplicationID;</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-tab-count:1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">protected</span> <span style="color:blue;">void</span> SetIdValue(<span style="color:blue;">int</span> pApplicationID)</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>mApplicationID = pApplicationID;</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-tab-count:1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">public</span> <span style="color:blue;">override</span> <span style="color:#2b91af;">Application</span> Save()</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">if</span> (IsDeleted &amp;&amp; !CanDeleteObject())</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">throw</span> <span style="color:blue;">new</span> System.Security.<span style="color:#2b91af;">SecurityException</span>(<span style="color:#a31515;">&quot;Not authorized to remove an Application.&quot;</span>);</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">if</span> (IsNew &amp;&amp; !CanAddObject())</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">throw</span> <span style="color:blue;">new</span> System.Security.<span style="color:#2b91af;">SecurityException</span>(<span style="color:#a31515;">&quot;Not authorized to add an Application.&quot;</span>);</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">if</span> (!CanEditObject())</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">throw</span> <span style="color:blue;">new</span> System.Security.<span style="color:#2b91af;">SecurityException</span>(<span style="color:#a31515;">&quot;Not authorized to update an Application.&quot;</span>);</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">return</span> <span style="color:blue;">base</span>.Save();</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">[..remaining code&hellip;]</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">}</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="text-decoration:underline;"><span style="font-size:small;"><span style="font-family:Calibri;">IndividualApplication Class:</span></span></span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:small;font-family:Calibri;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">[<span style="color:#2b91af;">Serializable</span>()]</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">public</span> <span style="color:blue;">class</span> <span style="color:#2b91af;">IndividualApplication</span> : <span style="color:#2b91af;">Application</span></span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-tab-count:1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">public</span> <span style="color:blue;">override</span> <span style="color:#2b91af;">Application</span> Save()</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">if</span> (IsDeleted &amp;&amp; !CanDeleteObject())</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">throw</span> <span style="color:blue;">new</span> System.Security.<span style="color:#2b91af;">SecurityException</span>(<span style="color:#a31515;">&quot;Not authorized to remove an Application.&quot;</span>);</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">if</span> (IsNew &amp;&amp; !CanAddObject())</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">throw</span> <span style="color:blue;">new</span> System.Security.<span style="color:#2b91af;">SecurityException</span>(<span style="color:#a31515;">&quot;Not authorized to add an Application.&quot;</span>);</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">if</span> (!CanEditObject())</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">throw</span> <span style="color:blue;">new</span> System.Security.<span style="color:#2b91af;">SecurityException</span>(<span style="color:#a31515;">&quot;Not authorized to update an Application.&quot;</span>);</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">return</span> (<span style="color:#2b91af;">IndividualApplication</span>)<span style="color:blue;">base</span>.Save();</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;</span><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-tab-count:1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>[<span style="color:#2b91af;">Transactional</span>(<span style="color:#2b91af;">TransactionalTypes</span>.TransactionScope)]</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">protected</span> <span style="color:blue;">override</span> <span style="color:blue;">void</span> DataPortal_Insert()</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>DoInsertUpdate();</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>[<span style="color:#2b91af;">Transactional</span>(<span style="color:#2b91af;">TransactionalTypes</span>.TransactionScope)]</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">protected</span> <span style="color:blue;">override</span> <span style="color:blue;">void</span> DataPortal_Update()</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>DoInsertUpdate();</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-tab-count:1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:blue;">private</span> <span style="color:blue;">void</span> DoInsertUpdate()</span></p>
<p style="margin:0in 0in 0pt;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-tab-count:2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// I invoke a proc that returns me a new application ID. I set the application ID using the SetIDValue method of the base class.</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-tab-count:2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="background:yellow;mso-highlight:yellow;">SetIdValue(applicationID);</span></span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-tab-count:1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="text-decoration:underline;"><span style="font-size:small;"><span style="font-family:Calibri;">My Code behind:</span></span></span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-tab-count:1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">App is a variable of type IndividualApplicaiton. </span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-tab-count:1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>App.Save();</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-tab-count:1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Session(&ldquo;ApplicationID&rdquo;) = App.ApplicationID;</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;"><span style="mso-spacerun:yes;">&nbsp;</span></span><span style="font-size:small;"><span style="font-family:Calibri;">The ApplicationID property seems to 0. When I tried to debug the same, I found that the proc seems to return the new ID and the moment I step out of the IndividualApplication class I lose the value of the applicationID property. This was a working code in the ASP.net 2.0 version. I am currently trying to migrate the code to .net 3.5. </span></span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:small;font-family:Calibri;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:small;"><span style="font-family:Calibri;">In the ASP.net 2.0 version of the project, CSLA 2.0 was being used. <span style="mso-spacerun:yes;">&nbsp;</span>Currently my 3.5 version is refrencing the CSLA 3.8.2 version. I tried making my 3.5 version project refrence to the CSLA 2.0 and the very same code works like a charm. </span></span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:small;font-family:Calibri;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:small;"><span style="font-family:Calibri;">Is there something I am missing out on? Is there something extra that needs to be done for the same code to work with CSLA 3.8.2 version?</span></span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:10pt;font-family:&#39;Courier New&#39;;mso-no-proof:yes;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:small;"><span style="font-family:Calibri;">Please advice.</span></span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:small;font-family:Calibri;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:small;"><span style="font-family:Calibri;">Thanks</span></span></p>
<p style="margin:0in 0in 0pt;" class="MsoNormal"><span style="font-size:small;"><span style="font-family:Calibri;">Parvathy</span></span></p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, April 16, 2010</h2><p>Yes, go here (<a href="http://www.lhotka.net/search.aspx">http://www.lhotka.net/search.aspx</a>) and search for the term AutoCloneOnUpdate.</p>
<p>You are not using the results of the Save() method - which is the object with the updated values. The original object is obsolete after Save().</p>
<p>You can revert to the old behavior by setting the AutoCloneOnUpdate config option - and for a web app that may be an acceptable thing to do. For most apps it is not desirable, and the auto-clone behavior addressed a set of common bugs/issues people often faced. </p>
<p>The option was added in version 3, where the default was false. In 3.5 (I think) the default switched to true, because that&#39;s the <i>correct</i> setting - but you can still set it to false if you want the old (technically broken) behavior.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JoeFallon1 replied on Saturday, April 17, 2010</h2><p>The bug is in the line:</p>
<p>App.Save();</p>
<p>It should be:</p>
<p>App = App.Save()</p>
<p>You always have to update your local reference with the return value of the save.</p>
<p>Joe</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
