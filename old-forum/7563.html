<html><header><title>WCFHost Communication Error</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>WCFHost Communication Error</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7563.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>mwbryan posted on Wednesday, September 02, 2009</h2>I installed CSLA 3.6.1 with the test apps on an XP machine with IIS installed.  I created the virtual directories for PTWeb, PTWcfService, and PTWebService in IIS.  The PTWeb application starts fine, but when I try to log in I receive the error below.  I've tried to follow the book for configuring the WCFHost, but I must be missing something.  Any ideas?<br /><br />Server Error in '/PTWeb' Application.<br />--------------------------------------------------------------------------------<br /><br />No connection could be made because the target machine actively refused it 127.0.0.1:4216 <br />Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. <br /><br />Exception Details: System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it 127.0.0.1:4216<br /><br />Source Error: <br /><br /><br />Line 128:      {<br />Line 129:        cf.Abort();<br />Line 130:        throw;<br />Line 131:      }<br />Line 132:<br /> <br /><br />Source File: C:\Visual Studio Projects\csla\Source\cslacs\Csla\DataPortalClient\WcfProxy.cs    Line: 130 <br /><br />Stack Trace: <br /><br /><br />[SocketException (0x274d): No connection could be made because the target machine actively refused it 127.0.0.1:4216]<br />   System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress) +239<br />   System.Net.Sockets.Socket.InternalConnect(EndPoint remoteEP) +35<br />   System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket&amp; socket, IPAddress&amp; address, ConnectSocketState state, IAsyncResult asyncResult, Int32 timeout, Exception&amp; exception) +224<br /><br />[WebException: Unable to connect to the remote server]<br />   System.Net.HttpWebRequest.GetRequestStream() +5322142<br />   System.ServiceModel.Channels.WebRequestHttpOutput.GetOutputStream() +58<br /><br />[EndpointNotFoundException: Could not connect to http://localhost:4216/WcfHost/WcfPortal.svc. TCP error code 10061: No connection could be made because the target machine actively refused it 127.0.0.1:4216. ]<br />   System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg) +7596735<br />   System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData&amp; msgData, Int32 type) +275<br />   Csla.Server.Hosts.IWcfPortal.Fetch(FetchRequest request) +0<br />   Csla.DataPortalClient.WcfProxy.Fetch(Type objectType, Object criteria, DataPortalContext context) in C:\Visual Studio Projects\csla\Source\cslacs\Csla\DataPortalClient\WcfProxy.cs:130<br />   Csla.DataPortal.Fetch(Type objectType, Object criteria) in C:\Visual Studio Projects\csla\Source\cslacs\Csla\DataPortal.cs:262<br />   Csla.DataPortal.Fetch(Object criteria) in C:\Visual Studio Projects\csla\Source\cslacs\Csla\DataPortal.cs:173<br />   ProjectTracker.Library.Security.PTIdentity.GetIdentity(String username, String password) in C:\Visual Studio Projects\csla\Samples\CslaNet\vb\ProjectTrackervb\ProjectTracker.Library\Security\PTIdentity.vb:72<br />   ProjectTracker.Library.Security.PTPrincipal.Login(String username, String password) in C:\Visual Studio Projects\csla\Samples\CslaNet\vb\ProjectTrackervb\ProjectTracker.Library\Security\PTPrincipal.vb:15<br />   PTMembershipProvider.ValidateUser(String username, String password) in C:\Visual Studio Projects\csla\Samples\CslaNet\vb\ProjectTrackervb\www\PTWeb\App_Code\PTMembershipProvider.vb:11<br />   System.Web.UI.WebControls.Login.AuthenticateUsingMembershipProvider(AuthenticateEventArgs e) +60<br />   System.Web.UI.WebControls.Login.OnAuthenticate(AuthenticateEventArgs e) +119<br />   System.Web.UI.WebControls.Login.AttemptLogin() +115<br />   System.Web.UI.WebControls.Login.OnBubbleEvent(Object source, EventArgs e) +101<br />   System.Web.UI.Control.RaiseBubbleEvent(Object source, EventArgs args) +37<br />   System.Web.UI.WebControls.Button.OnCommand(CommandEventArgs e) +118<br />   System.Web.UI.WebControls.Button.RaisePostBackEvent(String eventArgument) +166<br />   System.Web.UI.WebControls.Button.System.Web.UI.IPostBackEventHandler.RaisePostBackEvent(String eventArgument) +10<br />   System.Web.UI.Page.RaisePostBackEvent(IPostBackEventHandler sourceControl, String eventArgument) +13<br />   System.Web.UI.Page.RaisePostBackEvent(NameValueCollection postData) +36<br />   System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +1565<br /><br /> <br /><br /><br />--------------------------------------------------------------------------------<br />Version Information: Microsoft .NET Framework Version:2.0.50727.3082; ASP.NET Version:2.0.50727.3082</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
