<html><header><title>CslaDataProvider on child property and grouping/sorting</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CslaDataProvider on child property and grouping/sorting</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8926.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>c_manboy posted on Thursday, May 13, 2010</h2><p>This may be more of a wpf question, so I apologize if this isn&#39;t the right place for it.</p>
<p>My root object is Employee which contains a property PayRecords which is a BusinessListBase(of PayRecords, PayRecord).&nbsp; In xaml I created a CslaDataProvider of type Employee.&nbsp; The xaml form binds several Employee properties and I want to bind the PayRecords property to a listbox.</p>
<p><span style="font-family:Courier New;color:#a31515;font-size:x-small;"><span style="font-family:Courier New;color:#a31515;font-size:x-small;"><span style="font-family:Courier New;color:#a31515;font-size:x-small;"><span style="font-family:Arial;color:#000000;">I&#39;d like the listbox to be group-able, sort-able, and filter-able.&nbsp; Can I create a csladataprovider and set it&#39;s source to the employee property PayRecords?&nbsp; I assume the csladataprovider supports sorting grouping and filtering?</span></span></span></span></p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, May 13, 2010</h2><p>In CSLA 3.x this is a little difficult because BusinessListBase inherits from BindingList&lt;T&gt;, not ObservableCollection&lt;T&gt;.</p>
<p>This really has nothing to do with the data provider model. The data provider just returns data.</p>
<p>It has to do with the sad fact that WPF doesn&#39;t fully support the BindingList&lt;T&gt; base class.</p>
<p>CSLA 4 switches the collections to inherit from ObservableCollection&lt;T&gt;, and so everything works automatically.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bmmathe replied on Monday, August 02, 2010</h2><p>If you don&#39;t have the option to upgrade to CSLA for another few months what would my options be for sorting.&nbsp; I don&#39;t mind implementing an interface on my BusinessListBase classes.</p>
<p>Currently I&#39;m simply trying to define a CollectionViewSource with a SortDescription in the XAML and the sort description is completely ignored when I examine the exposed view.</p>
<p>The only thing I have done so far is overridden the SupportsSortingCore property to return true.&nbsp; What should I implement to get the BindingListCollectionView to work with sorting?<span style="color:#0000ff;font-size:x-small;"><span style="color:#0000ff;font-size:x-small;"></span></span></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, August 02, 2010</h2><p>There is no easy solution. You can google/bing for ideas on how to wrap a BindingList with an ObservableCollection. There are some answers out there, but none are perfect or easy.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bmmathe replied on Tuesday, August 03, 2010</h2><p>I found this pretty helpful: </p>
<p><a href="http://www.wpfmentor.com/2008/12/observable-collections-independent-of.html">http://www.wpfmentor.com/2008/12/observable-collections-independent-of.html</a></p>
<p>But ultimately ended up completely abandoning the idea.&nbsp; For now I will just using SortedBindingList and handle the sort apply/reapply in code-behind (ew).</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
