<html><header><title>CSLA framework and MSMQ. </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA framework and MSMQ. </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/154.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>probashi posted on Friday, May 19, 2006</h2><P>Is there any MSMQ Host/Proxy for Data Portal? </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Saturday, May 20, 2006</h2><P>No, but using the information in chapters 4 and 12 you should be able to create one easily enough.</P>
<P>Well, "easy" is relative... <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" />&nbsp; The data portal is a synchronous technology, designed for use in an n-tier&nbsp;client/server setting. MSMQ is, by default, asychronous. To create a working data portal channel with MSMQ you'll need to write code in the client-side proxy to simulate sychronous behavior - blocking the client's call until you get a reply message from the server.</P>
<P>(Also, don't forget that if the proxy uses an eventing model to determine when the reply message has arrived in the client's queue that the event may be raised on a background thread. It is your responsibility, as author of the proxy, to get that call back onto the caller's thread. The easiest solution is probably to have the caller's thread send the outbound message, set up the event handler and then block. When the event handler gets called due to the server's message arriving, it should <EM>not</EM> read the message, but rather should just unblock the caller's thread, and it can do a synchronous read from the queue.)</P>
<P>For an example of an external proxy/host project, you can look at the code in my <A href="http://www.lhotka.net/Articles.aspx?id=0eec56bb-2a61-47c4-a9ca-f98371db1cad">WcfChannel for the data portal</A>.</P>
<P>Creating an MSMQ channel be well worth doing, because MSMQ offers some nice value in terms of fault tolerance and scalabilty that is comparatively difficult to achieve with Remoting, Enterprise Services or Web Services.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
