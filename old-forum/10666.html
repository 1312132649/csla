<html><header><title>CSLA &amp; MEF Server side options</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA &amp; MEF Server side options</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10666.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>csmith1 posted on Tuesday, September 06, 2011</h2><p>I working on a design that uses MEF for server side options. I would like the plug-ins dll to be able to have separate CSLA configuration then host service. The plan is that the CSLA Factory will have Pluging. The factory call to CSLA client side object that may a need different configuration. What would be nice if I could pass the binding configuration through an interface.</p>
<p>Basically&nbsp;I like a CLSA Server be able to call a CSLA client and set that clients configuration.</p>
<p>Another way I could see this working is have DLL contains it own binding&nbsp;independent of the host&nbsp;application.</p>
<p>Hopefully this all covered in the using CSLA eBook and I am missing it somewhere.</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, September 07, 2011</h2><p>As a general rule, the server can never call the client.</p>
<p>There are all sorts of network reasons for this - but generally speaking, the client won&#39;t have an IP address that is routable from the server, and the client certainly won&#39;t have a reusable domain name that can be resolved (even if you assume the client&#39;s IP address is routable).</p>
<p>Nothing in the data portal assumes (or even supports) the idea of the server calling the client.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>csmith1 replied on Wednesday, September 07, 2011</h2><p>I think did not state what I am trying to do clearly. I do not want to call back the client &quot;end user&quot;. I want the service to be able to access a another database.</p>
<p>I&#39;d like to point the code generator at another database. Have it build out CSLA objects. Then I want put those object behind a MEF facade. So the user can initiate&nbsp;a command like &quot;Import&quot;. The service&nbsp;receives&nbsp;the command. The service is able to call functions in the facade that do a fetch the other database using its CSLA objects. The results are processed and return to end user in the command object. I have successful done this with CSLA &nbsp;using other backends to external databases. My concern is isolating the MEF plugins from looking at service app.config for their CSLA configuration. &nbsp;An example if an application is using CSLA configuration of HTTP WCF bindings but wants the plugins to use local.</p>
<p>I understand I will have one dll plugin for local and another plugin for 3 tier. Can I create a dll that has its own CSLA configuration?</p>
<p>&nbsp;</p>
<p>Thanks</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, September 07, 2011</h2><p>The .NET configuration subsystem works at the AppDomain level, not the assembly level. CSLA uses the .NET configuration model, and so there&#39;s one configuration per AppDomain.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>csmith1 replied on Wednesday, September 07, 2011</h2><p>So what you are saying if I need different CSLA configurations then if I need two application or two services.</p>
<p>My plan then is to implement my MEF interface into my own WCF contract. The facade is going to look a lot like object factory.</p>
<p>Thanks for the info. You saved me a lot of time trying to get Custom Proxy to work.</p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
