<html><header><title>&quot;Active Code Generation&quot; for CSLA</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>&quot;Active Code Generation&quot; for CSLA</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3966.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rhinoishere posted on Friday, November 30, 2007</h2><P>I want to add a Pre-build command-line event to Visual Studio so that my business objects are rebuilt based upon the current database schema.&nbsp; </P>
<P>Yeah, I know the argument against this (makes your apps data-centric), but we already have to many business objects tied directly to the backend tables. So some active code gen could save me a lot of time. </P>
<P>Does anyone currently do this, or can you provide me a link with some example code?&nbsp; Looking at using either CodeSmith (don't mind paying if I have to) or MyGeneration. <BR></P>
<P>thanks, Ryan</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Q Johnson replied on Friday, November 30, 2007</h2><P>If you're doing your generation with .NET 2.0 or later, you should be taking advantage of parital classes.&nbsp; You can protect your hand-crafted code in one file and use the other for generation.&nbsp; Then you can generate with impunity whenever you want with whatever tool you want.</P>
<P>If you aren't using partial classes, I'd guess the relatively sophisticated generators (the two you mention should certainly qualify here) have techniques for handling the protection of hand-crafted code during generation.</P>
<P>I don't know CodeSmith well enough to comment on it.</P>
<P>But MyGeneration has a facility that handles this pretty well.&nbsp; You define the names&nbsp;that mark&nbsp;you hand-crafted code regions.&nbsp; At generation time, the engine visits all the markers and saves the code it finds at them and then spews it into the the generated file when it comes to the markers during output.</P>
<P>But partial classes is MUCH easier.&nbsp; FYI, the MyGeneration website's forum has instructions for putting a call to MyGeneration's command-line utility in your VS external tools.&nbsp; And&nbsp;you can&nbsp;batch several templates to be processed with one call.&nbsp; Check out the forum's Tips and Tricks section.</P>
<P>&nbsp;</P>
<P>HTH</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rhinoishere replied on Tuesday, December 04, 2007</h2><P>Thanks for your reply.&nbsp; I tinkered around with MyGeneration for an hour or two after going to the Tips and Tricks section per your suggestion. While I was able to generate CSLA code with it, I wasn't able to get any sort of active generation working.&nbsp;So as always seems to happen, I end up back at CodeSmith and in about an hours time I had a working active generation solution.&nbsp; The way CodeSmith integrates into Visual Studio and the build process&nbsp;is very clean, very nice.&nbsp; So, I'm probably just going to go with CodeSmith.&nbsp; While I obviously like that MyGeneration is free, I'm getting lazy in my old age (getting to&nbsp;mid-thirties now, GASP!)&nbsp;and it looks like CodeSmith has done a lot of the work for me. </P>
<P>And yes, I 'm loving the partial classes.&nbsp; Pefect solution for code generation.&nbsp; Man, I've always kind of stayed away from code generators&nbsp;but now that I've taken the plunge I'm really seeing their power. Especially when used for active generation. Seems to me that if you are using a code generator then active generation is the next logical step, but that's probably another topic. </P>
<P>thanks again, Ryan</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
