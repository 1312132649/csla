<html><header><title>How do I implement common childs for a root (I think)</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How do I implement common childs for a root (I think)</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4304.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>skaue posted on Wednesday, February 06, 2008</h2>May sound like a stupid title for my question, but english isn't my native language :P<br><br>I have various BO types that all share addressinformation. At the moment, all these BO's inherit a common type where I was planning on adding adressinfo. Given that I'm pretty new to CSLA, I haven't fully gotten around how to do this. What I want to achieve is that if two different root BO's have the same address, they will both point to the same address child BO. I've been poking the ProjectTracker's example code, but none of the scenarios match my case.<br><br>Could anyone please outline what a good CSLA-approach to this would be? :-)<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SomeGuy replied on Wednesday, February 06, 2008</h2><P>What I have done is create a static class Address and interface IAddress like the Assignment class in PTracker. Then I create the necessary Editable Child BOs like EmployeeAddress and CustomerAddress that implement IAddress. </P>
<P>E</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Wednesday, February 06, 2008</h2><P>This is a very tricky problem and this is what we do. </P>
<P>Addresses act as immutable objects. That is, 2 Park Avenue Floor 24 NY, NY 10012 is an address. It represents that location. Now, if Joe works there, and changes jobs, it doesn't change the address. It has Joe pointing at a different address. </P>
<P>So, we end up having what is called a ProfileAddress child BO which is a usage of an Address object, much like a ProjectResource is the usage of a Resource in the project tracker demo. Address is an editable root but with only read-only properties and a factory method that contains the information used to create new addresses. </P>
<P>Of course, you need to consider duplicate checking here as well, which is something that I need to consider more deeply myself. There were certain products out there such as Melissa Data which I kind of drool at because they help provide the DPV - kind of a unique ID for an address, help clean up the address, assign the zip-4 plus various other information. But too expensive at this stage. </P>
<P>Good luck,</P>
<P>Chris</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skaue replied on Wednesday, February 06, 2008</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>skagen00:</strong></div><div><p>Addresses act as immutable objects. That is, 2 Park Avenue Floor 24 NY, NY 10012 is an address. It represents that location. Now, if Joe works there, and changes jobs, it doesn't change the address. It has Joe pointing at a different address. </p></div></BLOCKQUOTE><br>Yup. Thats what I want to achieve. We already use a seperate DAL (Nhibernate-driven), and I will be able to lookup addresses based on all its common properties (street, postcode, contry, etc) and if its already there, reuse it, otherwise create it.<br>At first glance, both solution proposed so far seems applicable.<br><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>skagen00:</strong></div><div><br><p>Good luck,</p></div></BLOCKQUOTE><br><br>Thanks. I need it! ;-)<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
