<html><header><title>No Backwards Compatibility conditional compilation symbol</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>No Backwards Compatibility conditional compilation symbol</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8063.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rxelizondo posted on Monday, November 30, 2009</h2>Today I ran into a relatively minor but annoying issue, I coded the following by mistake:<br /><br />ValidationRules.AddRule(Csla.Validation.CommonRules.StringRequired, Description);<br /><br />Instead of the correct:<br /><br />ValidationRules.AddRule(Csla.Validation.CommonRules.StringRequired, DescriptionProperty);<br /><br />In the first line of code I used “Description” while in the second one I used “DescriptionProperty”. The first one (Description) is basically a call to the implementation of my property:<br /><br />public string Description<br />{<br />    get { return GetProperty(DescriptionProperty); }<br />    set { SetProperty(DescriptionProperty, value); }<br />}<br /><br />So basically, in the first “AddRule” call, I was using the overload that take a string as the property name and I was using whatever string my Description property was returning (an empty string).<br /><br />In the second “AddRule” I was using the PropertyInfo object which is what I always indented to use in the first place.<br /><br />It’s a simple enough mistake that could have been easily detected while compiling the code if the “AddRule” overload that takes a string for the property name would not exist.<br /><br />As far as I understand, this overload is there simply for backward compatibility. So ideally, I would like to see this type of backward compatibility code surrounded by a conditional compilation symbol that would instructs the compiler to ignore that chunk of code.<br /><br />This way, people that don’t care about backwards compatibility can set that conditional compilation symbol to true and be done with it. Also, most importantly, new CSLA programmer would be spared of having to figure out what is going on if they made the same mistake.<br /><br />Just a suggestion of course, no biggie. That with a combination of obsolete attributes would be pretty nice I think.<br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, November 30, 2009</h2>I could be wrong, but I don't think its legacy / obsolete.&nbsp; There's a real overhead to using PropertyInfo / FieldManager, and people may choose to use the private backing field method, which would necessitate this overload.&nbsp; Maybe it's changed and I'm not aware though.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
