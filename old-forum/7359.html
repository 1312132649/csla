<html><header><title>How do you update parent error text to show child error text?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How do you update parent error text to show child error text?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7359.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>mike1j1 posted on Wednesday, July 29, 2009</h2>I have a class where there are a number of business rules in an object, and the object has a child that also has business rules.&nbsp; The object is in a grid, and the child contains obscure rules that aren't changed very often, so they aren't show in the grid for space reasons.&nbsp; However, occasionally the user will change the child settings - and I want the validity/errors from those changes to be reflected in the grid.<br><br>I added this method:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static bool ValidChild(object target, RuleArgs e)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BusinessBase businessObject = (BusinessBase)Utilities.CallByName(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; target,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.PropertyName,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CallType.Get);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!businessObject.IsValid)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.Description = string.Format(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Resources.InvalidChild, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.PropertyFriendlyName,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; businessObject.BrokenRulesCollection.ToString());<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return businessObject.IsValid;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>and added a business rule to validate the child.&nbsp; This works fine if the child is invalid initially.&nbsp; However, if the child is changed so that the validity of any of its fields change, the changes in the child's broken rules collection are not percolating up to the parent.<br><br>What can I do to make the parent correctly reflect the current error state of the child (not just IsValid, but the text from the broken rules)?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Monday, August 03, 2009</h2>Hi, <br><br>The error info is retrieved through the IDataErrorProvider interface (that is implemented in BusinessBase). <br><br>You could probably override the IDataErrorProvider.Error property in your parent object to retrieve error messages from parent and child object. This property  is called in databinding to show the RowError in your datagridviews  RowHeader. <br><br>/jonnybee<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
