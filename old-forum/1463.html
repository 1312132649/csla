<html><header><title>Trying to use Split Base</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Trying to use Split Base</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1463.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>davem1958 posted on Thursday, October 12, 2006</h2><P>I'm doing a sanity check on the CSLA templates, which I downloaded yesterday.&nbsp; I'm hoping to use the Split Base option, so I will have two files per CSLA object.&nbsp; I'm running it against Lhotka's PTracker database, and attempting to replace the ProjectTracker.Library with the code-generated files.&nbsp; So far, I have not been able to compile.&nbsp; Has anyone tried this exercise?&nbsp; It could be that my XML configurations aren't quite right....</P>
<P>The particular error is</P>
<P>Using the generic type 'Matchbox.Business.ProjectResourcesBase&lt;T,C&gt;' requires '2' type arguments&nbsp;C:\VSS\CSLA\ProjectTracker\ProjectTracker.Library\ProjectResourceBase.cs&nbsp;207&nbsp;67&nbsp;ProjectTracker.Library<BR></P>
<P>The code that won't compile reads</P><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>internal</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>void</FONT><FONT size=2> Insert&lt;P&gt;(</FONT><FONT color=#008080 size=2>SqlConnection</FONT><FONT size=2> cn, P parent) </FONT><FONT color=#0000ff size=2>where</FONT><FONT size=2> P : ProjectResourcesBase&lt;P&gt;</FONT></P>
<P><FONT size=2>Thanks!</P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>smark replied on Thursday, October 12, 2006</h2>Davem,<br><br>I ran into the same situation. The DataPortal_Update in the parent is only providing one parameter (cn) to the child's insert method, but the insert method in the child expects two (cn and parent). What I did for the time being is to add the 'this' keyword in the parent's DataPortal_Update method where there is a loop to insert or update child objects. So the loop now looks like: child.Insert(cn, this) and child.Update(cn, this).<br><br>This compiles the code for me, but I am not sure if this is the solution in the overall scheme of things; I am just beginning to learn code generation.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>davem1958 replied on Thursday, October 12, 2006</h2><P>Similar, but I don't think it's the same problem.&nbsp; My code reads</P><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>protected</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>virtual</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>void</FONT><FONT size=2> UpdateChildren(</FONT><FONT color=#008080 size=2>SqlConnection</FONT><FONT size=2> cn)</P>
<P>{</P>
<P>_resources.Update(cn, (T)</FONT><FONT color=#0000ff size=2>this</FONT><FONT size=2>);</FONT></P>
<P>Are you using the latest templates (yesterday's)?</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>smark replied on Thursday, October 12, 2006</h2>I am using the templates for CSLA 2.1 released on 4th October. <br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>davem1958 replied on Thursday, October 12, 2006</h2><P>Looks like we have the same templates.&nbsp; Mine are dated 10/4, although the Zip file is dated 10/11.</P>
<P>Dave</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rasupit replied on Friday, October 13, 2006</h2><p><i><font color="#0000ff" size="2">internal</font><font size="2"> </font><font color="#0000ff" size="2">void</font><font size="2"> Insert&lt;P&gt;(</font><font color="#008080" size="2">SqlConnection</font><font size="2"> cn, P parent) </font><font color="#0000ff" size="2">where</font><font size="2"> P : ProjectResourcesBase&lt;P&gt;</font></i></p><p><font size="2">davem1958,</font></p><p>You should never define a collection object as parent. In your object graph Project is the parent of ProjectResource.</p><p>For others who are having issue when define the parent, see my other posts <a HREF="/forums/thread/4672.aspx">http://forums.lhotka.net/forums/thread/4672.aspx</a> which explain when to use (or not to use) parent</p><p>Ricky<br></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>davem1958 replied on Monday, October 16, 2006</h2><P>I figured it was operator error.&nbsp; :)</P>
<P>Thanks!</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
