<html><header><title>CSLA 4 version 4.5.492 prerelease online</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA 4 version 4.5.492 prerelease online</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12243.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka posted on Monday, December 02, 2013</h2><p>I have put a new 4.5.492 prerelease online, leading up to the 4.5.500 release.</p>
<p>This prerelease supports WinRT 8.1 and the latest Xamarin Android versions, and includes a number of bug fixes and enhancements people have asked for over the past few weeks.</p>
<p>Please give this version a try ASAP and let me know if you encounter any issues. My plan is to do the final release in about a week barring any major issues you all might find.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>clodewyks replied on Tuesday, December 10, 2013</h2><p>Hi Rocky,</p>
<p>We have installed 4.5.492 using nuget but cannot build any of our .net 4 applications with it. When starting a new project with .net 4.5 it builds fine but when I change the framework to .net 4 and install from nuget again the project can no longer build.</p>
<p>When the Target Framework is .net 4 we receive the following error:</p>
<p>&quot;The type or namespace name &#39;Csla&#39; could not be found (are you missing a using directive or an assembly reference?)&quot;</p>
<p>Thanks</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Tuesday, December 10, 2013</h2><p>@clodewyks -</p>
<p>Johnny mentioned in a separate thread: &quot;CSLA 4.5 only supports .NET 4.5.&quot;.</p>
<p>Just a heads up.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, December 10, 2013</h2><p>Jonny did some work so it should be available on .NET 4 as well as 4.5. Perhaps something went wrong in the build/release scripts.&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, December 11, 2013</h2><p>Hi,</p>
<p>I did some work on the DataPortal Proxy for WCF in .NET 4 as it had been generated with .NET 4.5 and included Task type in proxy. </p>
<p>I am puzzeled as to what the problem i and I can easily recreate the issue with just create a .NET 4 project and and NuGet reference to CSLA.&nbsp;</p>
<p>Seems like we have a mismatch in the references to Microsoft.Bcl.Asyn&nbsp; in Csla.dll and the NuGet package definition. Which is quite strange as the dependency does NOT specify a specific version so it should be the latest version.</p>
<p>So open NuGet Package Manager and make sure to update to the latest Microsoft.Bcl.Async package and the project(s) will compile and run fine.</p>
<p>IE: On the first add NuGet reference the project gets the following references:</p>
<pre style="font-family:Consolas;font-size:13;color:black;background:white;"><span style="color:blue;">&lt;</span><span style="color:#a31515;">packages</span><span style="color:blue;">&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&lt;</span><span style="color:#a31515;">package</span><span style="color:blue;">&nbsp;</span><span style="color:red;">id</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">CSLA-Core</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">version</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">4.5.492-Beta</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">targetFramework</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">net40</span>&quot;<span style="color:blue;">&nbsp;/&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&lt;</span><span style="color:#a31515;">package</span><span style="color:blue;">&nbsp;</span><span style="color:red;">id</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">Microsoft.Bcl</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">version</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">1.0.19</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">targetFramework</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">net40</span>&quot;<span style="color:blue;">&nbsp;/&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&lt;</span><span style="color:#a31515;">package</span><span style="color:blue;">&nbsp;</span><span style="color:red;">id</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">Microsoft.Bcl.Async</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">version</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">1.0.165</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">targetFramework</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">net40</span>&quot;<span style="color:blue;">&nbsp;/&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&lt;</span><span style="color:#a31515;">package</span><span style="color:blue;">&nbsp;</span><span style="color:red;">id</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">Microsoft.Bcl.Build</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">version</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">1.0.13</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">targetFramework</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">net40</span>&quot;<span style="color:blue;">&nbsp;/&gt;</span>
<span style="color:blue;">&lt;/</span><span style="color:#a31515;">packages</span><span style="color:blue;">&gt;</span></pre>
<p>And after i update to the latest NuGet package for Microsoft.Bcl.Async i get</p>
<pre style="font-family:Consolas;font-size:13;color:black;background:white;"><span style="color:blue;">&lt;</span><span style="color:#a31515;">packages</span><span style="color:blue;">&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&lt;</span><span style="color:#a31515;">package</span><span style="color:blue;">&nbsp;</span><span style="color:red;">id</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">CSLA-Core</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">version</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">4.5.492-Beta</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">targetFramework</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">net40</span>&quot;<span style="color:blue;">&nbsp;/&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&lt;</span><span style="color:#a31515;">package</span><span style="color:blue;">&nbsp;</span><span style="color:red;">id</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">Microsoft.Bcl</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">version</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">1.1.6</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">targetFramework</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">net40</span>&quot;<span style="color:blue;">&nbsp;/&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&lt;</span><span style="color:#a31515;">package</span><span style="color:blue;">&nbsp;</span><span style="color:red;">id</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">Microsoft.Bcl.Async</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">version</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">1.0.165</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">targetFramework</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">net40</span>&quot;<span style="color:blue;">&nbsp;/&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&lt;</span><span style="color:#a31515;">package</span><span style="color:blue;">&nbsp;</span><span style="color:red;">id</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">Microsoft.Bcl.Build</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">version</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">1.0.13</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">targetFramework</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">net40</span>&quot;<span style="color:blue;">&nbsp;/&gt;</span>
<span style="color:blue;">&lt;/</span><span style="color:#a31515;">packages</span><span style="color:blue;">&gt;</span></pre>
<p>And NOW the project will compile fine. </p>
<p>So CSLA for NET4 only specifies a NuGet dependency to Microsoft.Bcl.Async which in turn has a dependency to Micorosft.Bcl (&ge; 1.0.19) and we get an older reference assembly than what CSLA was compiled with.&nbsp;</p>
<p>@Rocky - we may &quot;downgrade&quot; Csla 4 to compile against the 1.0.19 package or specify a reference to the newer package Microsoft.Bcl.</p>
<p>Looks like NuGet is getting us into another kind of DLL HELL.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>clodewyks replied on Wednesday, December 11, 2013</h2><p>Hi Jonny,</p>
<p>Thanks a lot that fixes the problem.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Thursday, December 12, 2013</h2><p>FWIW: In my opinion the Bcl team messed up on the NuGet package references on Microsoft.Bcl.Async package.</p>
<p>They should have specified a dependency to the Microsoft.Bcl &gt;= 1.1.2 and NOT &gt;= 1.0.19 as this means that NuGet will only try to find the latest package of the&nbsp;1.0.* version (and does not resolve to the latest package of 1.1.* which is the 1.1.6 version released on the same date as Microsoft.Bcl.Async)</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, December 12, 2013</h2><p>Jonny, do you think we can just explicitly require that package in CSLA&#39;s package to fix the issue?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, December 18, 2013</h2><p>Explicitly requiring the newer version of the bcl assembly seems to work, and the fix is now in the latest nuget prerelease.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>clodewyks replied on Wednesday, January 08, 2014</h2><p>Hi Jonny,</p>
<p>&nbsp;</p>
<p>When upgrading to 4.5.500 this exact same problem arises and there are no updates available to Microsoft.Bcl.</p>
<p>&nbsp;</p>
<p>Any ieads?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Friday, January 10, 2014</h2><p>I confess nuget is one of those things I don&#39;t work with much and I just &quot;hope it works&quot;.</p>
<p>In upgrading to CSLA 4.5.500, I&#39;m getting a &quot;Could not load file or assembly System.Threading.Tasks&quot; for 2.6.6.0.&nbsp; The version that comes down when applying from nuget to our solution projects is 2.5.19.0.</p>
<p>I notice CSLA happens to have 2.6.6.0 for this dll.</p>
<p>I&#39;m trying to figure out what the right answer is as I&#39;m starting to scan through the threads - I notice one mentions compiling CSLA with the earlier version of Microsoft.Bcl... </p>
<p>EDIT: Going into package manager&#39;s updates &quot;tab&quot; I saw the update for Microsoft.Bcl to 1.1.6. Applied that and it looks like my CSLA upgrade is complete.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>clodewyks replied on Wednesday, December 11, 2013</h2><p>@skagen00 -</p>
<p>We currently have 4.5.40 working perfectly in our .net 4 projects, so it must be something specific to 4.5.492.</p>
<p>&nbsp;</p>
<p>Rocky,</p>
<p>Is it possible to get Jonny&#39;s opinion on this or should we wait for the next release to see if the issue is resolved?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Tuesday, December 10, 2013</h2><p>We&#39;ll be downloading the final release and putting it into some good testing (with our next product release)&nbsp;once it&#39;s available, fwiw.&nbsp; Keeping my eye out!</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
