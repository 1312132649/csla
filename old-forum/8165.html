<html><header><title>RegisterProperty overloads?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>RegisterProperty overloads?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8165.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Cine posted on Tuesday, December 15, 2009</h2>Is there any particular reason why I am required to specify the type of the parameter to RegisterProperty?<br>private static readonly PropertyInfo&lt;int&gt; IdProperty = RegisterProperty<font color="#ff1493"><b>&lt;int&gt;</b></font>(c =&gt; c.Id);<br><br>It is due to the implementation in BusinessBase is<br>protected static PropertyInfo&lt;P&gt; RegisterProperty&lt;P&gt;(Expression&lt;Func&lt;T, <b><font color="#ff1493">object</font></b>&gt;&gt; propertyLambdaExpression)<br>IE, the func return value is object.<br>However, with just a simple overload to this function, we can avoid having to specify this type one more time.<br>&nbsp;&nbsp;&nbsp; protected static PropertyInfo&lt;P&gt; RegisterProperty&lt;P&gt;(Expression&lt;Func&lt;T, <b><font color="#ff1493">P</font></b>&gt;&gt; propertyLambdaExpression)<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PropertyInfo reflectedPropertyInfo = Reflect&lt;T&gt;.GetProperty(propertyLambdaExpression);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return RegisterProperty(new PropertyInfo&lt;P&gt;(reflectedPropertyInfo.Name));<br>&nbsp;&nbsp;&nbsp; }<br><br>Now I just have to write<br>private static readonly PropertyInfo&lt;int&gt; IdProperty = RegisterProperty(c =&gt; c.Id);<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, December 15, 2009</h2><P>I think we tried that, but the overload is ambiguous in some other uses of RegisterProperty().</P>
<P>Maybe I'm not remembering correctly - have you tried running the unit tests with your overload in place?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rxelizondo replied on Tuesday, December 15, 2009</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>Cine:</strong></div><div>Is there any particular reason why I am required to specify the type of the parameter to RegisterProperty?<br>private static readonly PropertyInfo IdProperty = RegisterProperty<font color="#ff1493"><b></b></font>(c => c.Id);<br /></div></BLOCKQUOTE><br /><br />I think you pretty much nailed right in the butt.  There is no way for the compiler to resolve the Type for {P} when it is never given any clue on what {P} may be. Its pretty much as declaring a method like:<br /><br /><pre><br />        void DoIt{Z}()<br />        {<br />        }<br /></pre><br /><br />If you try to call DoIt() from anywhere in the code, the compiler wont have a clue what {Z} is because you never gave it anything to work from. You will be forced to have the call include the type such as:<br /><br /><pre><br />        void DoIt{int}()<br /></pre></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
