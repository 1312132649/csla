<html><header><title>UndoableBase.CopyState() implementation</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>UndoableBase.CopyState() implementation</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/465.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>antoan posted on Monday, June 26, 2006</h2>This method makes use of Type.IsAssignable() to check if a field is IUndoableObject : <br /><br />if(typeof(Csla.Core.IUndoableObject).<br />   IsAssignableFrom(field.FieldType))<br />{ // Call fields CopyState() method }<br /><br />Would it not be simpler to use the 'is' operator like: <br /><br />if( field is IUndoableObject) {...}<br /><br />? <br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, June 26, 2006</h2><P>It would seem so, except "field" is of type FieldInfo and so that would never return true. Unless I'm willing to always pay the price to call GetValue() to get the actual value, I can't check its type using the is operator. So instead&nbsp;I use this technique to do a type check using the type information itself rather than the instance of an object.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>antoan replied on Tuesday, June 27, 2006</h2>Thanks, I overlooked that.<br /><br />A</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
