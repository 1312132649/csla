<html><header><title>AddAuthorizationRules not firing?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>AddAuthorizationRules not firing?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5848.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 posted on Friday, November 21, 2008</h2>Hi,<br><br>I have the following class hierarchy:<br><br>Invoice : Document<br><br>Document : Core.MyBusinessBase<br><br>MyBusiness : Csla.Core.BusinessBase<br><br>I also have AddAuthorizationRules overriden in only the Document subclass, but it doesn't seem to be firing.&nbsp; I know it used to, I discovered it wasn't recently though.&nbsp; The application is using Csla 3.5.1 RTW.<br><br>Any ideas?&nbsp; Would the fix be the _dummy static variable?&nbsp; Any ideas why it used to work in prior versions of Csla?<br><br>Thanks<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Saturday, November 22, 2008</h2>I don't know why it wouldn't be firing - it should fire, and should have nothing to do with forcing initialization of static fields.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, November 24, 2008</h2>Looking into this more... for some reason the first call to Csla.Security.SharedAuthorizationRules.RulesExistFor( typeof( Invoice ) ) is returning true... even though rules have never been added for the type.&nbsp; When I first create a Quote, that method returns false, and AddAuthorizationRules is called properly.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, November 24, 2008</h2>Ok, I found the issue.&nbsp; In my Invoice class, I override Add<b>Business</b>Rules, but call AuthorizationRules.AllowExecute.&nbsp; <br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
