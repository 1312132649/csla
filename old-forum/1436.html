<html><header><title>Composite UI Application Block and CSLA</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Composite UI Application Block and CSLA</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1436.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>William posted on Tuesday, October 10, 2006</h2><P>Anyone successfully implemented a CSLA based application with CAB? I would like to get advices on best practices and guidelines in using CAB with CSLA. I went through the CAB documentation and lab, but I am still not convinced in CAB and CSLA to design and develop a flexible and well structured Windows Forms application.</P>
<P>Regards,<BR>William</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, October 10, 2006</h2>I'd think they'd mix just fine.&nbsp; However you build your UI, you still hand off business logic to the business objects.&nbsp; I'm not convienced that CAB is all that helpful though, but I haven't dug into it in any great detail.<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brent replied on Tuesday, October 10, 2006</h2>I agree that they would mix fine.&nbsp; I've played with CAB a bit and been to a few CAB training sessions&nbsp;and in my opinion unless you are committed fully to it, it's going to be a pain in the rear.&nbsp; If you do decide to go with CAB, use the Smart Client Software Factory which will help you create the 100 solution files you're going to need (about one for every form.)</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>William replied on Tuesday, October 10, 2006</h2><DIV>Hi Brent,</DIV>
<DIV>&nbsp;</DIV>
<DIV>What are the commitments and pains I can expect when using CAB with CSLA?</DIV>
<DIV>What about Smart Client Software Factory? I haven't look at this but do you mean SC-SF creates these 100 solutions, one for separate module in CAB?</DIV>
<DIV>&nbsp;</DIV>
<DIV>Please advise me whether I should go with CAB as a standard UI framework for my CSLA application development? Or, do you encounter any other UI framework out there that facilitates MVC or MVP architecture?</DIV>
<DIV>&nbsp;</DIV>
<DIV>Regards,</DIV>
<DIV>William</DIV></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, October 11, 2006</h2>Yan,<br><br>The pain comes just from using the CAB, and has nothing to do with Csla itself I believe.&nbsp; <br><br>I looked at the cab, and just figuring out where to get started was not simple, to put it mildly.&nbsp; <br><br>Like anything else, you should evaluate the CAB and determine if it is fulfilling some need that is difficult using standard methods.&nbsp; Don't use it just because you can use some buzzwords.<br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>simon_may replied on Wednesday, October 11, 2006</h2><P>CAB and SCSF are not trivial by any stretch of the imagination. You should think carefully as to what benefits they can provide for you and your app. They are very powerful but still evolving quite quickly. I have been looking at both and have done an evaluation project with CAB and have noticed that concepts can change as more people use it and especially as the reference applications have been developed. This is to be expected so you should not go in thinking this is all finished. </P>
<P>In my opinion CAB is useful if you need a degree of plugability and integration for diverse application modules because there is a lot more work involved than writing a straight forward winforms UI. </P>
<P>I concur with Andy, using CSLA based business logic should present no problems - getting your head around some of the CAB concepts is another matteer altogether. There is some really neat stuff in there: the Object Builder dependency injection support stuff for one. </P>
<P>You should check out the following <A href="https://blogs.msdn.com/eugeniop/">https://blogs.msdn.com/eugeniop/</A>&nbsp;links to a series of interviews with Peter Provost a lead in the MS P&amp;P team who is very informative on CAB and SCSF internals and development thoughts</P>
<P>Regards</P>
<P>Simon</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>William replied on Wednesday, October 11, 2006</h2><DIV>Thanks for all responses. I think I will not attempt to adopt CAB in my project for time being until I discovered the full benefits of it&nbsp;at later time.&nbsp;My reasoning is that&nbsp;CAB dictates the application UI architecture; just like CSLA to business components. However, CAB is&nbsp;kind like an&nbsp;in-progress stuff, which MS might "drop" it. CSLA is more matured&nbsp;in this sense. I think Rocky is not going to "drop" it... :)</DIV>
<DIV>&nbsp;</DIV>
<DIV>Thanks!</DIV>
<DIV>&nbsp;</DIV>
<DIV>Regards,</DIV>
<DIV>William</DIV></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>enigmativity replied on Monday, November 20, 2006</h2>I've just been hitting a major problem with CSLA &amp; CAB and would love to know if I'm missing something...<br><br>CSLA uses shared methods and reflection to do the data access code. CAB uses the concept of service dependency injection to instantiate separate objects that get your data.<br><br>By the time CSLA calls your business object code for "DataPortal_Create" (for example) your object is already created. If your object wants to use a CAB service code then you can't have a service that actually creates your object. In fact, if you try to create a nice service object to do all of your data access and object creation then there is no way, other than to modify Rocky's code directly, to get it to be used by CSLA.<br><br>Any thoughts?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Tuesday, November 21, 2006</h2><BLOCKQUOTE><div><img src="/Themes/alternate1/images/icon-quote.gif"> <strong>enigmativity:</strong></div><div>I've just been hitting a major problem with CSLA &amp; CAB and would love to know if I'm missing something...<br><br>CSLA uses shared methods and reflection to do the data access code. CAB uses the concept of service dependency injection to instantiate separate objects that get your data.<br><br>By the time CSLA calls your business object code for "DataPortal_Create" (for example) your object is already created. If your object wants to use a CAB service code then you can't have a service that actually creates your object. In fact, if you try to create a nice service object to do all of your data access and object creation then there is no way, other than to modify Rocky's code directly, to get it to be used by CSLA.<br><br>Any thoughts?<br></div></BLOCKQUOTE><br><br>You had your views instantiating BOs ?? <br>That does not sound right to me .... the dependency injection system is inteded to ensure the correct 'building' of your views, smartparts, workitems, controllers, etc. regardless of where (in which plug-in module) you define them. I don't think BOs should be included in this as additional dependencies.<br><br>I have have my views instantiate Presenters for them, then in the presenter I fetch the BO using the appropriate factory method.<br><br>Szymon Kobalczyk wrote an nice series of articles that introduce CAB.<a href="http://geekswithblogs.net/kobush/category/1584.aspx?Show=All">See also his blog ...</a> in one of his tutorials he also discusses the Presenter, which is where I based my implementation on.<br><br>Bayu<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, November 21, 2006</h2>I'm backing Bayu's suggestion (since I don't know enough about CAB)..<br><br>But nothing should be bypassing the static factory methods to create BOs.&nbsp; Using reflection to do so defeats the purpose of having them in the first place.&nbsp; Because BOs can be complicated to 'build' (as in construct, hydrate, etc) we prevent direct creation by creating private constructors and force the use of static factory methods, which can handle properly building an instance of a BO.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lukky replied on Thursday, November 08, 2007</h2><P><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>Bayu:</strong></div><div><BR>I have have my views instantiate Presenters for them, then in the presenter I fetch the BO using the appropriate factory method.<BR>Bayu<BR><BR></div></BLOCKQUOTE></P>
<P>Hi,</P>
<P>I stumbled across this post in search of cues on how to use both CSLA and SCSF.</P>
<P>I understand that the Presenter is a good place to instantiate the BO.</P>
<P>What I don't quite understand yet, probably for lack of a working sample, is how you achieve DataBinding between the BO and the View. Or do you discard that completely ?</P>
<P>Or maybe you implement some DataBinding interface on the Presenter to bind the BO to it instead of the View ?</P>
<P>Or do you simply pass the BO to the View ?</P>
<P>Whatever the answer is, I'm curious to know.</P>
<P>Thanks.</P>
<P>Luc</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>AAKLebanon replied on Saturday, November 10, 2007</h2>me too, i am curious to know although I instantiate my BO from my WorkItemController instead and I make the databinding also from the WorkItemController because my WorkItemcontroller know about the view (through its interface), so I have implemented in the View the property BindingSource that is defined in the IViewInterface...</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>csanchez replied on Saturday, December 01, 2007</h2>Hi:<br><br><p class="MsoNormal">Iâ€™ve been playing with Cab &amp; SCSF and CSLA for a while
with very good result, although Iâ€™m prototyping my system.</p>

<p class="MsoNormal">What I do is instantiate my BO in the UseCaseâ€™s
WorkitemController and add it to the WorkItem.Items collection. Then using CABâ€™s
dependency injection [Service Dependency] I create then it in the presenter(s) where Iâ€™m going to
use it. In each presenterâ€™s view I bind to the BO via a presenter public property.
I also instanciate my NameValueLists and ReadOnlyLists in the
WorkItemController(and add them to the Items collection) so I can share them in
my presenters to fill my combo and list boxes.</p><p class="MsoNormal"><br></p>

<p class="MsoNormal">Right now Iâ€™m mixing WPF and WindowsForms controls in my
views and binding them to the same BO. Actually, all my views are in WPF(SCSFContrib),
but when I need a grid control (which WPF lacks) I create a WindowsFormsHost in
the view, <span>&nbsp;</span>which encapsulates a
Windows.Forms.UserControl which has the grid (DevExpress). That way I can
change my view when the WPF Grid control arrives. BTW a tried Xceed and
Infragistics WPF grid but had a lot of troubles binding to a my BusinessLists.</p><p class="MsoNormal"><br></p>

<p class="MsoNormal">In the views I bind to the BO throuth standard WPF
DataContext (thou you have to make you presenter implement
INotifyPropertyChanged if you want to bind to a presenter property and get
updates) and use the standard BindingSource in the Windows.Forms UserControlâ€™s
grid.</p><p class="MsoNormal"><br></p>

<p class="MsoNormal">Iâ€™m not working in the computer where I have the code but I
could post it if youâ€™re interested.</p><p class="MsoNormal"><br></p>

Regard, Christian.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brent replied on Wednesday, October 11, 2006</h2><P>That's right.&nbsp; Sorry I wasn't clearer.&nbsp; The pain comes from CAB, not CSLA.&nbsp; CAB is strictly UI and will work fine with CSLA.<o:p></o:p></P>
<P>The pain with CAB is that it's a lot of work and rework to get organized.&nbsp; I actually tried CAB before SCSF was released but gave up because the learning curve was high and the time it took to create a single module was great.&nbsp; SCSF relieves some of the pain in that it creates the modules and dependent projects for you.&nbsp; What SCSF also does is show you how much work it really is to use CAB for your UI.<o:p></o:p></P>
<P>My point about the commitment is this:&nbsp; I have little or no doubt that if you spent some time leaning the ins and outs of CAB, and you had an application or enterprise of applications that could really make use it, and that the benefit you might gain would offset the costs of all the time it would take to use it, that it would be really great.<o:p></o:p></P>
<P>I can't tell you whether you should go with CAB for your UI framework (whether you use CSLA isn't really an issue here.)&nbsp; I will say this.&nbsp; My company is a perfect candidate for CAB.&nbsp; We have around 20 small internal&nbsp;applications and 3 major external applications that almost all work together in some fashion.&nbsp; We are currently rewriting all of these applications in .NET 2.0 with CSLA.&nbsp; However, getting 6 developers up to speed using CAB together to create the 'plug-in' architecture would cost us too much time and money.&nbsp; It's very possible that we may regret it at some point in the future but the nail in the coffin is that MS could drop it at any time&nbsp;when one of their teams comes up with the 'next best thing'.<o:p></o:p></P>
<P>As for other frameworks; I really cannot say because I don't have experience with any of them.</P>
<P>No offence to any of the CAB folks out there, this was just my experience.<o:p></o:p></P>
<P>&nbsp;<o:p></o:p></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Tuesday, November 21, 2006</h2><BLOCKQUOTE><div><img src="/Themes/alternate1/images/icon-quote.gif"> <strong>William:</strong></div><div><p>Anyone successfully implemented a CSLA based application with CAB? I would like to get advices on best practices and guidelines in using CAB with CSLA. I went through the CAB documentation and lab, but I am still not convinced in CAB and CSLA to design and develop a flexible and well structured Windows Forms application.</p></div></BLOCKQUOTE><br><br>Hey William,<br><br>I have succesfully implemented apps based on CAB + CSLA. In my opinion they form a winning team together.<br><br>Many people seem to think you would need to 'merge' the two frameworks, but that is exactly what you should <b>not</b> do.<br>- CSLA is a business objects framework, it provides validation, authorization (and if you wish also authentication), business logic, etc. In addition it allows her BOs to be visualized and maintained easily by supporting databinding and errorproviders.<br>- CAB us <b>exclusively</b> about UI logic, targeted at flexibility and it also strongly promotes view reuse.<br><br>Just like you model CSLA's BOs after use cases, so would you with CABs WorkItems. A single WorkItem can manage multiple views in order to fullfill the designated use case. In addition, your workitems can remain agnostic to rendering specific details as these go into your controllers/presenters (what's in a name ...). Then, on top of that: you can put higher level view-logic in your controllers and the actual low-level rendering logic in your views. This allows one view to be reused by different controllers and also one controller to be attached to different views. Highly dynamic UIs, low maintenance costs and heavy reuse <i>could</i> thus be achieved. <br><br>There is a strong learning curve associated to getting up-to-speed with CAB indeed. Personally, I feel I got return on investment already after my first app. By having a powerful tool as CAB in your toolkit that can handle really complex UIs, I have never been tempted to take the wrong path of implementing UI-specific details in my BOs. On this forum already, many people want to get their BOs to communicate to each other, e.g. using Petar's observer pattern as implemented in ActiveObjects. But more often than not, the desired communication is just for UI requirements since one view needs to be synchronized with another. With CAB you would have the EventBroker and State frameworks that preclude moving UI logic in your BOs.<br><br>As you probably noticed I am strongly in facour of using CAB, despite the learning curve. I did not find it too hard actually, as most of it made sense to me.<br><br>If you need further details, I would gladly be of assistance.<br><br>Kind regards,<br>Bayu<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
