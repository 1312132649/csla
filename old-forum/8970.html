<html><header><title>WPF, CslaDataProvider, DeferRefresh and Child Lists</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>WPF, CslaDataProvider, DeferRefresh and Child Lists</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8970.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dagware posted on Saturday, May 22, 2010</h2><p>I&#39;m using CSLA 3.8.3 in a VS 2008 WPF app. Actually, it&#39;s a WinForms app that is hosting a WPF UserControl, but I doubt (or at least hope) that this makes a difference for my question.</p>
<p>This particular UserControl has the outside container&#39;s DataContext set to a CslaDataProvider that points to a top-level single parent, with children and grandchildren and great-grandchildren (...).</p>
<p>Here&#39;s my issue: When I add a new child using AddNew(), the VS outpout window shows a bunch of binding errors indicating that properties don&#39;t exist. It doesn&#39; appear to affect anything, because once the process is finished, the new item shows up and everything&#39;s fine. But I don&#39;t like seeing the errors, and I&#39;m worried that they are affecting the speed of adding a new item, which takes a few seconds longer than I would have thought it should.</p>
<p>I was hoping that if I wrapped the call to AddNew() with a &quot;using _dp.DeferRefresh&quot;, it would eliminate the binding error messages, but it doesn&#39;t. So I&#39;m thinking that perhaps the DeferRefresh needs to be called for the child list, which doesn&#39;t have its own CslaDataProvider.</p>
<p>So here&#39;s my questions:</p>
<ol>
<li>Should I care about the binding errors? Are they affecting speed at all? Just watching the speed (or lack thereof) at which they&#39;re displayed makes me think so - as though handing each binding error takes long enough to add up.</li>
<li>Is there a way to solve this? Can/should I put a CslaDataProvider on the child list (and grandchild list, etc.)? And if so, how do I define it and bind it?</li>
<li>If I <em>can</em>&nbsp;specify a CslaDataProvider for the children, should I make this a regular practice in the future? In other words, is this the &quot;normal&#39; way people handle (or should handle) child lists in WPF?</li>
</ol>
<p>Thanks for any help!</p>
<p>Dan</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Saturday, May 22, 2010</h2><p>I don&#39;t think the data provider model has a bright future in WPF. You might consider using an MVVM approach with ViewModel&lt;T&gt; viewmodel objects instead of data providers.</p>
<p>In that case you might use a viewmodel for each list, or even each item in each list. Anywhere you need to add verbs/commands to your model, you would use a viewmodel.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dagware replied on Saturday, May 22, 2010</h2><p>Thanks for the reply, I think <img src="http://forums.lhotka.net/emoticons/emotion-4.gif" alt="Stick out tongue" />. Man, I&#39;m just now moving from WinForms to WPF, and you want me to learn something else new at the same time? What do you think I am, a software developer or something?</p>
<p>Seriously, thanks for the information. I just wish the target would stand still long enough to hit it, you know what I mean? (Of course you do -- these things impact you way more than they do me...)</p>
<p>Dan</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dagware replied on Saturday, May 22, 2010</h2><p>OK, I give. Where can I find information on using CSLA&#39;s ViewModel&lt;T&gt;? I&#39;m not talking about abstract concepts like MVVM, but the specifics of using CSLA&#39;s ViewModel&lt;T&gt;.&nbsp;I searched this site (perhaps not very well, but as well as I could) for information, and didn&#39;t find a whole lot. I looked at MVVMexperiment, and while having examples is nice, it doesn&#39;t really explain anything. And &quot;ViewModel&quot; is not in the index of your book (again, I could be blind - in fact, my wife swears I am).</p>
<p>So what do I need to know about ViewModel&lt;T&gt;, and how do I use it? I suppose I can just plug away and code, and see what happens (in fact, I will indeed do that), but I like it a lot better when I&#39;ve got some idea of what I&#39;m doing before I start doing it. Call me silly...</p>
<p>Any suggestions?</p>
<p>Dan</p>
<p>Edit: I&#39;d at least like to know why using a ViewModel&lt;T&gt; will help me over a CslaDataProvider. In other words, how are they different?</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
