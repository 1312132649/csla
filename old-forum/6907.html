<html><header><title>Updating Children with Editable Root Collection</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Updating Children with Editable Root Collection</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6907.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Frazer posted on Wednesday, May 06, 2009</h2><P>I am struggling, trying to understand how to save changes to child objects in an editable root collection.&nbsp; It appears that I have to override DataPortal_Update in the ERC class - but I am not sure what this method needs to do. Can someone post an example of a DataPortal_Update method for an ERC or otherwise provide some hints.&nbsp; I am using Entity Framework - but any representative example would be useful.&nbsp;&nbsp; Really stuck on this.</P>
<P>thanks,</P>
<P>Frazer</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, May 06, 2009</h2><P>Your collection is a subclass of ERLB?</P>
<P>In that case the objects contained in the collection must be editable root objects, and that means they need to implement all the normal DataPortal_XYZ methods - just like any normal editable root object.</P>
<P>The only difference from normal, is that the objects contained in the collection <EM>need different fetch code</EM>. This is because they will be fetched by the collection, not individually. This is discussed in Chapters 4-5 of the 2008 book.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Frazer replied on Wednesday, May 06, 2009</h2><P>It is a subclass of ERLB *now*&nbsp; :)</P>
<P>My confusion stems from the template on page 188 of <STRONG>The Book</STRONG>:</P><FONT face=TheSansMonoConSemiLightBold size=1><FONT face=TheSansMonoConSemiLightBold size=1>
<P align=left><FONT face="Courier New" size=2><STRONG>public class EditableRootList <FONT face="Courier New" size=2><STRONG>:</STRONG></FONT>&nbsp;<BR>&nbsp;</STRONG></FONT><FONT face="Courier New" size=2><STRONG>BusinessListBase&lt;EditableRootList, EditableChild&gt;</STRONG></FONT></P>
<P align=left><FONT size=3>Am I missing some errata from somewhere?</FONT></P>
<P align=left><FONT size=3></FONT>&nbsp;</P>
<P align=left><FONT size=3>Frazer</FONT></P></FONT></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, May 06, 2009</h2>






 





<div class=Section1>

<p class=MsoNormal><span>There are two types of editable collection in CSLA.<o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span>The first is an editable collection of editable child objects.
In this case the collection is a subclass of BLB, and all children are saved as
a batch when the root is saved. These child objects are normal editable child
objects &#8211; nothing special.<o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span>The second is a dynamic collection of editable root objects. In
this case the collection is a subclass of ERLB, and the root objects in the
collection are saved individually as the user leaves the row of the datagrid
(or deletes a row in the datagrid). The &#8220;child&#8221; objects in this
case are root objects, with the exception that their fetch code is more similar
to a child fetch than a root fetch (but not quite the same as normal child
fetch either). But the insert/update/delete code is normal root object code &#8211;
nothing special.<o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span>Page 188 describes the first option &#8211; a collection of
child objects &#8211; not a dynamic collection of dynamic root objects, which
starts on page 201.<o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span>Rocky</span><b><span><o:p></o:p></span></b></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

</div>



</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Frazer replied on Wednesday, May 06, 2009</h2><P>Thanks Rocky -</P>
<P>I missed that entirely and this clears up a great deal of my confusion.&nbsp; I appreciate the help.</P>
<P>Frazer</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
