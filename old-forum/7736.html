<html><header><title>How to drive the UI from a workflow</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to drive the UI from a workflow</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7736.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate posted on Tuesday, October 06, 2009</h2><P>I am currently using WF to develop the processing workflow for my application.&nbsp; Each activity either is or leverages my CSLA BO's to perform the requisite steps but I need to also drive my UI so that the right information is displayed and/or prompted for based on the workflow.&nbsp; Any ideas?</P>
<P>I am using WF because the workflow is customizable either by directly changing the XAML code or through a series of settings and configuration options that are used by the workflow process.&nbsp; We need a highly dynamic engine and WF works perfectly.</P>
<P>The problem is that I have to support several UI technologies, so it is critical that the UI remains decoupled from the business logic (workflow).&nbsp; My design calls for the business logic to be accessed through a service interface that will allow multiple UI clients to connect and follow the same logic, flow, etc.&nbsp; But I am at a loss for the right technique to drive the UI clients.</P>
<P>Most examples, and frankly my own mind, sees navigation as the responsibility of the UI.&nbsp; In my case, I need some way of telling the UI what page/screen/window to show in response to a change in the workflow.</P>
<P>As an example, think of a simple wizard-style interface.&nbsp; My UI needs to call my service and ask what&nbsp;to show first, then pass the user's input back to the service and have the service tell it what to display next based on the user's input, workflow, configuration and settings.</P>
<P>Any suggestions?</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, October 07, 2009</h2><P>It seems to me that the workflow can't <EM>directly</EM> drive the UI, because then it would need to know too much about the UI.</P>
<P>Instead what you need is an abstraction layer that sits between the UI and the workflow. So the workflow can alter some object or state value to indicate which <EM>logical</EM> screen should be shown&nbsp;next, and your UI abstraction layer can map that to a <EM>concrete</EM> screen appropriate for the particular UI type, and can navigate the user to that screen.</P>
<P>Logically you might say that the user needs to see the "select customer" screen. Physically that might be a web page, or a WPF form. So the actual screen object type is very different, and the process of navigating to or displaying that form would be different.</P>
<P>So you'd need a "UI manager" for the web, and a different one for WPF - but they could both drive off the fact that the workflow wants them to move to the logical "select customer" screen.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
