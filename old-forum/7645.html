<html><header><title>No parameterless constructor defined issue</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>No parameterless constructor defined issue</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7645.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>wjcomeaux posted on Wednesday, September 16, 2009</h2><P>Hey guys: I'm getting a System.MissingMethodException: No parameterless constructor defined for this object error when trying to fetch objects in Silverlight.</P>
<P>I've read the other posts with similar titles, all of my BOs and criteria objects expose a public parameterless constructor in the Silverlight compiled assembly so I know it's not in my specific objects. Any idea where else this could be coming from?</P>
<P>Thanks, Will</P>
<P>The stack trace&nbsp;is:<BR>&nbsp;at System.RuntimeTypeHandle.CreateInstance(RuntimeType type, Boolean publicOnly, Boolean noCheck, Boolean&amp; canBeCached, RuntimeMethodHandle&amp; ctor, Boolean&amp; bNeedSecurityCheck)<BR>&nbsp;&nbsp; at System.RuntimeType.CreateInstanceSlow(Boolean publicOnly, Boolean fillCache)<BR>&nbsp;&nbsp; at System.RuntimeType.CreateInstanceImpl(Boolean publicOnly, Boolean skipVisibilityChecks, Boolean fillCache)<BR>&nbsp;&nbsp; at System.Activator.CreateInstance(Type type, Boolean nonPublic)<BR>&nbsp;&nbsp; at Csla.Serialization.Mobile.MobileFormatter.Deserialize(XmlReader reader) in C:\Test Code\csla\cslacs\Csla\Serialization\Mobile\MobileFormatter.cs:line 259<BR>&nbsp;&nbsp; at Csla.Serialization.Mobile.MobileFormatter.Deserialize(Stream serializationStream) in C:\Test Code\csla\cslacs\Csla\Serialization\Mobile\MobileFormatter.cs:line 208<BR>&nbsp;&nbsp; at Csla.Serialization.Mobile.MobileFormatter.Deserialize(Byte[] data) in C:\Test Code\csla\cslacs\Csla\Serialization\Mobile\MobileFormatter.cs:line 356<BR>&nbsp;&nbsp; at Csla.Server.Hosts.Silverlight.WcfPortal.GetCriteria(Byte[] criteriaData) in C:\Test Code\csla\cslacs\Csla\Server\Hosts\Silverlight\WcfPortal.cs:line 302<BR>&nbsp;&nbsp; at Csla.Server.Hosts.Silverlight.WcfPortal.Fetch(CriteriaRequest request) in C:\Test Code\csla\cslacs\Csla\Server\Hosts\Silverlight\WcfPortal.cs:line 126</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>wjcomeaux replied on Wednesday, September 16, 2009</h2><P>Ok, so this seems to work. I had put all of my public constructors inside of #if SILVERLIGHT blocks and left the normal private constructors in the #else block.</P>
<P>Removing the #if SILVERLIGHT and simply exposing a public parameterless constructor for all of my objects seems to have worked but I'm not sure why. Can someone explain this?</P>
<P>Thanks,</P>
<P>Will</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, September 17, 2009</h2><P>The MobileFormatter requires a parameterless ctor. On the Silverlight side it must be public (due to reflection limitations) and on the .NET side it can be non-public - but either way it must be there.</P>
<P>In C# and VB, if you define a parameterized ctor the compiler won't automatically generate a parameterless ctor on your behalf. It sounds like you may have a paramterized ctor defined in your class, and on the .NET side that probably prevented the compiler from generating the parameterless ctor.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>wjcomeaux replied on Thursday, September 17, 2009</h2>Ahh, now that explains it perfectly. Thanks Rocky!</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
