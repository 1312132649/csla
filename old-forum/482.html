<html><header><title>Data Portal Connections</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Data Portal Connections</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/482.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken posted on Tuesday, June 27, 2006</h2><P>I've been learning the CSLA framework, and there's a lot about it that's really great.</P>
<P>But the way we connect to the database seems to be much more complicated than I need.</P>
<P>I'm used to defining a few connection strings in my web.config or app.config files and having the objects connect to the database in a pretty standard and simple way.&nbsp; They just create a connection object that uses the appropriate connection string.</P>
<P>No COM files to create, sign and install, no web services to create, just plain and simple connections.</P>
<P>Does CSLA support POCOs (Plain Old Connection Objects <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" />&nbsp;)?&nbsp; I couldn't figure out where/how to configure it that way.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, June 27, 2006</h2>To use Csla, you don't need to create any COM interop files or web services or remoting.&nbsp; Those are all optional (but supported) features, there if you need them, and causing little to no overhead if you don't.<br><br>You can use Ado.Net connections without any of those configured; you'll just be using the SimpleDataPortal.&nbsp; The thing you should do though is make sure that any Ado.Net stuff is ONLY contained within the DataPortal_XXX methods within your business class.&nbsp; Your UI should never be able to see Ado.Net at all.<br><br>The 'default' configuration is to use the SimpleDataPortal, so to use it, just dont' configure it in the .config file.<br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Tuesday, June 27, 2006</h2><P><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>ajj3085:</strong></div><div><BR>The 'default' configuration is to use the SimpleDataPortal, so to use it, just dont' configure it in the .config file.</div></BLOCKQUOTE></P>
<P>I'm not sure I understand how to make this work.</P>
<P>Are you saying I should add the PTracker and Security configuration settings to the ProjectTracker.Library app.config file, and disable the CslaDataPortalProxy settings in PTWeb's config file (etc.)?</P>
<P>If so, could you provide a sample of the entries in the&nbsp;library app.config file?</P>
<P>If not, please explain further.&nbsp; This configuration stuff is very new to me.&nbsp;</P>
<P><FONT color=#008000 size=2>&nbsp;</P>
<P><EM></EM>&nbsp;</P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, June 27, 2006</h2>In PTWeb's configuration file, just remove this line:<br><br>&nbsp;&nbsp;&nbsp; &lt;add key="CslaDataPortalProxy" <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;value="EnterpriseServicesHost.EnterpriseServicesProxy, EnterpriseServicesHostcs"/&gt;<br><br><br>That should make the application use the simple data portal.&nbsp; The ProjectTracker.Library assembly doesn't need a configuration file at all (and in my download, it doesn't include one).<br><br>The PTracker and Security settings can stay in the PTWeb application.&nbsp; <br><br>for your application, you don't need two seperate database connection strings; there's no requirement that prevents the Security database couldn't be merged into the PTracker database.&nbsp; It was split just to show you can use more than one database at a time.<br><br>If you don't already, I recommend you buy the book, as you'll learn how the framework is built, and why.<br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Tuesday, June 27, 2006</h2><P><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>ajj3085:</strong></div><div>In PTWeb's configuration file, just remove this line:<BR><BR>&nbsp;&nbsp;&nbsp; &lt;add key="CslaDataPortalProxy" <BR>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;value="EnterpriseServicesHost.EnterpriseServicesProxy, EnterpriseServicesHostcs"/&gt;<BR><BR>That should make the application use the simple data portal.&nbsp; The ProjectTracker.Library assembly doesn't need a configuration file at all (and in my download, it doesn't include one).<BR><BR>The PTracker and Security settings can stay in the PTWeb application.&nbsp; <BR></div></BLOCKQUOTE></P>
<P>Thanks!&nbsp; Will try that.</P>
<P><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>ajj3085:</strong></div><div>for your application, you don't need two seperate database connection strings; there's no requirement that prevents the Security database couldn't be merged into the PTracker database.&nbsp; It was split just to show you can use more than one database at a time.<BR><BR>If you don't already, I recommend you buy the book, as you'll learn how the framework is built, and why.<BR></div></BLOCKQUOTE></P>
<P>Already understood on the two databases.&nbsp; I agree, it is an excellent book, very well written, and worth every penny even if I never used CSLA at all.</P>
<P>My problem is that my brain is just plain full already - new to ASP.Net, C#, VB, SqlServer, and OO in addition to Windows configuration stuff.&nbsp; The configuration stuff, being the most different from my prior skill set, is the hardest for me to pick up, given that I only have time to learn (piecemeal) how to solve the immediate configuration problem before moving onto the next design/programming task to master.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, June 27, 2006</h2>Wow, quite a bit to absorb all at once.&nbsp; Do you have time to sleep?<br><br>One of the good things is that Csla will help you make the right OOD decisions, since it is built to facilitate good OOD. <br><br>When you say 'Windows configuration stuff' is that configuration of the OS itself, or the .Net configuration?<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Tuesday, June 27, 2006</h2><P>Sleep?&nbsp; I have vague recollections of that...</P>
<P>CSLA and the associated forums and book have really helped me start to think in OO terms.&nbsp; I'm building a small prototype project to test out my understanding.</P>
<P>What did I mean by "Windows configuration stuff"?&nbsp; OS, .Net, SqlServer, Reporting Services, DTS Services, Analysis Services, CSLA, DotNetNuke, etc.</P>
<P>Most of the books/manuals for this stuff all get to a certain point where they say, "Ask your system admin for this critical piece of information without which nothing will work at all".&nbsp; Well, when I'm learning at home, I *am* my system admin and I often didn't have a clue.&nbsp; &nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
