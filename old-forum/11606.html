<html><header><title>Were put the code to initialize a business object locally in SL</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Were put the code to initialize a business object locally in SL</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11606.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>bdeluard posted on Friday, September 28, 2012</h2><p>Hello,</p>
<p>I have many business object classes, all using the creation pattern proposed in thje ebooks. When I call BeginCreate (callback) in SL app, the code in DataPortal_Create is called in the code of the server (WCF service).</p>
<p>As you explained in your ebook (DataAccess, in the section&nbsp;&quot;Forcing code to run locally&quot;, p. 34), I can use the LocalMode for the proxy. In this case, the server side code is not called, which sounds right!</p>
<p>But how write code in the SL part of my business class to initialize properties with some local defaults values (in fact, the same &quot;simple&quot; code I have in the DataPortal_Create method) ? I search in all ebooks but not found...</p>
<p>Thanks for your answer.</p>
<p>Bruno</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>skagen00 replied on Friday, September 28, 2012</h2><p>Here&#39;s an example of how we have it in one of our CSLA 4.2 objects.&nbsp; This changes in 4.5, and is a breaking change there.&nbsp; (This isn&#39;t how it&#39;s done in 4.5, there&#39;s the [RunLocal] support&nbsp;in 4.5 on the SL side).&nbsp; </p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static void NewDocumentRemoveAction(EventHandler&lt;DataPortalResult&lt;DocumentRemoveAction&gt;&gt; callback)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DataPortal&lt;DocumentRemoveAction&gt; portal = new DataPortal&lt;DocumentRemoveAction&gt;(DataPortal.ProxyModes.LocalOnly);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; portal.CreateCompleted += callback; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; portal.BeginCreate();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /// &lt;summary&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /// Defaults in values for the remove action upon create.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /// &lt;/summary&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public override void DataPortal_Create(Csla.DataPortalClient.LocalProxy&lt;DocumentRemoveAction&gt;.CompletedHandler handler)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Load temporary properties.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LoadProperty(IsFileFoundProperty, true);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LoadProperty(FileNameProperty, &quot;temp&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; base.DataPortal_Create(handler);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bdeluard replied on Friday, September 28, 2012</h2><p>Thanks! This was the missing function for me.</p>
<p>Bruno</p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
