<html><header><title>Why we are using managed property?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Why we are using managed property?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5435.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>PIDC posted on Friday, September 19, 2008</h2>Hi, <br /><br />I became a CSLA.NET user one year ago. I must say i'm very happy with the framwork (thanks Rocky). I has built and and currently maintaining my business software (finance+inventory+fixed assets) with purely CSLA.NET 2.1.4 behind. <br /><br />I'm considering to switch my solution to CSLA.NET 3.5. However there are some new concepts in CSLA.NET 3.5, one of them is  managed property. I was digging around with managed property / dependent property concept in WWF and WPF, somehow i see the purpose of using them to simplifying Presentation Layer or property escalation in WWF. However i still confuse about the benefit we got, using managed property in CSLA. I don't care about the code files  are  shorter or not , because I use CODE-GEN intensively. <br /><br />So, please share your idea about the managed field in CSLA. I see that they are complicated and reduce the readability of the code.  <br /><br />Currently, I just change the DAL in the my code-gen, so i can still generate CSLA 2.1.4 classes with LINQ for SQL in the way that CSLA 3.5 does. LINQ for Object works fine with CSLA 2.1.4 Business List Base. <br /><br />Thanks for your idea.<br /><br />PIDC</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nermin replied on Friday, September 19, 2008</h2>Firstly - Code reduction, as you can see in Rocky's post bellow:<br />http://www.lhotka.net/weblog/CSLANET35PropertyCodeReduction.aspx<br /><br />That also means reducing number of bugs, as you do not have to remember<br />attaching all those Authentication/Validation methods on your property<br />get/set.<br /><br />And lastly, Managed property's are used heavily for serializing values<br />from Silverlight to .Net and back.  It is lot simpler to use those than<br />serializing field backed properties.<br /><br />Nermin<br /><br />-----Original Message-----<br />From: PIDC [mailto:cslanet@lhotka.net] <br />Sent: Friday, September 19, 2008 10:05 AM<br />To: Nermin Dibek<br />Subject: [CSLA .NET] Why we are using managed property?<br /><br />Hi, <br /><br />I became a CSLA.NET user one year ago. I must say i'm very happy with<br />the framwork (thanks Rocky). I has built and and currently maintaining<br />my business software (finance+inventory+fixed assets) with purely<br />CSLA.NET 2.1.4 behind. <br /><br />I'm considering to switch my solution to CSLA.NET 3.5. However there are<br />some new concept in CSLA.NET 3.5, one of them is  managed property. I<br />have digged around with managed property in WWF and WPF. However i still<br />confuse about the benefit we got, using managed property in CSLA. I<br />don't care about the code files  are  shorter or not , because I use<br />CODE-GEN intensively. <br /><br />So, please share your idea about the managed field in CSLA. I see that<br />they are complicated and reduce the readability of the code.  <br /><br />Currently, I just change the DAL in the my code-gen, so i can still<br />generate CSLA 2.1.4 classes with LINQ for SQL in the way that CSLA 3.5<br />does. LINQ for Object works fine with CSLA 2.1.4 Business List Base. <br /><br />Thanks for your idea.<br /><br />PIDC<br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>PIDC replied on Friday, September 19, 2008</h2>Hi Nermin,<br /><br />As in my first post, reducing the code is not important in my case because i use code-gen a lot. <br /><br />Also, i don't have any problem with Validation/Authentication, because most of  my validation rule are described in a xml file. I make CSLA Validation automatic utilize them without coder's intervention.<br /><br />About serialization, i think that i will never write code to implement serialization. I'm focusing on my business domain and rely on CSLA to help with technical things.  <br /><br />So, is there any problem if i use CSLA 3.5 + normal "unmanaged" property together ? Does CSLA 3.5 serialize them as fine as CSLA 2.1.4 does?<br /><br />Thanks.<br />PIDC<br /><br /><br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tetranz replied on Friday, September 19, 2008</h2>I guess this is a minor thing but another code reduction advantage I like is that the properties get sensible defaults, most notably strings are empty rather than null. I prefer empty (better for databinding) and I used to set these in my DP_Create or have field initializers but that's unnecessary now.<br><br>I'm not using code generation for now. I find that snippets make the managed properties quick and easy to use.<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>PIDC replied on Friday, September 19, 2008</h2>Hi Tetranz,<br /><br />unmanaged field support default value very well. <br /><br />for example:<br /><br />Dim _strField as string = String.Empty<br />Dim _sdField as SmartDate = new SmartDate()<br />....<br /><br />With the managed field you will need to do the same thing while register the property<br /><br /><br /><br /><br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Friday, September 19, 2008</h2><P>I plan to use the "old style" properties for exactly the same reasons that you cite.</P>
<P>I find them more readable and I code gen them so it doesn't matter.</P>
<P>I plan to look in to Silverlight and will definitely need to make use of Managed Properties for that scenario. But I have so much on muy plate right now that I plan to keep going with what works.</P>
<P>Joe</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>PIDC replied on Friday, September 19, 2008</h2>It seems that, the main purpose of using managed property is make the serialization easier. With "old style" field/property CSLA uses reflection to get the list of fields for serialization. Now, in CSLA 3.5 reflection is not required, CSLA just need to serialize the collection of managed fields.  (Please correct if i'm wrong).  <br /><br />I still have a question : Can we use CSLA 3.5 with "old-style"  field/property  without any problem ?<br /><br />If you know the answer, please advice. <br /><br />Thanks,<br /><br />PIDC</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, September 19, 2008</h2><P>There are two things going on here.</P>
<P>First, there's the RegisterProperty() and PropertyInfo&lt;T&gt; concepts. These exist primarily to eliminate the use of string literals throughout class files. They can be used with or without managed backing fields, and I recommend using them.</P>
<P>I don't know for certain that you can do without them in version 3.5+. My testing has focused on using an IPropertyInfo object instead of a string literal in every case.</P>
<P>However, there are older unit tests that still function - using the string literal appraoch - so <EM>most</EM> functionality should be accessible. Certainly all 3.0 functionality continues to work as it did - backward compatibilty is preserved.</P>
<P>Second, there's the private backing field vs managed backing field question. Managed backing fields require PropertyInfo&lt;T&gt;, private backing fields work with or without (as per my first point).</P>
<P>Managed backing fields do two things: they reduce code and they serialize automatically to Silverlight - at the cost of lower performance.</P>
<P>Private backing fields do one thing: provide better performance - at the cost of a little more code, and a lot more code if you want to serialize to Silverlight.</P>
<P>The Silverlight serialization thing is just a Silverlight issue today. However, looking into the future it is clear that the same techniques used in CSLA .NET for Silverlight could be used to create CSLA .NET for other restricted security environments. In other words, you could envision a version of CSLA that worked on a web server and didn't require full trust. That'd be nice for public hosting scenarios, etc.</P>
<P>You can also envision a variant (probably a small variant) of CSLA .NET for Silverlight that worked on the Compact Framework. The solutions for the Silverlight trust and serialization issues would help address similar issues in CF.</P>
<P>The thing is, private backing fields work with Silverlight too - you just have to write (or generate) a couple methods to do the serialization/deserialization of all your private fields. If you are using code-gen you may not care. But if you are coding by hand, you <EM>really care</EM> because those methods are likely to be long, boring and hard to debug.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>PIDC replied on Friday, September 26, 2008</h2>Thank You for the answer,  It helps me a lot to choose the upgrading path for my product. I'm waiting for your next book (CSLA 3.5).</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, September 19, 2008</h2>Well, if you don't see a value you don't need to use them, unless you're going to use Csla.net for Silverlight.<br><br>But if you're doing a regular application, just keep going on as you were.<br><br>I disagree though about reducing readability; there's so much less code (code that was never really that interesting anyway) I believe they increase readability and reduce bugs... because there's less I need to change to fix things.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>PIDC replied on Friday, September 19, 2008</h2>hi ajj3085,<br /><br />May be i will change my opinion about the readability when Rocky release his next book or when i move on to study them.<br /><br />I think it's better for me to keep my current application as is and develop a seperate silverlight solution for Reporting / Business Intelligent Tools.<br /><br />Thanks for your comment.<br /><br />PIDC<br /><br /></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
