<html><header><title>Incorrect data portal method invocation (4.0.1)</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Incorrect data portal method invocation (4.0.1)</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9999.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>AaronH posted on Friday, January 28, 2011</h2><p>So I&#39;ve been battling an issue where the dataportal invokes the wrong Child_Insert() method on occasion.&nbsp; For example, if I have 2 overloads (Child_Insert(TypeA parent) and Child_Insert(TypeB parent)) the overload with TypeB will be invoked when in actuality, TypeA is what invoked the FieldManager.UpdateChildren() method.</p>
<p>This has only really happened on my box while developing, so it was easy to put off.</p>
<p>Today in production, the issue is happening again.&nbsp; The code base was copied directly from our QA server, where the issue is NOT happening.&nbsp; I just don&#39;t get it.</p>
<p>Any thoughts?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>AaronH replied on Friday, January 28, 2011</h2><p>Further details include:</p>
<p>dev box is win 7 - 32 bit - running IIS 7.5</p>
<p>QA box is win 08 - 32 bit - running IIS 7</p>
<p>Prod box is win 08 - 64 bit - running IIS 7.5</p>
<p>I know, I know, the QA and Prod environments should be the same, but I don&#39;t have control of this unfortunately.</p>
<p>I&#39;m starting to think it&#39;s an IIS 7.5 issue though seeing as though the issue occurs on my box on occasion and the Prod box and it has never seemed to crop up on the QA box.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>AaronH replied on Friday, January 28, 2011</h2><p>Ok, I figured it out.&nbsp; Hopefully this is helpful to someone else.&nbsp; Somehow I managed to forget to pass in a parameter to FieldManager.UpdateChildren().&nbsp; I guess I lucked out in that the appropriate ChildInsert() methods were called depending on which class FieldManager.UpdateChildren() was invoked from.</p>
<p>That was a nasty little bug and hopefully you don&#39;t run into it...</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
