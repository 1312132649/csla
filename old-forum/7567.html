<html><header><title>Database Connections - Forum server not responding</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Database Connections - Forum server not responding</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7567.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>DanEssin posted on Thursday, September 03, 2009</h2>Hi,<br />I've been trying to post a question to the forum but the server seems to <br />be not responding.<br /><br />My configuration is a SqlServer 2000 running on a dedicated machine - <br />which mimics my target production configuration. I have all the VS2008 <br />and SQL 2008 components installed on my workstation, but no server <br />components. I need/want the PTracker apps to connect to my server where <br />copies of the databases are attached and functional.<br /><br />I had this all working well with CSLA 2, but the last time I tried to <br />configure 3.6.2, the newer VStudio and the newer sqlserver client <br />components, there were dozens of references in the the PTracker samples <br />that all referred to .\sqlexpres...  Obviously none of these worked and <br />I never figured out what the correct procedure was to retarget the apps <br />at my actual server. Now I am trying again with 3.7.<br /><br />I have added new connections to the Data Connections section of the <br />Server Explorer that point to my SQL2000 server. These appear in the <br />PTData project. I've created references to these connections in the <br />Database References section of PTData but I don't see how these <br />references interact with any of the other projects in the solution.<br /><br />With that as the background, in 3.7 and VS2008 working on PTWin (and <br />other) projects:<br />- What is the relationship between the database references in the PTData <br />project and the connectionStrings in the App.config of PTWin?<br />- What is the proper/recommended procedure to adjust all the database <br />references so that the apps will run against my server?<br /><br />I get the sense that there must be some simple, straight forward <br />technique for doing this, but I have no clue what it is. It doesn't seem <br />cossible that I would have to search for every instance of <br />connectionString="Data <br />Source=.\SQLEXPRESS;AttachDbFilename=&amp;quot;C:\Visual Studio <br />Projects\csla\Samples\CslaNet\cs\ProjectTrackercs\PTracker.mdf&amp;quot;;Integrated <br />Security=True;User Instance=True"<br />with the editor and replace the data source property with the new <br />connection string.<br /><br />That's what I tried the last time and, although I got a few of the <br />projects to partially function, nothing every really ran correctly or <br />error free. The earlier versions of the BO book had some discussion of <br />connection strings byt the 2008 version doesn't have much to say on the <br />subject.<br /><br />Your guidance would be appreciated and thank you,<br />Dan Essin</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, September 03, 2009</h2><P>Remember that ProjectTracker is showing nearly every possible permutation of configurations for CSLA apps...</P>
<P>The connection strings are only pulled out of exactly one config file when you are running the app&nbsp;- but that one config file is dependent on how you have things set up.</P>
<P>So if you are using PTWin, for example, and you have CslaDataPortalProxy empty, then it runs in 2-tier mode and it is the PTWin app.config where the connection strings matter.</P>
<P>Or if you are using PTWin and you have CslaDataPortalProxy using WCF, then the WCF configuration points to the WCF data portal host, and it is that web.config where the connection strings matter.</P>
<P>In a normal app the connection strings would only be in the one place they matter. In ProjectTracker they are all over the place, because I use it as a demo (and for testing) in many different physical configurations, so I just copy-paste the config settings into each file to make switching modes easier (just comment/uncomment what I need at any time).</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
