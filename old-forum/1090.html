<html><header><title>BatchQueue question - using application defined objects as request-state</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>BatchQueue question - using application defined objects as request-state</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1090.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>lewischris posted on Thursday, August 31, 2006</h2><P>Hi,</P>
<P>I've come up against another issue with the CSLA 1.x BatchQueue component&nbsp;that I would appreciate some help with.</P>
<P>I am submitting BatchRequestJobs along with an application-defined 'state' object (say 'MyRequestState')&nbsp;- which contains all the information (parameters) needed about how to process the job.</P>
<P>However, when submitting this BatchRequestJob + state to the queue, the </P>
<P>CSLA.BatchQueue.Server.BatchQueue (server-side) object needs a reference to the assembly in which&nbsp;the 'MyRequestState'&nbsp;object is defined - so it knows how to serialize it!</P>
<P>How can I get around the need to reference my assembly from the CSLA BatchQueue? Sorry if I'm missing something here!</P>
<P>Chris</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, August 31, 2006</h2>CSLA doesn't need a reference to that assembly, but the assembly does need to be in the assembly load path for .NET when the code is running.<br><br>This is no different from the data portal. CSLA doesn't have a reference to your business assemblies, but it is able to dynamically load them as needed because your assemblies are in the bin directory (the assembly load path) on the server.<br><br>The same thing is true here. You should be able to put your business assemblies into the same directory as the EXE that is hosting the service on the server, because that would be the assembly load path for that application.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lewischris replied on Thursday, August 31, 2006</h2><P>Thanks for the help.</P>
<P>I think this has come about because I have hosted the "accept and queue BatchJobRequest" in IIS and I haven't got the references for the web project set correctly - I've done that now, but am getting type resolution problems&nbsp;- probably&nbsp;because&nbsp;the client and server are now referencing different versions of the same assembly - I need to get the project build order&nbsp;sorted out!</P>
<P>Chris</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
