<html><header><title>Authorisation Methods on Collections</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Authorisation Methods on Collections</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2246.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>razorkai posted on Wednesday, January 31, 2007</h2><P>Guys.</P>
<P>Given a BusinessListBase derived class where should I define the four standard authorisation methods -&nbsp;CanAddObject, CanGetObject, CanDeleteObject and CanUpdateObject?&nbsp; I keep changing my mind as to whether they should be in the list class or in the child objects within the list.&nbsp; I'm currently thinking that CanAddObject,&nbsp;&nbsp;CanGetObject and CanDeleteObject should go in the list but CanUpdateObject seems to fit in better within the child object.&nbsp; Anyone have any thoughts on this?</P>
<P>TIA.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Wednesday, January 31, 2007</h2><P>Typically these methods are implemented as static/Shared methods on the child class.&nbsp; Not sure I can make a definitive argument for this approach.&nbsp; </P>
<P>Keep in mind that these methods, along with the Get'X' and New'X' type methods are essentially factory methods.&nbsp; Rocky has explained in the book as well as in some other posts that it was simply a choice to have them part of the BO rather than in a separate factory class.&nbsp; If you are struggling with rationalizing one option versus the other (BO vs. collection), maybe go with a separate factory class and eliminate the debate.</P>
<P>For instance, if we were talking about the Project class in the ProjectTracker app, you could have a ProjectFactory class with the following methods:</P>
<P><CODE>&nbsp; &nbsp; bool CanAddProject()<BR>&nbsp; &nbsp; bool CanDeleteProject()<BR>&nbsp; &nbsp; bool CanGetProject()<BR>&nbsp; &nbsp; bool CanUpdateProject()<BR>&nbsp; &nbsp; bool GetProject(guid)<BR>&nbsp; &nbsp; ProjectCollection GetProjectList()<BR>&nbsp; &nbsp; Project NewProject()<BR>&nbsp; &nbsp; Project SaveProject(Project)<BR>&nbsp; &nbsp; void DeleteProject(guid)<BR>&nbsp; &nbsp; void DeleteProject(Project)</CODE></P>
<P>Don't hold me to the list; just an example.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DansDreams replied on Wednesday, January 31, 2007</h2><P>One thing I'd suggest is that the answer for BLB is likely different than that for ROLB.&nbsp; In BusinessListBase we expect that the elements in the collection are much more autonomous encapsulated business objects as opposed to ReadOnlyListBase where the elements are often built specifically to be "summary" objects solely for use in that list.</P>
<P>That being the case, it seems like the business objects in a BLB should have the methods themselves.&nbsp; However, to facilitate ease of use, I see no reason why the list couldn't have them as well and just defer to the class it knows it contains.</P>
<P>As was mentioned, there's not really a "right" answer.&nbsp; Just offering some thoughts and options.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>razorkai replied on Tuesday, February 06, 2007</h2><P>Thanks for the input guys.&nbsp; What got me thinking about this is the idea that Business Objects are supposed to represent intelligent data in that they should know who can do what to the data they hold.&nbsp; In Rocky's examples he has the&nbsp;objects throwing exceptions if the UI developer forgets to check permissions before allowing some operation.&nbsp; In the case of BLB objects it is difficult to know where to throw an exception if for example the ui calls collection.Remove(child).&nbsp; Should the exception be thrown in the child or the list and if so where?&nbsp;&nbsp; Clearly there are several choices to be made and I just wondered what the common practice was.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
