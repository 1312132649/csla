<html><header><title>Using EditableRootListBase</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Using EditableRootListBase</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2392.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>gdk9am posted on Tuesday, February 20, 2007</h2><P>I have an application using CSLA 2.1.3 which maintains a list of Titles such as MR/Mrs/DR.</P>
<P>It has following business objects</P>
<P>TitleEditableRootList&nbsp; <FONT color=#2b91af size=2>EditableRootListBase</FONT><FONT size=2>&lt;</FONT><FONT color=#2b91af size=2>TitleEditableRoot</FONT><FONT size=2>&gt;</P></FONT><FONT color=#2b91af size=2>
<P>TitleEditableRoot <FONT size=2>Csla.</FONT><FONT color=#2b91af size=2>BusinessBase</FONT><FONT size=2>&lt;</FONT><FONT color=#2b91af size=2>TitleEditableRoot</FONT><FONT size=2>&gt;</FONT></P>
<P><FONT size=2>It has two forms</FONT></P>
<P><FONT size=2>One form with a grid and binding navigator</FONT></P>
<P><FONT size=2>One form with loose controls and binding navigator </FONT></P>
<P><FONT size=2>Both forms load the contents of the Title table into TitleEditableRootList</FONT></P>
<P><FONT size=2>In both forms, I can add records but I cannot update existing records eventhough I have debugged the data portal update code and runs successfully.</FONT></P>
<P>Please help</P>
<P>&nbsp;</P>
<P><FONT size=2>&nbsp;</P></FONT></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Michael Hildner replied on Tuesday, February 20, 2007</h2>When you say you can't update records, what are the details? An exception? Is the update method getting called?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>gdk9am replied on Tuesday, February 20, 2007</h2><P>1. The <FONT size=2>DataPortal_Update</FONT> method is being called and completes with no exceptions</P>
<P>2. the updated record is not shown in the database</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, February 20, 2007</h2><P>So you walked through the DP_U() code in the debugger and watched it update the database, but the changes don't appear?</P>
<P>If so, are you using one of the CSLA transaction options (EnterpriseServices or TransactionScope)? Of course both of them only trigger failure if DP_U() were to throw an exception, but that's the next thing I'd check for, is to make sure that you aren't, somehow, having your transaction not commit.</P>
<P>If you are doing manual transactions, are you sure the Commit() method is called?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>gdk9am replied on Tuesday, February 20, 2007</h2><P>Hi</P>
<P>Thanks for your help. I found the problem was with my concurrency field "RowTimeStamp" parameter which has declared as output only parameter instead of inputoutput parameter</P>
<P>Regards</P>
<P>Graeme</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Michael Hildner replied on Tuesday, February 20, 2007</h2><P>What database are you using? If you're using Sql Server, fire up the Profiler and see what the update method is actually sending to the database.</P>
<P>You can copy from the Profiler and paste into a query window in Mangement Studio to help debug.</P>
<P>Hope that makes sense, let me know if it doesn't help.</P>
<P>Regards,</P>
<P>Mike</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
