<html><header><title>Custom data portal channel samples</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Custom data portal channel samples</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7512.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka posted on Wednesday, August 26, 2009</h2><P>There are now a couple custom data portal channel examples in the Samples folder in svn.</P>
<P>The AppDomainProxy sample has been there for a long time, and shows now to create a channel that runs the data portal code in a separate AppDomain and on a separate thread, without actually going over the wire. I created this for the unit tests, because it simulates a remote data portal without all the overhead of setting up&nbsp;an actual app server.</P>
<P>I just added the WcfBfProxyHost sample. This new sample shows how to use the BinaryFormatter to serialize the object graph, and then send the resulting byte array over WCF to the server. It is very similar to the way the WebServicesProxy works.</P>
<P>The reason I wrote this new sample is that WCF uses the NetDataContractSerializer to serialize the object graph. NDCS is very nice, because it provides the same semantic behavior as BinaryFormatter, but is part of WCF. However, the XML it creates is pretty darn big, and I was experimenting with ways to reduce the size of the messages on the wire.</P>
<P>The BinaryFormatter, in general, produces smaller data streams than NDCS by around 20%, so that's good. But even with a 20% reduction the data stream is pretty big.</P>
<P>The best answer, I think, is to use&nbsp;a WCF binding that does compression. While the NDCS XML is huge, it is XML and so it compresses <EM>very</EM> effectively.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
