<html><header><title>MarkOld After ChildUpdate</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>MarkOld After ChildUpdate</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4638.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>RealMrTea posted on Tuesday, April 08, 2008</h2><P>In version 3.5 there is a line I am not to clear about.&nbsp; I have the normal object Order with a collection (OrderDetails) of OrderDetail objects.&nbsp; I want to delete an OrderDetail object from the OrderDetails collection so I MarkDeleted and I have it setup to be deleted.&nbsp; In the ChildDataPortal it calls "Child_DeleteSelf" and when it returns it says if(target!=null) target.MarkOld();&nbsp;</P>
<P>This call to MarkOld sets the deletedOrderDetail object to old which overwrites the IsDeleted property to false.</P>
<P>My question is why after an object is deleted would you call MarkNew()?&nbsp; It doesn't make sense to me.&nbsp; I understand in the case of an update or insert...but not in the case of a delete.</P>
<P>I should mention that I am delaying the deletion of the object so that it can still appear in my grid as red and that is why I am not just removing it from the list.&nbsp; I will also throw in that I am doing soft deletes.</P>
<P>Any words of advice,</P>
<P>Eric</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RealMrTea replied on Thursday, April 17, 2008</h2><P>After re-reading through the CSLA books I really found the answer as to why.&nbsp; Any objects who doesn't have an ID in the database is considered new.&nbsp; The part I don't like about this is that my implementation of this uses soft deletes so technicaly the above statement is not true.&nbsp; I later want to look at the object and see the IsDeleted state so I can do other things with it (Remove it from a list, etc...) but the flag is (in my mind set) inscorrect.</P>
<P>My solution is to provide my own Deleted flag on each object that doesn't get set by DataPortal which I can look through as needed.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
