<html><header><title>Recommendations for implementing undo in master/detail scenario</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Recommendations for implementing undo in master/detail scenario</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7429.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jack posted on Sunday, August 09, 2009</h2>Hi,<br><br>I was looking for some suggestions on what has worked for other people in terms of implementing an undo feature (much like say MS Word) that works when dealing with a set of master/detail lists.<br><br>Basically I have two lists (master data and detail data) where the master list allows for filtering down the detail list to relevant data.&nbsp; The PK of an item in the master list is a FK of one or more item in the detail list.<br><br>My UI only shows the details for a single master record at a time.&nbsp; The scenario I'm concerned about is that the user modifies 5 detail records on one master then switches master records and edits another 3 different detail records.<br><br>I'm assuming at this point I have 8 undo's that I can do.&nbsp; In terms of the raw data it isn't such a big deal to undo but I'm having problems visually what makes sense in terms of the UI.&nbsp; Would I let them undo 3 records and then if they hit undo a forth time I have to figure out which parent record to select, and then undo the 5th detail record on the first master set?<br><br>I still haven't figured out how well, if at all, this works with N-level undo as I don't think I care if a user keeps changing the same detail record over and over.&nbsp; Regardless of how I decide to deal with the actally undoing of the data I'm trying to think how best to track this visually and not make it confusing.<br><br>Any ideas?&nbsp; Anybody done something similar in an easy to maintain and simple fashion?<br><br>Thanks<br><br>jack</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, August 11, 2009</h2><P>This is not the way n-level undo works in CSLA. In fact, you are describing an entirely different undo model.</P>
<P>The CSLA model is very coarse-grained, in that it takes snapshots of the state of an object or object graph.</P>
<P>The Word model is very fine-grained, in that it records every user action.</P>
<P>You can only undo at the granularity you record, so if you want fine-grained undo capabilities, you need to implement fine-grained recording capabilities.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jojo33333 replied on Wednesday, October 13, 2010</h2><p>Hi Jack</p>
<p>Undo redo is quite complicated, especially when you want to do multiple undos.&nbsp; The website <a href="http://www.undomadeeasy.com">www.undomadeeasy.com</a> has a free manual that describes some of the issues of undoing botht eh database and the UI.&nbsp; I have used it and it makes the whole thing very manageable.</p>
<p>ATB</p>
<p>JoJo33333</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, October 13, 2010</h2><p>jojo, since this is your third mention of this framework (and since you haven&#39;t actually contributed any meaningful information to this forum), I have some questions.</p>
<p>Is this an open source project, or commercial?</p>
<p>Does it work at the UI level, the business layer or the data layer?</p>
<p>Perhaps most importantly, have you tried using it with a CSLA business layer, and can you compare/contrast how it interacts with the CSLA features?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jojo33333 replied on Thursday, October 14, 2010</h2><p>My sincere apologies.</p>
<p>I am just starting with CSLA .NET 4.0.&nbsp; So, no, it&#39;s not yet tried with CSLA.&nbsp; </p>
<p>I&#39;ve used it before and I have probably become an overenthusiasic fan.&nbsp; When I hear of people worrying about UndoRedo I feel the need to tell them.&nbsp; </p>
<p>Also it is a a shareware product - not open source which I guess goes against your grain.</p>
<p>For what it&#39;s worth, it is a general framework which operates at UI level, the business layer or the data layer.</p>
<p>Anyway your point is well taken.&nbsp; I will fully understand if you remove my entries from your forum</p>
<p>Wishing you all success</p>
<p>JoJo33333</p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
