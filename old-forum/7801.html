<html><header><title>Csla Light remote server: NotFound problem</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Csla Light remote server: NotFound problem</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7801.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>SteveC posted on Friday, October 16, 2009</h2>I have been following the <a href="http://www.lhotka.net/weblog/UsingCSLALightPart4.aspx">tutorial</a> for Csla Light and building a proof of concept app as I go along. I am using Csla 3.7 and Silverlight 3. I am running everything locally on my laptop, using Cassini. My ASPNET web project contains both a clientaccesspolicy.xml and crossdomain.xml. My problem is that when I run the application I get the following error:<br><br>CommunicationException was unhandled by user code<br>The remote server returned an error: NotFound.<br><br>My solution is structured as follows:<br><ul><li>CslaSilverlight : Silverlight Project</li><li>CslaSilverlight.Client : Silverlight Class Library </li><li>CslaSilverlight.Server : .NET Class Library </li><li>CslaSilverlight.Web : ASPNET Project to host the SL app</li></ul>In my silverlight application, my ServiceReferences.ClientConfig reads as follows:<br><br>&lt;configuration&gt;<br>&nbsp;&nbsp;&nbsp; &lt;system.serviceModel&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;bindings&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;basicHttpBinding&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;binding name="BasicHttpBinding_IWcfPortal" maxBufferSize="65536"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxReceivedMessageSize="65536" receiveTimeout="10" sendTimeout="10"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/binding&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/basicHttpBinding&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/bindings&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;client&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;endpoint address="http://localhost:3405/WcfPortal.svc"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_IWcfPortal"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contract="Csla.WcfPortal.IWcfPortal" name="BasicHttpBinding_IWcfPortal" /&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/client&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/system.serviceModel&gt;<br>&lt;/configuration&gt;<br><br>In my ASPNET web application, my WcfPortal.svc file is as follows:<br>&lt;%@ ServiceHost Language="C#" Debug="true" Service="Csla.Server.Hosts.Silverlight.WcfPortal" CodeBehind="WcfPortal.svc.cs" %&gt;<br><br>I have my ASPNET web application set to use port 3405. When I use Web Development Helper to track the calls I get the following:<br><br>http://localhost:3405/CslaSilverlightTestPage.aspx<br>http://localhost:3405/Silverlight.js<br>http://localhost:3405/ClientBin/CslaSilverlight.xap<br>http://localhost:3405/WcfPortal.svc<br><br>There is no detail for this last call, if I try to view the detail I get an error.<br><br>If I try to re-add the Service Reference to the Silverlight app using Visual Studio's service discovery tool, I get the following:<br>An error occurred while attempting to find services at 'http://localhost:3405/WcfPortal.svc'<br>Details:<br>The type 'Csla.Server.Hosts.Silverlight.WcfPortal', provided as the Service attribute value in the ServiceHost directive could not be found<br><br>I'm pretty much spinning my wheels now, having tried lots of things with no success, googled extensively and looked at all the sample apps. Any ideas??<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SteveC replied on Friday, October 16, 2009</h2>solved it!<br><br>This is wierd, so if anyone has any theories I would love to hear them.<br><br>The problem was with the the ASPNET web app which was hosting the SVC. When I looked in the bin directory, it had a copy to the CslaLight assembly instead of the CslaNET assembly. This is why I was getting an error about the type WcfPortal could not be found.<br><br>When I checked the project references, it correctly had a reference to CslaNet. I tried a couple of times removing the reference, cleaning the solution and then re-adding the reference, being super careful that I pointed to CslaNet and not CslaLight. Each time I did this, CslaLight appears in the bin folder.<br><br>Scratching my head, I removed the reference to CslaNet entirely. So now my ASPNET project only has a reference to my Csla.Server business object project and nothing else. Now when I build the solution, I end up with CslaNet in the bin folder and everything works just fine and dandy. Wtf?<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
