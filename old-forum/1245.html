<html><header><title>Lightweight Local Data Store</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Lightweight Local Data Store</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1245.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>marbol posted on Monday, September 18, 2006</h2><P>I'd like to set this up using a lightweight local data store, and not a database. Locally, I'd like to just use&nbsp;a plain simple&nbsp;XML data file to hold everything. The file could just be an XML file with a single root and all remaining objects stored in it.</P>
<P>Does anyone know of any code that does this already? Or is this mine to write? :)</P>
<P>Thanks</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DeHaynes replied on Monday, September 18, 2006</h2><P>Your looking for an in-memory database system that stores the data as XML files when not online?</P>
<P>&nbsp;</P>
<P>You can accomplish this yourself with Datasets and the built in XML code inside Visual Studio.&nbsp; Something like:</P>
<P><SPAN class=searchTerm>DataSet</SPAN> ds = new <SPAN class=searchTerm>DataSet</SPAN>();<BR>ds.ReadXml(<SPAN class=searchTerm>file</SPAN>,XmlReadMode.Auto);</P>
<P>...</P>
<P>ds.WriteXml("C:\test.xml");</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, September 18, 2006</h2>I know you said no database, but still you might consider SQL Everywhere, which is a 1.4 meg set of DLLs that provides a very lightweight relational model. Or db40, which is also very small and provides a lightweight object database model.<br><br>As was pointed out, the DataSet itself is a perfectly good approach, giving you lots of power with very little effort.<br><br>Finally, you could use a data transfer object (DTO) approach, along with the XmlSerializer and&nbsp; System.IO namepace (or My.Computer.FileSystem in VB) to very easily read/write an object graph to a file. The data will be in XML on disk, but in object form in memory - very simple and nice.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>marbol replied on Monday, September 18, 2006</h2>Yes. I have to have no databases. I'll look into the dastaset, but currently I already use the XmlSerializer. Of course, this requires the classes to have public empty&nbsp;constructors so the XmlSerializer can construct them. I guess there is no way around that.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, September 18, 2006</h2>I wouldn't recommend trying to save/restore your actual CSLA business objects using the XmlSerializer... That serializer is far too limited in what it can do, and eventually you'll use a readonly property, or a more complex collection type, and you'll be unable to serialize your objects.<br><br>You will be <i>far </i>better off if you copy the data into/out of your business objects from some sort of data object - like a DTO or dataset.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
