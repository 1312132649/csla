<html><header><title>IsDirty Check Nessesary on child inserts?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>IsDirty Check Nessesary on child inserts?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/877.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>antoan posted on Friday, August 11, 2006</h2>As in the case of ProjectResource.Insert(...) of the Project Tracker application: <br /><br />We check to see if the the object is in a dirty state before we insert, if not the operation is ignored: <br /><br />// if we're not dirty then don't update the database<br />if (!this.IsDirty) return;<br /><br />What I'm missing is why we dont base this decision on the state of IsNew since the two always coincide - if new then dirty, ensured by the MarkNew()  base method?<br /><br /> I cannot think of a senario when the thing is new and insertable but not dirty?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Friday, August 11, 2006</h2>You could be updating existing data, and in that scenario, the object would not be marked as IsNew, but if you altered it, then it would be dirty.<br>New objects are always assumed to be dirty, because it's not something that is already persisted, so in a sense, isdirty tracks whether the state of the object is persisted or not, whereas IsNew only tracks if you should be inserting or updating.<br><br>So, If the object is marked as IsNew, then it will be marked as IsDirty, but if the object is marked as IsDirty, it won't necesarily be new.<br><br>Andr√©s<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>antoan replied on Friday, August 11, 2006</h2>Does this mean that insert operations on non new, dirty children are valid framework operations? <br /><br />If the thing already exist you wanna update instead of insert isn't it?  </div><div style='padding:0 15 3 15;background-color:powderblue'><h2>antoan replied on Friday, August 11, 2006</h2>I finally see it, I guess in the case of an insert you could just test IsNew as only new BO's get inserted and assume the BO is infact IsDirty.  <br /><br />But doing : if (!this.IsDirty) return;  is consistent with the check required on update. <br /><br />OK its a check to see if we require an update :  ) </div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
