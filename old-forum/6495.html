<html><header><title>OnUnknownPropertyChanged and TreeViews (wpf)</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>OnUnknownPropertyChanged and TreeViews (wpf)</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6495.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Oob posted on Monday, February 23, 2009</h2>I have a TreeView that is bound to a list of business objects. Each business object has a list of 0 to many child objects. The WPF TreeView can be data bound pretty easy.<br><br>Here is the problem, When the partent list or any child list becomes dirty, the TreeView is reset. Meaning that all root nodes are collapsed. <br><br>I have norrowed it down to the fact that MarkDirty() calls OnUnknownPropertyChanged(). This fires a OnPropertyChange for an empty string. That is translated by .NET as a Reset.<br><br>Quote From MSDN: http://msdn.microsoft.com/en-us/library/system.componentmodel.propertychangedeventargs.propertychangedeventargs.aspx<br>An Empty value or&nbsp; null reference (Nothing in Visual Basic) for the propertyName parameter indicates that all of the properties have changed.<br><br>This reset is what causes the TreeView to collapse when it shouldn't.<br><br>I have two questions.<br>-Why does MarkDirty() what a reset to be fired in the first place? <br>-Is this still valid with CSLA 3.6 and WPF? Because I can override OnUnknownPropertyChanged() to do nothing and my UI "seems" to work fine. However I do not know what I could have broken under the covers.<br><br>Thank you<br>Tony<br><br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Oob replied on Tuesday, February 24, 2009</h2>Well with the lack of responses, I assumed I was wrong. As it turns out I am. :).<br><br>I made a test app that does what I thought was the problem and it is not affected by the above problem. Which means that the problem exists somewhere in the code base I am working. <br><br>The test app can add, removing, change an items anywhere in the treeview works just fine as far as I can tell.<br><br><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
