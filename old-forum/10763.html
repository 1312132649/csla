<html><header><title>update problem with wcf remote dataportal using http binding</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>update problem with wcf remote dataportal using http binding</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10763.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>fsl posted on Wednesday, October 12, 2011</h2><p>Hi there</p>
<p>I have a root object (32kb when serialized) that I have problem with when saving. The save works fine when using a local dataportal but not when using a remote dataportal. I don&#39;t get any errors. I can fetch the object just fine. Any ideas on how to debug this?</p>
<p>Edit: this seems to be a more general problem with the root class in general, update is slow or hangs, fetch is fast.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ozitraveller replied on Wednesday, October 12, 2011</h2><p>The object is probably too big.</p>
<p>Google: &nbsp;csla httpruntime maxrequestlength</p>
<p><a href="http://forums.lhotka.net/forums/t/8994.aspx">http://forums.lhotka.net/forums/t/8994.aspx</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, October 13, 2011</h2><p>Lots of good info in the FAQ:</p>
<p><a href="http://www.lhotka.net/cslanet/faq/DataPortalFaq.ashx">http://www.lhotka.net/cslanet/faq/DataPortalFaq.ashx</a></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>StefanCop replied on Saturday, October 15, 2011</h2><p>Hi</p>
<p>I find most problems by enabling my logging statements. For example, an entry is logged for DataPortal calls and DataPortal_ZZZ.&nbsp; <br />Maybe you load parts lazy and therefore, fetching is below the limit.&nbsp; </p>
<p>Or include the following in your config files (client and server side) and use the Service Trace Viewer to analyze the (big) log files (&quot;C:\Program Files (x86)\Microsoft SDKs\Windows\v7.0A\Bin\NETFX 4.0 Tools\SvcTraceViewer.exe&quot;). Have a look for the actions of Csla.</p>
<p><span style="font-family:courier new,courier;">&lt;system.serviceModel&gt;&nbsp; </span></p>
<p><span style="font-family:courier new,courier;">&nbsp; ............<br /></span></p>
<p><span style="font-family:courier new,courier;">&nbsp; &lt;diagnostics wmiProviderEnabled=&quot;false&quot; &gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;messageLogging<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; logEntireMessage=&quot;<span style="color:#ff0000;"><b>true</b></span>&quot; logMalformedMessages=&quot;true&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; logMessagesAtServiceLevel=&quot;false&quot; logMessagesAtTransportLevel=&quot;true&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxMessagesToLog=&quot;2000&quot; maxSizeOfMessageToLog=&quot;100000&quot; /&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/diagnostics&gt;<br />&nbsp; &lt;/system.serviceModel&gt;</span></p>
<p><span style="font-family:courier new,courier;">&nbsp;&lt;system.diagnostics&gt;<br />&nbsp;&nbsp;&nbsp; &lt;sources&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;source name=&quot;System.ServiceModel&quot; switchValue=&quot;</span><span style="color:#ff0000;"><b><span style="font-family:courier new,courier;">Information, ActivityTracing</span></b></span><span style="font-family:courier new,courier;">&quot; propagateActivity=&quot;true&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;listeners&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add name=&quot;WcfTraceListener&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/listeners&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/source&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;source name=&quot;System.ServiceModel.MessageLogging&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;listeners&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add name=&quot;WcfMessages&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/listeners&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/source&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/sources&gt;<br />&nbsp;&nbsp;&nbsp; &lt;sharedListeners&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add name=&quot;WcfTraceListener&quot;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;type=&quot;System.Diagnostics.XmlWriterTraceListener&quot;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;initializeData=&quot;WcfTraces.svclog&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add name=&quot;WcfMessages&quot;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;type=&quot;System.Diagnostics.XmlWriterTraceListener&quot;<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;initializeData=&quot;WcfMessages.svclog&quot; /&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/sharedListeners&gt;<br />&nbsp;&nbsp;&nbsp; &lt;trace autoflush=&quot;true&quot; /&gt;<br />&nbsp; &lt;/system.diagnostics&gt;</span></p>
<p>&nbsp;</p>
<p>Although coding some log statements means some work, it helps a lot to narrow the problem down. <br />Analyzing the WCF logs is initially confusing because it&#39;s a boatload of information.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
