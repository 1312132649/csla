<html><header><title>What is a good method for binding ASP.NET control to an object with referenced object properties?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>What is a good method for binding ASP.NET control to an object with referenced object properties?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10349.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JackMetcalfe posted on Friday, May 06, 2011</h2><p>We are using CSLA 4 and have a BusinessAddress object that references a Business object and an Address object along with properties of its own like Address Type.&nbsp; We need to bind to properties on the Business object and Address object from the same control.</p>
<p>Reading the properties works fine.&nbsp; For example binding to Business.Name reads the values as desired.&nbsp; However, when Csla.Data.DataMapper.Map() is called and it tries to set property values it fails when trying to find a property of name &quot;Business.Name&quot;.</p>
<p>I could change the Map() method to look for&nbsp;dots (.)&nbsp;and if found load the business object to gain access to the property.&nbsp; If multiple levels were referenced this process could be repeated until the rightmost dot has been dealt with.</p>
<p>Since accessing child properties seems like&nbsp;a common scenario a better solution must already exist than resorting to modifing the framework.</p>
<p>How have others deal with this situation?</p>
<p>Thanks,</p>
<p>Jack and Sita</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, May 06, 2011</h2><p>Hi Jack,</p>
<p>Usually the object graph is designed around the user scenario, not the data, so it has the shape required to perform the task. In most cases that means the shape of the object matches the need of the UI, because they are both designed around the same user scenario.</p>
<p>In the rare case that you can&#39;t design the object to fit the need of the user scenario (and I really think this should be rare!), you can use a viewmodel object between the UI and the business object to reshape the object. Basically create an object that does have the required shape (set of properties), and have that object delegate into the underlying business object(s).</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JackMetcalfe replied on Monday, May 09, 2011</h2><p>I would imagine the most common usage of CSLA.NET has developers hand coding elements of the object graph.&nbsp; I would have preferred to do this at least until we have a significant degree of familiarity with CSLA.</p>
<p>I am not sure how we can create user interface centric CSLA business objects and keep generating code against our entity models and we really do not want to give up the productivity gains this has provided.</p>
<p>We have a complex business and data model relative to the size of our &#39;dynamic&#39; project team.&nbsp; 300 plus core tables and 1 to 3 people filling all IT roles&nbsp;and regularly switching to other projects and back again.&nbsp; Given the scope of the project and the limited staff I wanted to automate our work wherever I could.</p>
<p>Historically, I have favored approaches that emphasize interpreting data at run time as opposed to generating code at design time.&nbsp; The former&nbsp;poses enjoyable coding challenges and you are not faced with the temptation of modifying generated code instead of the generator when under duress.&nbsp; However, between resistance from my peers regarding the complexity of interpreted techniques and discovering the existence of&nbsp;&#39;Visual Studio CSLA Extension for ADO.NET Entity Framework&#39; on codeplex I opted for code generation.&nbsp; T4 templates remind me of working with classic ASP, and are not the most enjoyable thing to work with.&nbsp; However,&nbsp;we have taken &#39;Visual Studio CSLA Extension for ADO.NET Entity Framework&#39; and modified it to meet our needs.</p>
<p>Visual Studio CSLA Extension for ADO.NET Entity Framework and our customizations to it include use of partial classes and methods so that the generated code can be tailored to some extent.</p>
<p>Using entity models with custom CSLA annotations we have generated CSLA business objects.&nbsp; We then have customization code files holding custom methods and implementations of partial functions as needed.</p>
<p>Given this I am tempted to created what could be called a Hierarchical&nbsp;Data Mapper that would be able to set child object properties by navigating the dotted notation used for referencing binding properties in our ASP.NET controls.</p>
<p>What concerns or warning do you have for me regarding approaching it this way?</p>
<p>Thanks,</p>
<p>Jack</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, May 09, 2011</h2><p>I&#39;d start by having you read the links in the first question on this FAQ page:</p>
<p><a href="http://www.lhotka.net/cslanet/faq/CslaObjectFaq.ashx">http://www.lhotka.net/cslanet/faq/CslaObjectFaq.ashx</a></p>
<p>Those may go a long way toward answering your questions on the way (at least I) view the topic.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
