<html><header><title>Two-part Question:  Refresh DetailsView and Disabling a TemplateField Control</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Two-part Question:  Refresh DetailsView and Disabling a TemplateField Control</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2259.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>DougZ posted on Thursday, February 01, 2007</h2>I have a DetailsView control on a web form that uses a CslaDataSource control.&nbsp; The DetailsView has two DropDownList controls in it.&nbsp; Selecting an item in RecruitingPeriodDropDownList is required to save the object, while selecting an item in EventVisitDropDownList is optional.&nbsp; However, selecting an item in EventVisitDropDownList determines which value should be selected in RecruitingPeriodDropDownList.&nbsp; The business object underlying the DetailsView control takes care of setting the value of the RecruitingPeriodId property when the EventVisitId property is set, but RecruitingPeriodDropDownList is not updated to show that value.&nbsp; <br><br>It seems that there are two versions of the business object:&nbsp; one in the CslaDataSource and one stored in Session.&nbsp; When the data source's UpdateObject event is fired, the code in the event handler maps the data from the bo in CslaDataSource to the bo in the Session.&nbsp; So, the form doesn't display the change made to the RecruitingPeriodId property until the UpdateObject event is fired.&nbsp; How do I update the bo in Session to reflect what is in CslaDataSource prior to that event firing?<br><br>Next question ...<br><br>The aforementioned DropDownList controls are in TemplateFields in the DetailsView control.&nbsp; If an item is selected in EventVisitDropDownList, I want to disable RecruitingPeriodDropDownList.&nbsp; However, I can't find out how to reference those controls in the server-side code.&nbsp; Do I have to script it?<br><br>Thanks,<br>Doug<br><br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DougZ replied on Friday, February 02, 2007</h2>I found the answer to my second question.&nbsp; When referencing controls that are housed inside data-bound controls such as the DetailsView control, you can use the DetailsView.FindControl() method to get a reference to the control and assign it to a variable.&nbsp; Then, you can manipulate the control's properties.<br><br>I'm still working on my first question.&nbsp; I am guessing that it involves using the DataMapper, but I'm not sure how to do that outside of a CslaDataSource event.&nbsp; Any ideas?<br><br>Thanks,<br>Doug<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
