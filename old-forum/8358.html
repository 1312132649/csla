<html><header><title>Switchable object</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Switchable object</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8358.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>MTmace posted on Thursday, January 14, 2010</h2><P>I would like to edit some of an object's, the most&nbsp;commonly&nbsp;modified, properties&nbsp;in a grid.<BR>Then I would like to edit it's other properties when someone selects the object.</P>
<P>I thought this would be an EditableRoot object. However since I need to edit it in a list I think it needs to be an EditableChild object.</P>
<P>Is this a good use&nbsp;for a switchable object or is there a flaw in my object design?</P>
<P>MTmace</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rxelizondo replied on Thursday, January 14, 2010</h2>I think that the scenario you are describing is very valid for a switchable object. As long as your object behavior is *identical* whether it’s posing as a root or as a child then I think you are good.<br /><br />Just note that Rocky has stated before that having switchable objects it’s usually a bad thing. But I believe that it all goes back to people designing the switchable object to have different behavior for the two different roles.<br /><br />I may be wrong about this so I hope others chime in and give their opinion. I have never coded a switchable object so my experience with them is zero :(</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Friday, January 15, 2010</h2>Hi, <br><br>If you have a Datagridview and details editing controls - all in the same Form you should databind all controls to the <b>same </b>bindingsource. The bindingsource has a CurrencyManager that keeps track of the "current item in list" and enables databinding for both listcontrols (complex databinding) and details controls (simple databinding). <br><br>A Switchable object can be a Root or Child object depending on which static factory method you use to get an instance of the object (and if that method calls MarkAsChild). Once you have an instance -&nbsp; there is no way that you should be switching from Root to Child or back. <br><br>As always -&nbsp; I recommend to read the excellent FAQ documents on <a href="http://www.WindowsClient.net">http://www.WindowsClient.net</a>:<br><a href="http://windowsclient.net/downloads/folders/applications/entry1304.aspx">DataGridView FAQ</a> and <a href="http://windowsclient.net/downloads/folders/applications/entry1302.aspx">DataBinding FAQ</a>. Both FAQ also comes with sample code. <br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>MTmace replied on Friday, January 15, 2010</h2><P>Thanks for all the input I will look into the currenyManager.<BR>If I can bind the "detail" control to the same object that is selected in my grid that should work.<BR>So the correct object type should be EditableChild since the list will be marked as dirty even if the object was modified out side of the grid (in the detail control).</P>
<P>Thanks,</P>
<P>MTmace</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Friday, January 15, 2010</h2>We have a set of low-level BO's that map fairly closely to the database tables (done because this project is a direct translation of a previous VC++ 6.0 application and this simplified the translation), and these BO's seem to be quite comfortable being either root or child. <br /><br />When we started this, the current CSLA version was 2.1 and there was seemingly almost no difference between a root and child other than the IsChild flag value, so we didn't see any problem doing this.<br /><br />Now there is a child data portal, object factory, etc. that have since been added. We've upgraded as far as CSLA 3.5, but we haven't changed to use those features, so I can see how there might be a little more handling the switchability if you wanted to use the new additions.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, January 15, 2010</h2><P><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>rxelizondo:</strong></div><div>But I believe that it all goes back to people designing the switchable object to have different behavior for the two different roles.</div></BLOCKQUOTE></P>
<P>Well, that's pretty much the argument against it.&nbsp; Different behavior due to different use cases, so a switchable object makes your design more fragile.&nbsp; I think this goes against the Single Responsiblity Principal.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
