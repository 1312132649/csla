<html><header><title>WCF Dataportal Compression</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>WCF Dataportal Compression</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4507.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>IMindZ posted on Monday, March 17, 2008</h2><P>Has anybody tried G-Zip or any other compression for WCF Dataportal? <BR>I pass large amount of data between the Dataportal and the client. Do you think&nbsp;&nbsp;implemeting compression could make much difference?<BR>I was trying to figure out the config settings to use for a G-Zip encoder.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Paul Czywczynski replied on Monday, March 17, 2008</h2>We have implemented the SDK gzip sample with our dataportal. I don't have any stats saying its faster but I know it really didn't hurt performance. Your best bet is to give it a shot and see how you like it. It's not tough to set up.<br><br>&nbsp; &nbsp; &lt;system.serviceModel&gt;<br><br>&nbsp;&nbsp;&nbsp; &lt;extensions&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;bindingElementExtensions&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add name="gzipMessageEncoding" type="TWFX.Common.GZipMessageEncodingElement, TWFX.Common" /&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/bindingElementExtensions&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/extensions&gt;<br><br>&nbsp;&nbsp;&nbsp; &lt;services&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;service behaviorConfiguration="TWfxServiceBehavior" name="TWFX.DataPortalService.WcfPortal"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;endpoint binding="customBinding" bindingConfiguration="fxCompressionBinding" contract="TWFX.Common.IFxWcfPortal" /&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/service&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/services&gt;<br><br>&nbsp;&nbsp;&nbsp; &lt;bindings&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;customBinding&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;binding name="fxCompressionBinding"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;gzipMessageEncoding innerMessageEncoding="binaryMessageEncoding"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647" /&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/gzipMessageEncoding&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;httpTransport maxReceivedMessageSize="2147483647" authenticationScheme="Ntlm" /&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/binding&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/customBinding&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/bindings&gt;<br><br>&nbsp;&nbsp;&nbsp; &lt;behaviors&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;serviceBehaviors&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;behavior name="TWfxServiceBehavior"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;serviceThrottling maxConcurrentCalls="1000" maxConcurrentSessions="1000" maxConcurrentInstances="1000" /&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;serviceDebug includeExceptionDetailInFaults="true"/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/behavior&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/serviceBehaviors&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/behaviors&gt;<br><br>&nbsp; &lt;/system.serviceModel&gt;<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>IMindZ replied on Tuesday, March 18, 2008</h2><P><FONT face=Arial size=2>Thanks.&nbsp;I had to&nbsp;modify the&nbsp;GZipEncoder in the SDK samples so that it read the readerQuotas out of the config. Did you do the same?</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Paul Czywczynski replied on Tuesday, March 18, 2008</h2>Yes I did. As I was typing up my post yesterday I was trying to remember the mods I had to make to it. That was is. :)<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bspraguetx replied on Friday, March 21, 2008</h2>I need to do the same thing.&nbsp; Would you mind sharing the relevant code?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Paul Czywczynski replied on Friday, March 21, 2008</h2>Files attached. You'll have to update the namespace to match yours.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bspraguetx replied on Friday, March 21, 2008</h2>Thanks Paul</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
