<html><header><title>Is it possible to have an intermediate class with BusinessBase&lt;T&gt;?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Is it possible to have an intermediate class with BusinessBase&lt;T&gt;?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11202.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina posted on Tuesday, February 28, 2012</h2><p>I have a CSLA 4.x project I&#39;m starting out with and there are going to be a *lot* of objects that have the same basic properties.&nbsp;</p>
<p>Rather than re-implement them over and over which makes no sense I&#39;d like to have an intermediate object implement those standard properties and then the final object that inherits from that intermediate object with the unique properties defined. </p>
<p>I&#39;m not sure that BusinessBase will allow for this though.</p>
<p>I.E. Something like this:</p>
<p>public class StandardObject : BusinessBase&lt;StandardObject&gt;</p>
<p>{</p>
<p>//bunch of standard properties and or code</p>
<p>}</p>
<p>&nbsp;</p>
<p>public class Customer: StandardObject</p>
<p>{</p>
<p>//bunch of customer object specific properties and business rules etc.</p>
<p>}</p>
<p>I&#39;m not sure what the best approach to this might be due to the generic nature of BusinessBase, any help greatly appreciated.</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, February 28, 2012</h2><p>Yes, this is a fine idea, but your intermediate class must be generic. Or you can&#39;t use the generic RegisterProperty overloads, and that is a mess.</p>
<p>The one area you should think about carefully (and the reason I recommend against what you propose) is that your data access code will get complex. Think it through carefully and completely before going down this road.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina replied on Tuesday, February 28, 2012</h2><p>Sorry, still just as confused as ever.&nbsp; What would my declaration look like then for the intermediate and final classes?&nbsp; That&#39;s the part I can&#39;t wrap my head around I guess.</p>
<p>I&#39;m not sure how this affects the data access code, that&#39;s probably the critical bit that will make this unviable.</p>
<p>What would you do if you had 60 some odd objects and every single one has the same 5 properties that all require the same default values be set on construction?&nbsp; Same data access code etc etc?&nbsp; Copy and paste just &quot;smells&quot; wrong to me.</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, February 28, 2012</h2><p>I am pretty sure there are examples in the FAQ, but I don&#39;t have time to search them out for you right now.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina replied on Tuesday, February 28, 2012</h2><p>Cool, thanks Rocky, I&#39;ll have a look.&nbsp; I did search but didn&#39;t find anything.&nbsp; I had no idea this was so commonly asked it was in the FAQ.&nbsp; Perhaps the search terms I used were wrong.&nbsp; </p>
<p>If I get it working I&#39;ll post some helpful info here for others in future.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina replied on Tuesday, February 28, 2012</h2><p><div style='padding-left: 50px;background-color:silver'><b>RockfordLhotka<br></b></p>
<p>I am pretty sure there are examples in the FAQ, but I don&#39;t have time to search them out for you right now.</p>
<div style="clear:both;"></div>
<p></div></p>
<p>I could not find anything in the faq (searching it or reading through it) that illustrates the correct way to declare an intermediate class using CSLA 4 business base (or there is another faq I don&#39;t know about or I&#39;m just plain blind), however the Business object design section there is a link that just says &quot;forum thread&quot; with no explanation and after looking at it, it seems relevant in a meta kind of way:</p>
<p><a target="_blank" href="http://forums.lhotka.net/forums/p/3465/17230.aspx#17230">http://forums.lhotka.net/forums/p/3465/17230.aspx#17230</a></p>
<p>Where you stated <i>&quot;The key, imo, is that you don&#39;t want to replicate <i>behavior</i> 
(methods). Replicating properties/fields doesn&#39;t matter - they can be 
code-genned or created with snippets. There&#39;s little to no variation in a
 property - they are just stamped out like widgets.&quot;</i></p>
<p>Perhaps this might be what you directed me to the FAQ for and what you&#39;re really saying here if this is still your thinking on what I asked is that even though it&#39;s a huge replication of code it should be done because we&#39;re talking about properties not behaviour.&nbsp; I know it&#39;s just boilerplate code really but my every instinct is to eliminate repetitive code wherever possible and it feels completely wrong to have the same bit of code copied and pasted over and over.</p>
<p>I guess I&#39;ll take your answers to my questions to summarize as yes it&#39;s possible to have an intermediate class with BusinessBase&lt;T&gt;, it&#39;s uncommon enough or tricky enough that you don&#39;t know it off the top of your head (which makes me feel a little better about having trouble figuring it out&nbsp;<img src="http://forums.lhotka.net/emoticons/emotion-1.gif" alt="Smile" /> )however don&#39;t do it because you don&#39;t advise replicating properties anyway and there may be some mystery problem with data access if I try to do it which I will only discover when I try to do it.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, February 28, 2012</h2><p>I&#39;m sorry. I honestly thought there was a FAQ entry that included the code for all the basic intermediate class. My pointing you to the FAQ was intended to be helpful, not frustrating.</p>
<p>That post IS still my thinking - inheriting to get properties is just a total PITA, and I absolutely recommend against it. Just think through the data access model for such types and you&#39;ll probably come to the same conclusion - it is a total mess - either leading to unmaintainable code, or to duplicate code, or to complex code, or all of the above.</p>
<p>Whether you accept the cost/complexity to get perceived reuse - that&#39;s a choice ultimately up to you.</p>
<p>My pointing you to the FAQ, as I say, was an failed attempt to get you the few lines of code you need to create the basic intermediate base classes. Just a f*ck up on my part, for which I am sorry.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, February 28, 2012</h2><p>I believe this is the correct declaration (off the top of my head):</p>
<p>&nbsp; [Serializable]<br />&nbsp; public class MyBusinessBase&lt;T&gt; : BusinessBase&lt;T&gt;<br />&nbsp;&nbsp;&nbsp; where T : Csla.Core.IEditableBusinessObject<br />&nbsp; {<br />&nbsp; }</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina replied on Tuesday, February 28, 2012</h2><p>No worries Rocky, I&#39;m getting square eyes and general grumpiness, time for a break.</p>
<p> I appreciate your help as always and it <i>was </i>helpful because I had not read that big thread before about business object design which was helpful in other areas of my work. <img src="http://forums.lhotka.net/emoticons/emotion-1.gif" alt="Smile" /></p>
<p>I agree that it&#39;s really not worth the hassle if there are potential problems down the road and anything that causes more complexity at the UI level is definitely not worth doing no question.</p>
<p>Thank you for taking the time.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
