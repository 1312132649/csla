<html><header><title>Why doesn't ApplicationContext.User use the ServiceSecurityContext from WCF Security model?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Why doesn't ApplicationContext.User use the ServiceSecurityContext from WCF Security model?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9671.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>w1z posted on Monday, October 25, 2010</h2><p>Hello!</p>
<p>I faced the following problem. In our application we implemented the custom username authentication in WCF services that are hosted in IIS. This services work with CSLA objects. Custom authentication uses the custom validator to check the username and password. (for more information see&nbsp;<a href="http://msdn.microsoft.com/en-us/library/aa702565.aspx">http://msdn.microsoft.com/en-us/library/aa702565.aspx</a>). After validation a principle of current user is set to&nbsp;ServiceSecurityContext.PrimaryIdentity. </p>
<p>Is there any ability to use this principal in CSLA.ApplicationContext.User? We want to avoid the setting of&nbsp;CSLA.ApplicationContext.User with&nbsp;ServiceSecurityContext.PrimaryIdentity on each call of our WCF services. And as I see, there is no solution to extend the logic of&nbsp;CSLA.ApplicationContext.User.</p>
<p>What could you suggest in this case?</p>
<p>Thank you in advance!</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Monday, October 25, 2010</h2><p>Have you read the WCF chapter in the <i>Using CSLA .NET 3.0</i> ebook? In that chapter I pretty thoroughly cover the authentication pipeline used by WCF and the two places you can plug into the process for username/password scenarios.</p>
<p>I do discuss this in the <i>Expert 2008 Business Objects</i> book too, but not quite as deeply as in the ebook.</p>
<p>However, perhaps you are discussing a new feature in WCF 4? If so, it is something I should look into. When I wrote the ebook and 2008 book there was no built-in simple username/pw authentication model in WCF, and I had to create my own (hence the exploration of the pipeline).</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
