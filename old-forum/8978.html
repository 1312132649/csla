<html><header><title>CSLA4 Min/MaxValue Execute </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA4 Min/MaxValue Execute </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8978.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>HK.Lee posted on Monday, May 24, 2010</h2><p>Hi Rocky,</p>
<p>In Min/MaxValue rule&#39;s Execute methods,I think, following line might be changed because value is always null when first hit.</p>
<p>&nbsp; T value = (T)context.InputPropertyValues[PrimaryProperty];&nbsp; &lt;-- error saying object reference bla bla.</p>
<p>into</p>
<p>&nbsp;T value = (context.InputPropertyValues[PrimaryProperty] != null ? (T)context.InputPropertyValues[PrimaryProperty] : default(T));</p>
<p>or </p>
<p>&nbsp;T value = (context.InputPropertyValues[PrimaryProperty] != null ? (T)context.InputPropertyValues[PrimaryProperty] : (T)PrimaryProperty.DefaultValue);</p>
<p>so that default value of type or&nbsp;property bag would be compared.&nbsp;&nbsp;When I use default value other than zero &nbsp;in property declaration&nbsp;, (T)PrimaryProperty.DefaultValue looks work fine.</p>
<p>Thank you in advance.</p>
<p>HK.Lee</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, May 24, 2010</h2><p>How is the value null? If T is a primitive type this should always have access to an actual value.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>HK.Lee replied on Monday, May 24, 2010</h2><p>Hi Rocky,</p>
<p>All runs fine without problem in beta1 and beta2. Because of this, I stucked and debugged many times and finally I put every line to check null even in primitive type in my business rule. I don&#39;t know how that was happened. I feel as if&nbsp;I were possessed by devil. Another thread for viewmodelbase&#39;s IParent runs fine too so will close it. Dazzled morning to me and feel sorry to bother your time.</p>
<p>Thank you in advance.</p>
<p>HK.Lee</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Curelom replied on Friday, February 04, 2011</h2><p>Is this going to make it into a production CSLA?&nbsp; It looks like it isn&#39;t there in 4.1.&nbsp; This sure comes in handy with nullable types.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, February 04, 2011</h2><p>From the thread it didn&#39;t sound like it was still an issue. If it is an issue I&#39;ll add it to the wish list (and I assume it is based on your follow-up).</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Curelom replied on Friday, February 04, 2011</h2><p>Since I can and have made my own rule on this, it isn&#39;t a big issue, more of a nice to have to be able to use the standard rules for nullable types and nullable primitives.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
