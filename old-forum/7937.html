<html><header><title>ASP.NET databinding question</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>ASP.NET databinding question</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7937.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>forrest posted on Monday, November 02, 2009</h2>In projectEdit.aspx,the detailsview has <br>&lt;asp:CommandField ShowDeleteButton="True" ShowEditButton="True" ShowInsertButton="True" /&gt;,and then following methods<br>&nbsp; protected void ProjectDataSource_InsertObject(<br>&nbsp;&nbsp;&nbsp; object sender, Csla.Web.InsertObjectArgs e)<br>&nbsp; {<br>&nbsp;&nbsp;&nbsp; Project obj = GetProject();<br>&nbsp;&nbsp;&nbsp; Csla.Data.DataMapper.Map(e.Values, obj, "Id");<br>&nbsp;&nbsp;&nbsp; e.RowsAffected = SaveProject(obj);<br>&nbsp; }<br>&nbsp; protected void ProjectDataSource_UpdateObject(object sender, Csla.Web.UpdateObjectArgs e)<br>&nbsp; {<br>&nbsp;&nbsp;&nbsp; Project obj = GetProject();<br>&nbsp;&nbsp;&nbsp; Csla.Data.DataMapper.Map(e.Values, obj);<br>&nbsp;&nbsp;&nbsp; e.RowsAffected = SaveProject(obj);<br>&nbsp; }<br>can be called automatic.<br><br>But in my code,I do not want to use these commandfield button in detailsview,because there is other buttons like 'AuditOrder/SendOrder/PrintOrder/ApplyInvoice' in this page.<br>so I want to place all buttons together. so there is a button 'AddOrder',it's click event method is:<br>this.detailsview1.ChangeMode(DetailsViewMode.Insert).<br><br>a button 'UpdateOrder',it's click event method is:<br>this.detailsview1.ChangeMode(DetailsViewMode.Edit)<br><br>so there is a 'SaveOrder' button ,it's click event can save order object(businessObject) to database.insert or update operation.<br><br>&nbsp;&nbsp;&nbsp; Protected Sub SaveOrderButton_Click(ByVal sender As Object, ByVal e As EventArgs) Handles SaveOrderButton.Click<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Select Case Me.detailsview1.CurrentMode<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Case DetailsViewMode.Insert<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Dim ee As Csla.Web.InsertObjectArgs = New Csla.Web.InsertObjectArgs(Me.Items)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '------call csladatasource's insertobject method,but how should i build the Csla.Web.InsertObjectArgs<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '----<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OrderDataSource_InsertObject(sender, ee)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Exit Select<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Case DetailsViewMode.Edit<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Dim ee As Csla.Web.UpdateObjectArgs = New Csla.Web.UpdateObjectArgs(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '----- call csladatasource's updateobject methods<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'how to call this method<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OrderDataSource_UpdateObject(sender, e)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Exit Select<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End Select<br>&nbsp;&nbsp;&nbsp; End Sub<br><br>How can I call csladatasource_InsertObject,csladatasource_UpdateObject methods manual,and how to build the args?<br><br>Thanks.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>forrest replied on Wednesday, November 04, 2009</h2>I got the method!thanks!<br>I never used databinding control and execute save operation manual.<br>detailsView.insertItem()<br>and detailsView.UpdateItem()<br>methods are ok.<br><br>thanks a lot! <br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
