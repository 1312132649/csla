<html><header><title>Question about cloning in the DataPortal</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Question about cloning in the DataPortal</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1253.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell posted on Monday, September 18, 2006</h2>I have been thinking about the whole concept of cloning an object before save when using the local DataPortal.&nbsp; I was wondering if anyone thought the following change would work if I changed the try block in DataPortal.Update to the following:<br><br>try<br>{<br>&nbsp;&nbsp;&nbsp; if (!proxy.IsServerRemote &amp;&amp; SomeConfigurationSetting)<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  result = proxy.Update(((ICloneable)obj).Clone(), dpContext);<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; else<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; result = proxy.Update(obj, dpContext);<br>}<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, September 18, 2006</h2>I don't see anything wrong with this. Assuming it works reliably, it seems like a good future addition (though it would be a breaking change, which is ugly - unless I used a config switch to turn it on).<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Monday, September 18, 2006</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>RockfordLhotka:</strong></div><div>I don't see anything wrong with this. Assuming it works reliably, it seems like a good future addition (though it would be a breaking change, which is ugly - unless I used a config switch to turn it on).<br></div></BLOCKQUOTE><br>I figured it would be a problem as a runtime breaking change, hence the SomeConfigurationSetting property/thingy/whatever.<img src="/emoticons/emotion-5.gif" alt="Wink [;)]" />&nbsp; I will see about adding it in to a project at work and check the results.&nbsp; I guess the only difference for someone who knew they were using a local DataPortal would be that they would have to make sure to use obj = obj.Save().&nbsp; So there would be a reason to use obj = obj.Save() regardless of whether running a local or remote DataPortal.<br><br>Thanks for the feedback.&nbsp; I will post here later when I have had a chance to try it out.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
