<html><header><title>Suggestion: Use DataAnnotations' ValidationException</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Suggestion: Use DataAnnotations' ValidationException</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8827.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Regent posted on Thursday, April 22, 2010</h2><p>Currently CSLA defines its own&nbsp;ValidationException class. Why can&#39;t it just use <a href="http://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.validationexception.aspx">ValidationException</a>&nbsp;defined in DataAnnotations&#39; namespace?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, April 22, 2010</h2><p>CSLA has existed for just a little longer than DataAnnotations (more than a decade longer actually). It had to do something for all those years before Microsoft finally realized that validation was important <img src="http://forums.lhotka.net/emoticons/emotion-2.gif" alt="Big Smile" /></p>
<p>Switching exception types is a breaking change. People use exception types in their catch blocks. So switching to use a new type of exception isn&#39;t the trivial thing it might seem at first glance, since it means that the thousands of CSLA users would have to go through their code to find and fix all those catch blocks.</p>
<p>That said, this didn&#39;t occur to me and would be a good idea for CSLA 4 - I&#39;ll have to see if I can squeeze this in - though technically the door has closed for adding new CSLA 4 changes.</p>
<p>Thanks for bringing this up!</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, April 23, 2010</h2><p>I&#39;ve put a little more thought into this. I&#39;m not entirely sure it is a good idea.</p>
<p>There&#39;s a short-term pain issue - it is another breaking change from 3.x to 4 - but I could live with doing that.</p>
<p>The bigger problem is that it forces a dependency on System.ComponentModel.DataAnnotations for anyone using Csla.dll.</p>
<p>Right now, even in CSLA 4, you don&#39;t need to add a reference to DataAnnotations unless you decide to actually use the attributes it contains. It is completely optional.</p>
<p>But if I start raising ValidationException exceptions from DataAnnotations then anyone handling that exception type (which I suspect is most people) would need to reference DataAnnotations in their projects.</p>
<p>What does everyone think? Should I make this change? Do you explicitly handle ValidationException exceptions in your code?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Saturday, April 24, 2010</h2><p>I do not like the additional dependency. As I recall there was a huge backlash about this type of dependency in earlier work you did. For that reason alone I would not make the change. If DataAnnotation exception was in a standard .Net .dll that is always referenced anyway then I would be for it.</p>
<p>Joe</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, April 26, 2010</h2><p>No advantage I can see.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, April 27, 2010</h2><p>I think Csla should just keep its own exception.&nbsp; MS may take theirs in another direction at some point, plus why add a dependency for a single class that provides no other advantages?</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
