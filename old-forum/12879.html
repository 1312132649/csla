<html><header><title>HttpWebRequest.KeepAlive and remote DataPortal</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>HttpWebRequest.KeepAlive and remote DataPortal</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12879.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>TSF posted on Tuesday, May 12, 2015</h2><p>WinRT app with CSLA 4.5.601.0 running on devices with WWAN hitting a remote DP in the DMZ (acting as a pass through to an internal app server). We&#39;re seeing occasional errors related to connections being closed:</p>
<p style="padding-left:30px;"><span>WebException: The underlying connection was closed: An unexpected error occurred on a receive.</span></p>
<p style="padding-left:30px;"><span>SocketException: An existing connection was forcibly closed by the remote host</span></p>
<p>I see a lot of sites recommending setting HttpWebRequest.KeepAlive = false (default is true). I&#39;ve not seen anything about this in the CSLA forum. Here&#39;s an <a href="http://blogs.msdn.com/b/webapps/archive/2013/04/26/set-httpwebrequest-keepalive-false-to-workaround-issue-casued-by-httpwebrequest-using-a-closed-socket-in-very-specific-scenarios.aspx">MSDN post about it</a>.&nbsp;</p>
<p>Any thoughts on what the problem might be and whether this is something I should look into for our DP? Again, it is occasional, but occurs often enough that I&#39;d like to figure out what the problem is, if possible.</p>
<p>Thanks,<br />Tim</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Tuesday, May 12, 2015</h2><p>Hi,</p>
<p>create your own dataportal client implementation and try this to see if it solves the issue.&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>TSF replied on Tuesday, May 12, 2015</h2><p>Is there an example of doing this in the Using e-books? We&#39;re already overriding the ProxyFactory, so I assume it would be similar?</p>
<p style="padding-left:30px;">public class ProxyFactory : Csla.DataPortalClient.IDataPortalProxyFactory</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
