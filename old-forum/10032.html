<html><header><title>CSLA 4.1 C# what is the correct way to declare a managed property in my Identity class?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA 4.1 C# what is the correct way to declare a managed property in my Identity class?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10032.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina posted on Friday, February 04, 2011</h2><p>This is giving me all kinds of trouble.&nbsp; There are mentions in the v4 docs that it should be done differently with an example but either I get compiler errors or the property is always null depending on the different ways I&#39;ve tried it.&nbsp; </p>
<p>I know I&#39;m missing something fundamental because this is my first class and attempt at using CSLA since version 1.5x</p>
<p>I need a Guid value stored with the identity when the user logs in representing their User ID.</p>
<p>Here is what I have now:</p>
<p>using System;<br />using System.Collections.Generic;<br />using System.Linq;<br />using System.Security.Principal;<br />using Csla.Security;<br />using Csla.Serialization;<br />using XXXX.Data;<br />using System.Security.Cryptography;<br />using System.Text;<br />using System.Data;<br /><br /><br />namespace XXXX.Library<br />{<br />&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Serializable()]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public class XXXXIdentity : CslaIdentity<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static readonly PropertyInfo&lt;Guid&gt; IdProperty = RegisterProperty(typeof(Guid), IdProperty);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public Guid Id<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get { return ReadProperty(IdProperty); }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private set { LoadProperty(IdProperty, value); }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; internal static void GetIdentity(string username, string password, EventHandler&lt;DataPortalResult&lt;XXXXIdentity&gt;&gt; callback)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DataPortal.BeginFetch&lt;XXXXIdentity&gt;(new UsernameCriteria(username, password), callback);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /><br />#if !SILVERLIGHT<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; internal static XXXXIdentity GetIdentity(string username, string password)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return DataPortal.Fetch&lt;XXXXIdentity&gt;(new UsernameCriteria(username, password));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; internal static XXXXIdentity GetIdentity(string username)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return DataPortal.Fetch&lt;XXXXIdentity&gt;(username);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />#endif&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private void DataPortal_Fetch(UsernameCriteria crit)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //...some irrelevant encryption stuff here...<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IsAuthenticated = false;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; using (DBCommandWrapper cm = DBUtil.GetCommandFromSQL(&quot;SELECT AID FROM AUSER WHERE AUSER.ALOGIN = @LOGIN AND AUSER.APASSWORD = @PASSWORD AND AUSER.AACTIVE = @ATRUE;&quot;))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cm.AddInParameter(&quot;@PASSWORD&quot;, DbType.String, sPassword);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cm.AddInParameter(&quot;@LOGIN&quot;, DbType.String, sLogin);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cm.AddInParameter(&quot;@ATRUE&quot;, DbType.Boolean, true);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; using (SafeDataReader dr = DBUtil.GetReaderFromCommand(cm))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (dr.Read())<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Id = dr.GetGuid(&quot;AID&quot;);//&lt;--- Id is null throwing an exception<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IsAuthenticated = true;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }//EOC&nbsp;&nbsp;&nbsp; <br />}</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>ajj3085 replied on Friday, February 04, 2011</h2><p><span style="font-size:x-small;">Do <strong><em>NOT</em></strong> call the RegisterProperty </span>overload which takes a type as the first parameter.&nbsp; That param tells the FieldManager which type the property belongs to, in your case you&#39;re saying the property is part of the Guid BO, which is not what you want.&nbsp; Remove those, and you should be good to go.</p>
<p>try this:</p>
<p>public static readonly PropertyInfo&lt;Guid&gt; IdProperty = RegisterProperty&lt;Guid&gt;( x =&gt; x.Id);</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina replied on Friday, February 04, 2011</h2><p>Thanks Andy, that makes sense, unfortunately it brings me back to the original compiler error:</p>
<p>Error&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp; Cannot convert lambda expression to type &#39;Csla.PropertyInfo&lt;System.Guid&gt;&#39; because it is not a delegate type&nbsp;&nbsp;&nbsp; </p>
<p>This is the code:</p>
<p>&nbsp;public static readonly PropertyInfo&lt;Guid&gt; IdProperty = RegisterProperty&lt;Guid&gt;(x =&gt; x.Id);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public Guid Id<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get { return ReadProperty(IdProperty); }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private set { LoadProperty(IdProperty, value); }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>That&#39;s the error I was getting before.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>ajj3085 replied on Friday, February 04, 2011</h2><p>Ah, you should inhertic CslaIdentity&lt;T&gt;, not plain CslaIdentity.&nbsp; This class compiles fine for me:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>
<p><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></font></font></span><font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></span>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;">public</span></span></span><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"> </span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;">class</span></span></span><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"> </span></span></span><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;">Class1</span></span></span><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"> : Csla.Security.</span></span></span><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;">CslaIdentityBase</span></span></span><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;">&lt;</span></span></span><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;">Class1</span></span></span>
<p><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;">&gt; {<font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></font></font></span><font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></span></p>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;">public</span></span></span><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"> </span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;">static</span></span></span><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"> </span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;">readonly</span></span></span><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"> </span></span></span><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;">PropertyInfo</span></span></span><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;">&lt;</span></span></span><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;">Guid</span></span></span><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;">&gt; MyGuidProperty = RegisterProperty&lt;</span></span></span><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;">Guid</span></span></span>
<p><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;">&gt;( x =&gt; x.MyGuid );<font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></font></font></span><font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></span></p>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;">public</span></span></span><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"> </span></span></span><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;"><span style="font-family:Consolas;color:#2b91af;font-size:small;">Guid</span></span></span>
<p><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"> MyGuid {<font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></font></font></span><font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></span></p>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;">get</span></span></span><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"> { </span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;">return</span></span></span>
<p><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"> GetProperty( MyGuidProperty ); }<font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></font></font></span><font face="Consolas" size="3" color="#808080"><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="3" color="#808080">
<p>&nbsp;</p>
</font></span></p>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;">private</span></span></span><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"> </span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;">set</span></span></span><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"> { LoadProperty( MyGuidProperty, </span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;"><span style="font-family:Consolas;color:#0000ff;font-size:small;">value</span></span></span>
<p><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"><span style="font-family:Consolas;color:#808080;font-size:small;"> ); }</span></span></span></p>
</p>
</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina replied on Friday, February 04, 2011</h2><p>Aha!&nbsp; Thank you very much Andy, that&#39;s the trick.&nbsp; I had copied the code from the 4.10 ProjectTracker sample which inherits from plain CslaIdentity.</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, February 04, 2011</h2><p>Glad you got it working.</p>
<p>For reference, you could have inherited from the non-generic CslaIdentityBase, and then pass typeof( XXXCustomIdentity) in as the first parameter.&nbsp;&nbsp; But so many people have been confused by that overload the usual recommendation is&nbsp;not using it at all.&nbsp; </p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
