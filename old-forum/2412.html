<html><header><title>Use of Inheritance and composition</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Use of Inheritance and composition</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2412.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>joel posted on Thursday, February 22, 2007</h2><P>I'm a bit confused about the advise that inheritance be used to model objects that share behavior, not data.&nbsp; I have trouble making the distinction.&nbsp; Here is my situation.&nbsp; I am writing a web interface to an existing medical record system, so the database&nbsp;design is&nbsp;pretty much already determined.&nbsp; This is a medical records application, which typically has a different&nbsp;database table for each type of medical record (ie physical_exam, chemistry_test, radiology_exam, etc).&nbsp; Since there are many tables that may contain data for a given patient, we have a medical_record table that catalogs all of a patient's medical records.&nbsp; All of the various exam/treatment tables&nbsp;have a foreign key pointing to the medical_record table, which include the dates the record was created and updated, the users that modified the record, record type, description, and a foreign key pointing to the patient/visit record.&nbsp; So far, this is all shared data.&nbsp; Does that mean I should not use inheritance to model the business objects?&nbsp; For example, a physical_exam is-a medical_record, but does it behave-as a medical_record?&nbsp; The purpose of my physical_exam business object would be to allow display and data entry of physical exam data.&nbsp; I tend to want to have my physical_exam class inherit from medical_record so I don't have to reimplement properties for each&nbsp;field of data stored in the medical_record table and so I don't have to reimplement code to update the medical_record table.&nbsp; Should I use composition/delegation instead?</P>
<P>From what I've read on this forum so far, I expect to be advised to not use inheritance based on what I've said so far.&nbsp; I have two additional requirements that may qualify as "behavior".&nbsp; All medical records should have the ability to be "finalized", which means that they are electronically signed and can no longer be modified (a bit field in the medical_record table).&nbsp; Is that data or behavior?&nbsp; Also, I want to implement a record locking system whereby each record can only be edited by one user at a time.&nbsp; I intend to add a is_locked bit and lock_workstation_name fields to the medical_record table to prevent users from overwriting each others data.&nbsp; </P>
<P>What is your advise?&nbsp; Composition or Inheritance?&nbsp; Can you point me to csla examples?</P>
<P>Thanks,</P>
<P>Joel</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, February 23, 2007</h2>Hey Joel,<br><br>I think you're on the right track.&nbsp; The only behavior you described so far is the Finalize of the medical record and possibly the locking behavior.<br><br>When determining behavior, its sometimes helpful to think about what methods the objects will have (independent of what data they will need to carry out those methods).&nbsp;&nbsp; <br><br>Your question about whether or no a physical exam behaves as a medical record will depend on the use case.&nbsp; Will your uses be using the physical exam to perform the same operations that a medical record would?<br><br>Keep in mind, you may even end up with many PhysicalExam classes, if there are different uses cases that interact with a physical exam but do so in widely varying ways.<br><br>Properties are cheap and can even be generated and / or copy and pasted.&nbsp; But perhaps MedicalRecord doesn't require a certain field to have any value, but physicalExam might.&nbsp; That's an example of differing behavior, but in both cases the property declartion is the same (and the easiest part of the class to build).<br><br>HTH<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
