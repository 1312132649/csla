<html><header><title>CSLA 4 BusinessRules Bug?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA 4 BusinessRules Bug?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9102.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Geoff_Manning posted on Thursday, June 17, 2010</h2><p>Ok, I feel like I&#39;m losing my mind. Someone please help me out. I&#39;m doing something as simple as </p>
<p>protected override void AddBusinessRules() {</p>
<p>&nbsp;&nbsp;&nbsp; base.AddBusinessRules();</p>
<p>&nbsp;&nbsp;&nbsp; BusinessRules.AddRule(new Csla.Rules.CommonRules.MinLength(SomeProperty, 2));</p>
<p>}</p>
<p>and that will NOT set the IsValid to false when it has less than 2 characters in it, HOWEVER, adding the dataannotation&nbsp; <span style="font-family:Consolas;color:#808080;"><span style="font-family:Consolas;color:#808080;"><span style="font-family:Consolas;color:#808080;"><span style="font-size:x-small;"><strong>[StringLength(20, MinimumLength=2)] </strong><span style="font-family:Arial;color:#000000;">works as expected, meaning that in the callback for the NewBusinessObject() the DataPortalResult.Object has IsValid set to false, whereas using the AddBusinessRules() route it comes back with IsValid set to true. Please don&#39;t tell me just to use the dataannotation, because this is just trhough troubleshooting that I found that at the most basic level it&#39;s not working in AddBusinessRules(), but I ultimately need to add other business rules that there are no dataannotations for.</span></span></span></span></span></p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>Geoff_Manning replied on Thursday, June 17, 2010</h2><p>Ok, I WAS losing my mind, or at least not using it.&nbsp; I had&nbsp;the AddBusinessRules() method&nbsp;wrapped in an #if !SILVERLIGHT, so it wasn&#39;t running on the silverlight side</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
