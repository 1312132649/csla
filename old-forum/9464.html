<html><header><title>Web App: CSLA and non-CSLA parts</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Web App: CSLA and non-CSLA parts</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9464.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>cjherasmus posted on Thursday, September 02, 2010</h2><p>I have a company internet web app&nbsp;and would like to convert it to use CSLA. There are company users that can maintain data and internet (non-company) users that can only search and download.</p>
<p>The default page of the web app is a document search and download page that needs to be exposed to the both company users and internet users. I assume using CSLA for this page won&#39;t work because of the full trust issue.</p>
<p>To get from the default page to the rest, users would require to log in.</p>
<p>Would it be possible to have the default page&nbsp;running without CSLA, and login with the rest of the webapp running with CSLA? For the default&nbsp;page I could just use &quot;normal&quot; ADO methods. The environment doesn&#39;t allow Silverlight.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, September 02, 2010</h2><p>The &quot;full trust&quot; issue has nothing to do with user security. It is the .NET mode for the web app itself. All pages in the web app are either in full or partial trust, because that setting applies to the entire app.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cjherasmus replied on Thursday, September 02, 2010</h2><p>I&#39;m fully aware that &quot;full trust&quot; has nothing to do with user security. The &quot;full trust&quot; I&#39;m refering to is related to the use of the CSLA.dll from outside the company domain and firewalls. They won&#39;t give me full trust on the webserver for&nbsp;the CSLA.dll. The idea was to split the web app in a &quot;CSLA part using the csla.dll&quot; which caters for functionality inside the company domain, and a &quot;non-CSLA part not using the csla.dll&quot; which caters for functionality outside the company domain.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, September 02, 2010</h2><p>So you are going to build two separate apps that run on different web servers?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cjherasmus replied on Thursday, September 02, 2010</h2><p>App 1 on the intranet server for data capturing and uploading of files, and App 2 on the internet server for search and downloading of files. The App2 users will never capture data or upload files, they are outside the company. In the company there are other users that also want to search and download but they will never capture data or upload files.</p>
<p>Well, from what I understand from the requirements this would be the case. This is why I&#39;m not sure where CSLA is going to fit in, and how would I overcome csla.dll &#39;s full trust issue, with the users outside the company who will be accessing App 2 on the internet server.</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, September 02, 2010</h2><p>I don&#39;t know either.</p>
<p>What&#39;s interesting is that most of CSLA no longer requires full trust. All the work we did to support Silverlight, and then to organize the assemblies for .NET 4 (in CSLA 4) means that the things that require full trust (BinaryFormatter, NetDataContractSerializer, reflection) are now essentially optional. However, the .NET build of CSLA still uses those things - because there are limitations imposed on you if you switch to the Silverlight model.</p>
<p>Pure CSLA object models, using managed backing fields and all the other current syntax, would probably work as-is, but older code surely wouldn&#39;t.</p>
<p>Of course this is all speculation. I haven&#39;t even enabled the use of MobileFormatter within pure .NET code, and even if I did that I&#39;m not entirely sure what other partial trust issues would crop up.</p>
<p>Certainly you couldn&#39;t be 3-tier, because that&#39;s require the use of WCF, and that requires full trust (NetDataContractSerializer again). But it might be possible to do a 2-tier deployment (web server talking directly to SQL Server) and be partial trust - I don&#39;t know.</p>
<p>It might, just <i>maybe</i> be as easy as changing Csla.Serialization.SerializationFormatterFactory to support MobileFormatter as a config option. That&#39;d be an interesting experiment that you could try if you&#39;d like. I have no idea what that might do - but I suspect that all modern syntax objects using managed backing fields will just work.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
