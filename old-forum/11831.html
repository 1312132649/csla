<html><header><title>wcf binding performance</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>wcf binding performance</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11831.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>fredg posted on Tuesday, February 12, 2013</h2><p>Hi, we are developing windows form app using CSLA.net as BLL. The business objects are becoming more and more complex, e.g. n-level hierarchy. The performance is also decreasing. We used <span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">wsHttpBinding.&nbsp;The app is only used inside corporate. My question is: if we use another binging, e.g. nettcpbinding, will the performance become better?</span></span></span></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago replied on Tuesday, February 12, 2013</h2><p>Hi fredg,</p>
<p>I guess you are looking&nbsp;for faster ways to talk to the application server.</p>
<p>If you aren&#39;t using CSLA 4.5, there are 2 alternatives:</p>
<p>1) Use CSLA 4.5 as server communications are much much faster</p>
<p>2) For CSLA 4.3 use&nbsp;the binary formatter proxy host&nbsp;<a href="http://www.lhotka.net/cslacvs/viewvc.cgi/core/branches/V4-3-x/Samples/NET/cs/WcfBfProxyHost/">WcfBfProxyHost</a>&nbsp;</p>
<p>WcfBfProxyHost is also available for other CSLA 4 releases. Hope that helps.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>fredg replied on Tuesday, February 12, 2013</h2><p>Thanks Tiago. Can CSLA 4.5/CSLA 4.3 be used on .net 4.0? We are using .net 4.0 for our app.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, February 12, 2013</h2><p>Version 4.3 only supports .NET 4. Version 4.5 supports .NET 4 and 4.5.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Tuesday, February 12, 2013</h2><p>I would also make sure you&#39;re using compression.</p>
<p>I do not believe 4.3 is good enough in terms of the reduced size of objects w/ the new serialization mechanism.&nbsp; I mean to someday do a more thorough examination on this but my initial examination was that objects were indeed 80% smaller with the new formatter but before the new formatter, compression gives you 93-95%.&nbsp; So right now we&#39;re using 4.5 but still use compression.</p>
<p>So I could definitely suggest enabling compression if you haven&#39;t because it continues to make a lot of difference.</p>
<p>There are obviously other things that can be done in terms of caching/etc (leveraging isolated storage with Silverlight), but those start to get application specific.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>fredg replied on Wednesday, February 13, 2013</h2><p>Has anyone done a performance</p>
<p> comparison between CSLA 4.0 and 4.5?</p>
<p>Why is csla4.5 much faster?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, February 13, 2013</h2><p>It isn&#39;t version 4.5 that is faster, it is the use of the more efficient data portal configuration. In 4.5 that is by default. In 4 you have to enable it using the instructions in the change log document.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago replied on Wednesday, February 13, 2013</h2><p><div style='padding-left: 50px;background-color:silver'><b>RockfordLhotka<br></b>
<p>It isn&#39;t version 4.5 that is faster, it is the use of the more efficient data portal configuration. In 4.5 that is by default. In 4 you have to enable it using the instructions in the change log document.</p>
<div style="CLEAR:both;"></div>
</div></p>
<p>Hi Rocky,</p>
<p>I&#39;m under the impression that - on CSLA 4.3 - the CslaBinaryReader/Writer is available only for SIlverlight/Windows Phone. As fredg is working on a WindowsForms application, he can&#39;t use the CslaBinaryReader/Writer. To take advantage of the new serialization mechanism, the application must target CSLA 4.5. For a Windows Forms application, the code shouldn&#39;t need big changes (if any).</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>fredg replied on Wednesday, February 13, 2013</h2><p>Thanks. We are developing on windows XP. i wonder if we can install and use CSLA 4.5 although it supports .NET 4.0?</p>
<p>Also, is there any instruction to convert CSLA 4.0 to 4.5 for a winForm app? How easy will it be?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, February 13, 2013</h2><p>Sorry, tiago is right - the new data portal feature is only available to non-.NET code in CSLA 4...</p>
<p>One thing about XP though - you do realize that Microsoft is ending all support for XP in April 2014? Windows XP is the OS most targeted by virus developers, and I shudder to think what will happen once Microsoft stops issuing patches and so forth. Anyone still running XP machines that are connected to the Internet is in for some serious trouble later in 2014...</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>fredg replied on Wednesday, February 13, 2013</h2><p>So even if we upgrade to CSLA 4.5,&nbsp;&nbsp;our winForm app&#39;s performance cannot be incresed?</p>
<p>For win xp, that would be a long road for a corporate to upgrade.&nbsp; CSLA 4.5 can&nbsp;NOT be used on winXP?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, February 13, 2013</h2><p>CSLA 4.5 supports .NET 4.</p>
<p>I believe .NET 4 still runs on XP?</p>
<p>So you should be fine using CSLA 4.5 on XP.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago replied on Wednesday, February 13, 2013</h2><p><div style='padding-left: 50px;background-color:silver'><b>fredg<br></b>
<p>So even if we upgrade to CSLA 4.5,&nbsp;&nbsp;our winForm app&#39;s performance cannot be incresed?</p>
<div style="CLEAR:both;"></div>
</div></p>
<p>Under CSLA 4.5 all technologies (Windows Forms, WPF, Web, Silverlight, etc) use the new (and very fast) serialization algorithm. This is much faster than the binary formater. If that&#39;s not enough, on top of that you can add compression.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Thursday, February 14, 2013</h2><p>It is important to evaluate what you are trying to achieve with compression. &nbsp;On a typical LAN with 100 GB cards my vote would be not to use compression. &nbsp;It has overhead in terms of CPU and memory usage. &nbsp;My suggestion would be to analyze your code and see where the bottleneck is. &nbsp;New communication protocol is both faster and more memory efficient than the old one. &nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>fredg replied on Thursday, February 14, 2013</h2><p>We found the bottleneck in our code. &nbsp;But we will definitely upgrade to new csla in future.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
