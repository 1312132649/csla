<html><header><title>BusinessListBase&lt;T, C&gt;.DataPortal_Update() question</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>BusinessListBase&lt;T, C&gt;.DataPortal_Update() question</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9609.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>kosta_t posted on Thursday, October 07, 2010</h2><p>I am trying to use BusinessListBase as a root collection object in a test application, using cslacs-3.8.4-100811</p>
<p>The documentation in &#39;Expert C# business&#39; objects states &quot;&nbsp;&nbsp;&nbsp; The BusinessListBase class includes a default implementation of the DataPortal_Update() method, which loops through all child objects (and deleted child objects) to ensure the appropriate Child_XYZ method is called on each when the collection is being saved.&quot;</p>
<p>However when I tried to use this default method I saw NotSupportedException exceptions being thrown.</p>
<p>Upon inspection of the source code, I see that the default method is in fact just a stub and its aonly action is to throw an exception.</p>
<p>&nbsp;</p>
<p>Does this mean that I need to write my own DataPortal_Update() every time I derive from BusinessListBase?</p>
<p>is there a more elegeant solution.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JonnyBee replied on Thursday, October 07, 2010</h2><p>If you want to use a BusinessListBase as a <b>root </b>object then yes -&nbsp; you must override and implement DataPortal_Update. </p>
<p>The <b>root </b>object should handle transaction and own the DataBase connection, Linq2Sql context or EF context.</p>
<p>When a BusinessListBase is a child in a parent object (BusinessBase)&nbsp; you can use FieldManager.UpdateChild or FieldManager.UpdateChildren in the parent that will loop throug the child list&nbsp; and call Child_Update/Child_Delete on the items.</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>kosta_t replied on Thursday, October 07, 2010</h2><p>ok, thanks</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
