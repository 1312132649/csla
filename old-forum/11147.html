<html><header><title>AuthorizationRule not executing when the object is a child?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>AuthorizationRule not executing when the object is a child?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11147.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Dane posted on Saturday, February 11, 2012</h2><p>I have a simple rule OwnerPermissionRule which inherits AuthorizationRule and is always used as a class level rule.&nbsp; I&#39;ve verified that the rule is working as designed when applied to&nbsp;a&nbsp;class&nbsp;which inherits BusinessBase.&nbsp; When using OwnerPermissionRule with a second BusinessBase&nbsp;implementation I&#39;ve&nbsp;found that the&nbsp;rule&nbsp;is not executing.&nbsp; The only significant difference between usages is that&nbsp;the first is always used as a root object and the second is always a child object&nbsp;to a class which implements BusinessListBase.&nbsp;&nbsp;It seems that&nbsp;being a child object somehow effects class level&nbsp;rules&nbsp;or maybe rules which inherit AuthorizationRule but I&#39;m not sure how or why.&nbsp; I have&nbsp;various other property level&nbsp;rules&nbsp;which inherit RuleBase&nbsp;and those seem to&nbsp;function&nbsp;correctly with both root and child instances.&nbsp; Obviously I&#39;m missing something.&nbsp; Any thoughts you might have will be appreciated.</p>
<p>Thanks,</p>
<p>Dane R. Vinson</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JonnyBee replied on Saturday, February 11, 2012</h2><p>Yes, </p>
<p>Only the &quot;root&quot; DataPortal enforces the <b>CreateObject, GetObject, EditObject, DeleteObject </b>authorizations. </p>
<p>If you want to enforce these on child object you must do the checks in code by calling BusinessRules.HasPermission. <br /><i>IE: The &quot;child&quot; DataPortal does not check authorization rules - only the &quot;root&quot; DataPortal does!!</i></p>
<p><b>ReadProperty </b>and <b>WriteProperty </b>authorizations is enforced by GetProperty/SetProperty and works the same no matter of root or child object. </p>
<p><b>ExecuteMethod </b>authorization must always be checked for in your code by calling CanExecuteMethod on your BO. .</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
