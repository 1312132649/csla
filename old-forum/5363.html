<html><header><title>NameValueLists each copy from different databases</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>NameValueLists each copy from different databases</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5363.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>BillArms posted on Monday, September 08, 2008</h2>My scenario is this.&nbsp; I have a web-based application which displays a set of Crystals reports against different databases.&nbsp; Each of theses reports has 0 to 3 parameter tuples which are eithers a range, an upper limit or a lower limit.&nbsp; The user will select the database, then the report and finally the parameters. The user interface needs to supply a single selectable list for the parameter tuple.&nbsp; I opted to uses CSLA NVLs to populates the list-boxes for the parameters.&nbsp; I will persist the NVL BOs in a session variable, unique to that report and database.<br><br>It is my intent to supply the database connection string as a parameter to the GetXxxxNVL factory method. I will wrap that string into the Criteria object and when I use the Dataportal_Fetch, I will use the connection string to set the the database. <br><br>My question is "Am I missing something?" I believe that by adding the database conn info to the Criteria the NVL caching will see each instance as unique.&nbsp; Did I miss something else that may be cache the data and return the wrong dtat for the database?<br><br>Best Regards,<br>Bill<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Michael Hildner replied on Wednesday, September 10, 2008</h2><P>Hope I understand you correctly. If things are set up the way the books describe, once you populate the NVL, the NVL will return that list - so it doesn't have to fetch from the database every time. You can always call the InvalidateCache() method to clear the list which will force a re-fetch from the DB.</P>
<P>Regards,</P>
<P>Mike</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>BillArms replied on Monday, September 15, 2008</h2>Thanks for the reply Mike.<br><br>I agree with what you say.<br><br>I think, if I am reading the code correctly, that the differing criteria result in multiple caches each of which should be returned when asked for with a unique set of criteria.<br><br>Is that your understanding?<br><br>Regards,<br>Bill<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Michael Hildner replied on Monday, September 15, 2008</h2>I'm not sure what code you're reading. My NVL's only have one list object - that's what gets cached. If it's null it gets populated by whatever criteria. So if I need to re-fetch the NVL, I'll call the InvalidateCache() method first&nbsp;which sets the list to null, then fetch.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>BillArms replied on Monday, September 15, 2008</h2>Mike,<br><br>I looked at the NVL code again and found that I was wrong.&nbsp; There is only one cache not multiples.<br><br>Thank you for your insight,<br>Bill<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
