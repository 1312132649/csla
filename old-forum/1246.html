<html><header><title>CSLA 2.1 and Remoting</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA 2.1 and Remoting</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1246.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>DeHaynes posted on Monday, September 18, 2006</h2><P>&nbsp;&nbsp;&nbsp;I am trying to get the PTracker example setup with the 2.1 framework.&nbsp; Web Services seems fine but I cannot get remoting working.&nbsp; I keep getting a "Input stream is not a valid binary format" error in RemotingProxy.cs.&nbsp; </P>
<P>&nbsp;&nbsp;&nbsp;The remoting webpage is setup as <A href="http://localhost:3187/RemotingHost/">http://localhost:3187/RemotingHost/</A>&nbsp;but my app.config in PTWin is <FONT color=#0000ff size=2></P>
<P>&lt;</FONT><FONT color=#800000 size=2>add</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>key</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>CslaDataPortalProxy</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>&nbsp;<BR>&nbsp;&nbsp;&nbsp;</FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>Csla.DataPortalClient.RemotingProxy, Csla</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</P>
<P>&lt;</FONT><FONT color=#800000 size=2>add</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>key</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>CslaDataPortalUrl</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>&nbsp;<BR>&nbsp;&nbsp;&nbsp;</FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>http://localhost/RemotingHostcs/RemotingPortal.rem</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000 size=3>Do I need need to make these the same?</FONT></P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, September 18, 2006</h2>Certainly the URL in the client config file needs to match the URL of the server component.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Monday, September 18, 2006</h2><P>I have to point out that it looks like in your config file it has your virtual directory as RemotingHost<STRONG>cs</STRONG> and the remoting webpage above you have as RemotingHost. </P>
<P>(i.e. one path has cs and one doesn't). </P>
<P>Perhaps that's your problem? </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DeHaynes replied on Monday, September 18, 2006</h2><P>Well I haven't done anything to this code except what it says in the BuildCsla.pdf file and to point the connection strings to the SQL server on my local machine.&nbsp; </P>
<P>I just like to have a running example so I can use it as a reference.</P>
<P>I have gotten the "run local" and web services versions running.&nbsp; As soon as I am done with Remoting then I MAY do the Enterprise Services version too.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DeHaynes replied on Monday, September 18, 2006</h2><P>I found the issue.&nbsp; </P>
<P>In order for me to get the Project Tracker example to work in CSLA 2.1 with remoting, I had to make some changes to the App.Config file on PTWin.&nbsp; The original code is:</P><FONT color=#0000ff size=2>
<P>&lt;</FONT><FONT color=#800000 size=2>add</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>key</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>CslaDataPortalProxy</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>&nbsp;<BR>&nbsp;&nbsp;&nbsp;</FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>Csla.DataPortalClient.RemotingProxy, Csla</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</P>
<P>&lt;</FONT><FONT color=#800000 size=2>add</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>key</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>CslaDataPortalUrl</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>&nbsp;<BR>&nbsp;&nbsp;&nbsp;</FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>http://localhost/RemotingHostcs/RemotingPortal.rem</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000 size=3>In order to get remoting to work, it should be:</FONT></FONT></P><FONT color=#0000ff size=2><FONT color=#0000ff size=2>
<P>&lt;</FONT><FONT color=#800000 size=2>add</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>key</FONT><FONT color=#0000ff size=2>=</FONT><FONT color=#000000 size=2>"</FONT><FONT color=#0000ff size=2>CslaDataPortalProxy</FONT><FONT color=#000000 size=2>"</FONT><FONT color=#0000ff size=2>&nbsp;<BR>&nbsp;&nbsp;&nbsp;</FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT color=#000000 size=2>"</FONT><FONT color=#0000ff size=2>Csla.DataPortalClient.RemotingProxy, Csla</FONT><FONT color=#000000 size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</P>
<P>&lt;</FONT><FONT color=#800000 size=2>add</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>key</FONT><FONT color=#0000ff size=2>=</FONT><FONT color=#000000 size=2>"</FONT><FONT color=#0000ff size=2>CslaDataPortalUrl</FONT><FONT color=#000000 size=2>"</FONT><FONT color=#0000ff size=2>&nbsp;<BR>&nbsp;&nbsp;&nbsp;</FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT color=#000000 size=2>"</FONT><FONT color=#0000ff size=2>http://localhost:3187/RemotingHost/RemotingPortal.rem</FONT><FONT color=#000000 size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</FONT></P>
<P><FONT color=#000000 size=3>In the other config files remoting is configured like the later, so I think this is just a mistake.&nbsp; Unless I am just missing something, you might want to correct this in the source code.</FONT></P>
<P>&nbsp;</P></FONT></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
