<html><header><title>Reusing existing principal/identity object</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Reusing existing principal/identity object</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9827.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>BuckeyeJeff posted on Thursday, December 02, 2010</h2><p>We are using CSLA security classes/objects for our profile handling.&nbsp; But, every request to the User object or identity or whatever, it is repopulated properties and calling DB again.&nbsp; How do you cache the values.&nbsp; We only need it once, on the login step and then nothing will ever change.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, December 02, 2010</h2><p>This is pretty well explained in my books, so you might look there for more detail.</p>
<p>But basically there are two scenarios: web and smart client.</p>
<p>In a smart client scenario the user&#39;s principal/identity are maintained on the thread by .NET, and CSLA uses that principal. If your app is somehow reloading the principal/identity continually then you&#39;ve done something horribly wrong in your code.</p>
<p>In a web scenario things are more complex, because the web server is (or should be) stateless. So you have to reload the principal on every page request, or you need to cache it somewhere and reload it from the cache. This is the very nature of the web. If this is unacceptable, I&#39;d recommend switching to a smart client model since it is generally&nbsp;superior (imho anyway :) ).</p>
<p>Seriously though, in a web scenario your options are to reload the principal/identity from the database or a cache. There are numerous ways to cache the object, depending on how scalable and reliable you need your web site to be.</p>
<p>But this has nothing to do with CSLA. This is a web thing. Every&nbsp;decent ASP.NET book out there will discuss this issue at some level, because it is one of those things that just makes web development a&nbsp;pain.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
