<html><header><title>Adding to ReadOnlyList Collection</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Adding to ReadOnlyList Collection</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3765.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rbellow posted on Tuesday, October 23, 2007</h2><P><FONT size=5>I am reading a file and creating 100s of objects at a time. I am&nbsp;looping through&nbsp;a ReadOnlyList of existing items to check for duplicates. If there are no duplicates I add another item. I dont want to have to pull down a new ReadOnlyList from the database to continue checking for duplicates. Is there a way to add a new item to the ReadOnlyList temporarily. I don't want to do any writes to the database, I just want to include the new ObjectInfo item in the collection. Is this possible?</FONT><FONT size=2></P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Marjon1 replied on Tuesday, October 23, 2007</h2><font face="Arial" size="2">This can be done, by creating your own add method to the class and setting ReadOnly to false and then back to true again when done, just like you do as part of the normal fetch.<br><br>The other option, depending on the type of object that you are creating is to take a look at one of the samples that Rocky posted recently where saving an editable root object would fire an event which the readonly list could subscribe to and then update itself. <br><br>You wouldn't need to worry about adding the item yourself, and would prevent others from doing so as well. It's something rocky was going to put in his book, but I can't find it at the moment.</font><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DavidDilworth replied on Wednesday, October 24, 2007</h2>See the example code in this <A HREF="/forums/permalink/18418/18421/ShowThread.aspx#18421">post</A>&nbsp;to see an example of changing a ReadOnlyList to perform editing operations.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Wednesday, October 31, 2007</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>rbellow:</strong></div><div>
<P><FONT size=5>I am reading a file and creating 100s of objects at a time. I am&nbsp;looping through&nbsp;a ReadOnlyList of existing items to check for duplicates. </FONT></div></BLOCKQUOTE></P>
<P>Not a direct answer to your question, but this might be useful to consider.</P>
<P>The algorithm you described runs slower and slower the more objects there are in the file.&nbsp; <BR>This is because each object has to loop thru all the objects that came before it.</P>
<P>You should consider another algorithm, like attaching a sorted collection to it.&nbsp; That way (presumably) the sorted list can check for the existence much faster.&nbsp; </P>
<P>The CSLA Contrib class ObjectListView might work nicely, as might the CSLA class SortedBindingList.&nbsp; Haven't had to use either for this purpose as I get most of my data from a SQL database and I can solve the problem using SQL.</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
