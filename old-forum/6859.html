<html><header><title>One instance for two child objects</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>One instance for two child objects</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6859.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tchimev posted on Tuesday, April 28, 2009</h2>I have a business base object with children like this:<br><br>-- MasterBB<br>---- ChildBB(Manager)<br>---- ChildBB<br>--------- ChildBB(Employee)<br><br>Manager and Employee can be the same or diffrent person.<br>When Manager and Employee have the same values could they reference the same object or they must be two different instances.<br>If they can be one instance, how should I implement it?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, April 28, 2009</h2><P>Objects should be defined by behavior, not data.</P>
<P>You haven't provided enough information about your scenario to provide any meaningful advice.</P>
<P>It is very likely that within your use case that there are different behaviors between a <EM>manager</EM> and an <EM>employee</EM> even if they have similar properties. But that is just speculation on my part.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tchimev replied on Tuesday, April 28, 2009</h2>It is my mistake.<br><br>My business object design is like this:<br><br>-- MasterBB<br>----- ChildBB (Employee)<br>----- ChildBB<br>---------- ChildBB (Employee)<br><br>Manager and Employee from the first design are the same business object, they have the same behavior.<br>They can reference different employee objects in memory, and sometimes can reference the same object.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, April 28, 2009</h2><P>Again, I don't know your use case (a description of the task the user is trying to accomplish).</P>
<P>But it is uncommon for an object to reference the same type. It can happen, but it is not common.</P>
<P>The reason is that it doesn't usually make sense in the real world.</P>
<P>A doctor might do work on another doctor:</P>
<P>Doctor<BR>&nbsp; - ListOfPatients<BR>&nbsp;&nbsp;&nbsp; - Doctor</P>
<P>But really that makes no sense, because the second Doctor is actually a Patient. The fact that the patient is also a doctor doesn't matter for the use case, and so this wouldn't happen.</P>
<P>In fact, <EM>this</EM> doesn't even make sense usually:</P>
<P>Doctor<BR>&nbsp; - ListOfPatients<BR>&nbsp;&nbsp;&nbsp; - Patient</P>
<P>The reason is that a Patient is probably a root concept. What we <EM>really</EM> have here is that a doctor has a list of <EM>PastPatients</EM> or <EM>CurrentPatients</EM> or something like that. The child object in this case is almost certainly not the root "Patient" object from the <EM>edit a patient</EM> use case. The child object in this case is probably responsible for <EM>establish relationship between doctor and patient</EM>:</P>
<P>Doctor<BR>&nbsp; - ListOfPatientRelationships<BR>&nbsp;&nbsp;&nbsp; - PatientRelationship</P>
<P>This is <EM>far</EM> more likely to be something that would come from a use case.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>IsValid replied on Tuesday, April 28, 2009</h2><P>This kinda looks like a case where roles come in to play. Managers and 'managed employees' are basically 'Employees'. Based on the role that the Employee has been assigned, (s)he will perform actions within the system... If you look at it this way, then you have just one class, Employee; and you need to set authorization rules for two roles, viz., Manager and, say, TeamMember.</P>
<P>Mebbe, I am looking at things in too simplified a manner...</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tchimev replied on Tuesday, April 28, 2009</h2>Here is one simple use case:<br><br>I have a warehouse.<br>Each new article has to pass two checks before it is added to the warehouse.<br>Each check is performed by an employee.<br>Usually employee1 performs check 1 and employee2 performs check 2.<br>Sometimes one employee can perform both check 1 and check 2.<br><br>-- DocumentForArticleApproval<br>------ FirstCheckBy(Employee, ID = 5)<br>------ SecondCheckBy(Employee, ID = 5)<br><br>Should I use the same business object for the two employees?<br>Or should I design my objects to avoid this?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>IsValid replied on Tuesday, April 28, 2009</h2><P>This certainly reads like this: one class. Employee has two operations, FirstCheck and SecondCheck.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tchimev replied on Wednesday, April 29, 2009</h2>@IsValid, <br>I do not understand the employee design, could you explain.<br><br>Any other suggestions would be appreciated.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
