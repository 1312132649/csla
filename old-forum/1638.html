<html><header><title>CSLA .NET 2 - Because of security restrictions, the type Csla.Server.DataPortalContext cannot be accessed</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA .NET 2 - Because of security restrictions, the type Csla.Server.DataPortalContext cannot be accessed</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1638.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dan72 posted on Tuesday, October 31, 2006</h2><P>Hi</P>
<P>I am getting an serialization exception when attempting to run my solution using a Remote Data Portal (.NET Remoting using IIS as the host).</P>
<P>I've only found one post that mentions such an error and that was to do with 1.1 not 2.0. Can anyone help?</P>
<P>I've spent the last three hours trying to see how Code Access Security is causing this error but have not found anything obvious.</P>
<P>Thanks</P>
<P>Dan72</P>
<P>Further info:</P>
<P>************** Exception Text **************<BR>System.Runtime.Serialization.SerializationException: Because of security restrictions, the type Csla.Server.DataPortalContext cannot be accessed. ---&gt; System.Security.SecurityException: Request failed.<BR>&nbsp;&nbsp; at System.Runtime.Serialization.FormatterServices.nativeGetSafeUninitializedObject(RuntimeType type)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.FormatterServices.GetSafeUninitializedObject(Type type)<BR>The action that failed was:<BR>Demand<BR>The type of the first permission that failed was:<BR>System.Security.PermissionSet<BR>The demand was for:<BR>&lt;PermissionSet class="System.Security.PermissionSet"<BR>version="1"<BR>Unrestricted="true"/&gt;</P>
<P>The only permitted permissions were:<BR>&lt;PermissionSet class="System.Security.PermissionSet"<BR>version="1"&gt;<BR>&lt;IPermission class="System.Security.Permissions.SecurityPermission, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"<BR>version="1"<BR>Flags="SerializationFormatter"/&gt;<BR>&lt;/PermissionSet&gt;</P>
<P>The method that caused the failure was:<BR>System.Runtime.Remoting.Channels.ServerProcessing ProcessMessage(System.Runtime.Remoting.Channels.IServerChannelSinkStack, System.Runtime.Remoting.Messaging.IMessage, System.Runtime.Remoting.Channels.ITransportHeaders, System.IO.Stream, System.Runtime.Remoting.Messaging.IMessage ByRef, System.Runtime.Remoting.Channels.ITransportHeaders ByRef, System.IO.Stream ByRef)<BR>&nbsp;&nbsp; --- End of inner exception stack trace ---</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>guyroch replied on Tuesday, October 31, 2006</h2><P class=MsoNormal><SPAN>Is your Csla assembly signed with a .snk file?<BR><BR>Programs that run on the CLR use something called code access security (CAS). CAS is different from traditional security systems in that it assigns trust to code rather than users. To do this, the security system gathers a set of evidence about every assembly it loads. This evidence is then compared against the security policy, and a permission grant is generated.<BR><BR>One of the pieces of evidence that the security system gathers is the security zone that the code is running from. When you run the code from your local machine, this will be the MyComputer zone, but when you run it off of a server, or even a network share mapped to a drive on your machine, it will be the LocalIntranet zone.<BR><BR>By default any code that is run from the MyComputer zone will get a permission set of FullTrust (unrestricted permission to do anything it pleases). However, by default, there is a more restrictive permission set given to LocalIntranet assemblies.<BR><BR>The way to make an application that works from the MyComputer zone work from the LocalIntranet zone is to give the assemblies in your application a strong name, and modify the security policy to trust this strong name. Hence the need for a key.<BR><BR>In Csla, the remoting portal runs in LocalIntranet zone.<o:p></o:p></SPAN></P>
<P class=MsoNormal><SPAN><o:p>&nbsp;</o:p></SPAN></P>
<P class=MsoNormal><SPAN>Also, make sure that your virtual directory in IIS points to the right version of the .Net framework. <SPAN>&nbsp;</SPAN>If you have both framework installed on your remoting server the virtual directory will default to the 1.1 framework when you initially create your virtual directory.<SPAN>&nbsp; </SPAN>If your use .Net 2.0, make sure to change this default and have point to the 2.0 framework</SPAN></P>
<P class=MsoNormal><SPAN>&nbsp;</P></SPAN>
<P class=MsoNormal><SPAN>Here's something I posted a while back.&nbsp; It fully explain how to get remoting to work.</SPAN></P>
<P class=MsoNormal><SPAN><A HREF="/forums/post/6131.aspx">http://forums.lhotka.net/forums/post/6131.aspx</A></SPAN></P>
<P class=MsoNormal><SPAN><BR>Hope this helps</SPAN></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Tuesday, October 31, 2006</h2>Oh, guyroch is slightly faster. ;-) <br>His answer encompasses mine fully. <br><br>Anyways ... :-)<br>Bayu<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>guyroch replied on Tuesday, October 31, 2006</h2>Call me Cowboy Guy, faster that a speeding bullet.&nbsp; :)&nbsp; LOL</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>guyroch replied on Tuesday, October 31, 2006</h2><P>I just realized that the link I provided above was how to setup remoting with Csla 1.5x and not 2.0.&nbsp; </P>
<P>I HAVE MODIFIED the above post and it now points to a link that explains how to get remoting to work in&nbsp;Csla 2.0.&nbsp;</P>
<P>I ASLO removed the content of this post as it was no longer relevant.&nbsp; Sorry the any <SPAN>inconvenience</SPAN>.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dan72 replied on Tuesday, October 31, 2006</h2>Yep - thanks guy - I am sure the remoting section of web.config is all good.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dan72 replied on Tuesday, October 31, 2006</h2><P>Thanks guyroch</P>
<P>Csla is signed:</P>
<P>C:\Development\PersonalAsset\PersonalAsset.Library\PAWinUI\bin\Debug&gt;sn -T Csla.dll</P>
<P>Microsoft (R) .NET Framework Strong Name Utility&nbsp; Version 2.0.50727.42<BR>Copyright (c) Microsoft Corporation.&nbsp; All rights reserved.</P>
<P>Public key token is 93be5fdc093e4c30</P>
<P>I was able to verify that the remote host is up and working too. I even tried signing my business assembly but that doesn't affect the error.</P>
<P>Any other ideas? I've put in additional error info in case that helps.</P>
<P>I have this in my web.config:</P><FONT color=#0000ff size=2>
<P>&lt;</FONT><FONT color=#800000 size=2>system.runtime.remoting</FONT><FONT color=#0000ff size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#800000 size=2>application</FONT><FONT color=#0000ff size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#800000 size=2>service</FONT><FONT color=#0000ff size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#800000 size=2>wellknown</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>mode</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>SingleCall</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>objectUri</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>RemotingPortal.rem</FONT><FONT size=2>"</P></FONT><FONT color=#0000ff size=2>
<P></FONT><FONT color=#ff0000 size=2>type</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>Csla.Server.Hosts.RemotingPortal, Csla</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</P>
<P>&lt;/</FONT><FONT color=#800000 size=2>service</FONT><FONT color=#0000ff size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#800000 size=2>channels</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>ref</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>http</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#800000 size=2>serviceProviders</FONT><FONT color=#0000ff size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#800000 size=2>provider</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>ref</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>wsdl</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</P>
<P>&lt;</FONT><FONT color=#800000 size=2>formatter</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>ref</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>soap</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>typeFilterLevel</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>Full</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</P>
<P>&lt;</FONT><FONT color=#800000 size=2>formatter</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>ref</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>binary</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>typeFilterLevel</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>Full</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</P>
<P>&lt;/</FONT><FONT color=#800000 size=2>serviceProviders</FONT><FONT color=#0000ff size=2>&gt;</P>
<P>&lt;/</FONT><FONT color=#800000 size=2>channels</FONT><FONT color=#0000ff size=2>&gt;</P>
<P>&lt;/</FONT><FONT color=#800000 size=2>application</FONT><FONT color=#0000ff size=2>&gt;</P>
<P>&lt;/</FONT><FONT color=#800000 size=2>system.runtime.remoting</FONT><FONT color=#0000ff size=2>&gt;</FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000 size=3>And I also added <FONT color=#0000ff size=2></P>
<P>&lt;</FONT><FONT color=#800000 size=2>trust</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>level</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>Full</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> /&gt;</P>
<P></FONT>I have the correct url in my app.config of my windows client. Here is the full exception:</P>
<P>See the end of this message for details on invoking <BR>just-in-time (JIT) debugging instead of this dialog box.</P>
<P>************** Exception Text **************<BR>System.Runtime.Serialization.SerializationException: Because of security restrictions, the type PersonalAsset.Library.Security.PAIdentity+Criteria cannot be accessed. ---&gt; System.Security.SecurityException: Request failed.<BR>&nbsp;&nbsp; at System.Runtime.Serialization.FormatterServices.nativeGetSafeUninitializedObject(RuntimeType type)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.FormatterServices.GetSafeUninitializedObject(Type type)<BR>The action that failed was:<BR>Demand<BR>The type of the first permission that failed was:<BR>System.Security.PermissionSet<BR>The demand was for:<BR>&lt;PermissionSet class="System.Security.PermissionSet"<BR>version="1"<BR>Unrestricted="true"/&gt;</P>
<P>The only permitted permissions were:<BR>&lt;PermissionSet class="System.Security.PermissionSet"<BR>version="1"&gt;<BR>&lt;IPermission class="System.Security.Permissions.SecurityPermission, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"<BR>version="1"<BR>Flags="SerializationFormatter"/&gt;<BR>&lt;/PermissionSet&gt;</P>
<P>The method that caused the failure was:<BR>System.Runtime.Remoting.Channels.ServerProcessing ProcessMessage(System.Runtime.Remoting.Channels.IServerChannelSinkStack, System.Runtime.Remoting.Messaging.IMessage, System.Runtime.Remoting.Channels.ITransportHeaders, System.IO.Stream, System.Runtime.Remoting.Messaging.IMessage ByRef, System.Runtime.Remoting.Channels.ITransportHeaders ByRef, System.IO.Stream ByRef)<BR>&nbsp;&nbsp; --- End of inner exception stack trace ---</P>
<P>Server stack trace: <BR>&nbsp;&nbsp; at System.Runtime.Serialization.FormatterServices.GetSafeUninitializedObject(Type type)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.ObjectReader.ParseObject(ParseRecord pr)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.ObjectReader.Parse(ParseRecord pr)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.__BinaryParser.ReadObjectWithMapTyped(BinaryObjectWithMapTyped record)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.__BinaryParser.ReadObjectWithMapTyped(BinaryHeaderEnum binaryHeaderEnum)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.__BinaryParser.Run()<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.ObjectReader.Deserialize(HeaderHandler handler, __BinaryParser serParser, Boolean fCheck, Boolean isCrossAppDomain, IMethodCallMessage methodCallMessage)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize(Stream serializationStream, HeaderHandler handler, Boolean fCheck, Boolean isCrossAppDomain, IMethodCallMessage methodCallMessage)<BR>&nbsp;&nbsp; at System.Runtime.Remoting.Channels.CoreChannel.DeserializeBinaryRequestMessage(String objectUri, Stream inputStream, Boolean bStrictBinding, TypeFilterLevel securityLevel)<BR>&nbsp;&nbsp; at System.Runtime.Remoting.Channels.BinaryServerFormatterSink.ProcessMessage(IServerChannelSinkStack sinkStack, IMessage requestMsg, ITransportHeaders requestHeaders, Stream requestStream, IMessage&amp; responseMsg, ITransportHeaders&amp; responseHeaders, Stream&amp; responseStream)</P>
<P>Exception rethrown at [0]: <BR>&nbsp;&nbsp; at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg)<BR>&nbsp;&nbsp; at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData&amp; msgData, Int32 type)<BR>&nbsp;&nbsp; at Csla.Server.IDataPortalServer.Fetch(Type objectType, Object criteria, DataPortalContext context)<BR>&nbsp;&nbsp; at Csla.DataPortalClient.RemotingProxy.Fetch(Type objectType, Object criteria, DataPortalContext context) in C:\Development\csla20cs\csla20cs\Csla\DataPortal\Client\RemotingProxy.cs:line 111<BR>&nbsp;&nbsp; at Csla.DataPortal.Fetch(Type objectType, Object criteria) in C:\Development\csla20cs\csla20cs\Csla\DataPortal\Client\DataPortal.cs:line 184<BR>&nbsp;&nbsp; at Csla.DataPortal.Fetch[T](Object criteria) in C:\Development\csla20cs\csla20cs\Csla\DataPortal\Client\DataPortal.cs:line 138<BR>&nbsp;&nbsp; at PersonalAsset.Library.Security.PAPrincipal.Login(String username, String password) in C:\Development\PersonalAsset\PersonalAsset.Library\PersonalAsset.Library\Security\PAPrincipal.cs:line 15<BR>&nbsp;&nbsp; at PAWinUI.LoginUser.btnLogin_Click(Object sender, EventArgs e) in C:\Development\PersonalAsset\PersonalAsset.Library\PAWinUI\LoginUser.cs:line 19<BR>&nbsp;&nbsp; at System.Windows.Forms.Control.OnClick(EventArgs e)<BR>&nbsp;&nbsp; at System.Windows.Forms.Button.OnClick(EventArgs e)<BR>&nbsp;&nbsp; at System.Windows.Forms.Button.OnMouseUp(MouseEventArgs mevent)<BR>&nbsp;&nbsp; at System.Windows.Forms.Control.WmMouseUp(Message&amp; m, MouseButtons button, Int32 clicks)<BR>&nbsp;&nbsp; at System.Windows.Forms.Control.WndProc(Message&amp; m)<BR>&nbsp;&nbsp; at System.Windows.Forms.ButtonBase.WndProc(Message&amp; m)<BR>&nbsp;&nbsp; at System.Windows.Forms.Button.WndProc(Message&amp; m)<BR>&nbsp;&nbsp; at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message&amp; m)<BR>&nbsp;&nbsp; at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message&amp; m)<BR>&nbsp;&nbsp; at System.Windows.Forms.NativeWindow.Callback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)</P>
<P><BR>************** Loaded Assemblies **************<BR>mscorlib<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.42 (RTM.050727-4200)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/Microsoft.NET/Framework/v2.0.50727/mscorlib.dll</A><BR>----------------------------------------<BR>PAWinUI<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 1.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 1.0.0.0<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/Development/PersonalAsset/PersonalAsset.Library/PAWinUI/bin/Release/PAWinUI.exe</A><BR>----------------------------------------<BR>System.Windows.Forms<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.42 (RTM.050727-4200)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_MSIL/System.Windows.Forms/2.0.0.0__b77a5c561934e089/System.Windows.Forms.dll</A><BR>----------------------------------------<BR>System<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.42 (RTM.050727-4200)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_MSIL/System/2.0.0.0__b77a5c561934e089/System.dll</A><BR>----------------------------------------<BR>System.Drawing<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.42 (RTM.050727-4200)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_MSIL/System.Drawing/2.0.0.0__b03f5f7f11d50a3a/System.Drawing.dll</A><BR>----------------------------------------<BR>System.Configuration<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.42 (RTM.050727-4200)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_MSIL/System.Configuration/2.0.0.0__b03f5f7f11d50a3a/System.Configuration.dll</A><BR>----------------------------------------<BR>System.Xml<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.42 (RTM.050727-4200)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_MSIL/System.Xml/2.0.0.0__b77a5c561934e089/System.Xml.dll</A><BR>----------------------------------------<BR>PersonalAsset.Library<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 1.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 1.0.0.0<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/Development/PersonalAsset/PersonalAsset.Library/PAWinUI/bin/Release/PersonalAsset.Library.DLL</A><BR>----------------------------------------<BR>Csla<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.3.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 1.0.0.0<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/Development/PersonalAsset/PersonalAsset.Library/PAWinUI/bin/Release/Csla.DLL</A><BR>----------------------------------------<BR>System.Web<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.210 (QFE.050727-2100)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_32/System.Web/2.0.0.0__b03f5f7f11d50a3a/System.Web.dll</A><BR>----------------------------------------<BR>CommonResources<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 1.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 1.0.0.0<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/Development/PersonalAsset/PersonalAsset.Library/PAWinUI/bin/Release/CommonResources.DLL</A><BR>----------------------------------------<BR>System.Runtime.Remoting<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.42 (RTM.050727-4200)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_MSIL/System.Runtime.Remoting/2.0.0.0__b77a5c561934e089/System.Runtime.Remoting.dll</A><BR>----------------------------------------</P>
<P>************** JIT Debugging **************<BR>To enable just-in-time (JIT) debugging, the .config file for this<BR>application or computer (machine.config) must have the<BR>jitDebugging value set in the system.windows.forms section.<BR>The application must also be compiled with debugging<BR>enabled.</P>
<P>For example:</P>
<P>&lt;configuration&gt;<BR>&nbsp;&nbsp;&nbsp; &lt;system.windows.forms jitDebugging="true" /&gt;<BR>&lt;/configuration&gt;</P>
<P>When JIT debugging is enabled, any unhandled exception<BR>will be sent to the JIT debugger registered on the computer<BR>rather than be handled by this dialog box.</P>
<P><BR></FONT>&nbsp;</P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>guyroch replied on Tuesday, October 31, 2006</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>dan72:</strong></div><div><FONT color=#0000ff size=2><FONT color=#000000 size=3>
<P>************** Exception Text **************<BR>System.Runtime.Serialization.SerializationException: Because of security restrictions, the type PersonalAsset.Library.Security.PAIdentity+Criteria cannot be accessed. ---&gt; System.Security.SecurityException: Request failed.<BR>&nbsp;&nbsp; at System.Runtime.Serialization.FormatterServices.nativeGetSafeUninitializedObject(RuntimeType type)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.FormatterServices.GetSafeUninitializedObject(Type type)<BR></FONT></P>
<P></FONT></div></BLOCKQUOTE></P>
<P class=MsoNormal>Could be on the right track here, you error message does talk about the Criteria class in your PAIdentity class.&nbsp; Make sure its <STRONG>Serializable.</STRONG></P>
<P>Best regards,</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dan72 replied on Tuesday, October 31, 2006</h2><P>Thanks for your help - I wasn't sure how to check the remote host was up - at least I know that works.</P>
<P>I checked the entire project for the serializable attribute and did find one offender - though not in the PAIdentity class. Rebuilt and retested and I'm still getting the same error.</P>
<P>Must be something odd in my code - I tried setting up the remote host on another 2003 server box and I still get the same error.</P>
<P>Any one else game to help?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>guyroch replied on Tuesday, October 31, 2006</h2><P class=MsoNormal>Hey, one other thing.&nbsp; It just daunt on me that the culprit here is your Identity class.&nbsp; There is an old issue that keep coming back from time to time, though the error would more around the lines of GenericPrincipal, YOU SHOULD TRY a logout before login in the first time.&nbsp; This might seem odd, but it will set the underlying Principal/Identity pair to the right type.&nbsp; It’s worth a shot here even if the exception defers from what I've seen in the past.</P>
<P class=MsoNormal>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Tuesday, October 31, 2006</h2><BLOCKQUOTE><div><img src="/Themes/alternate1/images/icon-quote.gif"> <strong>guyroch:</strong></div><div><p class="MsoNormal">Hey, one other thing.&nbsp; It just daunt on me that the culprit here is your Identity class.&nbsp; There is an old issue that keep coming back from time to time, though the error would more around the lines of GenericPrincipal, YOU SHOULD TRY a logout be login in the first time.&nbsp; This might seem odd, but it will set the underlying Principal/Identity pair to the right type.&nbsp; It’s worth a shot here even if the exception defers from what I've seen in the past.</p>
<p class="MsoNormal">&nbsp;</p></div></BLOCKQUOTE><br><br>I think guyroch is straight on.<br><br>If you have a web app, check the Global.asax file in the PTWeb sample, over there a logout is performed at startup. This does exactly what guy mentions: it will set the correct principal/identity types. <br><br>In case of a winforms app: you need to do something similar at startup. I do it as part of my CAB boot, but in your case you can find relevant sample code in the PTWin sample.<br><br>(fingers crossed ;-) )<br><br>Bayu<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dan72 replied on Tuesday, October 31, 2006</h2><P>Sorry to report back with bad news. I&nbsp;rebooted both machines and then&nbsp;I added the logout&nbsp;call on startup and made sure that call setups up the unuathenticated identity/principle and no joy <img src="/emoticons/emotion-9.gif" alt="Crying [:'(]" /></P>
<P>I'm heading home now - I'll give it another look tomorrow.</P>
<P>Thanks again.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>guyroch replied on Wednesday, November 01, 2006</h2><P>Dan, can you send me your Principal/Identity business objects.&nbsp; I'll take a look, maybe I'll spot something.&nbsp; Your remoting hosts does work, so I'm thinking it could be something in your code. :(</P>
<P>guyroch [no spam please] at gmail dot com</P>
<P>Thanks</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Tuesday, October 31, 2006</h2>Hey,<br><br>Have you ever successfully run your setup?<br>Or did it work before but some change caused the malfunction?<br><br>In case of the former, then check if you remotinghost works by directly typing in the URL of your remoting host in a browser (in my case it is http://localhost/DBHost/RemotingPortal.rem). Note, this will always return an exception:<br><br>- if get the following message:<br>System.Runtime.Remoting.RemotingException: Requested Service not found<br><br>Then all is fine. <br><br>- if you get some extensive ASP.NET exception message you know something is not correctly set up, most probably one that is related to security (but read exception message for details), try to solve this by configuring a specific account that is used by ASP.Net AND which has access to the database (or try giving the system's ASPNET and IUSR_&lt;YOUR_MACHINENAME&gt; accound access to your DB, this is of course not recommended practice, but just for testing ... )<br><br><br>If all is fine and it still does not work .... then come back here. ;-)<br><br>Bayu<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dan72 replied on Tuesday, October 31, 2006</h2><P>Thanks Guy and Bayu,</P>
<P>I've confirmed 1. that the csla assembly is signed, and 2, that the remoting app is running correctly using the ?wsdl parameter.</P>
<P>I've run this project successfully using the local data portal. I'm getting this errorr trying the remote data portal (remoting channel) using local IIS as a host.</P>
<P>Any other ideas?</P>
<P>&nbsp;</P>
<P>P.S I run the IIS web&nbsp;app under full trust</P><FONT color=#0000ff size=2>
<P>&lt;</FONT><FONT color=#800000 size=2>trust</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>level</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>Full</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> /&gt;</P></FONT>
<P>and here's the full exception:</P>
<P>************** Exception Text **************<BR>System.Runtime.Serialization.SerializationException: Because of security restrictions, the type Csla.Server.DataPortalContext cannot be accessed. ---&gt; System.Security.SecurityException: Request failed.<BR>&nbsp;&nbsp; at System.Runtime.Serialization.FormatterServices.nativeGetSafeUninitializedObject(RuntimeType type)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.FormatterServices.GetSafeUninitializedObject(Type type)<BR>The action that failed was:<BR>Demand<BR>The type of the first permission that failed was:<BR>System.Security.PermissionSet<BR>The demand was for:<BR>&lt;PermissionSet class="System.Security.PermissionSet"<BR>version="1"<BR>Unrestricted="true"/&gt;</P>
<P>The only permitted permissions were:<BR>&lt;PermissionSet class="System.Security.PermissionSet"<BR>version="1"&gt;<BR>&lt;IPermission class="System.Security.Permissions.SecurityPermission, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"<BR>version="1"<BR>Flags="SerializationFormatter"/&gt;<BR>&lt;/PermissionSet&gt;</P>
<P>The method that caused the failure was:<BR>System.Runtime.Remoting.Channels.ServerProcessing ProcessMessage(System.Runtime.Remoting.Channels.IServerChannelSinkStack, System.Runtime.Remoting.Messaging.IMessage, System.Runtime.Remoting.Channels.ITransportHeaders, System.IO.Stream, System.Runtime.Remoting.Messaging.IMessage ByRef, System.Runtime.Remoting.Channels.ITransportHeaders ByRef, System.IO.Stream ByRef)<BR>&nbsp;&nbsp; --- End of inner exception stack trace ---</P>
<P>Server stack trace: <BR>&nbsp;&nbsp; at System.Runtime.Serialization.FormatterServices.GetSafeUninitializedObject(Type type)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.ObjectReader.ParseObject(ParseRecord pr)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.ObjectReader.Parse(ParseRecord pr)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.__BinaryParser.ReadObjectWithMapTyped(BinaryObjectWithMapTyped record)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.__BinaryParser.ReadObjectWithMapTyped(BinaryHeaderEnum binaryHeaderEnum)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.__BinaryParser.Run()<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.ObjectReader.Deserialize(HeaderHandler handler, __BinaryParser serParser, Boolean fCheck, Boolean isCrossAppDomain, IMethodCallMessage methodCallMessage)<BR>&nbsp;&nbsp; at System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize(Stream serializationStream, HeaderHandler handler, Boolean fCheck, Boolean isCrossAppDomain, IMethodCallMessage methodCallMessage)<BR>&nbsp;&nbsp; at System.Runtime.Remoting.Channels.CoreChannel.DeserializeBinaryRequestMessage(String objectUri, Stream inputStream, Boolean bStrictBinding, TypeFilterLevel securityLevel)<BR>&nbsp;&nbsp; at System.Runtime.Remoting.Channels.BinaryServerFormatterSink.ProcessMessage(IServerChannelSinkStack sinkStack, IMessage requestMsg, ITransportHeaders requestHeaders, Stream requestStream, IMessage&amp; responseMsg, ITransportHeaders&amp; responseHeaders, Stream&amp; responseStream)</P>
<P>Exception rethrown at [0]: <BR>&nbsp;&nbsp; at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg)<BR>&nbsp;&nbsp; at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData&amp; msgData, Int32 type)<BR>&nbsp;&nbsp; at Csla.Server.IDataPortalServer.Fetch(Type objectType, Object criteria, DataPortalContext context)<BR>&nbsp;&nbsp; at Csla.DataPortalClient.RemotingProxy.Fetch(Type objectType, Object criteria, DataPortalContext context) in C:\Development\csla20cs\csla20cs\Csla\DataPortal\Client\RemotingProxy.cs:line 111<BR>&nbsp;&nbsp; at Csla.DataPortal.Fetch(Type objectType, Object criteria) in C:\Development\csla20cs\csla20cs\Csla\DataPortal\Client\DataPortal.cs:line 184<BR>&nbsp;&nbsp; at Csla.DataPortal.Fetch[T](Object criteria) in C:\Development\csla20cs\csla20cs\Csla\DataPortal\Client\DataPortal.cs:line 138<BR>&nbsp;&nbsp; at PersonalAsset.Library.Security.PAPrincipal.Login(String username, String password) in C:\Development\PersonalAsset\PersonalAsset.Library\PersonalAsset.Library\Security\PAPrincipal.cs:line 15<BR>&nbsp;&nbsp; at PAWinUI.LoginUser.btnLogin_Click(Object sender, EventArgs e) in C:\Development\PersonalAsset\PersonalAsset.Library\PAWinUI\LoginUser.cs:line 19<BR>&nbsp;&nbsp; at System.Windows.Forms.Control.OnClick(EventArgs e)<BR>&nbsp;&nbsp; at System.Windows.Forms.Button.OnClick(EventArgs e)<BR>&nbsp;&nbsp; at System.Windows.Forms.Button.OnMouseUp(MouseEventArgs mevent)<BR>&nbsp;&nbsp; at System.Windows.Forms.Control.WmMouseUp(Message&amp; m, MouseButtons button, Int32 clicks)<BR>&nbsp;&nbsp; at System.Windows.Forms.Control.WndProc(Message&amp; m)<BR>&nbsp;&nbsp; at System.Windows.Forms.ButtonBase.WndProc(Message&amp; m)<BR>&nbsp;&nbsp; at System.Windows.Forms.Button.WndProc(Message&amp; m)<BR>&nbsp;&nbsp; at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message&amp; m)<BR>&nbsp;&nbsp; at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message&amp; m)<BR>&nbsp;&nbsp; at System.Windows.Forms.NativeWindow.Callback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>guyroch replied on Tuesday, October 31, 2006</h2><P>Are you using a Virtual Directory to reach your remoting hosts?&nbsp; Is the virtual directory located under the wwwroot folder or is someplace else?&nbsp; If it's someplace else make sure ASPNET and IUSR_&lt;YOUR_MACHINENAME&gt; have access to the folder.</P>
<P>Also, have you included _ALL_ of your BO's assemblies along with the Csls.dll assembly in your web project?&nbsp; This is required.</P>
<P>Can you post the first few lines you get back when you try the following in your address bar, it might help.&nbsp; <A href="http://localhost/MyRemoringTest/RemotingPortal.rem?wsdl"><FONT color=#667766>http://localhost/</FONT><FONT color=#ff0000>MyRemoringTest</FONT><FONT color=#667766>/</FONT><FONT color=#ff0000>RemotingPortal.rem</FONT><FONT color=#667766>?wsdl</FONT></A></P>
<P>Step #4 <A HREF="/forums/post/6131.aspx">http://forums.lhotka.net/forums/post/6131.aspx</A></P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dan72 replied on Tuesday, October 31, 2006</h2><P>Yes - a virtual directory under wwwroot - I had to add ASPNET account but that made no difference.</P>
<P>To my web project I've referenced one other project used by my single&nbsp;business object assembly. I have also signed these assemblies just in case. Here's the ?wsdl output</P>
<P><FONT color=#0000ff><SPAN class=m>&lt;?</SPAN><SPAN class=pi>xml version="1.0" encoding="UTF-8" </SPAN><SPAN class=m>?&gt;</SPAN></FONT> </P>
<DIV class=e>
<DIV class=c><A class=b href="http://localhost/remotinghost/RemotingPortal.rem?wsdl#"><STRONG><FONT face="Courier New" color=#ff0000>-</FONT></STRONG></A> <SPAN class=m><FONT color=#0000ff>&lt;</FONT></SPAN><FONT color=#990000><SPAN class=t>definitions</SPAN><SPAN class=t> name</SPAN></FONT><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B>RemotingPortal</B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=t><FONT color=#990000> targetNamespace</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B>http://schemas.microsoft.com/clr/nsassem/Csla.Server.Hosts/Csla%2C%20Version%3D2.0.3.0%2C%20Culture%3Dneutral%2C%20PublicKeyToken%3D93be5fdc093e4c30</B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.xmlsoap.org/wsdl/</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:tns</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.microsoft.com/clr/nsassem/Csla.Server.Hosts/Csla%2C%20Version%3D2.0.3.0%2C%20Culture%3Dneutral%2C%20PublicKeyToken%3D93be5fdc093e4c30</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:xsd</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://www.w3.org/2001/XMLSchema</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:xsi</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://www.w3.org/2001/XMLSchema-instance</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:suds</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://www.w3.org/2000/wsdl/suds</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:wsdl</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.xmlsoap.org/wsdl/</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:soapenc</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.xmlsoap.org/soap/encoding/</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:ns2</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.microsoft.com/clr/nsassem/Csla.Server/Csla%2C%20Version%3D2.0.3.0%2C%20Culture%3Dneutral%2C%20PublicKeyToken%3D93be5fdc093e4c30</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:ns3</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.microsoft.com/clr/nsassem/Csla.Server.Hosts.RemotingPortal/Csla%2C%20Version%3D2.0.3.0%2C%20Culture%3Dneutral%2C%20PublicKeyToken%3D93be5fdc093e4c30</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:ns0</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.microsoft.com/clr/nsassem/Csla.Server.Hosts/Csla%2C%20Version%3D2.0.3.0%2C%20Culture%3Dneutral%2C%20PublicKeyToken%3D93be5fdc093e4c30</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:ns1</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.microsoft.com/clr/ns/System</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:ns4</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.microsoft.com/clr/nsassem/Csla.Server.IDataPortalServer/Csla%2C%20Version%3D2.0.3.0%2C%20Culture%3Dneutral%2C%20PublicKeyToken%3D93be5fdc093e4c30</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:ns5</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.microsoft.com/clr/nsassem/System.Collections.Specialized/System%2C%20Version%3D2.0.0.0%2C%20Culture%3Dneutral%2C%20PublicKeyToken%3Db77a5c561934e089</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:ns6</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.microsoft.com/clr/nsassem/Csla.Server.DataPortalResult/Csla%2C%20Version%3D2.0.3.0%2C%20Culture%3Dneutral%2C%20PublicKeyToken%3D93be5fdc093e4c30</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:ns7</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.microsoft.com/clr/ns/System.Security.Principal</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:ns8</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.microsoft.com/clr/nsassem/Csla.Server.DataPortalContext/Csla%2C%20Version%3D2.0.3.0%2C%20Culture%3Dneutral%2C%20PublicKeyToken%3D93be5fdc093e4c30</FONT></B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=ns><FONT color=#ff0000> xmlns:soap</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B class=ns><FONT color=#ff0000>http://schemas.xmlsoap.org/wsdl/soap/</FONT></B><FONT color=#0000ff><SPAN class=m>"</SPAN><SPAN class=m>&gt;</SPAN></FONT></DIV>
<DIV>
<DIV class=e>
<DIV class=c><A class=b href="http://localhost/remotinghost/RemotingPortal.rem?wsdl#"><STRONG><FONT face="Courier New" color=#ff0000>-</FONT></STRONG></A> <SPAN class=m><FONT color=#0000ff>&lt;</FONT></SPAN><FONT color=#990000><SPAN class=t>message</SPAN><SPAN class=t> name</SPAN></FONT><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B>RemotingPortal.CreateInput</B><FONT color=#0000ff><SPAN class=m>"</SPAN><SPAN class=m>&gt;</SPAN></FONT></DIV>
<DIV>
<DIV class=e>
<DIV><SPAN class=b><STRONG><FONT face="Courier New" color=#ff0000>&nbsp;</FONT></STRONG></SPAN> <SPAN class=m><FONT color=#0000ff>&lt;</FONT></SPAN><SPAN class=t><FONT color=#990000>part</FONT></SPAN> <SPAN class=t><FONT color=#990000>name</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B>objectType</B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=t><FONT color=#990000> type</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B>ns1:Type</B><FONT color=#0000ff><SPAN class=m>"</SPAN><SPAN class=m> /&gt;</SPAN></FONT> </DIV></DIV>
<DIV class=e>
<DIV><SPAN class=b><STRONG><FONT face="Courier New" color=#ff0000>&nbsp;</FONT></STRONG></SPAN> <SPAN class=m><FONT color=#0000ff>&lt;</FONT></SPAN><SPAN class=t><FONT color=#990000>part</FONT></SPAN> <SPAN class=t><FONT color=#990000>name</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B>criteria</B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=t><FONT color=#990000> type</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B>xsd:anyType</B><FONT color=#0000ff><SPAN class=m>"</SPAN><SPAN class=m> /&gt;</SPAN></FONT> </DIV></DIV>
<DIV class=e>
<DIV><SPAN class=b><STRONG><FONT face="Courier New" color=#ff0000>&nbsp;</FONT></STRONG></SPAN> <SPAN class=m><FONT color=#0000ff>&lt;</FONT></SPAN><SPAN class=t><FONT color=#990000>part</FONT></SPAN> <SPAN class=t><FONT color=#990000>name</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B>context</B><SPAN class=m><FONT color=#0000ff>"</FONT></SPAN><SPAN class=t><FONT color=#990000> type</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><B>ns2:DataPortalContext</B><FONT color=#0000ff><SPAN class=m>"</SPAN><SPAN class=m> /&gt;</SPAN></FONT> </DIV></DIV></DIV></DIV></DIV></DIV></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>guyroch replied on Tuesday, October 31, 2006</h2><P>That settles it then, remoting does work given this output.</P>
<P>The next thing I guess would be to make sure that _all_ of your classes are serializable.&nbsp; Make sure you have the serializable attributes on all classes, even embeded classes such as the Criteria class.</P>
<P>I'm running out of ideas here... :(</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
