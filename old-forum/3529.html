<html><header><title>Soap Serializer in Csla 2.14 - How can I NOT use it?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Soap Serializer in Csla 2.14 - How can I NOT use it?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3529.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>RobKraft posted on Thursday, September 13, 2007</h2><P>I have an app that I would like to work both through .Net Remoting, and without .Net Remoting.&nbsp; We've been developing this app all year.&nbsp; A few months ago we successfully testing using a .Net Remoting deployment.&nbsp; I decided to test it again today to identify which classes we forgot to mark as [Serializable()].&nbsp; I discovered one, fixed that one and recompiled/redeployed.&nbsp; Then the problems began.</P>
<P>I can no longer get my second Data.Portal call to work.&nbsp; Previously I ran through about 100, but now the second call fails with this message:</P>
<P>"Soap Serializer does not support serializing Generic Types"</P>
<P>The error implies I am using a Generic.List in the class I am passing through the DataPortal.&nbsp; I AM doing this, but I don't understand why it worked previously.&nbsp; I also don't understand why it is using a Soap Serializer.&nbsp; I took the entry for soap out of my web.config (it is not in ANY web.config on my computer).&nbsp; </P><FONT color=#0000ff size=2>
<P>&lt;</FONT><FONT color=#a31515 size=2>formatter</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>ref</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>soap</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>typeFilterLevel</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>Full</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000 size=3>I even rebooted the computer after this.</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000 size=3>I admit, that I don't totally understand .Net Remoting; but I kinda assumed that it would not use SOAP to serialize in Csla 2.14.&nbsp; I also assumed it would not use SOAP to serialize unless I specified SOAP in the web.config.</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000 size=3>I feel like I just bumped something in the code somewhere but can't track it down.&nbsp; Like I accidentally set my default formatter to be soap instead of binary.</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000 size=3>I appreciate you taking the time to review my post.&nbsp; All suggestions are welcome.&nbsp; Note that everything is done on my WinXP PC (both the .Net Remoting client and server; which is using IIS/HTTP).</FONT></P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RobKraft replied on Thursday, September 13, 2007</h2><P>Of course, 15 minutes after I post a plea for help I discover the cause of the problem.</P>
<P>The web.config of my .Net Remote Host had the 2 appsettings in it that are intended just for the .Net Remote Client:</P><FONT color=#0000ff size=2>
<P>&lt;</FONT><FONT color=#a31515 size=2>add</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>key</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>CslaDataPortalProxy</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>Csla.DataPortalClient.RemotingProxy, Csla</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</P>
<P>&lt;</FONT><FONT color=#a31515 size=2>add</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>key</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>CslaDataPortalUrl</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>http://172.16.2.58/IntraReq/RemotingPortal.rem</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000 size=3>Once I removed these entries from the Host web.config, my program began working as expected.&nbsp; Hope this post saves someone else some time!</FONT></P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Thursday, September 13, 2007</h2><P>LOL.</P>
<P>I have made that same error before.</P>
<P>Easy mistake to make.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
