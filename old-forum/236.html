<html><header><title>&quot;DataPortal_Fetch method call failed&quot;</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>&quot;DataPortal_Fetch method call failed&quot;</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/236.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>markmconel posted on Wednesday, May 31, 2006</h2><P><FONT size=2>I'm sure I'm missing something easy but I can't figure out what.</FONT></P>
<P><FONT size=2>I have implimented a simple NameValueListBase.&nbsp;</P></FONT>
<P><FONT color=#0000ff size=2>public</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>class</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>TaskServerList</FONT><FONT size=2> : </FONT><FONT color=#008080 size=2>NameValueListBase</FONT><FONT size=2>&lt;</FONT><FONT color=#0000ff size=2>int</FONT><FONT size=2>, </FONT><FONT color=#0000ff size=2>string</FONT><FONT size=2>&gt;</FONT></P>
<P><FONT size=2>When I use the regular&nbsp;criteria class&nbsp;everything works properly and DataPortal_Fetch is called.<FONT size=2></P>
<P>_list = </FONT><FONT color=#008080 size=2>DataPortal</FONT><FONT size=2>.Fetch&lt;</FONT><FONT color=#008080 size=2>TaskServerList</FONT><FONT size=2>&gt;(</FONT><FONT color=#0000ff size=2>new</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>Criteria</FONT><FONT size=2>(</FONT><FONT color=#0000ff size=2>typeof</FONT><FONT size=2>(</FONT><FONT color=#008080 size=2>TaskServerList</FONT><FONT size=2>)));</FONT></P>
<P>However when I try to use my custom criteria class&nbsp;I get an error message "DataPortal_Fetch method call failed".</P><FONT size=2>
<P>_list = </FONT><FONT color=#008080 size=2>DataPortal</FONT><FONT size=2>.Fetch&lt;</FONT><FONT color=#008080 size=2>TaskServerList</FONT><FONT size=2>&gt;(</FONT><FONT color=#0000ff size=2>new</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>TaskServerCriteria</FONT><FONT size=2>(</FONT><FONT color=#0000ff size=2>typeof</FONT><FONT size=2>(</FONT><FONT color=#008080 size=2>TaskServerList</FONT><FONT size=2>)));</P></FONT>
<P>Here is my criteria class, pretty basic, just this and then a couple getters and setters.</P>
<P><FONT color=#0000ff size=2>public</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>class</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>TaskServerCriteria</FONT><FONT size=2> : Csla.</FONT><FONT color=#008080 size=2>CriteriaBase</FONT></P>
<P><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;public</FONT><FONT size=2> TaskServerCriteria(</FONT><FONT color=#008080 size=2>Type</FONT><FONT size=2> collectionType) &nbsp;: </FONT><FONT color=#0000ff size=2>base</FONT><FONT size=2>(collectionType)</FONT></FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, May 31, 2006</h2><P>How did you declare the overload of DataPortal_Fetch?</P>
<P>Also, what does the InnerException and/or BusinessException from your DataPortalException contain? That's where you'll find more interesting and useful exception details.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>markmconel replied on Thursday, June 01, 2006</h2><P><FONT size=2>Thanks for pointing me in the right direction. My DataPortal_Fetch was declared&nbsp; as: </FONT></P><FONT color=#0000ff>
<P><FONT size=2>private</FONT></FONT><FONT size=2> <FONT color=#0000ff>void</FONT> DataPortal_Fetch(<FONT color=#008080>Criteria</FONT> criteria)</FONT></P>
<P><FONT size=2>and the inner most exception was "Invalid operation - fetch not allowed".&nbsp; I changed my declaration to:</FONT></P><FONT color=#0000ff size=2>
<P>private</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>void</FONT><FONT size=2> DataPortal_Fetch(</FONT><FONT color=#008080 size=2>TaskServerCriteria</FONT><FONT size=2> criteria)</FONT></P>
<P><FONT size=2>Now everything works great. Thanks.</FONT><FONT size=2></P></FONT></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
