<html><header><title>Why is GetIdValue() Protected instead of Public?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Why is GetIdValue() Protected instead of Public?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3691.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken posted on Thursday, October 11, 2007</h2><P>I'm confused about this!&nbsp; Why is GetIdValue() defined as protected instead of public?</P>
<P>Isn't its purpose to allow the object to identify itself?&nbsp; </P>
<P>It seems like a catch-22 sort of thing:</P>
<P>"My job is to identify myself, but you aren't allowed to ask me."</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonStonecash replied on Thursday, October 11, 2007</h2>My understanding is that this method overrides a method in the base class.&nbsp; The overridened logic returns a value that allows the base class to properly handle the equals and get hash code methods.&nbsp; Otherwise you would have to write overrides for those two methods.&nbsp; <br><br>My guess is that the scope of protected is not all that critical.&nbsp; Also, the caller of a specific class probably already knows which property is the primay key.<br><br><br>Jon Stonecash<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, October 11, 2007</h2>I think it might be important actually.&nbsp; The value used by GetIdValue is only there to ensure the object compares correctly, and to ensure uniquenes if its in a collection.&nbsp; Its not something that necessarly represents a database id; it could be a temporary construct.&nbsp; <br><br>If GetIdValue were public, you would have a harder time changing exactly how you determine if an object is unique or not down the line.&nbsp; With the protected approach, you could do that without having to worry about breaking any clients.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Thursday, October 11, 2007</h2><P><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>ajj3085:</strong></div><div>I think it might be important actually.&nbsp; The value used by GetIdValue is only there to ensure the object compares correctly, and to ensure uniquenes if its in a collection.&nbsp; Its not something that necessarly represents a database id; it could be a temporary construct.&nbsp; <BR><BR>If GetIdValue were public, you would have a harder time changing exactly how you determine if an object is unique or not down the line.&nbsp; With the protected approach, you could do that without having to worry about breaking any clients.<BR></div></BLOCKQUOTE></P>
<P>Are you sure about that?&nbsp; It seems exactly backwards to me!&nbsp; :)</P>
<P>GetIdValue returns an object that uniquely identifies the business object.</P>
<P>If GetIdValue were public, one could take a given instantiated business object and ask if it were equal to another instantiated business object - and the code would always work.</P>
<P>You could argue that if you had some field values and wanted to compare, you would have to know how to cast the returned object.&nbsp; But you need to know what fields to use anyway, so how does that make it better?</P>
<P>Mind you, I'm not saying you are wrong!&nbsp; Just that I don't understand why you are right! :)</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, October 11, 2007</h2><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>david.wendelken:</strong></div><div>Are you sure about that?&nbsp; It seems exactly backwards to me!&nbsp; :)</div></BLOCKQUOTE><br><br>Yes, I am! <img src="/emoticons/emotion-5.gif" alt="Wink [;)]" /><br>
<p><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>david.wendelken:</strong></div><div>GetIdValue returns an object that uniquely identifies the business object.</p>
<p>If GetIdValue were public, one could take a given instantiated business object and ask if it were equal to another instantiated business object - and the code would always work.</div></BLOCKQUOTE></p><p>But we already can do that.&nbsp; Use the Equals method of the business object.&nbsp; Rocky provides that functionality in Csla already for us.<br></p>
<p><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>david.wendelken:</strong></div><div>You could argue that if you had some field values and wanted to compare, you would have to know how to cast the returned object.&nbsp; But you need to know what fields to use anyway, so how does that make it better?</div></BLOCKQUOTE></p>So you're talking about two BOs which are of different types then?&nbsp; Usually different types means right away they won't be equal.&nbsp; In the other cases, I would think in your business layer you would create an object which implements <span class="identifier">IEqualityComparer, and that would be used to compare your differing objects.&nbsp; If two BOs are equal sounds like a business rule.. so it should be there.<br><br>That's my 2 cents, anyway <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" /><br><br>Andy<br></span></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Thursday, October 11, 2007</h2>Thanks!&nbsp; I think I got it!</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
