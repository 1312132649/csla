<html><header><title>Adding Tiers</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Adding Tiers</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3111.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>stanc posted on Thursday, June 28, 2007</h2><P>I know Rocky prefers to have the fewest number of tiers as possible, but I am finding myself having to add a tier in between the client and application server. </P>
<P>Here is a little background:</P>
<P>We are writing an application that it to be used across our WAN (several locations have poor bandwith), so I really want to implement an application server using Remoting. I still will run into issues at some of the slower locations, so I added a new channel built using Remoting and added some compression on the data portal. <FONT color=#0000ff>(Thanks xal for your help on this <A href="http://www.softwarethinking.com/blogs/xal/archive/2007/04/23/3.aspx">http://www.softwarethinking.com/blogs/xal/archive/2007/04/23/3.aspx</A>)</FONT>. I now find myself wanting to implement some sort of caching, but not on the clients. I want a local server available to maintain the caching, so I can be proactive at managing it and sharing the benefit of having one user make a call and having the other users be able to use the cache.</P>
<P>This is where my problem comes in. To do this I need the dataportal to first go to the local cache server and check the cache before calling the remote application server.I did this by adding a second portal in my appconfig for items that can be cached. It calls the cache server and if the item isn't cached it calls the application server. Everything works running all 3 layers (client, cache, application) on one machine. But I am running into an issue once I move this to 3 separate machines. Using any one machine as the client and any as the application server it works. But when the cache server tries to call a fetch from the application server it fails. My best guess is that it's permissions, and that after the first remoting call that my identity is getting lost and won't allow me to make the second call. (Oh yeah, I am using Windows Authentication)</P>
<P>If anyone has any ideas, I would appreciate the input. Also if anyone has implemented a similiar concept, I would be thankful if you would share your findings.</P>
<P>Thanks</P>
<P>Stan</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>stanc replied on Thursday, June 28, 2007</h2><P>I have some additional information. I moved both remoting hosts to the same server and it worked just fine. I moved the application host back to the third server and it now works! This of course doesn't make me happy because I don't know why. </P>
<P>Hopefully someone can help shed some light on this issue.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
