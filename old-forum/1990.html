<html><header><title>Object Design Question - Encapsulate or Not?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Object Design Question - Encapsulate or Not?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1990.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>DougZ posted on Sunday, December 17, 2006</h2>I am working on a system for recruiting employees.&nbsp; I have a read-only Recruit object that has data about a person (name, birthdate, etc.).&nbsp; Its data is retrieved from tbl_Recruit.&nbsp; I also have an editable JobInterest object, which represents someone indicating they are interested in applying for a job.&nbsp; Some of its data is in tbl_JobInterest (how they heard about job, date submitted, etc.) and some is in tbl_Recruit (name, birthdate, etc.).&nbsp; Tbl_Recruit has a one-to-many relationship with tbl_JobInterest because a particular person could indicate more than once that they are interested in applying for a job.&nbsp; I was planning on making those objects completely separate.&nbsp; That would make it so that I would have to code their common properties and methods twice.&nbsp; Is this the best route to take, or should I encapsulate a Recruit object in my JobInterest class, or should I use some type of inheritance?&nbsp; Let me know if you need some more info.<br><br>Thanks,<br>DougZ<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Sunday, December 17, 2006</h2><P>The answer depends on your use case - on the responsibility of the JobInterest object in that use case.</P>
<P>My guess, based on what you've indicated thus far, is that you should have a JobInterest object that includes some read-only properties with the recruit data, and read-write properties for the other data.</P>
<P>Trying to reuse property declarations is (imo) incorrect. There's no problem having multiple objects that have the same properties, as long as you don't duplicate any rules associated with those properties. CSLA .NET helps you normalize that behavior (the rules) through the rule method concept.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Sunday, December 17, 2006</h2><P>Based on the limited information available, it sounds to me like this is more of a parent-child relationship than inheritance or composition.&nbsp; You mentioned that your DB entities have a one-to-many relationship, and applying some intuitive assumptions about what you are doing, it seems that you would have a Recruit object with a child collection of that recruit's job interests.</P>
<P>I have developed a similar application and we end up with a similar object model to what Rocky created for the ProjectTracker application in the book.&nbsp; Our primary objects are Recruit and Position (aka Job).&nbsp; The Recruit object has a RecruitInterests child collection (of RecruitInterest objects) and the Position object has a PositionInterests child collection (of PositionInterest objects).&nbsp; Both RecruitInterest and PositionInterest derive from our base (abstract) Interest object.&nbsp; An Interest references the Recruit and the Position.</P>
<P>This allows us to display a list of positions that the recruit is interested in (for the recruit, perhaps) as well as a list of recuits interested in a particular position (for the HR person, perhaps).</P>
<P>I'll defer to the ProjectTracker sample for more details.&nbsp; Just exchange Recruit for Project and Interest for Resource - for example.</P>
<P>HTH</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DougZ replied on Monday, December 18, 2006</h2>In the beginning, I made some of the same assumptions about the relationship.&nbsp; After fleshing out the use cases, though, I found out that the system didn't need a collection of job interests associated with a recruit.&nbsp; We want to hide the normalization of recruit and job interest data from the user as much as possible.&nbsp; This is because users don't really deal with "recruits" in their processes.&nbsp; They deal with job interests and applicants.<br><br>Thanks,<br>DougZ<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DougZ replied on Monday, December 18, 2006</h2>Rocky,<br><br>I think my use case requires something different than what you're suggesting.&nbsp; When a job interest is being entered, the user first checks to see if this particular person is already listed as a recruit in the system by browsing a recruit list.&nbsp; If the person <b>is</b> in the system, the user clicks on the recruit's record in the list, and the form for adding/editing a job interest appears.&nbsp; In this case, the personal information (name, birthdate, etc.) is already populated by the recruit data, but the user can choose to edit that data in addition to supplying the additional data required for a job interest - all on the same form.&nbsp; If the person <b>is not</b> in the system, the user clicks an Add New button and must enter all data.&nbsp; The job interest business object ends up saving some data to tbl_Recruit and some data to tbl_JobInterest.&nbsp; This is because our users never enter or manipulate recruit data by itself - only when adding/editing job interest objects or applicant objects.&nbsp; Recruit objects are read-only.&nbsp; <br><br>So, my first idea was to have multiple objects with the same properties, as you mentioned.&nbsp; However, I got to thinking that I could normalize the assignment of rules and authorization to properties by creating an internally scoped editable-root Recruit object.&nbsp; The Job Interest object would encapsulate an instance of the Recruit object (myRecruit).&nbsp; For properties such as FirstName, the Job Interest object would get/set the value of myRecruit.FirstName instead of a local _firstName field.&nbsp; The Applicant object would have the same relationship to Recruit as the Job Interest object would.&nbsp; So, the authorization and rules of Job Interest and Applicant would be normalized.<br><br>What I originally wanted to know was whether or not it would work, but I'm beginning to think it would be more trouble than it is worth even if it did work.&nbsp; It would be easier to make sure my rules and authorization for the objects agreed with each other than to code another editable root object.<br><br>Thanks for helping me think it through,<br><br>DougZ<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
