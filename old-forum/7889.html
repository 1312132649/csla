<html><header><title>DataPortal_Fetch not hit when called from Client Factory Methods</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DataPortal_Fetch not hit when called from Client Factory Methods</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7889.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav posted on Tuesday, October 27, 2009</h2>Obviously I am doing something wrong. That's why I have attached my TestObject files. <br />When I use the following code to call the Client side Factory methods, DataPortal_Fetch methods are not even hit.<br />            TestObject.GetTestObject(1,(o, e) =><br />            {<br />            });<br />OR<br />            TestObject.GetTestObject((o, e) =><br />            {<br />            });<br /><br />The e.Error reads:<br /><br />Csla.IDataPortalResult.Error	{System.Reflection.TargetInvocationException: An exception occurred during the operation, making the result invalid.  Check InnerException for exception details. ---> System.ServiceModel.CommunicationException: The remote server returned an error: NotFound. ---> System.Net.WebException: The remote server returned an error: NotFound. ---> System.Net.WebException: The remote server returned an error: NotFound.<br />   at System.Net.Browser.BrowserHttpWebRequest.InternalEndGetResponse(IAsyncResult asyncResult)<br /><br />Javed</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, October 28, 2009</h2>Seems like you have a faulty endpoint in configuration on your client. The error message says that the endpoint on server was not found. If the call had mae it to server but dataportal had failed to find the correct DataPortal_Fetch method (based on your parameters) you would get an exception from MethodCaller. <br><br>The first call with parameter should fail anyway because you have different parameter types: <br><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static void GetTestObject(int id, EventHandler&lt;DataPortalResult&lt;TestObject&gt;&gt; callback)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var dp = new DataPortal&lt;TestObject&gt;();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dp.FetchCompleted += callback;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dp.BeginFetch(new <b>SingleCriteria&lt;TestObject, int&gt;</b>(id));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</i><br><br>and the DataPortal_Fetch method: <br><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private void DataPortal_Fetch(<b>SingleCriteria&lt;TestObject, string&gt;</b> criteria)</i><br><br>These parameter must be the exact same type. <br><br>Your static method could also be as simple as: <br><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static void GetTestObject(int id, EventHandler&lt;DataPortalResult&lt;TestObject&gt;&gt; callback)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DataPortal.BeginFetch(</i><i>new <b>SingleCriteria&lt;TestObject, int&gt;</b>(id), callback);</i><br><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</i><br>
<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Wednesday, October 28, 2009</h2>Aah!<br />Thanks Johny<br /><br />The problem was in my ServiceReferences.ClientConfig file in the following line which read: <br /><br />endpoint address="http://localhost:12347/WebService1.asmx"<br /><br />instead of<br /><br />endpoint address="http://localhost:12347/WcfPortal.svc"<br /><br />Javed</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
