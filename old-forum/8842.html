<html><header><title>TypeLoadException: Could not load type 'Csla.CriteriaBase'1' from assembly 'Csla.dll, Version=4.0.0.0 </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>TypeLoadException: Could not load type 'Csla.CriteriaBase'1' from assembly 'Csla.dll, Version=4.0.0.0 </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8842.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Dane posted on Monday, April 26, 2010</h2><p>I&#39;m using the preview 4 of Csla 4.0 so possibly that&#39;s the cause?&nbsp; The strange thing here is that the solution compiles but this error actually occurs prior to the instantiation of an inherited criteria class at runtime.&nbsp; Simply having a var x = new MyCriteria line causes the exception to be thrown the second the CLR hits the method that contains that line but PRIOR to actually hitting the line of code itself.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, April 26, 2010</h2><p>Can you provide the full stack trace (yourException.ToString())? That might help identify the specific issue.</p>
<p>I have numerous unit tests and other apps that use criteria objects, so it isn&#39;t an obvious problem.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Dane replied on Tuesday, April 27, 2010</h2><p>Unfortunately there isn&#39;t really anything in the stack trace.</p>
<p>System.TypeLoadException: Could not load type &#39;Csla.CriteriaBase`1&#39; from assembly &#39;Csla, Version=4.0.0.0, Culture=neutral, PublicKeyToken=93be5fdc093e4c30&#39;.<br />&nbsp;&nbsp; at BootStrap.Program.ReadMyList()<br />&nbsp;&nbsp; at BootStrap.Program.Main(String[] args)</p>
<p>The oddest part here for me is how the exception occurs because of the instantiation of the criteria object but occurs before the line that instantiates it.</p>
<p>BaseCriteria was made a generic type in 4.0, can you provide a snippit of code as an example of derived criteria in 4.0?&nbsp; Maybe there&#39;s something there.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, April 27, 2010</h2><p>CriteriaBase was made generic so you can use the same property declaration structure (with managed backing fields, etc) as ReadOnlyBase. This makes it much simpler to build Silverlight apps that need complex criteria.</p>
<p>Also in CSLA 4 you don&#39;t really need any formal criteria object for simple criteria values (like string, int, Guid, etc). Any serializable type is allowed as criteria without being wrapped in a formal criteria class. </p>
<p>This means the only time you should need to create an actual criteria class of your own is when your criteria involves more than one field of data.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Dane replied on Sunday, May 02, 2010</h2><p>Yes, I have a couple such criteria.&nbsp;&nbsp;Originally these criteria were defined as such</p>
<p>public class FooCriteria : CriteriaBase</p>
<p>After I updated to CSLA 4 preview 4 assemblies I updated the class definition to</p>
<p>public class FooCriteria : CriteriaBase&lt;FooCriteria&gt;</p>
<p>Everything compiles.&nbsp; Whenever I instantiate FooCriteria the exception in question is thrown.&nbsp; The fact that this exception is&nbsp;thrown prior to the actual new FooCriteria line has me mystified as well.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>Dane replied on Monday, May 03, 2010</h2><p>Aaaarrrrrggggg!!!!&nbsp; I had a reference problem in the project in question.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>vbbeta replied on Sunday, June 13, 2010</h2><p>Here is a Stack Trace that i got when trying to create my object</p>
<p>&nbsp;When traced i saw that the exception is causing when the UI bounds the data-source to the business layer </p>
<p>&nbsp;</p>
<p>here you go</p>
<p>&nbsp;&nbsp; at TestApp.Form1.NavBarItem1_LinkClicked(Object sender, NavBarLinkEventArgs e)<br />&nbsp;&nbsp; at DevExpress.XtraNavBar.NavBarItem.RaiseLinkEvent(Object linkEvent, NavBarItemLink link)<br />&nbsp;&nbsp; at DevExpress.XtraNavBar.NavBarItem.RaiseLinkClicked(NavBarItemLink link)<br />&nbsp;&nbsp; at DevExpress.XtraNavBar.NavBarItem.RaiseLinkClickedCore(NavBarItemLink link)<br />&nbsp;&nbsp; at DevExpress.XtraNavBar.NavBarControl.RaiseLinkClicked(NavBarItemLink link)<br />&nbsp;&nbsp; at DevExpress.XtraNavBar.ViewInfo.NavBarViewInfo.DoLinkClick(NavBarHitInfo hitInfo)<br />&nbsp;&nbsp; at DevExpress.XtraNavBar.ViewInfo.NavBarViewInfo.DoClick(NavBarHitInfo hitInfo)<br />&nbsp;&nbsp; at DevExpress.XtraNavBar.ViewInfo.NavBarViewInfo.OnMouseUp(MouseEventArgs e)<br />&nbsp;&nbsp; at DevExpress.XtraNavBar.NavBarControl.OnMouseUp(MouseEventArgs ev)<br />&nbsp;&nbsp; at System.Windows.Forms.Control.WmMouseUp(Message&amp; m, MouseButtons button, Int32 clicks)<br />&nbsp;&nbsp; at System.Windows.Forms.Control.WndProc(Message&amp; m)<br />&nbsp;&nbsp; at DevExpress.XtraNavBar.NavBarControl.WndProc(Message&amp; m)<br />&nbsp;&nbsp; at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message&amp; m)<br />&nbsp;&nbsp; at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message&amp; m)<br />&nbsp;&nbsp; at System.Windows.Forms.NativeWindow.DebuggableCallback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)<br />&nbsp;&nbsp; at System.Windows.Forms.UnsafeNativeMethods.DispatchMessageW(MSG&amp; msg)<br />&nbsp;&nbsp; at System.Windows.Forms.Application.ComponentManager.System.Windows.Forms.UnsafeNativeMethods.IMsoComponentManager.FPushMessageLoop(IntPtr dwComponentID, Int32 reason, Int32 pvLoopData)<br />&nbsp;&nbsp; at System.Windows.Forms.Application.ThreadContext.RunMessageLoopInner(Int32 reason, ApplicationContext context)<br />&nbsp;&nbsp; at System.Windows.Forms.Application.ThreadContext.RunMessageLoop(Int32 reason, ApplicationContext context)<br />&nbsp;&nbsp; at System.Windows.Forms.Application.Run(ApplicationContext context)<br />&nbsp;&nbsp; at Microsoft.VisualBasic.ApplicationServices.WindowsFormsApplicationBase.OnRun()<br />&nbsp;&nbsp; at Microsoft.VisualBasic.ApplicationServices.WindowsFormsApplicationBase.DoApplicationModel()<br />&nbsp;&nbsp; at Microsoft.VisualBasic.ApplicationServices.WindowsFormsApplicationBase.Run(String[] commandLine)<br />&nbsp;&nbsp; at TestApp.My.MyApplication.Main(String[] Args) in 17d14f5c-a337-4978-8281-53493378c1071.vb:line 81<br />&nbsp;&nbsp; at System.AppDomain._nExecuteAssembly(RuntimeAssembly assembly, String[] args)<br />&nbsp;&nbsp; at System.AppDomain.ExecuteAssembly(String assemblyFile, Evidence assemblySecurity, String[] args)<br />&nbsp;&nbsp; at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()<br />&nbsp;&nbsp; at System.Threading.ThreadHelper.ThreadStart_Context(Object state)<br />&nbsp;&nbsp; at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean ignoreSyncCtx)<br />&nbsp;&nbsp; at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)<br />&nbsp;&nbsp; at System.Threading.ThreadHelper.ThreadStart()</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
