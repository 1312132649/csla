<html><header><title>XML Serialization error when trying to return CSLA object from Web Service</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>XML Serialization error when trying to return CSLA object from Web Service</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/141.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ltgrady posted on Thursday, May 18, 2006</h2><P>We have an application running on the old CSLA, actually the first version, and we haven't ported it to the new CSLA yet.&nbsp; However, we need to write some Web Services for it and would like to return our CSLA object as our output.</P>
<P>&nbsp;</P>
<P>WHen I attempt to run my Web Service I get:</P>
<P>&nbsp;</P>
<P><EM>To be XML serializable, types which inherit from ICollection must have an implementation of Add(CSLA.BrokenRules+Rule) at all levels of their inheritance hierarchy. CSLA.BrokenRules+RulesCollection does not implement Add(CSLA.BrokenRules+Rule).</EM> </P>
<P>Here is my Web Service:</P><FONT size=2>
<P>&lt;%</FONT><FONT color=#0000ff size=2>@</FONT><FONT size=2> </FONT><FONT color=#800000 size=2>WebService</FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2>Language</FONT><FONT color=#0000ff size=2>="C#"</FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2>CodeBehind</FONT><FONT color=#0000ff size=2>="~/App_Code/ProductSearch.cs"</FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2>Class</FONT><FONT color=#0000ff size=2>="ProductSearch"</FONT><FONT size=2> %&gt;</FONT></P><FONT size=2><FONT color=#0000ff size=2>
<P>using</FONT><FONT size=2> System;<BR></FONT><FONT color=#0000ff size=2>using</FONT><FONT size=2> System.Web;<BR></FONT><FONT color=#0000ff size=2>using</FONT><FONT size=2> System.Collections;<BR></FONT><FONT color=#0000ff size=2>using</FONT><FONT size=2> System.Web.Services;<BR></FONT><FONT color=#0000ff size=2>using</FONT><FONT size=2> System.Web.Services.Protocols;<BR></FONT><FONT color=#0000ff size=2>using</FONT><FONT size=2> OurNamespaceDotNet.Library;</FONT><FONT color=#008000 size=2></P>
<P></FONT><FONT size=2>[</FONT><FONT color=#008080 size=2>WebService</FONT><FONT size=2>(Namespace = </FONT><FONT color=#800000 size=2>"OurNamespaceDotNetWebServices"</FONT><FONT size=2>)]</P>
<P>[</FONT><FONT color=#008080 size=2>WebServiceBinding</FONT><FONT size=2>(ConformsTo = </FONT><FONT color=#008080 size=2>WsiProfiles</FONT><FONT size=2>.BasicProfile1_1)]</P>
<P></FONT><FONT color=#0000ff size=2>public</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>class</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>ProductSearch</FONT><FONT size=2> : System.Web.Services.</FONT><FONT color=#008080 size=2>WebService<BR></FONT><FONT size=2>{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT color=#0000ff size=2>public</FONT><FONT size=2> ProductSearch()<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT size=2>[</FONT><FONT color=#008080 size=2>WebMethod</FONT><FONT size=2>(Description = </FONT><FONT color=#800000 size=2>"Retrives the selected Products"</FONT><FONT size=2>)]<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT color=#0000ff size=2>public</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>Products</FONT><FONT size=2> GetProducts(</FONT><FONT color=#008080 size=2>Guid</FONT><FONT size=2> BrandID)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT color=#008080 size=2>Products</FONT><FONT size=2> prds = </FONT><FONT color=#008080 size=2>Products</FONT><FONT size=2>.GetProducts(BrandID);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT color=#0000ff size=2>return</FONT><FONT size=2> prds;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR></FONT><FONT size=2>}</FONT></P>
<P><FONT color=#000000 size=3></FONT>&nbsp;</P>
<P><FONT color=#000000 size=3>I have attached my collection Products.cs</FONT></P>
<P><FONT size=3>I have also attached a stripped down version of my switchable object Product.cs (the whole object has about 100 properties to I stripped it down to just a few for the example).</FONT></P>
<P><FONT size=3></FONT>&nbsp;</P>
<P></FONT><FONT size=3>Any ideas?<FONT color=#000000></P></FONT></FONT></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
