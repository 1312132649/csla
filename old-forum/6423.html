<html><header><title>Silverlight without PropertyInfo</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Silverlight without PropertyInfo</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6423.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>mhnyborg posted on Saturday, February 14, 2009</h2><P>Is it possible to use SL and object factor without PropertyInfo?</P>
<P>If it's possible then what am I loosing if I use normal property gets/set and backing fields like old CSLA 2.</P>
<P>Why am I asking this? because I would like to try to use my NH classes as CSLA classes. I can do that if I use partial classes. In SL I can use a partial class that inherit from businessbass and in the NH lib I can put my business logic in another partial class.</P>
<P>So I am only going to share the properties.</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Saturday, February 14, 2009</h2><P>Yes, you can use CSLA .NET for Silverlight without the RegisterProperty()/PropertyInfo&lt;T&gt; concept.</P>
<P>To do this you must implement IMobileObject in your class (on both sides of the wire: Silverlight and .NET), which will force you to implement four methods where:</P>
<OL>
<LI>You put all your private field values into the serialization stream</LI>
<LI>You take all the your private field values from the serialization stream</LI>
<LI>You delegate serialization to child objects you reference</LI>
<LI>You delegate deserialization to child objects you reference</LI></OL>
<P>You can look at Csla.Core.MobileObject to see the implementation of this interface used by all the CSLA class (and Csla.Core.MobileList for lists, etc).</P>
<P>Alternately, as you note, you can use partial classes or other techniques to somehow inherit from MobileObject, BusinessBase or other CSLA base classes. But ultimately the key is to inherit from a MobileXYZ base class so you get the pre-existing IMobileObject implementation.</P>
<P>However, if you are using private fields you <EM>must implement methods</EM> that do items 1 and 2 above. That is inescapable.</P>
<P>This is all necessary because there's no clone-level serializer in Silverlight, nor do the technologies required to build such a serializer exist. The CSLA MobileFormatter does clone-level serialization in a way that avoids the limitations of Silverlight - but does require the participation of each object in the object graph.</P>
<P>These blog posts should be useful:</P>
<P><A href="http://www.lhotka.net/weblog/CSLALightObjectSerialization.aspx">http://www.lhotka.net/weblog/CSLALightObjectSerialization.aspx</A></P>
<P><A href="http://www.lhotka.net/weblog/CSLALightSerializationImplementation.aspx">http://www.lhotka.net/weblog/CSLALightSerializationImplementation.aspx</A></P>
<P><A href="http://www.lhotka.net/weblog/SilverlightSerializer.aspx">http://www.lhotka.net/weblog/SilverlightSerializer.aspx</A></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>mhnyborg replied on Saturday, February 14, 2009</h2><P>Thanks for answering so fast.</P>
<P>I always like the way you are answering questions. They are not just hints but always point you to a solution. The solution is not always what you want but it gets the job done.</P>
<P>Hope that you soon have some time to write more about SL.</P>
<P class=MsoNormal><o:p><FONT face=Verdana>&nbsp;</FONT></o:p></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>AaronH replied on Friday, August 13, 2010</h2><p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"><span style="mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin;"><span style="font-size:small;"><span style="font-family:Calibri;">I am having problem sending members&nbsp;(custom types)&nbsp;exposed as properties of business objects to silverlight.&nbsp; These members are are plain POCO objects.</span></span></span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"><span style="mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin;"><span style="font-size:small;"><span style="font-family:Calibri;"></span></span></span>&nbsp;</p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"><span style="mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin;"><span style="font-size:small;"><span style="font-family:Calibri;">I have a business object that persists its properties to fields in a table.<span style="mso-spacerun:yes;">&nbsp; </span>Except for one property, that is actually being serialized as XML and stored into a column.<span style="mso-spacerun:yes;">&nbsp;&nbsp;</span>I have supplied some easy to follow sample classes below (NOTE: these are purely fictitious classes for sake of brevity&nbsp; and clarification purposes):</span></span></span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"><span style="font-family:Consolas;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">&nbsp;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"><span style="font-family:Consolas;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:blue;">class</span>&nbsp;<span style="color:#2b91af;">Shape</span>&nbsp;:&nbsp;<span style="color:#2b91af;">BusinessBase</span><br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">private</span>&nbsp;<span style="color:blue;">static</span>&nbsp;<span style="color:blue;">readonly</span>&nbsp;<span style="color:#2b91af;">PropertyInfo</span>&lt;<span style="color:#2b91af;">DetailInfo</span>&gt;&nbsp;DetailInfoProperty&nbsp;=&nbsp;RegisterProperty&lt;<span style="color:#2b91af;">DetailInfo</span>&gt;(p&nbsp;=&gt;&nbsp;p.Detail);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:#2b91af;">DetailInfo</span>&nbsp;Detail<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">get</span>&nbsp;{&nbsp;<span style="color:blue;">return</span>&nbsp;GetProperty(DetailInfoProperty);&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">set</span>&nbsp;{&nbsp;SetProperty(DetailInfoProperty,&nbsp;<span style="color:blue;">value</span>);&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><span style="mso-spacerun:yes;">&nbsp;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:blue;">abstract</span>&nbsp;<span style="color:blue;">class</span>&nbsp;<span style="color:#2b91af;">DetailInfo</span><br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><span style="mso-spacerun:yes;">&nbsp;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:blue;">class</span>&nbsp;<span style="color:#2b91af;">CircleInfo</span>&nbsp;:&nbsp;<span style="color:#2b91af;">DetailInfo</span><br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:blue;">decimal</span>&nbsp;Circumference&nbsp;{&nbsp;<span style="color:blue;">get</span>;&nbsp;<span style="color:blue;">set</span>;&nbsp;}&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><span style="mso-spacerun:yes;">&nbsp;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:blue;">class</span>&nbsp;<span style="color:#2b91af;">SquareInfo</span>&nbsp;:&nbsp;<span style="color:#2b91af;">DetailInfo</span><br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:blue;">decimal</span>&nbsp;Area&nbsp;{&nbsp;<span style="color:blue;">get</span>;&nbsp;<span style="color:blue;">set</span>;&nbsp;}&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">&nbsp;</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">And here is how it would be used:</span></p>
<p><span style="font-family:Calibri;font-size:small;">So when a concrete shape is saved, I am serializing the DetailInfo member as XML, and the result is an XML string that is saved in a field in a table.</span></p>
<pre style="font-family:consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#2b91af;">Shape</span>&nbsp;shape&nbsp;=&nbsp;<span style="color:blue;"><span style="color:#2b91af;">Shape.NewShape();</span></span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#2b91af;">CircleInfo</span>&nbsp;info&nbsp;=&nbsp;<span style="color:blue;">new</span>&nbsp;<span style="color:#2b91af;">CircleInfo</span>()&nbsp;{&nbsp;Circumference&nbsp;=&nbsp;3.25&nbsp;};<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shape.Detail&nbsp;=&nbsp;info;</pre>
<pre style="font-family:consolas;"></pre>
<p>&nbsp;</p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">This works fine.<span style="mso-spacerun:yes;">&nbsp; </span>I can also deserialize the object from the XML stored in the table field on the Fetch() of the shape.</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">So after I have a loaded Shape and its reinflated DetailInfo, I can utilize it on the .NET side.</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">The problem is on the sending of the DetailInfo object to the Silverlight client, WCF chokes, and states:</span></p>
<p><span style="font-family:Consolas;font-size:xx-small;"><span style="font-family:Consolas;font-size:xx-small;">
<p>&quot;CircleInfo is not expected. Consider using a DataContractResolver or add any types not known statically to the list of known types - for example, by using the KnownTypeAttribute attribute or by adding them to the list of known types passed to DataContractSerializer.&quot;</p>
</span></span></p>
<p>&nbsp;</p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">After some investigation, it turns out that I need to<span style="mso-spacerun:yes;">&nbsp; </span>go a bit further than developing POCO objects exposed from Shape, and inherit from MobileObject.</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">So here is what I have now:</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="line-height:115%;font-family:Consolas;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:blue;">abstract</span>&nbsp;<span style="color:blue;">class</span>&nbsp;<span style="color:#2b91af;">DetailInfo </span><span style="color:black;mso-themecolor:text1;">:</span><span style="color:#2b91af;"> MobileObject</span><br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;}</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="line-height:115%;font-family:Consolas;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">&nbsp;</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin;"><span style="font-size:small;"><span style="font-family:Calibri;">And within CircleInfo&hellip;</span></span></span></p>
<pre><span style="font-family:Consolas;"><span style="font-size:x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">protected</span>&nbsp;<span style="color:blue;">override</span>&nbsp;<span style="color:blue;">void</span>&nbsp;OnGetState(Csla.Serialization.Mobile.<span style="color:#2b91af;">SerializationInfo</span>&nbsp;info,&nbsp;Csla.Core.<span style="color:#2b91af;">StateMode</span>&nbsp;mode)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info.AddValue(<span style="color:#a31515;">&quot;</span>Circumference<span style="color:#a31515;">&quot;</span>,&nbsp;Circumference);</span></span></pre>
<pre><span style="font-family:Consolas;"><span style="font-size:x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="mso-spacerun:yes;">&nbsp;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">protected</span>&nbsp;<span style="color:blue;">override</span>&nbsp;<span style="color:blue;">void</span>&nbsp;OnSetState(Csla.Serialization.Mobile.<span style="color:#2b91af;">SerializationInfo</span>&nbsp;info,&nbsp;Csla.Core.<span style="color:#2b91af;">StateMode</span>&nbsp;mode)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Circumference&nbsp;=&nbsp;info.GetValue&lt;<span style="color:blue;">decimal</span>&gt;(<span style="color:#a31515;">&quot;</span>Circumference<span style="color:#a31515;">&quot;</span>);</span></span></pre>
<pre><span style="font-family:Consolas;"><span style="font-size:x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></pre>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="line-height:115%;font-family:Consolas;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">&nbsp;</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin;"><span style="font-size:small;"><span style="font-family:Calibri;">This works now. After I load a Shape and deserialize the shape&rsquo;s DetailInfo (CircleInfo or SquareInfo), I can see its member on the Silverlight client.</span></span></span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin;"><span style="font-size:small;"><span style="font-family:Calibri;">Now suppose I need to add a new member to one of the DetailInfo classes, which is a new custom type:</span></span></span></p>
<pre><span style="font-family:Consolas;"><span style="font-size:x-small;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:blue;">class</span>&nbsp;<span style="color:#2b91af;">FurtherAttributes</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:blue;">string</span>&nbsp;MoreData&nbsp;{&nbsp;<span style="color:blue;">get</span>;&nbsp;<span style="color:blue;">set</span>;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></pre>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">&nbsp;</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">And I now add this to my CircleInfo class:</span></p>
<pre><span style="font-family:Consolas;"><span style="font-size:x-small;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:blue;">class</span>&nbsp;<span style="color:#2b91af;">CircleInfo</span>&nbsp;:&nbsp;<span style="color:#2b91af;">DetailInfo</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:blue;">decimal</span>&nbsp;Circumference&nbsp;{&nbsp;<span style="color:blue;">get</span>;&nbsp;<span style="color:blue;">set</span>;&nbsp;}&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:#2b91af;">FurtherAttributes</span>&nbsp;MoreAttributes&nbsp;{&nbsp;<span style="color:blue;">get</span>;&nbsp;<span style="color:blue;">set</span>;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></pre>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">&nbsp;</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">Once again,&nbsp; WCF chokes, and states:
<p><span style="font-family:Consolas;font-size:xx-small;"><span style="font-family:Consolas;font-size:xx-small;">
<p>&quot;<span style="font-size:x-small;"><span style="color:#2b91af;">FurtherAttributes</span>&nbsp;</span>is not expected. Consider using a DataContractResolver or add any types not known statically to the list of known types - for example, by using the KnownTypeAttribute attribute or by adding them to the list of known types passed to DataContractSerializer.&quot;</p>
</span></span></p>
</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">So I&#39;ve ensured now that FurtherAttributes inherits from MobileObject and overrides the OnGetState() and OnSetState() methods, but still getting it.&nbsp; </span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">I&#39;ve applied the KnownAttribute attribute to the appropriate classes, but still no luck.</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">Has anyone faced this issue before?</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">Is there something else I need to be doing that I have forgotten about?</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">Thanks!</span></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, August 13, 2010</h2><p>What you must realize is that Silverlight doesn&#39;t have BinaryFormatter or NetDataContractSerializer, so we created our own MobileFormatter. The primary constraint we&#39;re operating under is that we can&#39;t use reflection to implement the formatter (which is why BF and NDCS don&#39;t exist - they rely on reflection).</p>
<p>This blog post illustrates the basic model for MobileFormatter: <a href="http://www.lhotka.net/weblog/CSLALightObjectSerialization.aspx">http://www.lhotka.net/weblog/CSLALightObjectSerialization.aspx</a></p>
<p>While we use WCF and the DataContractSerializer - it is generally only after we&#39;ve sorted through the object graph to convert all the IMobileObject objects into serialization-safe DTOs. Any object in the graph that doesn&#39;t implement IMobileObject will generally cause failure.</p>
<p>Or to put it another way: MobileFormatter only works if <i>every object in the graph implements IMobileObject</i>.</p>
<p>This is because we can&#39;t use reflection - so the only way to serialize an object at the field level (which is what the data portal requires) is if every object in the object graph participates in the serialization process.</p>
<p>The base classes (MobileObject, etc) exist to simplify this process - since implementing IMobileObject directly is kind of a pain.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>AaronH replied on Friday, August 13, 2010</h2><p>Hi Rocky</p>
<p>Actually, all of my classes do implement IMobileObject:</p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span lang="EN" style="line-height:115%;font-family:Consolas;color:#333333;font-size:10pt;mso-bidi-font-family:&#39;Times New Roman&#39;;mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN;">&nbsp;</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;background:white;mso-background-themecolor:background1;"><span lang="EN" style="line-height:115%;font-family:Consolas;color:blue;font-size:10pt;mso-bidi-font-family:&#39;Times New Roman&#39;;mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN;">public</span><span lang="EN" style="line-height:115%;font-family:Consolas;color:#333333;font-size:10pt;mso-bidi-font-family:&#39;Times New Roman&#39;;mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN;">&nbsp;</span><span lang="EN" style="line-height:115%;font-family:Consolas;color:blue;font-size:10pt;mso-bidi-font-family:&#39;Times New Roman&#39;;mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN;">abstract</span><span lang="EN" style="line-height:115%;font-family:Consolas;color:#333333;font-size:10pt;mso-bidi-font-family:&#39;Times New Roman&#39;;mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN;">&nbsp;</span><span lang="EN" style="line-height:115%;font-family:Consolas;color:blue;font-size:10pt;mso-bidi-font-family:&#39;Times New Roman&#39;;mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN;">class</span><span lang="EN" style="line-height:115%;font-family:Consolas;color:#333333;font-size:10pt;mso-bidi-font-family:&#39;Times New Roman&#39;;mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN;">&nbsp;</span><span lang="EN" style="line-height:115%;font-family:Consolas;color:#2b91af;font-size:10pt;mso-bidi-font-family:&#39;Times New Roman&#39;;mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN;">DetailInfo </span><span lang="EN" style="line-height:115%;font-family:Consolas;color:black;font-size:10pt;mso-bidi-font-family:&#39;Times New Roman&#39;;mso-bidi-theme-font:minor-bidi;mso-themecolor:text1;mso-ansi-language:EN;">:</span><span lang="EN" style="line-height:115%;font-family:Consolas;color:#2b91af;font-size:10pt;mso-bidi-font-family:&#39;Times New Roman&#39;;mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN;"> MobileObject</span><span lang="EN" style="line-height:115%;font-family:Consolas;color:#333333;font-size:10pt;mso-bidi-font-family:&#39;Times New Roman&#39;;mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN;"><br />{<br />}</span></p>
<p><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;background:white;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;mso-background-themecolor:background1;"><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">public</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">&nbsp;</span><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">class</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">&nbsp;</span><span lang="EN" style="font-family:Consolas;color:#2b91af;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">CircleInfo</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">&nbsp;:&nbsp;</span><span lang="EN" style="font-family:Consolas;color:#2b91af;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">DetailInfo</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;"><br />{<br /></span><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp; </span>public</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">&nbsp;</span><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">decimal</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">&nbsp;Circumference&nbsp;{&nbsp;</span><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">get</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">;&nbsp;</span><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">set</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">;&nbsp;}&nbsp;<br /></span><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp; </span>public</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">&nbsp;</span><span lang="EN" style="font-family:Consolas;color:#2b91af;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">FurtherAttributes</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">&nbsp;MoreAttributes&nbsp;{&nbsp;</span><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">get</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">;&nbsp;</span><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">set</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">;&nbsp;}<br /></span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:12pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">}</span></p>
</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;background:white;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;mso-background-themecolor:background1;"><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">public</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">&nbsp;</span><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">class</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">&nbsp;</span><span lang="EN" style="font-family:Consolas;color:#2b91af;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">FurtherAttributes </span><span lang="EN" style="font-family:Consolas;color:black;font-size:10pt;mso-bidi-font-family:&#39;Times New Roman&#39;;mso-bidi-theme-font:minor-bidi;mso-themecolor:text1;mso-ansi-language:EN;">:</span><span lang="EN" style="font-family:Consolas;color:#2b91af;font-size:10pt;mso-bidi-font-family:&#39;Times New Roman&#39;;mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN;"> MobileObject</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;"><br />{<br /></span><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp; </span>public</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">&nbsp;</span><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">string</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">&nbsp;MoreData&nbsp;{&nbsp;</span><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">get</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">;&nbsp;</span><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">set</span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">;&nbsp;}<br /></span><span lang="EN" style="font-family:Consolas;color:#333333;font-size:12pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">}</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;background:white;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;mso-background-themecolor:background1;"><span lang="EN" style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">&nbsp;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;background:white;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;mso-background-themecolor:background1;"><span lang="EN" style="font-family:Consolas;color:#333333;font-size:12pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-ansi-language:EN;">Any other thoughts?</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;">&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, August 13, 2010</h2><p>In that case you need to manage the object graph correctly. A child object isn&#39;t state - it is a child. IMobileObject has get/set methods for state, and a separate set of methods for children.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>AaronH replied on Wednesday, August 18, 2010</h2><p>Does anyone have a sample they could point me to?&nbsp; I found the OnGetChildren() and OnSetChildren(), but not sure what to do with them.</p>
<p>Thanks!</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, August 18, 2010</h2><p>Look at MobileObject, MobileList, MobileDictionary, etc. You will have to duplicate most of the code in one or more of those classes to do what you want.</p>
<p>There are no standalone samples for how to build your own classes. We didn&#39;t set out to create a general&nbsp;purpose serializer - we set out to create something that meets the needs of CSLA - so the CSLA serializable base classes are the best and only samples out there.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
