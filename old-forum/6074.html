<html><header><title>Got the new book, got the latest code, got questions...</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Got the new book, got the latest code, got questions...</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6074.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dctc42 posted on Friday, January 02, 2009</h2><P>...I'll start with an easy one first.</P>
<P>Why was the Parent property in business base marked as internal?</P>
<P>I've used this property in application code (cast to a concrete bo type), is this considered bad design?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lalsteris replied on Friday, January 02, 2009</h2><P>Hi,</P>
<P>With respect to your question about bad design - I wouldn't say that&nbsp;it is bad, but some may consider it a bit&nbsp;"smelly", ie., it COULD indicate some design problems.&nbsp; But then again, if you've considered that this is the best way to go, then it could be okay for the particular case you are coding for.</P>
<P>The Domain Driven Design (DDD)&nbsp;approach is to reference all children of the aggregate through the aggregate root.&nbsp; It's fine to have transitory direct references to children from code outside of the aggregate, however, in general you should channel all referencing through the root.&nbsp; This helps keep references under control, avoiding any potential memory and invalid reference problems.</P>
<P><EM>"An <SPAN class=docEmphSmaller>AGGREGATE</SPAN> is a cluster of associated objects that we treat as a unit for the purpose of data changes. Each <SPAN class=docEmphSmaller>AGGREGATE</SPAN> has a root and a boundary. The boundary defines what is inside the <SPAN class=docEmphSmaller>AGGREGATE</SPAN>. The root is a single, specific <SPAN class=docEmphSmaller>ENTITY</SPAN> contained in the <SPAN class=docEmphSmaller>AGGREGATE</SPAN>. The root is the only member of the <SPAN class=docEmphSmaller>AGGREGATE</SPAN> that outside objects are allowed to hold references to, although objects within the boundary may hold references to each other." - Domain Driven Design, by&nbsp;Eric Evans</EM></P>
<P>So, I guess what I am getting at is - if you've got a reference to the child already, shouldn't you also already know who the parent is (since you would have obtained it through the root)?&nbsp; But, like I said, you could be addressing a corner case in which case your current design&nbsp;could be&nbsp;perfectly valid.</P>
<P>Leigh</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dctc42 replied on Wednesday, January 07, 2009</h2><P>This makes sense from a desing perspective. I have a pretty complex object hierarchy and took the easy way out in this particular case. The aggregate root in my case would be an abstract base document class but in most of the concrete object children I need the concrete type. Casting the parent property to the desired type looked like a reasonable compromise.</P>
<P>Do you know if this is why the property visibility was changed?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, January 07, 2009</h2><P>The Parent property used to be protected, now it is protected internal. We broadened the scope slightly because it was necessary for some other part of CSLA.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dctc42 replied on Thursday, January 08, 2009</h2><P>Ok, my mistake. I missunderstood the effect of making the property protected internal. </P>
<P>Thanks</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
