<html><header><title>basic deferred delete question</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>basic deferred delete question</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/905.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>akabak posted on Tuesday, August 15, 2006</h2><br>I've got a web application that requires almost a two-part commit for all database saves. Basically what happens is I've got a multi-part form where each part can be edited individually and then a single save button that commits those edits to the database. Currently I'm just storing the edited business object in the session variable whenever it changes with an edit to any of the form parts and then saving that business object to the database when the user clicks the save button. It works correctly on all edits. I've got a cancel button that invalidates the session variable, reloads the object from the database, and rebinds all data controls. This works correctly as well.<br><br>My problem is how to handle the deletion of a child object from a bound grid? I understand that I have to implement deferred deletion somehow. I tried to overload the remove method to take an id of the child and then add that child to the deleted list instead of calling the remove (obj) method on the businesslistbase, but then it doesn't appear as deleted in the UI.<br><br>I know this is a basic question, and the answer is probably somewhere in the book (I'm using the C# 2005 version) or the sample code, but I can't find it. Any help would be greatly appreciated.<br><br><br>amanda<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, August 15, 2006</h2>Amanda,<br><br>The Remove( obj ) from BusinessListBase should provide the functionality already.&nbsp; That method will remove the item from the list, and add it to the deletedList.&nbsp; <br><br>Try using the Remove( obj ) method and see if that works; the reason your method is not is likely because you're not rasing any ListChanged events.<br><br>Your object will actually be deleted when you call Save on the subclass of BLB.<br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>akabak replied on Tuesday, August 15, 2006</h2>You're absolutely right. I was sure it was flowing all the way through to the deleteself method, but I was wrong. Thanks for your quick reply.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
