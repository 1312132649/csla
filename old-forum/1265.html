<html><header><title>what is the best practice for updating a large bo</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>what is the best practice for updating a large bo</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1265.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dstarkey posted on Tuesday, September 19, 2006</h2>I have a large employee object with approximately 70 properties and corresponding database fields.&nbsp; This employee object also contains a few bo child classes as well.&nbsp; My question is it better to build the update sql string within the bo or call a sproc that requires each of these properties as input parms?&nbsp; My idea to build the update would retrieve an original bo from the database and compare it to the bo in memory.&nbsp; Another constraint that may force me to implement in this fashion is the fact that some fields are designated as key fields and can only be update on approval.&nbsp; So I already have to check if any key fields have been changed, so it would not be too difficult to build this update sql string on the fly.&nbsp; Any input regarding this is greatly appreciated.&nbsp; For example: An&nbsp;address change would only send/update address fields in the database.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RRorije replied on Wednesday, September 20, 2006</h2><P>My (maybe naive) idea would be to keep track of the data retrieved from the database in the dataportal_fetch, by using a variable for each column in the database. When you create the update string you only need to update the values that are changed, i.e. different than the values retrieved from the database. Probably this is also possible using stored procedures, but I do not know how.</P>
<P>However, I could imagine that any senior programmer, which I am not ;),&nbsp;could come up with a better idea.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JHurrell replied on Wednesday, September 20, 2006</h2>I have a few questions.<br><br>Do you really need to update all of those 70 fields within a single transaction? If so, would it be possible to break the 70 fields into a smaller set of objects that would then be children of a larger employee object?<br><br>Employee (EditableRoot)<br>&nbsp;&nbsp; EmployeeContactInformation (EditableChild)<br>&nbsp;&nbsp; EmployeeResume (EditableChild)<br>&nbsp;&nbsp; EmployeeCompensation (EditableChild)<br>&nbsp;&nbsp; EmployeeSupervisor (EditableChild)<br><br>If they don't need to be part of a larger transaction, could you break the properties into a set of smaller objects? <br><br>Employee (EditableRoot)<br>EmployeeContactInformation (EditableRoot)<br>EmployeeResume (EditableRoot)<br>EmployeeCompensation (EditableRoot)<br>EmployeeSupervisor (EditableRoot)<br><br>Even though your database may be flat and all the properties exist in a single table, you can still update only the fields you need.<br><br>- John<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
