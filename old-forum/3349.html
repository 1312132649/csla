<html><header><title>UndoableBase's CopyState() </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>UndoableBase's CopyState() </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3349.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>SunilKutty posted on Wednesday, August 08, 2007</h2><P>I was going through UndoableBase's CopyState() method, it uses reflection to make a deep copy of objects and stores into a stack. <BR><BR>I was wondering why not use binary serialization to make the deep copies and store into a stack and use reflection to restore state. </P>
<P>Am I missing something?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, August 08, 2007</h2><P>Binary serialization always returns a new instance of the object on deserialization. If you used that, every time you called CancelEdit() you'd have to unbind and rebind all your objects to the UI - which would make n-level undo useless for support of data binding.</P>
<P>The code in UndoableBase is able to restore the object's previous state "in-place" so the object reference remains valid and no rebinding is required - and this technique then works with data binding.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
