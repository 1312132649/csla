<html><header><title>Converting Silverlight to HTML5 - What to do about validations</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Converting Silverlight to HTML5 - What to do about validations</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10674.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Savij posted on Monday, September 12, 2011</h2><p>Hello All,</p>
<p>I am hoping someone here can help shed some light on using CSLA with today&#39;s hot idea of client-side web. I am going to try to convert an existing project from silverlight 4 to HTML5. I chose a small project I already have running but it is a complex project. </p>
<p>I have a question about how to handle validations. Currently the project generates a help desk type form for users to fill out when they are having issues. The form is dynamic in that it reads values from a database table and build the form for the user. So, if the user is having trouble sending email from their PC they would end up at a form asking for information about communications. They would choose email from a dropdown control. This would make the email address required. If they chose something else email might not be required. Some of the validations are client side and some are server side.</p>
<p>So in the new client-side project, lets say I generate an email help desk form as stated above. I might create a jquery validation to make sure the email is required. Also, if I needed to do a server side validation to check let say if a user account is locked in AD, I would need an Ajax/jquery call to the server. So it looks like my validations need to be moved to the client code so jquery works. But what about all the logic in CSLA. It works fine for Silverlight, but needs to be migrated to the client for HTML5? </p>
<p>How does this all work? I was under the impression that if I had a solid database and middle tier, that my client technology could be easily swapped. I have been able to change from Silverlight to Wpf and even web forms and win forms work well. When I move to a more client centric model it seems to collide with my design. Am I doing something wrong?</p>
<p>Thanks,</p>
<p>Jeff</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tmg4340 replied on Monday, September 12, 2011</h2><p><div style='padding-left: 50px;background-color:silver'><b>Savij<br></b>
<p>How does this all work? I was under the impression that if I had a solid database and middle tier, that my client technology could be easily swapped. I have been able to change from Silverlight to Wpf and even web forms and win forms work well. When I move to a more client centric model it seems to collide with my design. Am I doing something wrong?</p>
</div></p>
<p>Are you doing something wrong?&nbsp; Nope... welcome to the world of frustration generated by going to the &quot;hot idea&quot; of HTML5/JS.&nbsp; <img src="http://forums.lhotka.net/emoticons/emotion-1.gif" alt="Smile" /></p>
<p>None of your .NET code will be worth a darn in the HTML-based,&nbsp;client-side web world.&nbsp; That&#39;s been the case for quite some time, and it likely will continue to be.&nbsp; It &quot;works in web forms&quot; probably because you were employing a &quot;block mode&quot; - i.e. let the folks enter what they want on the page, verify it all on the server when they hit &quot;submit&quot;&nbsp;(where your CSLA rules take over), and let the ASP.NET infrastructure do the work of highlighting/marking the bad data.&nbsp; Something similar would be the case here as well, though you&#39;d lose&nbsp;some of what the ASP.NET infrastructure takes care of for you.&nbsp; If you want something more interactive, you&#39;ll either have to do a bunch of AJAX calls, or take all your CSLA validation code and translate it into client-side JS.&nbsp; That would be copied code, BTW - you&nbsp;still obviously want to validate the data again on the server.</p>
<p>(And if you&#39;re going that route, I highly recommend you stick with some framework like jQuery validation - unless you really like writing a lot of cross-browser-compatible JavaScript...)</p>
<p>There is no tool I know of that takes .NET code and dynamically generates JS to stream to a browser.&nbsp; I have heard of a couple of projects, but I don&#39;t think they were dynamic (i.e. run-time), and what little I remember indicated the results were less-than-ideal.&nbsp; Given the complexity of the CSLA validation subsystem, I don&#39;t expect any project would do well.</p>
<p>If you look at Rocky&#39;s response to my post about the upcoming BUILD conference, you&#39;ll see his expectations for CSLA in an HTML5/JS world - primarily as a set of server-side services.&nbsp; For client interactions, you&#39;re on your own, and likely will continue to be for some time.&nbsp; Perhaps we&#39;re wrong.&nbsp; But I wouldn&#39;t hold my breath.</p>
<p>HTH</p>
<p>- Scott</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>damianslee replied on Tuesday, May 22, 2012</h2><p>Hi,<br />I&#39;ve been looking at something similar the last week. &nbsp; &nbsp;</p>
<p>With MVVM, and data binding in knockout.js or Kendo UI, the design/implementation of the single page web application is becoming very similar to how it is done in Silverlight. &nbsp; I think that is what you meant by &quot;client side web&quot;. &nbsp; </p>
<p>So the web page never refreshes, it is like thicker client, withs comms in the background. &nbsp; And instead of downloading silverlight .xap modules, its downloading .js modules.</p>
<p>I&#39;m using Silverlight CSLA, looking to support mobile devices.</p>
<p>&nbsp;</p>
<p>I&#39;m thinking now, how hard is it to implement a csla.js with similar concepts to silverlight csla. &nbsp; Which would have the BusinessBase, BusinessListBase, MobileFormater, data binding support... &nbsp;</p>
<p>&nbsp;</p>
<p>any one elses thoughts?</p>
<p>&nbsp;</p>
<p>damian</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>damianslee replied on Tuesday, May 22, 2012</h2><p>and also having the similar CSLA, N level Undo concepts in javascript, or BeginEdit, Apply, which would then push it to the data portal on the server. &nbsp; &nbsp;Similar to how it works in silverlight CSLA.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, May 23, 2012</h2><p>Another interesting part that may be possible to do is support for the RemoteAttribute to have javascript call into CSLA&nbsp;rule engine.</p>
<p>If you create business rules that&nbsp;do not rely on the business object (only uses InputPropertyValues) and CSLA offers a custom controller class that creates it&#39;s own RuleContext this should be possible. </p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
