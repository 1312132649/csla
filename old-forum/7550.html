<html><header><title>Need help with Security and Roles</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Need help with Security and Roles</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7550.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>nj609eagle posted on Tuesday, September 01, 2009</h2><P>In our old home-grown architecture, we did a lot of permission testing in the front end.&nbsp;There was no way to handle it within the business object.</P>
<P>Moving to CSLA we really like the idea of doing this in the business object.&nbsp; The problem is when an object is being used within a different application.&nbsp; </P>
<P>For example, we have a Membership system. The Membership systems is the central point for all People across all of the enterprise applications.&nbsp; The membership system has a permission called "CanEditSSN" this permission is in one of several Roles, say "Clerk" and "Admin".&nbsp; All of the role checking when using the Person object in the membership system works.&nbsp; Now we are&nbsp;going to use &nbsp;that Person object in another application, called "NewsLetters".&nbsp; NewsLetters also has a role called "Admin", but that role does not include "CanEditSSN" in the Person Object.&nbsp; Additionally, if the Person is in the Role of "Clerk" or "Admin" in the Membership System, and they are using the NewsLetters system, then they "CanEditSSN"</P>
<P>I'm sure i'm not the first person to come across this.&nbsp; Any help or direction would be greatly appreciated</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Wednesday, September 02, 2009</h2><P>In your Identity BO you assign the roles and permissions during log in and store the Identity for re-use. </P>
<P>You could add a test to the code that assigns roles and permissions&nbsp;to see if you are in AppX or AppY and then add fake roles and permissions as required for that app (since they do not really exist for that app.) Then your Identity will work for that app.&nbsp;e.g. you can ask it if it HasPermission("x") and get back True/False.</P>
<P>Joe</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nj609eagle replied on Wednesday, September 02, 2009</h2><P>After reading this article <SPAN><A href="http://www.lhotka.net/weblog/PermissionbasedAuthorizationVsRolebasedAuthorization.aspx"><FONT color=#800080>http://www.lhotka.net/weblog/PermissionbasedAuthorizationVsRolebasedAuthorization.aspx</FONT></A>)</SPAN></P>
<P><SPAN>I think we are going to load our "Roles" with the permissions from all applications.&nbsp; Using a Naming convention like Application.Permission.&nbsp; Might me a little more to load upfront but should be able to pass it around when necessary</SPAN></P>
<P><SPAN>Then we can use these in the AuthorizationRules and CanEdit areas</SPAN></P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
