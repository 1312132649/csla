<html><header><title>Factory Pattern for Business Objects</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Factory Pattern for Business Objects</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1047.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>paresh posted on Monday, August 28, 2006</h2><P>Hi,</P>
<P>Has anyone implemented factory pattern to instantiate busines objects using CSLA? Just to eloborate: Let's say we have a Project business object. I have another business object called MyProject class that inherits from Projetc business class. When I create a new instance of Project, using "NewProject"static method of Project class, I need to look up in a configuration file to see if if I should instantiate Project class or MyProject class. MyProject class will override some of the business logic in the Project class. So, in short I need a polymorphic behavior in the business objects. </P>
<P>I can do this by using DataPortal's <FONT color=#0000ff size=2>private</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>static</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>object</FONT><FONT size=2> Create(</FONT><FONT color=#008080 size=2>Type</FONT><FONT size=2> objectType, </FONT><FONT color=#0000ff size=2>object</FONT><FONT size=2> criteria) method in Project's class NewProject method instead of using generic create method. But this will require changing the CSLA code to make Create(<FONT color=#008080 size=2>Type</FONT><FONT size=2> objectType, </FONT><FONT color=#0000ff size=2>object</FONT><FONT size=2> criteria) public from private in the DataPortal class. M</FONT></FONT>y goal is not to make any changes to the CSLA framework code if possible. </P>
<P>I would appreciate if anyone can suggest better alternatives. </P>
<P>Thanks,</P>
<P>Paresh</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Fabio replied on Monday, August 28, 2006</h2>Hi.<br>Don't gaste your time...<br>Factory is the base funcionality of <a href="http://www.springframework.net/">http://www.springframework.net/</a> <br>Bye.<br>Fabio.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, August 28, 2006</h2>I think the simplest solution is to use a seperate Factory object - based on either ReadOnlyBase (most efficient) or CommandBase (less efficient, but perhaps more obvious).<br><br>To get a project, you'd do this:<br><br>x = ProjectFactory.GetProject(mycriteria)<br><br>The ProjectFactory class is based on ROB, so it just goes to the app server and runs DataPortal_Fetch. DataPortal_Fetch does whatever work needed to determine which type of project to create, and it creates/loads that object. NOTE that you now have two objects on the server: the ProjectFactory and the specific Project. The new Project object is stored in a private field within ProjectFactory, so it is returned to the client along with the ProjectFactory object.<br><br>The GetProject method can then return the value from that private field as a result.<br><br>This is not unlike the Exists() command object discussed in the book in Chapter 8 - except that this returns an object rather than a Boolean result.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
