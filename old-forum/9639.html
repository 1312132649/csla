<html><header><title>Saving Not being called IN BindingListBase(Of Items, Item)</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Saving Not being called IN BindingListBase(Of Items, Item)</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9639.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>vbbeta posted on Thursday, October 14, 2010</h2><p>I have this odd thing behavior in my BB </p>
<p><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:16pt;">When the BB IsNew then the insert works just fine saves all the BusinseBase(of xyz) objects&nbsp;and the BUsinessBindingList(Of) but when temp = Transaction. Save is called and then i add new items to the binding list of items all the settings is just fine IsDirty on the proper objects is being set to true and the IsNew is being set to true If necessary and the override in the parent object works also fine but the call to save to the Method in the Parent class doesn&rsquo;t work even though the IsDirty is true</span></p>
<p>
<p><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:16pt;">
<p><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:16pt;">Then I tried to pass in a parameter in the save Method to base.save (True) then i get the stackOverfllow which sounds to be a bug that the an error accord in &quot;Csla.dll&quot; and&nbsp;stackTrace says not able to evaluate the error</span></p>
<span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:16pt;">please if any info just let me know </span></span></p>
</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, October 14, 2010</h2><p>The overload of Save you are calling is to force an update instead of an insert. It is designed to support web and service scenarios with a stateless server.</p>
<p>But it isn&#39;t intended to support a root level list, because a list is never inserted, it is only ever updated. BusinessListBase only has an update operation, which loops through the child objects to insert/update/delete them based on their state.</p>
<p>In fact, the forceUpdate parameter never affects any child objects, only the root. It is entirely up to you to make your child objects have the correct state.</p>
<p>And that&#39;s not normally a problem in the web or service scenarios, because you usually don&#39;t have child objects - at least not in the same way you do with a smart client. That&#39;s just due to the stateless nature of the web.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>vbbeta replied on Thursday, October 14, 2010</h2><p>Thanks rocky for the response </p>
<p class="MsoNormal" style="margin:0in 0in 10pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">By the way I&rsquo;m 1 of the clients that didn&#39;t wait to get your valuable training product I just bought it when the price was still hi </span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">&nbsp;</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">Anyways I see the think about not passing in the overload but, what about the question I had in the post about the save of the root is not being saved even though the IsDirty property is turned on, why is save method not being triggered</span></p>
<p>
<p>&nbsp;</p>
</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, October 15, 2010</h2><p>I guess I don&#39;t understand what you are saying then.</p>
<p>You override Save and call base.Save(true), but Save is never called? If that is what you are saying then it sounds like a bug in your UI code.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>vbbeta replied on Friday, October 15, 2010</h2><p><span style="font-family:Consolas;color:black;font-size:14pt;mso-bidi-font-family:Arial;">I guess I didn&rsquo;t explain what my problem is.</span></p>
<p><span style="font-family:Consolas;color:black;font-size:14pt;mso-bidi-font-family:Arial;">&nbsp;Let me explain you the whole scenario I have a class that contains transaction &ldquo;BB(Of Transaction) and each transaction has a list of items and each item that is being entered in the BLB(Of Items, Item) should be saved when I&rsquo;m calling the save from the Transaction class </span></p>
<p><span style="font-family:Consolas;color:black;font-size:14pt;mso-bidi-font-family:Arial;">So when the transaction is new then the save method works just fine but as soon the Transaction with its child objects is being inserted the save method is no longer working even though I override the IsDirty property to be Mybase.IsDirty OrElse items.IsDirty <span style="mso-spacerun:yes;">&nbsp;</span>the DataPortal_Update is not being invoked for some reason <span style="mso-spacerun:yes;">&nbsp;</span></span></p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, October 15, 2010</h2><p>If you are using managed backing fields for your child references, all this should be entirely automatic. You shouldn&#39;t need to override IsDirty, because it already does the right thing.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
