<html><header><title>EditLevel on databound object not decreasing</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>EditLevel on databound object not decreasing</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4576.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>FrodeNilsen posted on Friday, March 28, 2008</h2><p>I've read a couple of threads on undolevels on databound objects and lazy loading, so I realize this is sometimes a tricky area. Still, I have a situation here I cannot quite understand.</p>
<p>I have a TabControl with a lot of standard controls and UserControls on it. The Form with the TabControls has a lot of datasources (14) and the UserControls themselves have often several datasources on the same objects or children of these objects. Needless to say, this causes a headache when I need to know what datasources hold what business objects databound and / or in edit mode.</p>
<p>But look at this case. I have an object called NotatInfo which is a property of _avtaleInfo. _avtaleInfo is in turn a child (property) of the root object. I call EndEdit() on ALL 14 DataSource objects through the EndDatabindEdit() methods. The EditLevel on the NotatInfo object is then as expected 0 and BindingEdit is false. But look at what happens when I attempt an BeginEdit followed by CancelEdit! The EditLevel is upped to 1, does not go back to zero, but instead BindingEdit is suddenly true! What gives?</p>
<p>I know NotatInfo isn't bound anywhere else, but the parent and grandparent is/might be. Is this the problem? I did call EndEdit on the parent, so I don't quite understand why this should be a problem.</p><p></p>Any hints appreciated! Illustrating screenshots below.<font size="2">
</font><p></p>
<p><font size="2">Application sketch: </font><a href="http://i30.tinypic.com/330tgt0.gif"><u><font color="#0000ff" size="2">http://i30.tinypic.com/330tgt0.gif</font></u></a></p><font size="2">
</font><p>debug step 1: <a href="http://i27.tinypic.com/fntzp.gif"><u><font color="#0000ff" size="2">http://i27.tinypic.com/fntzp.gif</font></u></a></p><font size="2">
</font><p>debug step 2: <a href="http://i31.tinypic.com/2qxay5v.gif"><u><font color="#0000ff" size="2">http://i31.tinypic.com/2qxay5v.gif</font></u></a></p><font size="2">
</font><p>debug step 3: <a href="http://i30.tinypic.com/20ud7r8.gif"><u><font color="#0000ff" size="2">http://i30.tinypic.com/20ud7r8.gif</font></u></a></p><font size="2">
</font><p>debug step 4: <a href="http://i26.tinypic.com/2qbertk.gif"><u><font color="#0000ff" size="2">http://i26.tinypic.com/2qbertk.gif</font></u></a><font size="2"> </font></p>
<p>&nbsp;<i>edit:</i> I'm using CSLA v3.0.4</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
