<html><header><title>Serializable BindingList&lt;T&gt; with Remoting</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Serializable BindingList&lt;T&gt; with Remoting</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3560.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>daa posted on Tuesday, September 18, 2007</h2>In tne CSLA there is a generic class named <b>ExtendedBindingList&lt;T&gt;</b> wich is the base class off all Entity collections. It is a very good idea but there is one great problem that i found. In remoting model in general just Interfaces are exposed to client. Exemple if i have an entity named <b>MyEntity: IMyEntity</b> the client will just know <b>IMyEntity</b>. And then we can not expose associated collection like this <b>MyEntityCollection: ExtendedBindingList&lt;MyEntity&gt;</b>. In that case we will be forced to expose <b>MyEntity </b>to client. Therefore we should expose the interface <b>IMyEntityCollection</b> and we should have <b>MyEntityCollection: ExtendedBindingList&lt;IMyEntity&gt;,IMyEntityCollection</b>. Another great problem due to the .NET Framework is that if we want to expose <b>MyEntityCollection </b>by <b>remoting </b>his base classe must be <b>MarshalByRefObject </b>but our class have already a base class: <b>ExtendedBindingList&lt;T&gt;</b> where <b>T </b>is my entity type.<br><br>Is there any one who know how to solve this problem?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, September 18, 2007</h2><P>ExtendedBindingList is not intended as a base class for most business collections. You should use BusinessListBase instead. Read Chapter 7 for details.</P>
<P>ExtendedBindingList isn't really the base either. The base is BindingList&lt;T&gt;, from .NET itself. the <EM>CSLA .NET Version 2.1 Handbook</EM> covers the details on ExtendedBindingList. All it does is add an event to BindingList&lt;T&gt; to simplify one particular scenario.</P>
<P>Also, CSLA is not intended to allow you to create "anchored" objects that inherit from MRBO. It is designed to support <EM>mobile objects</EM> that move across the network as necessary. Only the data portal uses MRBOs. See chapters 1 and 4 for details.</P>
<P>It is hard to imagine why you'd want to expose a collection from a server, where that collection couldn't leave the server. That'd be like the old COM collections, and that was a nightmare for almost everyone.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>daa replied on Tuesday, September 18, 2007</h2>Thank a lot for your quick answer. I totally agree with you that i should use BusinessListBase to implement collection off business objects. Sorry for the error.<br><br>The only reason to expose collection from the server and Interface to client is to have an easy maintance. But while reading your post i thing that i have found the solution off my problem: i can expose directly to client collections like this: MyEntityCollection: BusinessListBase&lt;MyEntityCollection, IMyEntity&gt;<br>It's not a perfect solution because this solution oblige to deploy dll to client if i update my business entity collections implementation. If i'd expose only interface i just need to update server. That's why i wanted to expose collection from the server.<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, September 18, 2007</h2><P>Yes, CSLA requires that the business assembly be on the client machine. That's a core part of the architecture.</P>
<P>If you don't want to do that, then CSLA probably isn't for you.</P>
<P>But no one seriously considers exposing a collection from a server directly. If you make your collection an MBRO then every row and every property that is accessed from the client will require a call to the server. The performance of such a solution would be <EM>terrible</EM>. I made a lot of money fixing exactly this issue back in the days of COM (where people would expose collections from a server just like this).</P>
<P>The accepted alternative to the CSLA approach is to use services, where the "collection" is returned to the client as a blob of XML that is parsed into an array of dumb data objects (DTOs).</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>daa replied on Tuesday, September 18, 2007</h2>I definitly find my question's answer with your help off course. I've tested to expose Buisiness Entity interfaces to client. For the collection i expose directly the assembly to client and now those collection aren't MBRO and every thing work fine. Client can create directly new business object collection without calling server or call Service from the server to retrieve a particular collection according to a criteria. Now i just have to test performance.<br><br>Thanks for all<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
