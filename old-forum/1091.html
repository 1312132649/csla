<html><header><title>Insert View </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Insert View </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1091.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>MadGerbil posted on Thursday, August 31, 2006</h2><P>I'm using a multi-view control to display a collection and the accompanying insert view (like Project Roles in the book) and it works wonderfully, except when I go to add a 2nd role - when I do that the BoundField still contains the information from the last role I added.&nbsp; What do you have to do to clear out the old values?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Thursday, August 31, 2006</h2><P>The only way I have been able to achieve what you are asking is by resetting the DataSourceID of the CslaDataSource that is supplying the data to the control.&nbsp; I don't know if that is the only way - but it seems to work.</P>
<P>Remember, it is not just the matter of having clean and empty textboxes, you in fact want to trigger the Select event on the CslaDataSource, which will bind the controls to the "new" object with the blank instance variables.</P>
<P>Jav</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>MadGerbil replied on Thursday, August 31, 2006</h2><P>Thank you...that triggered a thought.</P>
<P>I was doing the rebind in the iteminserted event but I was only doing the rebind on the grid control and not the entire multiview.&nbsp; Once I fixed that, the problem was solved.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Friday, September 01, 2006</h2><P>There is another twist in the story, I'm afraid.&nbsp; I am finding out that with FormViews (and probably also with DetailViews - as RolesEdit), the only way to go from one record to the next - and have the textboxes clear up - is to:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1. Turn the Paging on<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2. Use a Collection in the CslaDataSource<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3. Provide a way&nbsp;in the DataSource for the FormView to get a total count of Records (rows).&nbsp; (If not, the FormView will load the entire collection everytime you go from one page to the next.)</P>
<P>Jav</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Friday, September 01, 2006</h2><P>I thought Rocky just provided a way to get the total count.</P>
<P>Maybe a new Interface.</P>
<P>Check his website for changes to 2.1.</P>
<P>Here is his comment in another thread: (Paging in Windows Forms)</P>
<P>"In CSLA .NET 2.1 there's a new interface, IReportTotalRowCount (currently in Csla.Web, but moving to Csla.Core). You can implement this interface on your collection if you want the collection to only contain a page of data - but still be able to report how many total rows of data are available overall. This is used by CslaDataSource to help implement paging.<BR><BR>You'd probably need similar data when implementing paging in a Windows Forms grid."<BR></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Friday, September 01, 2006</h2><P>Hi Joe,</P>
<P>Long time no see.&nbsp; <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" /></P>
<P>I was told of the same thing in another thread today.&nbsp; Do you now if going from 2.0.3 to 2.1 involves reworking of the code in the business layer.&nbsp; I stayed away from 2.1because that was the impression I got when Rocky first made it available.&nbsp; I just didn't feel I had the time to refactor hundreds of my objects one more time.</P>
<P>Jav</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, September 01, 2006</h2>Jav,<br><br>I think at most you'll have to change your custom Rule / Authorization methods to be static instead of instance methods (well, alternately find AddRule and change to AddInstanceRule, if you want to keep the instance level rules).&nbsp; Other than that, I don't think there are any other breaking changes.&nbsp; <br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Friday, September 01, 2006</h2><P>Thanks for sharing that AJ.&nbsp; Ordinarily, I try to keep up with Rocky, but this time there were deadlines to meet.&nbsp; With what you are saying, it may be worthwhile for me to set aside a little time for this.</P>
<P>Jav</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
