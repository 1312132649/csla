<html><header><title>Newbie to CSLA</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Newbie to CSLA</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2041.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Inquistive_Mind posted on Thursday, December 28, 2006</h2><P>Hello All,</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I have just started to learn CSLA and right now working on the sample code given the book and PT demo.I have created a authetication demo using the PTPrincipal and PTIdentity classes.The demo worked fine but now that I want to build on I have created some sample forms to check create a roles based application.However now the application does not perform the Authentication at all.It is giving me the following error.</P>
<H2><I>Could not find stored procedure 'usp_GetFid'.</I> </H2>
<P><FONT face="Arial, Helvetica, Geneva, SunSans-Regular, sans-serif "><B>Description: </B>An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. <BR><BR><B>Exception Details: </B>System.Data.SqlClient.SqlException: Could not find stored procedure 'usp_GetFid'.<BR><BR><B>Source Error:</B> <BR><BR>
<TABLE bgColor=#ffffcc>

<TR>
<TD><CODE><PRE>Line 112:                    cm.Parameters.AddWithValue("@Username", criteria.Username);
Line 113:                    cm.Parameters.AddWithValue("@Password", criteria.Password);
<FONT color=red>Line 114:                    using (SqlDataReader dr = cm.ExecuteReader())
</FONT>Line 115:                    {
Line 116:                        if (dr.Read())</PRE></CODE></TD></TR></TABLE></FONT></P>
<P>&nbsp;</P>
<P>The stored procedure name is GetFid and not usp_GetFid.Previously it used usp_Fid but now it uses GetFid.Eventhough in the Dataportal&lt;fetch&gt; method the commandtext has GetFid and the database has GetFid as the stored procedure name the demo is still looking for usp_GetFid.In fact I changed the name to usp_GetFid and ran the demo&nbsp;still it does not work.</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Any information regarding this would be of great help.</P>
<P>Thanks,</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Thursday, December 28, 2006</h2>Is the initial catalog set correctly in your connection string?<br>asp caches the assemblies, so just updating your bin folder won't do it sometimes. Try altering your web.config. Just adding an empty line (or removing it) from the bottom of the file will do. This forces the whole app to reset. Beware though that this kills any open sessions you may have.<br><br>Andr√©s<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Inquistive_Mind replied on Thursday, December 28, 2006</h2><P>Thank you for your reply.</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I did check for the changes you suggested but it does not work.I am stilling getting the same error.I checked for the database name, just added a blank line in config file,restarted the whole application,IIS and the Database.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Inquistive_Mind replied on Thursday, December 28, 2006</h2><P>Hello,</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT color=#0000ff>I got it to work</FONT>.I had to recreate the entire project and then imported all the files.Thanks for the&nbsp;information you gave me.It was certainly helpful.<img src="/emoticons/emotion-1.gif" alt="Smile [:)]" />&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
