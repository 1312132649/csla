<html><header><title>Finding the topmost object in the parentage</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Finding the topmost object in the parentage</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6892.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>PaulNakata posted on Friday, May 01, 2009</h2>I'm in the process of converting an app that was using CSLA 1.5 to Csla 3.5, and I'm running into some issues involving object parentage. <br><br>I have some code that used to loop through the objects to get the "parentmost" object. We had to do this because we don't know if the object being passed to us is a parent or child object until we use it. <br><br>Originally, the code looked like this: <br><blockquote><font face="Courier New">CSLA.Core.IDirtyObject b = bb;</font><br><br><font face="Courier New">while ((b != null) &amp;&amp; (b.Parent != null)) </font><br><font face="Courier New">&nbsp;&nbsp;&nbsp; {</font><br><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp; b = b.Parent;</font><br><font face="Courier New">&nbsp;&nbsp;&nbsp; }</font><br></blockquote>But I can't figure out a way to make this work using 3.5...&nbsp; doing this: <font face="Courier New"><br></font><blockquote><font face="Courier New">BusinessBase&lt;T&gt; b = bb;</font><br><font face="Courier New">while ((b != null) &amp;&amp; (b.Parent != null))</font><br><font face="Courier New">&nbsp;&nbsp;&nbsp; {</font><br><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b = b.Parent;</font><br><font face="Courier New">&nbsp;&nbsp;&nbsp; }</font><br></blockquote>Gives an error trying to access the Parent property ("Cannot access internal property 'Parent' here"). <br><br>Any suggestions? <br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, May 01, 2009</h2><P>Parent is a protected property, not public. If you want external code to walk up the object graph, you'll need to expose a public Parent property (or equivalent) in your own class structure.</P>
<P>If you have your own custom base classes between the CSLA base classes and your business classes this is pretty easy to do. And I do recommend creating such base classes as a general rule, because that's the primary extensibility model for CSLA.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Friday, May 01, 2009</h2>http://forums.lhotka.net/forums/thread/25961.aspx<br /><br />Not 100% sure this is what you're looking for, but it sounds similar to something that I was looking to do in the thread above. </div><div style='padding:0 15 3 15;background-color:powderblue'><h2>PaulNakata replied on Tuesday, May 05, 2009</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>skagen00:</strong></div><div>http://forums.lhotka.net/forums/thread/25961.aspx

Not 100% sure this is what you're looking for, but it sounds similar to something that I was looking to do in the thread above.</div></BLOCKQUOTE><br><br>A combination of this and Rocky's suggestion to use intermediary classes worked perfectly. Thank you both for your help! <br><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
