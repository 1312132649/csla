<html><header><title>MobileList as ItemSource for AutoCompleteBox Issues</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>MobileList as ItemSource for AutoCompleteBox Issues</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9088.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav posted on Tuesday, June 15, 2010</h2><p>I have a mobileList&lt;&gt; of Root objects&nbsp;as ItemSource of an AutoCompleteBox.&nbsp; I allow the user to Add/Remove items to the list.&nbsp; Everything works great except for one thing. </p>
<p>In the ViewModel, I have these methods<br />&nbsp;&nbsp;&nbsp;&nbsp; public void AddCityToCityList(string city)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (city.Length &gt; 0)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; City obj= City.NewCity(city);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;obj.BeginSave(SaveComplete);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; private void SaveComplete(object sender, SavedEventArgs e)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;this.Model.Add((City)e.NewObject);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>I know that the city is added to the list, but it does not show up in the AutoCompleteBox list unless I reload the CityList by by doing this:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.Model.Add((City)e.NewObject);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BeginRefresh(&quot;GetCityList&quot;);<br />which&nbsp;makes this line:&nbsp; &nbsp;this.Model.Add((City)e.NewObject); pretty much redundent.</p>
<p>Some of my lists are pretty large.&nbsp; I would love to&nbsp;have the AutoCompleteBox list get updated with the ListChanged event when I Add/Remove the items - but I cannot figure out how.</p>
<p>Jav<br />&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>ajj3085 replied on Tuesday, June 15, 2010</h2><p>In your Add method on the model, can you raise a NotifiyCollectionChanged event?&nbsp; I don&#39;t believe MobileList implements the INotifyCollectionChanged interface.&nbsp; May need to make a subclass that will.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Tuesday, June 15, 2010</h2><p>I believe Csla Collection classes inherit from BindingList&lt;T&gt; and therefore implement IBindingList interface which supports ListChanged Event.&nbsp; Based on that, one can say that Csla collection classes do not implement INotifyCollectionChanged.&nbsp; But I would assume that ListChanged event is being raised by the MobileList as an item is either added or removed.&nbsp; Is the AutocompleteBox (Or a ListBox or DataGrid)&nbsp;not supposed to respond to it by refreshing the ItemSource.&nbsp; Or is there something I am supposed to do?</p>
<p>Jav</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
