<html><header><title>Data access ebook Encapsulated Invoke sample OrderEdit class inconsistency</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Data access ebook Encapsulated Invoke sample OrderEdit class inconsistency</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10234.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina posted on Monday, April 04, 2011</h2><p>I&#39;m curious why the orderedit class uses inconsistent methods for updating children.&nbsp; The DataPortal_Insert() method has this in relation to the child collection:</p>
<p>&nbsp;<i>//FieldManager.UpdateChildren(this);<br />&nbsp;DataPortal.UpdateChild(OrderLineItems, this);</i></p>
<p>&nbsp;</p>
<p>And the DataPortal_Update() method has this in relation to the child collection:</p>
<p><i>FieldManager.UpdateChildren(this);</i></p>
<p>&nbsp;</p>
<p>However, the OrderLineItems is not marked with RelationshipTypes.Child in it&#39;s property declaration so if I&#39;m reading this right the DataPortal_Update() call to fieldmanager updatechildren will never cause orderlineitems to update.</p>
<p>The data access ebook seems to indicate (and if anyone can confirm this I&#39;d appreciate it) that there&#39;s no effective difference in using either method other than when you directly call DataPortal.Updatechild you have control over the order that multiple child objects get updated.</p>
<p>So is this a typo or intentional or..?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, April 05, 2011</h2><p>This is errata (a bug). I&#39;ve forwarded it to <a href="mailto:errata@lhotka.net">errata@lhotka.net</a> so it is in the list of things to be fixed.</p>
<p>The properties should be marked with the Child enum value in any case.</p>
<p>I think the explicit child update in the one case is there because I needed to copy-paste some example code into the ebook, and forgot to undo the change in the code before commiting to svn...</p>
<p>Thank you for your help!</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina replied on Tuesday, April 05, 2011</h2><p>So your intent would have been to use FieldManager.Updatechildren and mark the property accordingly?&nbsp; As opposed to calling DataPortal.UpdateChild...etc.</p>
<p>Is there any difference between the two other than having control over the order of child updates if calling DataPortal.UpdateChild directly?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, April 05, 2011</h2><p>That is correct.</p>
<p>There is no difference. FieldManager.UpdateChildren just loops through all the child objects and calls DataPortal.UpdateChild on each one. You have no control over the order this occurs, and that is why you&#39;d use the explicit option - to gain that control.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina replied on Tuesday, April 05, 2011</h2><p>Hi Rocky, one thing that came to mind reading your responses:</p>
<p>Is there any reason to set the properties child enum value if we never update children via FieldManager.UpdateChildren? </p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, April 05, 2011</h2><p>Persistence and lazy loading are the two areas that use the value right now. But you never know what we might do in the future :)</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina replied on Tuesday, April 05, 2011</h2><p>Thanks Rocky!</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
