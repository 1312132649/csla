<html><header><title>One code base, many db's... how to handle connection strings??</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>One code base, many db's... how to handle connection strings??</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2140.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rhinoishere posted on Monday, January 15, 2007</h2><P>As the subject says, where I work we have one code base.&nbsp; Many customers with different databases use this same code base, so obviously we have to utilize a different connection string based upon who is logged in at any given time.&nbsp; </P>
<P>How does one prevent having to pass the connection string into the business object in that case?&nbsp;</P>
<P>So, in other words, you end up with code like this:</P>
<P>Customer cust = Customer.GetCustomer(<STRONG>sConnectString</STRONG>, custId);</P>
<P>Unfortunately, I don't think there is any way around this. Am I wrong? </P>
<P>thanks</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, January 15, 2007</h2>Where is the information that maps a username to a database connection?&nbsp; I would think you'd use that, and then stick the resulting connection string into Csla.ApplicationContext.<br><br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>hurcane replied on Monday, January 15, 2007</h2>Our customers typically have two databases, a "live" database and a "training" database. We have created a custom user/principal objects and included a property to retrieve the connection string. The connection string is assigned during the login process and stays associated with that user as long as they log in.<br><br>Instead of passing the connection string around through parameters, all business objects get it from the user object, which is automatically passed from the client.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, January 16, 2007</h2>So the BO decides the connection string?&nbsp; It should probably just put it in Csla.ApplicationContext then, and your BOs can pull the data from there.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
