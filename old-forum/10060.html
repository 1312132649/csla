<html><header><title>Invalidate list </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Invalidate list </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10060.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>vijay posted on Friday, February 11, 2011</h2><p>CSLA 3.5/SQL Server 2005/.Net 3.5</p>
<p>Hello,</p>
<p>I am using CSLA NameValueListBase object to store values, used to populate drop down list. If user changes list value using my application i can invalidate this list, so next access to NVL will go to SQL Server to populate the list.</p>
<p>There is a server process running and updates the table data, and application is not aware that data has changed. How do i invalidate my NVL in this scenario.</p>
<p>Thanks</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JonnyBee replied on Friday, February 11, 2011</h2><p>Hi,</p>
<p>1. Cache only for a certain time period (timespan) - then reload data. <br />&nbsp;&nbsp;&nbsp; Ex store the timestamp in static variable with the list and check for expiry in static factory method.</p>
<p>2. If this is not sufficient then remove cache - always load data from database. </p>
<p>I&#39;d prefer to keep the cache/nocache code in the NVL - the client (or UI) using the list should not be bothered with this. </p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Saturday, February 12, 2011</h2><p>Basically what Jonny said.</p>
<p>I personally though used to have the BO do the caching, but I&#39;ve found when I reuse the BOs in another application often the caching requirements are different.</p>
<p>For example take an Ad that&#39;s both on a public site and available for viewing in a preview tool.&nbsp;&nbsp;The previewer tool wants to always see the current data (to verify if the mistakes have been corrected, for example).&nbsp; However the public site should cache the Ad.&nbsp; Mostly its unchanged, so you want caching, not always hit the database.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Saturday, February 12, 2011</h2><p>Hi,</p>
<p>And for the preview tool you _could_ always call InvalidateCache first to make sure you get a fresh reload or create separate factory method for direct access that just calls InvalidateCache and Get...</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Saturday, February 12, 2011</h2><p>If it something like a memcache server you&#39;re using to cache, that would invalidate the cache for the public site as well.&nbsp;&nbsp; Personally both seem to be less maintainable than simply having the application worry about whether it wants caching or not.</p>
<p>Whether you cache or not is not a business decision at all; its a technical decision developers make based on the needs of the&nbsp;particular application.&nbsp; The business layer is fine for business requirements, but the business directly care about caching.&nbsp; They care about either high performance or accurate data.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
