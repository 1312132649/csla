<html><header><title>What am I missing?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>What am I missing?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1482.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 posted on Friday, October 13, 2006</h2>Hi,<br><br>I implemented a SmartBoolean class.&nbsp; One of the things it does is accept Yes / No as well as true and false as valid strings.<br><br>I added an implicit cast operator as well, from string to SmartBoolean.<br><br>The problem is when I'm editing through a grid (UltraGrid).&nbsp; I type yes, tab off the cell and get an error saying it can't convert String to SmartBoolean.&nbsp; I thought the casting would solve this problem, but it's not.<br><br>Any ideas why its not getting converted?<br><br>Thanks<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>hurcane replied on Friday, October 13, 2006</h2>What property of SmartBoolean are you binding to? Our SmartData classes all have a Value property that matches the base data type. We typically bind to the Value property. We have a zero-filled integer class that is stopred as a string in the database. Some forms treat it as an integer and others treat it as a string. Value is type Integer, but StringValue is type string. We bind the UI to the appropriate property.<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, October 16, 2006</h2>I was exposing SmartBoolean itself.<br><br>I've almost got it completed using this code in the forms constructor:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#008000">ValueList </font>taxableValues;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; taxableValues =<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ItemsGrid.DisplayLayout.ValueLists.Add( <font color="#ff0000">"TaxableValueList"</font> );<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; taxableValues.ValueListItems.Add( <font color="#0000ff">new </font><font color="#008000">SmartBoolean</font>( <font color="#0000ff">true </font>), "<font color="#ff0000">Yes"</font> );<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; taxableValues.ValueListItems.Add( <font color="#0000ff">new</font> <font color="#008000">SmartBoolean</font>( <font color="#0000ff">false </font>), <font color="#ff0000">"No"</font> );<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ItemsGrid.DisplayLayout.Bands[ <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 ].Columns[ <font color="#ff0000">"Taxable"</font> ].ValueList = taxableValues;<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Monday, October 16, 2006</h2><P>You may want to look at the source code for the UltraGrid and see what basis it uses for the conversion - if you can.&nbsp; In other cases, where I have dug into an Infragistics control to see how it is doing things, I have found that&nbsp;they've relied&nbsp;on a TypeConverter for the class (defined using the System.Component.TypeConverter attribute).&nbsp; If it doesn't find one it will use the default converter which, obviously, isn't going to know how to convert from a string to your SmartBoolean.</P>
<P>That's my guess.&nbsp; You will most likely need to implement your own SmartBooleanConverter : TypeConverter and mark your class with the attribute to get the functionality you want with the UltraGrid.</P>
<P>Hope that helps.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, October 16, 2006</h2>Pirate, thanks.<br><br>I didn't think about implementing a type converted, although I did implement the IConvertable interface.. which obviously didn't work..&nbsp; I'll give that a shot.<br><br>Andy<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
