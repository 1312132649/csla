<html><header><title>Suggested upgrade to CommonRules.IntegerMinValue </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Suggested upgrade to CommonRules.IntegerMinValue </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2990.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>snesbitt posted on Tuesday, June 05, 2007</h2><P>I am using 2.1.4 and would like to suggest a minor enhancement to the CommonRules.IntegerMinValue rule.&nbsp; The way it is currently coded, the int value of the property is obtained from the object&nbsp;using:</P><FONT color=#0000ff size=2>
<P>int</FONT><FONT size=2> value = (</FONT><FONT color=#0000ff size=2>int</FONT><FONT size=2>)</FONT><FONT color=#008080 size=2>Utilities</FONT><FONT size=2>.CallByName(target, e.PropertyName, </FONT><FONT color=#008080 size=2>CallType</FONT><FONT size=2>.Get);</FONT></P>
<P><FONT size=2><FONT size=3>If the property in question is a short (Int16) instead of int (Int32) there is a runtime error because the value cannot be unboxed in this way.&nbsp; An alternative which works with a Int16 property is to use Convert.ToInt32().</FONT></FONT></P>
<P><FONT size=2><FONT size=3>However, to make&nbsp;this rule&nbsp;suitable and reusable&nbsp;for the 16, 32 and 64bit numeric values, I suggest creating a new rule called NumericMinValue and NumericMaxValue, with corresponding RuleArgs classes&nbsp;that accept Int64 values intead of int.&nbsp; Using Convert.ToInt64() in&nbsp;this implementation&nbsp;will allow short, int and long properties to evaluated with the one CommonRule.</FONT></FONT></P>
<P>I have created a custom rule in my project to support this, but I think this has value if it is part of the core framework.&nbsp; Any chance this can sneak into 3.0?<FONT size=2></P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>William replied on Wednesday, June 06, 2007</h2>You can use the generic version:<br><ul><li><font face="Courier New" size="2">CommonRules.MaxValue&lt;T&gt;</font></li><li><font face="Courier New" size="2">CommonRules.MinValue&lt;T&gt;</font></li></ul><br>Regards,<br>William<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>snesbitt replied on Wednesday, June 06, 2007</h2>Thank you - I can't believe I didnt notice those rules yesterday <img src="/emoticons/emotion-10.gif" alt="Embarrassed [:$]" /></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
