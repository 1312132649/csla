<html><header><title>Remoting issue</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Remoting issue</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4278.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 posted on Friday, February 01, 2008</h2>Hi,<br><br>I have a static Dictionary, which stores LineItemOptions for a given LineItem subclass.&nbsp; It works very similar to the implementation of per-type business rules.&nbsp; AddLineItemOptions is virtual and called in the base constructor, and types may override this to call a RegisterOption method on the LineItemOptionManager.<br><br>Things work well in local mode, but when I try to use a remoted data portal I hit a problem; it seems that the client side of things, RegisterOption is never called.&nbsp; The constructors never seem to be called, so when asked if there are options the answer is always No.<br><br>If I then create a NEW instance of a derived line item with options, the constructors ARE called and from then on out any time that derived class is asked if there are options for the type, the answer is Yes.<br><br>What's going on here?&nbsp; I'm using Andres' compressed remoting proxy.<br><br>Thanks<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, February 01, 2008</h2>Ok, I see that Rocky has hit this as well.&nbsp; I need to do the call in OnDeserialized as well.&nbsp; I'll see if that fixes my issue.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, February 01, 2008</h2>Hmm... that doesn't seem to work either.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, February 01, 2008</h2>Ok.. Csla also does this after UndoChangesComplete... kind of interesting.&nbsp; I'll see if that helps me too.<br><br><br>EDIT:&nbsp; Still no joy...<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, February 01, 2008</h2>I must be overdue for vacation.<br><br>Of course, I'm on Vista, and I was running VS 2008 as an admin so I could have permission to connect to the w3scv or whatever process I need to so I can step into the "server" code as well.&nbsp; And of course the Admin instance of VS can't see the network drive to get the latest version of my assembly, so even though the code did fix the issue and a new version of the assembly was build, vs continued to use the one already local which was now four versions behind.<br><br>So.. doing the same thing that Rocky did in Csla for AddBusinessRules fixes my issues as well...<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
