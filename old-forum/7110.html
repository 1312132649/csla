<html><header><title>EditableRootListBase -  The Correct Way</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>EditableRootListBase -  The Correct Way</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7110.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Pieter posted on Tuesday, June 16, 2009</h2>Hi All,<br><br>Is this the correct way to implement an EditableRootListBase in version 3.6? :<br><br>using System;<br>using System.Linq;<br>using Csla;<br>using Csla.Data;<br><br>[Serializable()]<br>public class Customers : EditableRootListBase&lt;Customer&gt;<br>{<br>&nbsp;&nbsp;&nbsp; #region&nbsp; Business Methods <br>&nbsp;&nbsp;&nbsp; protected override object AddNewCore()<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Customer item = Customer.NewCustomer;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Add(item);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return item;<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; #endregion<br><br>&nbsp;&nbsp;&nbsp; #region&nbsp; Factory Methods <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; public static Customers GetList()<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return DataPortal.Fetch&lt;Customers&gt;();<br>&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp; private Customers()<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.AllowEdit = true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.AllowNew = true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.AllowRemove = true;<br>&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp; #endregion<br><br>&nbsp;&nbsp;&nbsp; #region&nbsp; Data Access <br><br>&nbsp;&nbsp;&nbsp; private void DataPortal_Fetch()<br>&nbsp;&nbsp;&nbsp; {<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; using (var mgr = ContextManager&lt;Northwind.DALLinq.NorthwindDataContext&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .GetManager(Northwind.DALLinq.Database.Northwind, false))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RaiseListChangedEvents = false;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.AddRange(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; from row in mgr.DataContext.Customers<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; select Customer.GetCustomer(row.CustomerID)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RaiseListChangedEvents = true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }//using<br><br><br>&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp; #endregion<br>}<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rfcdejong replied on Tuesday, June 16, 2009</h2>It looks fine to me, ignoring the data access part.<BR>And assuming u ment to use the BusinessListBase&lt;T, C&gt; as base class.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Pieter replied on Wednesday, June 17, 2009</h2>Can you please give an example of the correct data access part and what you mean by BusinessListBase&lt;T, C&gt; as base class ?<br><br>Thanks.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rfcdejong replied on Wednesday, June 17, 2009</h2><P>Sorry for confusing you, u could use a EditableRootListBase as well (if u want to edit directly in the root). </P>
<P>I didn't look at your data access, it could be working.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
