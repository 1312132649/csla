<html><header><title>Reapplying instance authorization rules when an object's state changes.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Reapplying instance authorization rules when an object's state changes.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9825.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ndbrow posted on Thursday, December 02, 2010</h2><p>We are currently using version 3.8 and plan on upgrading to 4.0 within the next couple of months.</p>
<p>We have a situation where at the time an object is created, certain fields are not editable because of the state it was in at the time of creation.&nbsp; However, the user can change the state of the object which requires that certain fields are now editable.&nbsp; We have if statements inside the AddInstanceAuthorizationRules which will make certain properties editable or read-only based on the object&#39;s current state.</p>
<p>How can we reapply the instance authorization rules when the state changes so that the fields enable and disable when appropriate?</p>
<p>&nbsp;</p>
<p>Thanks.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>ajj3085 replied on Thursday, December 02, 2010</h2><p>Don&#39;t use AddInstanceAuthorizatoinRules.&nbsp; If its not already removed from Csla 4, it likely will be.</p>
<p>In Csla 3.8, you can override CanWriteProperty and make it take the users role and the state of the object into account.&nbsp; In Csla 4, you can write an AuthorizationRule subclass which will do largely the same thing, but it will be a bit cleaner, especially if the properties which are not writable at first look at different parts of the objects state.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
