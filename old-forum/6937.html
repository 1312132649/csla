<html><header><title>Save using CslaActionExtender stops subsequent raise of ListChanged event</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Save using CslaActionExtender stops subsequent raise of ListChanged event</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6937.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Topher posted on Tuesday, May 12, 2009</h2>Windows form using Csla version 3.6.2-090322.<br /><br />I have an editable root object which contains an editable child collection. If I add an item to the child collection before I save using the CslaActionExtender control, everything works as expected. Once I save, the datagridview my child collection is bound to no longer displays any new items and the ListChanged event on the binding source my child collection is bound to stops firing.  The new items are added to the child collection though. <br /><br />Should I be manually raising some sort of event when I add items to the collection so the datagridview displays the newly added item?<br /><br />I'm adding the new item to my child collection using the following code:<br />  Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click<br />    _rootObject.ChildCollection.AddChild()<br />  End Sub<br /><br />The AddChild method looks like this:<br />  Public Sub AddChild()<br />    Me.Add(Child.NewChild())<br />  End Sub<br /><br />The NewChild method is a factory method which calls DataPortal.CreateChild(Of Child), which then calls an Overload of Child_Create() so I can load a few default values.<br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, May 12, 2009</h2><P>You might need to force a ListChanged event?</P>
<P>You might also consider using the pre-existing AddNew() capability rather than inventing one.</P>
<P>Override AddNewCore() in your collection, and then call the AddNew() method on the collection to trigger it. The code is similar to what you are doing now, but fits directly into the pre-defined .NET collection model.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Topher replied on Wednesday, May 13, 2009</h2>Thanks a ton Rocky! That worked great and once you mentioned AddNewCore, I looked it up in your business objects book and sure enough, there it was :)<br /><br />By the way, I just started working with the framework and it's fantastic! Thanks for all your effort.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
