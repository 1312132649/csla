<html><header><title>CSLA 2.1.1.1 BusinessListBase, edit level not being set when binding.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA 2.1.1.1 BusinessListBase, edit level not being set when binding.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10283.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Matthew posted on Tuesday, April 19, 2011</h2><p>I&#39;m looking at&nbsp; the edit level of a list and its children after binding.&nbsp; Its my understanding the edit level on the list should go to from 0 to1 when I bind(assign to ultragrid&#39;s <span style="text-decoration:underline;">datasource</span>).&nbsp; But instead the edit level on the children in the list is incremented(not the lists edit level)&nbsp;- every time I assign to datasource there incremented by one , if either called from the list or directly on the children, they don&#39;t reset in a certain situation.</p>
<p>So if I don&#39;t explicitly call BeginEdit on the list it never takes the snapshot and canceledit on the list fails to undo additions. Also if I call begin edit on the list after binding(were the children&#39;s edit level is only effected), it increments the childrens edit level once more to 2( 0 - 1 from binding).&nbsp; I have confirmed that the BusinessBase classes are marked as children, so I don&#39;t understand the disconnect, the binding to the grid bypasses the list leaving its edit level at 0 and the children are set to 1.</p>
<p>This is only symptoms/part of another bug I&#39;m getting were I simply open the form containing the grid and then cancel, then go back in the grid and add an item, cancel again and a child fails to revert. Any other circuimstance seems to work correctly.</p>
<p>Please can I get some verification on what the behavior should be when binding to a data grid/ultra grid, and any other suggestions would be helpfull.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, April 19, 2011</h2><p>I suggest updating to at least 2.1.4, or better yet to 3.0.5. You can read the change logs for the versions higher than 2.1.1 on the download page (<a href="http://www.lhotka.net/cslanet/download.aspx">http://www.lhotka.net/cslanet/download.aspx</a>), but I recall making a lot of changes and some bug fixes to the way edit levels and data binding interact during that time.</p>
<p>Somewhere in there (probably in 3.0) is when I quit trying to fight data binding, and decided to completely conform to the way the DataTable works. That was a big deal, because Windows Forms data binding is really inflexible, and it turns out that conforming to the DataTable behavior is the only way to make things really work...</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
