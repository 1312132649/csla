<html><header><title>Coderush templates - Property template</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Coderush templates - Property template</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5931.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>GunnarIF posted on Wednesday, December 03, 2008</h2><P>Hi!</P>
<P>Does anyone know about any&nbsp;Coderush templates for CSLA and is willing to share them?</P>
<P>I created&nbsp;some Coderush templates to create&nbsp;CSLA 3.5 properties. Hope it is usefull&nbsp;for someone. </P>
<P>I named this one "cslap" (CSLA Property)</P>
<P>private «Link(string)» «Link(PropertyName,FormatFieldName,PropertyNameFromField)»;<BR>private static PropertyInfo&lt;«Link(string)»&gt; «Link(PropertyName)»Property = RegisterProperty&lt;«Link(string)»&gt;(typeof(«Class»), new PropertyInfo&lt;«Link(string)»&gt;("«Link(PropertyName)»"));<BR>public «FieldStart»«Caret»«Link(string)»«BlockAnchor»«FieldEnd» «FieldStart»«Caret»«Link(PropertyName)»«BlockAnchor»«FieldEnd»<BR>{<BR>&nbsp;get { return GetProperty&lt;«Link(string)»&gt;(«Link(PropertyName)»Property, «Link(PropertyName,FormatFieldName,PropertyNameFromField)»); }<BR>&nbsp; set { SetProperty&lt;«Link(string)»&gt;(«Link(PropertyName)»Property, ref «Link(PropertyName,FormatFieldName,PropertyNameFromField)», value); }<BR>}&nbsp;</P>
<P>This one is named "cslap?Type?".&nbsp;So you can&nbsp;type&nbsp;for example "cslai"&nbsp;to create CSLA integer property.</P>
<P>private «Link(«?Get(Type)»)» «Link(PropertyName,FormatFieldName,PropertyNameFromField)»;<BR>private static PropertyInfo&lt;«Link(«?Get(Type)»)»&gt; «Link(PropertyName)»Property = RegisterProperty&lt;«Link(«?Get(Type)»)»&gt;(typeof(«Class»), new PropertyInfo&lt;«Link(«?Get(Type)»)»&gt;("«Link(PropertyName)»"));<BR>public «FieldStart»«Caret»«Link(«?Get(Type)»)»«BlockAnchor»«FieldEnd» «FieldStart»«Caret»«Link(PropertyName)»«BlockAnchor»«FieldEnd»<BR>{<BR>&nbsp;get { return GetProperty&lt;«Link(«?Get(Type)»)»&gt;(«Link(PropertyName)»Property, «Link(PropertyName,FormatFieldName,PropertyNameFromField)»); }<BR>&nbsp; set { SetProperty&lt;«Link(«?Get(Type)»)»&gt;(«Link(PropertyName)»Property, ref «Link(PropertyName,FormatFieldName,PropertyNameFromField)», value); }<BR>}</P>
<P>Regards,</P>
<P>Gunnar</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>martin_s replied on Thursday, April 30, 2009</h2>Thank you, very useful<br><br>Is there any chance of updating the template to the new property code style introduced in CSLA.NET 3.6 ?<br>I'm having a go at the moment, but I'm on the steep edge of the CSLA learning curve so I'm not sure it's correct.<br><br>Cheers<br>Martin.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>GunnarIF replied on Thursday, April 30, 2009</h2>This should work, I think<br /><br />--- cslap?Type? (A property of a type, cslaps is as string type)<br /><br />private &#171;Link(&#171;?Get(Type)&#187;)&#187; &#171;Link(PropertyName,FormatFieldName,PropertyNameFromField)&#187; = &#171;Link(PropertyName)&#187;Property.DefaultValue;<br />private static PropertyInfo &#171;Link(PropertyName)&#187;Property = RegisterProperty(p => p.&#171;Link(PropertyName)&#187;);<br />public &#171;FieldStart&#187;&#171;Caret&#187;&#171;Link(&#171;?Get(Type)&#187;)&#187;&#171;BlockAnchor&#187;&#171;FieldEnd&#187; &#171;FieldStart&#187;&#171;Caret&#187;&#171;Link(PropertyName)&#187;&#171;BlockAnchor&#187;&#171;FieldEnd&#187;<br />{<br />	get { return GetProperty(&#171;Link(PropertyName)&#187;Property, &#171;Link(PropertyName,FormatFieldName,PropertyNameFromField)&#187;); }<br />  set { SetProperty(&#171;Link(PropertyName)&#187;Property, ref &#171;Link(PropertyName,FormatFieldName,PropertyNameFromField)&#187;, value); }<br />}<br /><br /><br />----- cslasdp (Smardate Property)-----<br /><br />private SmartDate &#171;Link(PropertyName,FormatFieldName,PropertyNameFromField)&#187; = &#171;Link(PropertyName)&#187;Property.DefaultValue;<br />private static PropertyInfo &#171;Link(PropertyName)&#187;Property = RegisterProperty(p => p.&#171;Link(PropertyName)&#187;);<br />public string &#171;FieldStart&#187;&#171;Caret&#187;&#171;Link(PropertyName)&#187;&#171;BlockAnchor&#187;&#171;FieldEnd&#187;<br />{<br />	get { return GetPropertyConvert(&#171;Link(PropertyName)&#187;Property, &#171;Link(PropertyName,FormatFieldName,PropertyNameFromField)&#187;); }<br />	set { SetPropertyConvert(&#171;Link(PropertyName)&#187;Property, ref &#171;Link(PropertyName,FormatFieldName,PropertyNameFromField)&#187;, value); }<br />}<br /><br /><br />-- cslacp (Child property using the fieldmanager)<br /><br />private static PropertyInfo &#171;Link(Child)&#187;Property = RegisterProperty(typeof(&#171;Class&#187;), new PropertyInfo("&#171;Link(Child)&#187;"));<br />public &#171;FieldStart&#187;&#171;Caret&#187;&#171;Link(ChildType)&#187;&#171;BlockAnchor&#187;&#171;FieldEnd&#187; &#171;FieldStart&#187;&#171;Caret&#187;&#171;Link(Child)&#187;&#171;BlockAnchor&#187;&#171;FieldEnd&#187;<br />{<br />	get { <br />		if(!FieldManager.FieldExists(&#171;Link(Child)&#187;Property))<br />			LoadProperty(&#171;Link(Child)&#187;Property, &#171;Link(ChildType)&#187;.NewChild());<br />		return GetProperty(&#171;Link(Child)&#187;Property); <br />	}<br />}</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
