<html><header><title>ReadOnlyListBase vs. SortedBindingList Sorting Columns ASP:GridView</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>ReadOnlyListBase vs. SortedBindingList Sorting Columns ASP:GridView</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4094.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>jstevens posted on Thursday, December 27, 2007</h2><SPAN>I have been working with CSLA for several months now with good success (currently using 3.03 version with WCF).&nbsp; I have read all of the CSLA books and&nbsp;combed through the forums, but can anyone clarify whether you can apply column sorting on a ASP:GridView using ReadOnlyListBase?&nbsp; I am creating a page similar to ProjectTracker ResourceList.aspx <SPAN>&nbsp;</SPAN>for a mortgage company where I only need to sort by clicking on the header names of the columns of Id, Name, Date, LoanAmount.<SPAN>&nbsp; </SPAN>From what I have read, if I use SortedBindingList, I will have to pull the entire collection back.<SPAN>&nbsp; </SPAN>Am I misunderstanding this?<SPAN>&nbsp; </SPAN>Can anyone suggest the best method for accomplishing this?<SPAN>&nbsp;&nbsp;</SPAN></SPAN>&nbsp;</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Friday, December 28, 2007</h2><P>A ReadOnly Collection cannot sort itself in CSLA 2.0 and higher. IN 1.x there was some code added by the community to allow this but Rocky decided that "Views" on the collection was a better way to go and the community has followed that path.</P>
<P>So you should retrieve your ROC from the DB and then create a SortedBindingList based on the ROC. Then the datasource of your grid is set to the SortedList.</P>
<P>There is no need to "pull the entire collection back" just because you are sorting. If you plan to show the user different data then you need to re-fetch that data and then re-sort it. If you happen to have "all the data" then you can just re-sort it.</P>
<P>Joe</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jstevens replied on Friday, December 28, 2007</h2><SPAN><FONT face=Arial>Thanx Joe!&nbsp; So if I understand you correctly, I can use SortedBindingList to only pull back the 4 fields&nbsp;I mentioned in the post above?&nbsp; Will I have to programmatically sort the collection for Ascending/Descending, or will the automatic features of the asp:gridview allowsorting="True" simply work?&nbsp; Also, I am seeing under the CSLA datasource: typesupportssorting="True" - does this only apply to SortedBindingList collections?&nbsp; Finally, have you worked with ObjectListView and what are your thoughts on it?</FONT></SPAN></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Friday, December 28, 2007</h2><P>1. You use a ROC (Read Only Collection) to pull data from the DB. It could have an inner Info class with whatever fields you want. Even just those 4.</P>
<P>2. Once you have the ROC in hand you can then use a SortedBindingList.</P>
<P>3. I have not used a gridview with a csladtasource so I cannot tell you how to make them work together. I programmatically sort my BOs.</P>
<P>4. I have used the ObjectListView extensively. In fact I avoided SortedBindingList and FilteredBindingList because I wanted to use a single control to do both. And the ObjectListView supports sorting on multiple properties which was critical. SoretdBindingList only sorts on one property. I like ObjectListView a lot. But there are some quirks to be aware of: When casting the Item back to your class you have to add the .Object property to then end of the expression. The actual item is nested one level deeper than you might expect. It was also very slow in a couple of situations. I think I had to replace it with a FilteredBindingList to get it to work well enough. I think the author (Brian Criswell)was going to tweak the code but he has been very busy moving to LA from England and starting a new job.</P>
<P>Joe</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jstevens replied on Monday, December 31, 2007</h2><P><SPAN>Joe,<o:p></o:p></SPAN></P>
<P><SPAN>I got the ObjectListView to work over the weekend - thanx for your all your help, your code worked perfectly with Brian's ObjectListView class.&nbsp; I am posting back on the public forum so everyone can see the final solution I came up with.&nbsp; Turns out that no matter what BO&nbsp;I used, the header sorting capabilities of the ASP:GridView will not work without a <SPAN>ridiculous</SPAN> amount of code (SQL queries, reflection, arraylist, etc.).&nbsp;The wizard capabilities of the control are great, but the control doesn’t expose the necessary events needed to bind the data for web based gridview control sorting.<SPAN>&nbsp; </SPAN>So, I tried a couple of third party gridviews and found that <SPAN>Infragistics2.WebUI.UltraWebGrid version 7.1 worked out of the box.<SPAN>&nbsp; </SPAN>Should have tried this first – I could have saved two days worth of coding…</SPAN></SPAN></P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
