<html><header><title>WCF with HTTPS</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>WCF with HTTPS</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11750.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tcampney posted on Friday, December 14, 2012</h2><p>I&#39;m trying to deploy my first app with the newer CSLA (previously still using CSLA 2.x) and having an issue with https.&nbsp; When just using http, it works but via https I&#39;m getting this error:</p>
<p>{&quot;The provided URI scheme &#39;https&#39; is invalid; expected &#39;http&#39;.\r\nParameter name: via&quot;}</p>
<p>It is a WPF smart client application and the app server is hosted on IIS 6.&nbsp; I know the cert on the server should be fine as this is the same server we use for all of our other old CSLA apps using remoting and those all work fine via https.&nbsp; I&#39;ve tried to look at the sample and checked the CSLA 4 books, but everything just seems to use http.&nbsp; In my sever config below you&#39;ll see I&#39;ve added security mode=&quot;Transport&quot; as I&#39;ve found after searching other sources about WCF, but still no luck.</p>
<p>Any hints would be MUCH appreciated!</p>
<p>Here is my client config:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>
<p>&nbsp;&nbsp;&nbsp; &lt;add key=&quot;CslaDataPortalProxy&quot; value=&quot;Csla.DataPortalClient.WcfProxy, Csla&quot;/&gt;<br />&nbsp;&nbsp;&nbsp; &lt;add key=&quot;CslaDataPortalUrl&quot; value=&quot;<a href="https://test.acme.com/FormPFTest/WcfPortal.svc&quot;/">https://test.acme.com/FormPFTest/WcfPortal.svc&quot;/</a>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &lt;add key=&quot;CslaPropertyChangedMode&quot; value=&quot;Windows&quot;/&gt;&nbsp;&nbsp;&nbsp; </p>
<p>and here is my server config:</p>
<p>&nbsp;&nbsp;&nbsp; &lt;system.serviceModel&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;services&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;service name=&quot;Csla.Server.Hosts.WcfPortal&quot; behaviorConfiguration=&quot;returnFaults&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;endpoint contract=&quot;Csla.Server.Hosts.IWcfPortal&quot; binding=&quot;wsHttpBinding&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/service&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;service name=&quot;Csla.Server.Hosts.Silverlight.WcfPortal&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; behaviorConfiguration=&quot;returnFaults&quot; &gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;endpoint binding=&quot;basicHttpBinding&quot; bindingConfiguration=&quot;basicHttpBinding_IWcfPortal&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contract=&quot;Csla.Server.Hosts.Silverlight.IWcfPortal&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/service&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/services&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;bindings&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;basicHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;binding name=&quot;basicHttpBinding_IWcfPortal&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxReceivedMessageSize=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxBufferPoolSize=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxBufferSize=&quot;2147483647&quot;&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; &lt;security mode=&quot;Transport&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;transport clientCredentialType=&quot;None&quot; proxyCredentialType=&quot;None&quot; realm=&quot;&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;message clientCredentialType=&quot;Certificate&quot; algorithmSuite=&quot;Default&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp; &lt;/security&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; &lt;readerQuotas maxBytesPerRead=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxArrayLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxStringContentLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxNameTableCharCount=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxDepth=&quot;2147483647&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/binding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/basicHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;wsHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;binding name=&quot;wsHttpBinding_IWcfPortal&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxReceivedMessageSize=&quot;2147483647&quot;&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; &lt;security mode=&quot;Transport&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;transport clientCredentialType=&quot;None&quot; proxyCredentialType=&quot;None&quot; realm=&quot;&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;message clientCredentialType=&quot;Certificate&quot; algorithmSuite=&quot;Default&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp; &lt;/security&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; &lt;readerQuotas maxBytesPerRead=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxArrayLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxStringContentLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxNameTableCharCount=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxDepth=&quot;2147483647&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/binding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/wsHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/bindings&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;behaviors&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;serviceBehaviors&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;behavior name=&quot;returnFaults&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;serviceDebug includeExceptionDetailInFaults=&quot;true&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/behavior&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/serviceBehaviors&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/behaviors&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/system.serviceModel&gt;</p>
</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Friday, December 14, 2012</h2><p>Make sure server and client&nbsp;settings&nbsp;match. &nbsp;Set security mode=Transport on both sides.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tcampney replied on Friday, December 14, 2012</h2><p>If I understand how to do it, I think I&#39;ve set it on the server side with:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;wsHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;binding name=&quot;wsHttpBinding_IWcfPortal&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxReceivedMessageSize=&quot;2147483647&quot;&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; &lt;security mode=&quot;Transport&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;transport clientCredentialType=&quot;None&quot; proxyCredentialType=&quot;None&quot; realm=&quot;&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;message clientCredentialType=&quot;Certificate&quot; algorithmSuite=&quot;Default&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp; &lt;/security&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; &lt;readerQuotas maxBytesPerRead=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxArrayLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxStringContentLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxNameTableCharCount=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxDepth=&quot;2147483647&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/binding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/wsHttpBinding&gt;&nbsp; </p>
<p>So how do I go about setting it on the client side besides specifying https in the url?&nbsp; I haven&#39;t been able to find any reference and simply doing something like below just gives errors:</p>
<p>&lt;add key=&quot;CslaDataPortalUrl&quot; value=&quot;<a href="https://test.acme.com/FormPFTest/WcfPortal.svc&quot;%20security%20mode=&quot;transport&quot;%20/"><span style="color:#3366cc;">https://test.acme.com/FormPFTest/WcfPortal.svc&quot; security mode=&quot;transport&quot; /</span></a>&gt;</p>
<p>Would you happen to have a sample of how to set it on the client side?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tcampney replied on Friday, December 14, 2012</h2><p>I&#39;ve tried a couple things piecing together some pieces from all samples which lead me to the below config on the client.&nbsp; Still getting the same result.</p>
<p>&lt;appSettings&gt; <br />&nbsp;&nbsp;&nbsp; &lt;add key=&quot;CslaDataPortalProxy&quot; value=&quot;Csla.DataPortalClient.WcfProxy, Csla&quot;/&gt;<br />&nbsp;&nbsp;&nbsp; &lt;add key=&quot;CslaPropertyChangedMode&quot; value=&quot;Windows&quot;/&gt;<br />&lt;/appSettings&gt;</p>
<p>&lt;system.serviceModel&gt;<br />&nbsp;&nbsp;&nbsp; &lt;bindings&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;wsHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;binding name=&quot;wsHttpBinding_IWcfPortal&quot; maxReceivedMessageSize=&quot;2147483647&quot; receiveTimeout=&quot;00:10:00&quot; sendTimeout=&quot;00:10:00&quot; openTimeout=&quot;00:10:00&quot; closeTimeout=&quot;00:10:00&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;security mode=&quot;Transport&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;transport clientCredentialType=&quot;None&quot; proxyCredentialType=&quot;None&quot; realm=&quot;&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;message clientCredentialType=&quot;Certificate&quot; algorithmSuite=&quot;Default&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/security&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;readerQuotas maxBytesPerRead=&quot;2147483647&quot; maxArrayLength=&quot;2147483647&quot; maxStringContentLength=&quot;2147483647&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/binding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/wsHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/bindings&gt;&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &lt;client&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;endpoint name=&quot;WcfDataPortal&quot; address=&quot;<a href="https://test.acme.com/FormPF/WcfPortal.svc">https://test.acme.com/FormPF/WcfPortal.svc</a>&quot; binding=&quot;wsHttpBinding&quot; contract=&quot;Csla.Server.Hosts.IWcfPortal&quot; /&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/client&gt;<br />&nbsp;&lt;/system.serviceModel&gt;&nbsp; </p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Friday, December 14, 2012</h2><p>Essentially your client and server must match, so you need to use the same bindingConfiguration element on both sides, and does not look like you do.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tcampney replied on Friday, December 14, 2012</h2><p>I&#39;ve just now done a copy/paste from my web.config binding to my app.config binding to be 100% sure they match.&nbsp; I&#39;m still having the same issue.&nbsp; This is now by web.confg</p>
<p>&lt;services&gt;<br />&nbsp; &lt;service name=&quot;Csla.Server.Hosts.WcfPortal&quot; behaviorConfiguration=&quot;returnFaults&quot;&gt;<br />&nbsp;&nbsp;&nbsp; &lt;endpoint contract=&quot;Csla.Server.Hosts.IWcfPortal&quot; binding=&quot;wsHttpBinding&quot;/&gt;<br />&nbsp; &lt;/service&gt;<br />&lt;/services&gt;<br />&lt;bindings&gt;<br />&nbsp; &lt;wsHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp; &lt;binding name=&quot;wsHttpBinding_IWcfPortal&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxReceivedMessageSize=&quot;2147483647&quot;&gt;</p>
<p>&nbsp;&nbsp; &lt;security mode=&quot;Transport&quot;&gt;<br />&nbsp;&nbsp;&lt;transport clientCredentialType=&quot;None&quot; proxyCredentialType=&quot;None&quot; realm=&quot;&quot;/&gt;<br />&nbsp;&nbsp;&lt;message clientCredentialType=&quot;Certificate&quot; algorithmSuite=&quot;Default&quot; /&gt;<br />&nbsp;&nbsp; &lt;/security&gt;</p>
<p>&nbsp;&nbsp; &lt;readerQuotas maxBytesPerRead=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxArrayLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxStringContentLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxNameTableCharCount=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxDepth=&quot;2147483647&quot;/&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/binding&gt;<br />&nbsp; &lt;/wsHttpBinding&gt;<br />&lt;/bindings&gt;</p>
<p>And this is my app.config</p>
<p>&lt;bindings&gt;<br />&nbsp; &lt;wsHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp; &lt;binding name=&quot;wsHttpBinding_IWcfPortal&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxReceivedMessageSize=&quot;2147483647&quot;&gt;</p>
<p>&nbsp;&nbsp; &lt;security mode=&quot;Transport&quot;&gt;<br />&nbsp;&nbsp;&lt;transport clientCredentialType=&quot;None&quot; proxyCredentialType=&quot;None&quot; realm=&quot;&quot;/&gt;<br />&nbsp;&nbsp;&lt;message clientCredentialType=&quot;Certificate&quot; algorithmSuite=&quot;Default&quot; /&gt;<br />&nbsp;&nbsp; &lt;/security&gt;</p>
<p>&nbsp;&nbsp; &lt;readerQuotas maxBytesPerRead=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxArrayLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxStringContentLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxNameTableCharCount=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxDepth=&quot;2147483647&quot;/&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/binding&gt;<br />&nbsp; &lt;/wsHttpBinding&gt;<br />&lt;/bindings&gt;<br />&lt;client&gt;<br />&nbsp; &lt;endpoint name=&quot;WcfDataPortal&quot; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; address=&quot;<a href="https://test.acme.com/FormPF/WcfPortal.svc">https://test.acme.com/FormPF/WcfPortal.svc</a>&quot; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binding=&quot;wsHttpBinding&quot; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contract=&quot;Csla.Server.Hosts.IWcfPortal&quot; /&gt;<br />&lt;/client&gt;&nbsp;</p>
<p>With the copy/paste, they are now 100% identical but still having the same issue.&nbsp; I feel like I&#39;m going crazy :-)</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>tcampney replied on Friday, December 14, 2012</h2><p>OK, I finally found it.&nbsp; I found this link <a href="http://social.msdn.microsoft.com/Forums/eu/wcf/thread/ba6e21a7-9ab3-46b5-8240-5e3175af09ff">http://social.msdn.microsoft.com/Forums/eu/wcf/thread/ba6e21a7-9ab3-46b5-8240-5e3175af09ff</a>&nbsp;which pointed out what I was missing.&nbsp; In both the client and server configs, it seems to require the bindingConfiguration setting as well as binding setting.&nbsp; After adding that, it all worked.&nbsp; Just for anyone else&#39;s future reference below are my latest configs which now work.&nbsp; </p>
<p>App.config</p>
<p>&lt;bindings&gt;<br />&nbsp; &lt;wsHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp; &lt;binding name=&quot;wsHttpBinding_IWcfPortal&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxReceivedMessageSize=&quot;2147483647&quot;&gt;</p>
<p>&nbsp;&nbsp; &lt;security mode=&quot;Transport&quot;&gt;<br />&nbsp;&nbsp;&lt;transport clientCredentialType=&quot;None&quot; proxyCredentialType=&quot;None&quot; realm=&quot;&quot;/&gt;<br />&nbsp;&nbsp;&lt;message clientCredentialType=&quot;Certificate&quot; algorithmSuite=&quot;Default&quot; /&gt;<br />&nbsp;&nbsp; &lt;/security&gt;</p>
<p>&nbsp;&nbsp; &lt;readerQuotas maxBytesPerRead=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxArrayLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxStringContentLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxNameTableCharCount=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxDepth=&quot;2147483647&quot;/&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/binding&gt;<br />&nbsp; &lt;/wsHttpBinding&gt;<br />&lt;/bindings&gt;<br />&lt;client&gt;<br />&nbsp; &lt;endpoint name=&quot;WcfDataPortal&quot; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; address=&quot;<a href="https://test.acme.com/FormPF/WcfPortal.svc">https://test.acme.com/FormPF/WcfPortal.svc</a>&quot; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binding=&quot;wsHttpBinding&quot; <br />&nbsp;&nbsp;&nbsp;bindingConfiguration =&quot;wsHttpBinding_IWcfPortal&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contract=&quot;Csla.Server.Hosts.IWcfPortal&quot; /&gt;<br />&lt;/client&gt;</p>
<p>&nbsp;</p>
<p>Web.confg</p>
<p>&lt;services&gt;<br />&nbsp; &lt;service name=&quot;Csla.Server.Hosts.WcfPortal&quot; behaviorConfiguration=&quot;returnFaults&quot;&gt;<br />&nbsp;&nbsp;&nbsp; &lt;endpoint contract=&quot;Csla.Server.Hosts.IWcfPortal&quot; binding=&quot;wsHttpBinding&quot; bindingConfiguration =&quot;wsHttpBinding_IWcfPortal&quot;/&gt;<br />&nbsp; &lt;/service&gt;<br />&lt;/services&gt;<br />&lt;bindings&gt;<br />&nbsp; &lt;wsHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp; &lt;binding name=&quot;wsHttpBinding_IWcfPortal&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxReceivedMessageSize=&quot;2147483647&quot;&gt;</p>
<p>&nbsp;&nbsp; &lt;security mode=&quot;Transport&quot;&gt;<br />&nbsp;&nbsp;&lt;transport clientCredentialType=&quot;None&quot; proxyCredentialType=&quot;None&quot; realm=&quot;&quot;/&gt;<br />&nbsp;&nbsp;&lt;message clientCredentialType=&quot;Certificate&quot; algorithmSuite=&quot;Default&quot; /&gt;<br />&nbsp;&nbsp; &lt;/security&gt;</p>
<p>&nbsp;&nbsp; &lt;readerQuotas maxBytesPerRead=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxArrayLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxStringContentLength=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxNameTableCharCount=&quot;2147483647&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxDepth=&quot;2147483647&quot;/&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/binding&gt;<br />&nbsp; &lt;/wsHttpBinding&gt;<br />&lt;/bindings&gt;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
