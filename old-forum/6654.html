<html><header><title>Getting a grip on models</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Getting a grip on models</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6654.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>beerisgood posted on Monday, March 23, 2009</h2><P>So recently I decided to look up what all this "design pattern" stuff was all about.&nbsp; I'm particularly interested in Microsoft's M-V-VM pattern as I intend to use WPF for my interface.&nbsp; Clearly I need to rethink my business objects a little since there is a new level of abstraction introduced that I have never considered before.&nbsp; </P>
<P>For example, my Customer object is obviously intended to edit customer data.&nbsp; However, I know that on my customer edit form I'm going to display a list of active quotes, active projects, and any other useful information about the customer that the users might want at their fingertips.&nbsp; Currently, my Customer object contains these lists as properties.&nbsp; The fact that it is necessary to fully conceptualize what my edit form is going to look like before I can finish my business object is a clear indication that I'm doing something wrong.&nbsp; </P>
<P>So my question is, instead of having this object hierarchy in the business layer:</P>
<P>Customer, Customer.Quotes, Customer.Projects,</P>
<P>have the Customer object and 2 lists as completely separate entities in the business layer and instead create a viewmodel object in the UI that takes 3 separate entities and creates a user interface specific object heirarchy such as:</P>
<P>CustomerVM, CustomerVM.Quotes, CustomerVM.Projects?&nbsp; This design pattern stuff is all new to me so any suggestions/hints/tips would be greatly appreciated.&nbsp; Thanks in advance.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, March 23, 2009</h2><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>beerisgood:</strong></div><div>So recently I decided to look up what all this "design pattern" stuff was all about.&nbsp; I'm particularly interested in Microsoft's M-V-VM pattern as I intend to use WPF for my interface.&nbsp; Clearly I need to rethink my business objects a little since there is a new level of abstraction introduced that I have never considered before.</div></BLOCKQUOTE><br><br>Well, your business objects should be fulfilling use cases, so your decision to use MVVM shouldn't affect their design.&nbsp; <br><p><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>beerisgood:</strong></div><div>For example, my Customer object is obviously intended to edit customer data.&nbsp; However, I know that on my customer edit form I'm going to display a list of active quotes, active projects, and any other useful information about the customer that the users might want at their fingertips.&nbsp; Currently, my Customer object contains these lists as properties.&nbsp; The fact that it is necessary to fully conceptualize what my edit form is going to look like before I can finish my business object is a clear indication that I'm doing something wrong. </div></BLOCKQUOTE></p><p>I would agree; it sounds like your should seperately be able to get a list of active quotes, project, etc.&nbsp; The fact that you've combined them into a dashboard shouldn't matter.&nbsp; Now, if you want to get all the data in one go, you could create a command object that fetches the relevant BOs.<br></p>
<p><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>beerisgood:</strong></div><div>So my question is, instead of having this object hierarchy in the business layer:</p>
<p>Customer, Customer.Quotes, Customer.Projects,</p>
<p>have the Customer object and 2 lists as completely separate entities in the business layer and instead create a viewmodel object in the UI that takes 3 separate entities and creates a user interface specific object heirarchy such as:</p>

<p>CustomerVM, CustomerVM.Quotes, CustomerVM.Projects?&nbsp; This design pattern stuff is all new to me so any suggestions/hints/tips would be greatly appreciated.&nbsp; Thanks in advance.</div></BLOCKQUOTE></p><p>Well, I'm not totally familar with MVVM, but I would think that's a better way to go.&nbsp; This particular Wpf UI uses all those BOs, but another may not.&nbsp; So it makes sense that the UI layer has a component that knows how to fetch all the data (or would contain the above mentioned command object).</p><p>I'm actually doing something like this now; the part edit screen should display orders for said part, but my BOs aren't designed around that.&nbsp; One of the nice things is that the UI can display the part and it's data, while the grid is off loading it's data asyncronously.&nbsp; <br></p><p>Background loading and snappy UIs are important to me.&nbsp; Now that we have multicore processors, putting as much onto background threads as possible makes sense.</p><p>HTH<br></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>beerisgood replied on Monday, March 23, 2009</h2>I, too, intend to make good use of background threads.  In fact, the loading of the Quotes and Projects is the perfect place for it to occur.  <br /><br />I do think I need to rip the lists out of the business object.  The view-model is an interesting concept.  I need to read up on it some more and I can certainly see the logic behind it.  If nothing else, it allows the business objects to be simpler.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
