<html><header><title>Async ValidationRule and updating the business Object</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Async ValidationRule and updating the business Object</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7437.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds posted on Monday, August 10, 2009</h2>Hi Rocky, et al.<br /><br />I have a requirement in a Silverlight app (using 3.7.0) that the user can type a code into one field and, if another field is blank, it goes an looks up a value from the code in the first field. For example, the user is entering a new patient record and they type the GP code. This causes a lookup of a related Health Authority.<br /><br />I thought about (and tried) doing this using an Async Rule - and got as far as getting the data back, then ran into the problem of not being able to update the actual business object as there is no "target" reference.<br /><br />I've seen other posts relating to race conditions, and understand why it's ill-advised. But it's a real requirement for me. <br /><br />In the end, I've overridden the PropertyHasChanged method on my business object to look for the specific property changing, then I fire off an async lookup which, when it returns, sets the field on the business object.<br /><br />Is there a better way than this?<br /><br />Cheers...<br /><br />Craig</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, August 11, 2009</h2><P>That was&nbsp;a conscious design choice on our part to avoid a number of threading complexity issues. </P>
<P>It does lead to the limitation that async rules are validation only.</P>
<P>This is an area I'd like to improve at some point, to allow rules that modify the object. Almost certainly this will entail writing the rule as a multi-part method - the part that runs on the server, and the part that runs on the client's UI thread after the call returns from the server.</P>
<P>But that's not the current model, and your solution is a perfectly valid one.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
