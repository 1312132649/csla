<html><header><title>Loading Children w/ Ad Hoc in Oracle</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Loading Children w/ Ad Hoc in Oracle</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5738.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Wbmstrmjb posted on Wednesday, November 05, 2008</h2><P>Does anyone have a good implementation or method for loading children of root objects in Oracle that are from ad hoc queries and not SPs?&nbsp; </P>
<P>Oracle does not allow the multiple SELECT calls delimited by ";" like SqlServer and thus having the parent make one call (unless you use SPs) to return multiple result sets isn't possible.&nbsp; How are those of you that are using Oracle making the child SELECTs for ad hoc queries?</P>
<P>Currently, we are making another call within FetchChildren to get the datareader to pass to the child object.&nbsp; This means 2 trips to the DB (one for parent and one for child) or more than that if multiple children exist for an object.&nbsp; Any better way of doing this?</P>
<P>Thanks,</P>
<P>Mike</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>kenb replied on Wednesday, November 05, 2008</h2>Are you going to the database once per child row or once per child table?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Wednesday, November 05, 2008</h2><P>I had to support SQL Server and Oracle for many years. Luckily we recently got to drop Oracle support! Yea!!</P>
<P>I coded BOs so that the Root fetched itself in one query and then I had the root call a method *I wrote* to&nbsp;FetchChildren. In that method I define a datareader and fill it with all the child data for a given child, pass it to that child and repeat the process for each child off the root. I just checked one BO and it has 5 child collections and a child BO - all are filled from the root FetchChildren method.</P>
<P>So this technique&nbsp;"goes to the database once per child table".</P>
<P>Joe</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Wbmstrmjb replied on Wednesday, November 05, 2008</h2><P>That's how ours are.&nbsp; FetchChildren loads up the child info and passes to children.&nbsp; We make one query per child collection, not per child (unless it's a singular).&nbsp; I guess that's about the only way to do it with Oracle.&nbsp; Thanks.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jack replied on Wednesday, November 05, 2008</h2><P>Are you using ODP.NET or just the regular Microsoft system.data.oracle?&nbsp; </P>
<P>If you are using ODP then you can pass a refCursor in/out of sql statement created on the fly.&nbsp; Here is the basic example: <A href="http://www.oracle.com/technology/oramag/oracle/06-jan/o16odpnet.html">http://www.oracle.com/technology/oramag/oracle/06-jan/o16odpnet.html</A></P>
<P>You can alter this example to have multiple cursors, one for each child collection.&nbsp; </P>
<P>Hope that helps.</P>
<P>jack</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
