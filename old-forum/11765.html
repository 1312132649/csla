<html><header><title>Why require setting InputProperties?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Why require setting InputProperties?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11765.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 posted on Sunday, December 30, 2012</h2><p>I&#39;m writing rules which are ignorant of the type to which they are applied, and so I&#39;m using the InputPropertyValues to examine the property values I care about and act on them.</p>
<p>I&#39;m curious though as this has bitten me several times now, why do I need to set InputProperties to an array of PropertyInfo instances to actually get the InputPropertyValues array populated?</p>
<p>Shouldn&#39;t this be the behavior all the time?&nbsp; I am inheriting BusinessRule and passing the property I care about into the ctor that takes a primary property.</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Monday, December 31, 2012</h2><p>InputProperties was considered optional when the new rule engine was written for CSLA 4.x.</p>
<p>This evolves into InputProperties becoming implicit dependencies in CSLA 4.2 and for CSLA 4.5 the InputProperties collection is automatically initialized.&nbsp;</p>
<p>You could mitigate this for your own code by creating an intermediate base class for your rules.&nbsp;</p>
<p>I find InputProperties to be very helpful in creating general rules - without and knowledge of the actual object type - and the InputProperties collection should be initialized right away - as AffecteProperties is. This is done for CSLA 4.5 - but will need your own intermediate class of for CSLA 4.3 and older.&nbsp;</p>
<p>If possible - I would rather inherit from PropertyRule or even CommonBusinessRule. The latter class also inherits from PropertyRule and will provide property for Severity. If you follow the same coding style as in CommonRules your rules may also be configured with the actual Severity to use when they fail.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Sunday, January 13, 2013</h2><p>Thanks for the response.&nbsp; It sounds like they are no longer considered optional then in later versions of Csla, and is automatically populated with all of the BOs property values?&nbsp; I&#39;m on 4.3 at the moment I believe, as I only see BusinessRule to subclass from.</p>
<p>I&#39;ve found InputProperties helpful as well, I am pretty much using them exclusively, even if the rule can only work with a&nbsp; single BO.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Sunday, January 13, 2013</h2><p>No, InputProperties will not be automatically set to all properties and context InputPropertyValues will not automatically be populated with the BOs properties.&nbsp;</p>
<p>You still need to declare which input properties your rule require.&nbsp;</p>
<p>This is used to create implicit dependencies, ie when one of the InputProperties is changed this property&#39;s rules is also rechecked.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
