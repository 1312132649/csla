<html><header><title>Shared Connection</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Shared Connection</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9979.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dmnc posted on Tuesday, January 25, 2011</h2><p>I am implementing an export scenario to dump product data from SQL server to SQL Server Compact Edition. A local temporary table is initialized with the product numbers to export. The product data is bulk fetched through a couple of stored procedures accessing the local temporary table to get only the data for the desired items. </p>
<p>For this to work, a shared connection has to be used as local temporary tables are visible only to the current connection. I could utilize Csla.Data.ConnectionManager to have a shared connection. Would this be thread-safe? Is there any catch?</p>
<p>Thanks!</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, January 25, 2011</h2><p>ADO.NET is not threadsafe, and neither is ConnectionManager.</p>
<p>ConnectionManager maintains a consistent connection on a single thread. It is designed to enable reuse of an open connection across one object graph in a single data portal call, not between mutliple clients or object graphs or data portal calls.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
