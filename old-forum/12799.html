<html><header><title>Maximum number of properties allowed in WinRT object? (Adding the 59th property breaks DP method)</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Maximum number of properties allowed in WinRT object? (Adding the 59th property breaks DP method)</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12799.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>TSF posted on Saturday, November 15, 2014</h2><p>Scenario: WinRT project with CSLA 4.5.</p>
<p>I&#39;ve come across a weird situation where when I add <i>one additional</i> property to a particularly large object, the object breaks when the DP_Create method is called. It doesn&#39;t matter what kind of property I add (bool, int, whatever). The object has 58 properties, but when the 59th is added, I get an exception.</p>
<p>In a factory method on the object, I&#39;m calling the DP_Create method as as follows:</p>
<p style="padding-left:30px;background-color:yellow;">var line = DataPortal.Create&lt;OrderLineEdit&gt;(criteria);</p>
<p>When this line is executed, I get back the following error without any chance of stepping into the DP_Create method even though a breakpoint is in there.</p>
<p style="padding-left:30px;background-color:yellow;">&quot;An exception of type &#39;Csla.DataPortalException&#39; occurred in mscorlib.dll but was not handled in user code</p>
<p style="padding-left:30px;background-color:yellow;">Additional information: DataPortal.Create failed (Object reference not set to an instance of an object.)&quot;</p>
<p>I&#39;ve spent hours going through the possibilities, including making sure all objects, including criteria objects, have default public constructors which I&#39;ve found are needed in WinRT. The DP_Create method is run locally, per our custom proxy factory and by the fact it is in a compiler directive to run only NETFX_CORE, and I&#39;ve even marked the method with the [RunLocal] attribute just to make sure, with that making no difference. Everything being done in this local DP_Create method does nothing spectacular (no database calls obviously, not interaction with other objects...simply setting simple type properties like ints, strings, etc.).</p>
<p>What I&#39;ve finally stumbled onto is that when I remove a property (<span style="text-decoration:underline;">any</span> property), everything starts working. And when I add a new property (of any data type, with any random name and not referenced by any code) it stops working and throws this exception. This leads me to the question of whether there is any sort of max # of properties allowed on an object running in the WinRT stack.</p>
<p>Any ideas? Thanks.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, December 15, 2014</h2><p>That&#39;s very strange. Still having this issue? If so can you post the stack trace, not just the top level exception?</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
