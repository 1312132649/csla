<html><header><title>Saved event not firing for child objects</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Saved event not firing for child objects</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8034.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>MikeW posted on Monday, November 23, 2009</h2>I have a class which inherits from BusinessBase . The constructor for this class includes a call to MarkAsChild( ). <br><br>I am attempting to perform some post-save logic by handling the Saved event:<br><br>Protected Sub OnObjectSaved(ByVal sender As Object, ByVal e As Csla.Core.SavedEventArgs) Handles Me.Saved<br><br>This event handler is never executing. I have found that this never executes for child objects. Is this by design? Is there another way to accomplish the same thing? Thanks.<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Monday, November 23, 2009</h2>Only Root objects have a Save method, all child objects are "saved" through the Root. That is probebly the reason why the OnObjectSaved event is not called on a child.<br /><br />Javed</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>MikeW replied on Monday, November 23, 2009</h2>I see, but is anyone aware of any other way to include post-save processing for child objects<i> </i>that occurs on the client side of the DP functions?<br><br>That is, I cannot use Child_Insert, Child_Update, etc. because this processing may occur on the server side of the DP call.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, November 23, 2009</h2><P>You want this code to run on the client?</P>
<P>The only way I can see is to override Save() in the root class and have it recurse through the object graph, calling some post-processing method on each object. Or use a cascading method pattern like CSLA does with IsDirty, etc.</P>
<P>In any case, the trick is the override of Save(), and to do your client-side work after you call base.Save().</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, November 23, 2009</h2>Oh, and make sure you use the <EM>result of the base.Save() call</EM>, because that'll be a different object graph than the one your override is living inside.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
