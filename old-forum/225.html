<html><header><title>Missing something simple?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Missing something simple?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/225.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 posted on Tuesday, May 30, 2006</h2>Hi all,<br><br>I must be missing something simple.<br><br>I have a textbox, bound to a property on my BO.&nbsp; I'd like to set an error provider to display the details of the error message (a value is required).<br><br>I'm not quite sure how to setup the error provider so that it displays messages regarding only that property on the BO.<br><br>What do I need to do to get the error provider properly setup?<br><br>Thanks<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SoftwareArchitect replied on Tuesday, May 30, 2006</h2>If you are using a BindingSource (which with 2.0 I think you should be) than you need to set the ErrorProvider1.DataSource = YourBindingSource.<br><br>That way, it catches the error events raised by databinding and displays them.<br><br>Mike<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, May 30, 2006</h2>I got that far, but the error provider doesn't appear.&nbsp; Also, how to I tell the ErrorProvider which property to care about?&nbsp; If propX is valid, but propY is not, how do I specify ErrProv2 should only show if propY is not valid?<br><br>Thanks<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, May 31, 2006</h2>Anybody using ErrorProviders?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Wednesday, May 31, 2006</h2>I am... I just did ErrProvider.Datasource = BindingManager1.<br>Make sure your rules are being fired, that you're returning false if the rule is broken and that you have set e.Description inside the rule method. Are you using databinding? how did you set it up? doid you do drag and drop from datasources panel? (It worked just fine for me that way...)<br><br>Andrés<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, May 31, 2006</h2>I have a MergeBindingSource, which is bound to my BO.&nbsp; I have the ErrorProvider's datasource set to the MergeBindingSource.<br><br>On form load, I have<br><font face="Arial">Org1ReqdErrorProvider.SetIconAlignment( Org1TextBox, ErrorIconAlignment.MiddleRight );<br></font><br>The text box is within a group box which is within a panel.<br><br>Yes, the Validation rules are firing, and the BrokenRulesCollection contains all the violated rules I expect.<br><br>Thanks<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, May 31, 2006</h2><P>Is the PropertyChanged event firing? For the right property (you don't have any typos - including upper/lower case)?</P>
<P>I use the ErrorProvider all the time - create the form with drag-and-drop binding, then set the ErrorProvider control's DataSource to the same BindingSource control as the detail controls and it just works.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, May 31, 2006</h2>Yes, the property changed is firing properly.<br><br>My BO has 3 properties; Org1, Org2, and Action.<br><br>MergeBindingSource.DataSource = bo;<br>Org1BindingSource.DataSource = MergeBindingSource;<br>Org1BindingSource.DastaMember = "Org1";<br>Org2BindingSource.DataSource = MergeBindingSource;<br>
Org2BindingSource.DastaMember = "Org2";<br>ErrorProv.DataSource = MergeBindingSource;<br>ErrorProv.DataMember = "Org1";<br><br>When the form is loaded, this code executes:<br>bo = MergeOrgs.NewMergeOrgs();<br>MergeBindingSource.DataSource = bo;<br>
<br>Via some button clicks, the user selects values for Org1 and Org2.&nbsp; The screen updates properly (The name of the Org is displayed in a text box, and the list of departments belonging to the org is displayed in a DataGridView (the Bindingsources for those I've omitted).<br><br>The form itself has 3 panels, which have different sets of controls.&nbsp; On load, the first panel is displayed (which displays the info I meantioned above) and the others are hidden.&nbsp; The ErrorProvider's icon alignment is set to the text box (which is on the panel).&nbsp; The object always starts out as invalid, but even if I assume a value to Org1 and then set Org1 back to null, the provider never shows.&nbsp; (Although broken rules are updated).<br><br>Could it have something to do with the panels?&nbsp; I don't think so, because I also tried aligning the provider with a button which isn't covered by a panel.<br><br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, May 31, 2006</h2>




<DIV align=left><SPAN class=421031616-31052006><FONT face=Arial color=#0000ff size=2>I don't know that I've ever set the DataMember for an 
ErrorProvider (unless the designer did it for me and I didn't 
know).</FONT></SPAN></DIV>
<DIV align=left><SPAN class=421031616-31052006><FONT face=Arial color=#0000ff size=2></FONT></SPAN>&nbsp;</DIV>
<DIV align=left><SPAN class=421031616-31052006><FONT face=Arial color=#0000ff size=2>Rocky</FONT></SPAN></DIV></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, May 31, 2006</h2>Even unset I still don't get it to work for me.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Wednesday, May 31, 2006</h2>Shouldn't you bind your error provider to Org1BindingSource if you want the error provider to pop up for errors in Org1BindingSource? The controls you say are bound to Org1BindingSource, not to MergeBindingSource, right?<br><br>Andrés<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, May 31, 2006</h2>Andrés,<br><br>Yes, I tried that as well.&nbsp; Still nothing.&nbsp; <br><br>I did some snooping, and for some reason the CurrencyManager for the ErrorProvider has suspended binding, although I'm not sure why.<br><br>The binding works for the other controls... just not the error provider.&nbsp; <br><br>Is it because I'm trying to bind the ErrorProvider to a complex object, instead of something like a string property?&nbsp; MergeData.Org1 is of type OrganizationInfo.. the rule is that Org1 cannot be null.<br><br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, May 31, 2006</h2>Ok,<br><br>It does seem to be something stupid. <br><br>I think I've got it to work; I bind the ErrorProvider to Org1BindingSource.&nbsp; org1BindingSource.DataSource = MergeDataSource and org1bindingSource.DataMember="Org1".<br><br>The problem seems to be that I didn't have a control bound to 'Org1'.&nbsp; As soon as I bind a control to Org1, it seems to show.&nbsp; I guess for ErrorProvider to work for a property, that particular property actually needs to have a control which is bound to it, not just a BindingSource.<br><br>Thanks for all the suggestions, they helped me look into different things to try.<br><br>Andy<br><br><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
