<html><header><title>Remote server returned an error : Not Found</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Remote server returned an error : Not Found</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10591.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav posted on Thursday, August 04, 2011</h2><p>Csla 4.2.0 SL<br />I am trying to install and run my project on the web server but keep getting this error.&nbsp; Previously I had installed and run the project multiple time a few months ago.&nbsp; I have now excluded all of my dataaccess code except for a single call. Here is text of the first error message;</p>
<p>---------------------------<br />FactoryError(Person)<br />---------------------------<br />: The remote server returned an error: NotFound.</p>
<p>&nbsp;&nbsp; at System.ServiceModel.AsyncResult.End[TAsyncResult](IAsyncResult result)</p>
<p>&nbsp;&nbsp; at System.ServiceModel.Channels.ServiceChannel.EndCall(String action, Object[] outs, IAsyncResult result)</p>
<p>&nbsp;&nbsp; at System.ServiceModel.ClientBase`1.ChannelBase`1.EndInvoke(String methodName, Object[] args, IAsyncResult result)</p>
<p>&nbsp;&nbsp; at Csla.WcfPortal.WcfPortalClient.WcfPortalClientChannel.EndFetch(IAsyncResult result)</p>
<p>&nbsp;&nbsp; at Csla.WcfPortal.WcfPortalClient.Csla.WcfPortal.IWcfPortal.EndFetch(IAsyncResult result)</p>
<p>&nbsp;&nbsp; at Csla.WcfPortal.WcfPortalClient.OnEndFetch(IAsyncResult result)</p>
<p>&nbsp;&nbsp; at System.ServiceModel.ClientBase`1.OnAsyncCallCompleted(IAsyncResult result)</p>
<p>: The remote server returned an error: NotFound.</p>
<p>&nbsp;&nbsp; at System.Net.Browser.AsyncHelper.BeginOnUI(SendOrPostCallback beginMethod, Object state)</p>
<p>&nbsp;&nbsp; at System.Net.Browser.BrowserHttpWebRequest.EndGetResponse(IAsyncResult asyncResult)</p>
<p>&nbsp;&nbsp; at System.ServiceModel.Channels.HttpChannelFactory.HttpRequestChannel.HttpChannelAsyncRequest.CompleteGetResponse(IAsyncResult result)</p>
<p>: The remote server returned an error: NotFound.</p>
<p>&nbsp;&nbsp; at System.Net.Browser.BrowserHttpWebRequest.InternalEndGetResponse(IAsyncResult asyncResult)</p>
<p>&nbsp;&nbsp; at System.Net.Browser.BrowserHttpWebRequest.&lt;&gt;c__DisplayClass5.&lt;EndGetResponse&gt;b__4(Object sendState)</p>
<p>&nbsp;&nbsp; at System.Net.Browser.AsyncHelper.&lt;&gt;c__DisplayClass4.&lt;BeginOnUI&gt;b__1(Object sendState)</p>
<p>How can I debug it.?</p>
<p>Jav</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, August 04, 2011</h2><p>Turn on WCF tracing to get the detail about what is happening. </p>
<p>The WCF implementation &quot;protects&quot; all the useful information from going back to the client for security reasons, so the only way to figure out many of these issues is with WCF tracing, or sometimes with fiddler.</p>
<p>If you have the <em>Using CSLA 4: Data Portal Configuration</em> ebook, I show the configuration to enable tracing in the book. And of course there&#39;s information on the web about how to configure the server for tracing as well.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Friday, August 05, 2011</h2><p>Thanks Rocky,</p>
<p>I do have the CSLA 4:&nbsp;Data Portal book, I&#39;ll make use f it.</p>
<p>Javed</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Friday, August 05, 2011</h2><p>I right clicked the .svc file and selected DisplayInBrowser, a true enough, there was a problem with the value I had in the ...timing numbers.&nbsp; I fixed that, and if I had any sense - I should have stopped tight&nbsp;there because most likely that would have solved my problem.&nbsp; But NO!&nbsp; I saw the invitation to use the svcutil.exe to do more and I accepted.</p>
<p>Well, I think now I have got myself into another pickle.&nbsp; When I ran the svcutil.exe, it told me it created two files in the same bin folder.&nbsp; One of them was the CopmressedHost, the other I do not remember.&nbsp; I searched every which way but I have not been able to find the files anywhere.&nbsp; But that is not my problem.&nbsp; Problem is that now even in my VS Development Web, the program is acting weird.&nbsp; All the data that is coming from my ADO code within the Csla objects is returning just fine.&nbsp; But I am also using an ObjectFactory that talks to a dll which get the data from a Sql server and that is coming back empty handed.&nbsp; With breakpoints, I know that the code reaches the right methods in the ObjectFactory, but while executing perfectly good code, it simply quits and suddenly I am back in my browser window without any data.</p>
<p>I am thinking: could it have something to do with the two files I created wiht svcutil.&nbsp; I have never seen anything like that.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Friday, August 05, 2011</h2><p>I had to be unavoidably&nbsp;away from my machine for 4 hours.&nbsp; I came back, wokeh&#39;r up, started up the VS, pushed F5, and everything is working just fine - at least as for as the ObjectFactory Fetch in my Devlopment server is concerned.</p>
<p>Has anybody else tried this method for fixing bugs?</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Saturday, August 06, 2011</h2><p>The problem appears to be strange and complex.<br />Briefly, I am using an older copy of my project from 4/6/2011.&nbsp; (The last time I ran the project remotely was in March 2011, and it ran fine)&nbsp; The 4/6 project was using CslaSource-4.1.0-110118.&nbsp; Locally, it ran just fine when I backed it up and also now.&nbsp; I had never tried to run it remotely previously.&nbsp; But when I tried a day or so ago, it gave me the following error that I previously reported a few days ago. (<a href="http://forums.lhotka.net/forums/t/10588.aspx">http://forums.lhotka.net/forums/t/10588.aspx</a>)<br />Could not load file or assembly &#39;Csla, Version=4.0.1.0, Culture=neutral, PublicKeyToken=93be5fdc093e4c30&#39; or one of its dependencies</p>
<p>In an effort to find a last project that ran okay remotely, I decided to go back and try to fix the Csla version error in the 4/6 project and try again.&nbsp; So I removd all the Csla 4.1 reference from every project, and replaced them with CslaSource-4.0.0-100708.&nbsp; Everything compiled just fine.&nbsp; But when I ran the project locally, it wouldn&#39;t run (with 4.1 it ran locally just fine)&nbsp;What I got was a&nbsp;nonspecific error 4004.&nbsp;</p>
<p>I next walked though the code all the way to the first line in proxy_CreateCompleted in WcfProxy.cs.&nbsp; When I looked at the e.Result, what I saw was rather interesting.</p>
<p>e.Result.InnerException read:<br />-&nbsp;&nbsp;base&nbsp;{System.Net.WebException: The remote server returned an error: NotFound.<br />&nbsp;&nbsp; at System.Net.Browser.BrowserHttpWebRequest.InternalEndGetResponse(IAsyncResult asyncResult)<br />&nbsp;&nbsp; at System.Net.Browser.BrowserHttpWebRequest.&lt;&gt;c__DisplayClass5.&lt;EndGetResponse&gt;b__4(Object sendState)<br />&nbsp;&nbsp; at System.Net.Browser.AsyncHelper.&lt;&gt;c__DisplayClass4.&lt;BeginOnUI&gt;b__1(Object sendState)}&nbsp;System.SystemException {System.Net.WebException}</p>
<p>To Recap:</p>
<p>With Csla 4.1, the project runs flawlessly locally but running remotely gives an error: Could not load file or assembly &#39;Csla, Version=4.0.1.0<br />With Csla 4.0, the project running <strong>locally</strong> comes up with the dreaded : The remote server returned an error: NotFound</p>
<p>I have attached the TraceLog files, both from my machine running locally and from the server.&nbsp; They are in separate folders.&nbsp; Luckily, they only have the pertinent information and nothing else.&nbsp; Here is a listing of their contents:</p>
<p>LOCAL EXECUTION FILE<br /><br />1:17:53 PM<br />Local Program Execution with breakpoint at the first line in proxy_CreateCompleted in WcfProxy.cs</p>
<p>e.Result.InnerException read:<br />-&nbsp;&nbsp;base&nbsp;{System.Net.WebException: The remote server returned an error: NotFound.<br />&nbsp;&nbsp; at System.Net.Browser.BrowserHttpWebRequest.InternalEndGetResponse(IAsyncResult asyncResult)<br />&nbsp;&nbsp; at System.Net.Browser.BrowserHttpWebRequest.&lt;&gt;c__DisplayClass5.&lt;EndGetResponse&gt;b__4(Object sendState)<br />&nbsp;&nbsp; at System.Net.Browser.AsyncHelper.&lt;&gt;c__DisplayClass4.&lt;BeginOnUI&gt;b__1(Object sendState)}&nbsp;System.SystemException {System.Net.WebException}</p>
<p>1:47:25 PM<br />Local Program Execution with NO breakpoints</p>
<p>REMOTE EXECUTION FILE&nbsp; <br />1:59:02 PM<br />Remote execution log</p>
<p>I will next run my current program with tracing, both locally and remotely&nbsp;to see if the trace results are similar.&nbsp; But since local error message of Not Found was the same, I thought I should report this first.</p>
<p>Thanks<br />Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Saturday, August 06, 2011</h2><p>I have now been working with my most current version, with Csla 4.2.&nbsp; I have looked at the trace log and the only error I see (repeatedly) is this:</p>
<p>Could not load file or assembly &#39;ICSharpCode.SharpZipLib, Version=0.84.0.0, Culture=neutral, PublicKeyToken=1b03e6acf1164f73&#39; or one of its dependencies. The system cannot find the file specified.</p>
<p>That is surprising because the references to the CompressedClient and CompressedServer libraries are present in every project, and in all it is marked as CopyLocal = true.&nbsp; I have even looked in the .xap file and I can see CompressionLib.dll (size 6144) and SharpZipLib (size 141824).&nbsp; I am not sure if any other library is supposed to be there. </p>
<p>Any suggestion will be appreciated.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Saturday, August 06, 2011</h2><p>I downloaded the latest SharpZipLib for Silverlight 4, and the NotFound error has disappeared.&nbsp; Yeah!</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Sunday, August 07, 2011</h2><p>The Not Found issue has been resolved but the other nagging issue about not being able to load file or assembly &#39;Csla, Version=4.0.1.0, Culture=neutral, PublicKeyToken=93be5fdc093e4c30&#39; or one of its dependencies, when I am using, now in this case, Csla4.2.</p>
<p>I have two different SL Solutions that share some projects.&nbsp; Specifically, the smaller Solution uses 10 projects (5 libraries) from the larger Solution that has 18 projects.&nbsp; The SL and Web projects are separate, of course. Both are&nbsp;Csla4.2, of course.&nbsp; It was the smaller project that I was troubleshooting all along in this episode. ( to dispel any confusion when I talked about Csla 4.1 and 4.0 projects in earlier posts, I had dug up an old copy of the smaller project to mess with.&nbsp; These current projects I am taalking about now were moved to newer Csla versions when they became available and have never been reverted or anything like that)</p>
<p>So, the reason for the Not Found issue in the smaller Solution was largely due to the Compression library.&nbsp; When that was fixed, the problem went away.</p>
<p>This morning, since the Compression projects are used in the larger project also, I decided to test it.&nbsp; Locally, everything works fine.&nbsp; Remotely also, as far as Not Found problem is concerned, it is all okay. But I am seeing this mesage about not being able to load file or assembly &#39;Csla, Version=4.0.1.0, Culture=neutral, PublicKeyToken=93be5fdc093e4c30&#39; or one of its dependencies.&nbsp; I have looked at the trace log, and it looks fine with no red lines at all.</p>
<p>I have never encountered such a problem before.&nbsp; 10 of the projects in the solution are the same as in the smalled project - and there is no such problem there.&nbsp; The remaining projects, I have looked at over and over again, and I do not see anything but Csla4.2 references..&nbsp; Unfortunately, the last time I tested this Solution remotely was with Csla 4.0 - a few months ago.&nbsp; The smaller Solution came into existence since that time and I have spent all of my time getting that one up to speed. So I do not have any experience of running this larger Solution remotely with either 4.1 or 4.2</p>
<p>Jav</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Monday, August 08, 2011</h2><p>Can I please get some help on this issue which is in my very last comment.&nbsp; You can ignore all the previous comments.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, August 08, 2011</h2><p>One reason I&#39;ve seen this happen is because a Silverlight project references a .NET assembly, or a .NET project references a Silverlight assembly. So you think you have the right version because the version number is correct, but you actually have the wrong assembly.</p>
<p>Another reason this seems to happen has something to do with Visual Studio caching. Try cleaning your project (that&#39;s an option in the VS Build menu). Or get one of those external tools that does a &quot;full cleaning&quot; of a solution (though I&#39;ve never used them - so maybe they are junk?).</p>
<p>I suspect some of your previous issues were due to IIS/ASP.NET caching. When you went away and came back later and it worked - that sounds like IIS/ASP.NET flushing a cache, or spinning down the server instance (which would clear the caches).</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Wednesday, August 10, 2011</h2><p>Thanks for the hints. My assembly references have been correct all along, and I can easily be accused of over cleaning my Solution because I probaby do it half a dozen time every day.&nbsp; I finally have a handle on what is likely causing the issue, and thought I will share it here.&nbsp; </p>
<p>BTW, this note is NOT about the Not Found error, but about the Csla 4.0.1 not found error (the Solution is using Csla 4.2)</p>
<p>I ended up slowly and methodically peeling away funtionality one section at time, starting with&nbsp;the SL project first.&nbsp; While the error always appeared when the SL project was accessed, it turned out that even going down to a barebones MainPage did not eliminate the error.&nbsp; Next I removed all&nbsp;the libraries one by one - but the error persisted.&nbsp;</p>
<p>Up until then I was doing the testing on the remote server because locally everything always worked just fine.&nbsp; Now, having no libraries, and with barebones SL project, I decided just run it locally.&nbsp; As soon as I pressed F5 I saw the same error message complaining about&nbsp;this line in the Default.aspx (my Start Up Page).</p>
<p>&nbsp;

<span style="BACKGROUND:yellow;">&lt;%</span><span style="COLOR:blue;">@</span> <span style="COLOR:maroon;">Register</span> <span style="COLOR:red;">assembly</span><span style="COLOR:blue;">=</span><span style="COLOR:blue;">&quot;Csla&quot;</span> <span style="COLOR:red;">namespace</span><span style="COLOR:blue;">=</span><span style="COLOR:blue;">&quot;Csla.Web&quot;</span> <span style="COLOR:red;">tagprefix</span><span style="COLOR:blue;">=</span><span style="COLOR:blue;">&quot;cc1&quot;</span> <span style="BACKGROUND:yellow;">%&gt;</span></p>
<pre></pre>
<p>What is interesting is that the error message was exactly what I was seeing all the time, that Csla 4.0.1 cannot be located.&nbsp; I had searched the entire solution, more than once, searching for Csla 4.0.1 and even for 4.0.1 and always found nothing.&nbsp; How does this little line remember that it needs Csla 4.0.1, and Csla 4.2 is not acceptable,&nbsp;is beyond my understanding.&nbsp; But I do have a possible, and of a more practical use,&nbsp;reason.&nbsp; The line was superfluous and should not have been there.&nbsp; There was no complaint when I removed it, and others like it, and once I removed a few unnecessary using Csla statements also&nbsp;from the pages in the Web project, the errors disappeared.&nbsp; I suppose I had these because there was some Csla content on those pages months ago when I got started.</p>
<p>I am now reassembling my Solution bit by bit, and hopefully it will remain error free to the end, but I am not there yet.</p>
<p>Jav</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
