<html><header><title>SmartClient Software Factory.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>SmartClient Software Factory.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1500.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Indyy66 posted on Monday, October 16, 2006</h2><P>Is anyone out there&nbsp;creating any of the&nbsp;software factories from MS? I want to us it with CSLA in a new application.&nbsp;</P>
<P>&nbsp;</P>
<P>Thanks</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ward0093 replied on Monday, October 16, 2006</h2>I just started reading about it... i have nothing for you yet!&nbsp; Sorry... but i will keep you posted</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Indyy66 replied on Tuesday, October 24, 2006</h2><P>Thanks Ward,</P>
<P>I'm going to do the same. I'll start with the simple getting started project and then inject the CSLA 2.0 framework in from there.</P>
<P>&nbsp;</P>
<P>James</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Wednesday, October 25, 2006</h2>Hey,<br><br>'Software Factories' is a broad concept. What do you mean specifically?<br><br>If you mean using CAB (Composite UI App. Block): <br>- yes, I (and I believe several more people with me on this forum) have experience using it with CSLA. From my experience: they are a winning team. It must be said: to get them up and running takes some time, but if desired I could tell you more about specific details.<br><br>If you mean using GAT (Guidance Automation Toolkit):<br>- no, I don't have experience with it, but I have had quite a thorough look at it. I think it's nice to get new projects jump-started, but after all it's a poor man's code generator. If you want to spawn a discussion on this we could compare notes.<br><br>If something else, then waht exactly do you mean?<br><br>Bayu<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>burmajam replied on Wednesday, October 25, 2006</h2>Of course we are interested in any good idea, experience and best practices with CSLA. If you would be so kind to share your CAB experience with us, we'll appretiate it.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Wednesday, October 25, 2006</h2>Sure,<br><br>Could you give me some background info on what your intent is? What is your experience with CAB? Are there any issues you already face?<br><br>Otherwise I am just shooting blind. :-)<br><br>Bayu<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Indyy66 replied on Wednesday, November 01, 2006</h2><P>Hi Guys,</P>
<P>I'm jus getting started, but the main goal is to put together a Windows client that I have written using CSLA techniques and apply as much as possible to the CAB and Smartclient factory as possible. </P>
<P>Q1. Can I us my existing CSLA assemblies and plug them right into a CAB application?</P>
<P>Q2. Whats the implications of using this with remoting?</P>
<P>Q3. How flexiable is the UI development functionality?</P>
<P>Q4. Over the Internet, are there any issuses with performance that I should be overly concerned about?</P>
<P>&nbsp;</P>
<P>This is what I have sofar. Hopefully it enough to get us started.</P>
<P>&nbsp;</P>
<P>Thanks,</P>
<P>&nbsp;</P>
<P>James</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Wednesday, November 01, 2006</h2><BLOCKQUOTE><div><img src="/Themes/alternate1/images/icon-quote.gif"> <strong>Indyy66:</strong></div><div><p>Q1. Can I us my existing CSLA assemblies and plug them right into a CAB application?</p>
<p><br></div></BLOCKQUOTE><br>
</p><p>Yups, not a problem. One thing to note though is CSLA's security model. Usually you get the right Identity/Principal on your thread by arranging this in some startup routine. I integrated a specific service for this purpose in just a few lines of code:</p> Public Class CslaAuthenticationService<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Implements IAuthenticationService<br><br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Public Sub Authenticate() Implements Microsoft.Practices.CompositeUI.Services.IAuthenticationService.Authenticate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;MyPrincipalClass&gt;.Logout()<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; End Sub<br><br>End Class<br><br>In your Views/SmartParts/etc. you can use your BOs just like you would in any other app. In order to allow your BOs to communicate you have several benefits that CAB offers you:<br>- note when the collaboration is part of your BO logic, you should implement a observer pattern like in ActiveObjects<br>- but when the collaboration is strictly for UI purposes, you are soon going to love CAB's state and event mechanisms<br><br><p>
<BLOCKQUOTE><div><img src="/Themes/alternate1/images/icon-quote.gif"> <strong>Indyy66:</strong></div><div><br>
</p><p>Q2. Whats the implications of using this with remoting?</p>
<p></div></BLOCKQUOTE><br>
</p><p>Nothing. CAB strictly deal with your UI. Whatever you do with your BOs and behind is entirely up to you and fully indepenent of whatever UI technology you use ....<br></p><p>
<BLOCKQUOTE><div><img src="/Themes/alternate1/images/icon-quote.gif"> <strong>Indyy66:</strong></div><div><br>
</p><p>Q3. How flexiable is the UI development functionality?</p>
<p><br></div></BLOCKQUOTE><br>
</p><p>Near the extreme of utmost flexibility. But you will have to pay a BIG price in getting to know it. Steap learning curve guaranteed.<br></p><p>
<BLOCKQUOTE><div><img src="/Themes/alternate1/images/icon-quote.gif"> <strong>Indyy66:</strong></div><div><br>
</p><p>Q4. Over the Internet, are there any issuses with performance that I should be overly concerned about?</p></div></BLOCKQUOTE><br><br>Don't know what you mean. If you configure your remoting channel to go through the HTTP port, then see my answer for Q2. If you mean supporting Web UI with CAB: forget it, it is exclusively for use with WinForms interfaces. If you mean deployment over the internet: the CAB assemblies are quite large, so your client's first install will take some MBs. But after that, CAB is not updated too frequently.<br><br><br>In my experience CAB and CSLA are a winning team. If in addition you also know how to utilize reflection and generics then you have a huge potential for highly dynamic apps. In my current app I have like 50 BOs, which I can view and modify using just 2 base views with 2 corresponding presenters. Then there are like 3 views with very specific requirements, these are the only ones that need to implemented nearly from scratch. <br><br>However, you will need to invest some time in order to get your grips. Also, CAB UIs tend to consume some time to load. This is due to the wide-spread use of reflection, generics and also the plugin architecture that takes some time to discover and load all your configured assemblies. <br><br>Bayu<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Indyy66 replied on Saturday, November 11, 2006</h2><P>Thanks Bayu,</P>
<P>&nbsp;</P>
<P>Your the Man! This totally helps with the application that I'm planning at the moment. I really appreciate the feedback from you and others on this site.</P>
<P>&nbsp;</P>
<P>James</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Saturday, November 11, 2006</h2>You're welcome. ;-)<br><br>Let us know what your choice I going to be.<br>If it's CAB, then we may share experiences some time, I too still have a lot to learn. ;-)<br><br>Regards,<br>Bayu<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago replied on Monday, December 11, 2006</h2><P><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>Bayu:</strong></div><div><BR>In your Views/SmartParts/etc. you can use your BOs just like you would in any other app. In order to allow your BOs to communicate you have several benefits that CAB offers you:<BR>- note when the collaboration is part of your BO logic, you should implement a observer pattern like in ActiveObjects<BR>- but when the collaboration is strictly for UI purposes, you are soon going to love CAB's state and event mechanisms<BR></div></BLOCKQUOTE></P>
<P>When BOs need to colaborate, why can't I use the CAB's EventBroker?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Wednesday, December 13, 2006</h2><BLOCKQUOTE><div><img src="/Themes/alternate1/images/icon-quote.gif"> <strong>tiago:</strong></div><div><p><BLOCKQUOTE><div><img src="/Themes/alternate1/images/icon-quote.gif"> <strong>Bayu:</strong></div><div><br>In your Views/SmartParts/etc. you can use your BOs just like you would in any other app. In order to allow your BOs to communicate you have several benefits that CAB offers you:<br>- note when the collaboration is part of your BO logic, you should implement a observer pattern like in ActiveObjects<br>- but when the collaboration is strictly for UI purposes, you are soon going to love CAB's state and event mechanisms<br></div></BLOCKQUOTE></p>
<p>When BOs need to colaborate, why can't I use the CAB's EventBroker?</p></div></BLOCKQUOTE><br><br>Technically, you could. <br><br>Preferably, I'd say you'd rather not.<br><br>Why?<br>Because the EventBroker relies on the ObjectBuilder as the ObjectBuilder analyzes all objects that it creates and detects all 'eventing'-related attributes. Under the hood the ObjectBuilder translates these attributes into delegates that interconnect the raising and handling objects.<br><br>So, if you would want to use the EventBroker for your BOs, this would have the following ramifications:<br>- you commit yourselves to the ObjectBuilder and thus needs to make sure all object creation goes through this module<br>- you commit your BOs to the EventBroker + ObjectBuilder which are both quite heavy-weight libraries. Which is fine in the context of WinForms apps since then you only have the performance hit once (when the app starts or when additional modules are loaded) in your application lifetime. However, your BOs would not be well-suited for WebForms as then you would have the perf hit at every request. This is also the primary reason (at least I believe so) why the SCSF is strictly intended for rich clients<br><br>Therefore I would recommend to implement an observer pattern simply based on delegates (you could draw inspiration from ActiveObjects) which is high-performant and will not preclude your BOs from future use in Web apps.<br><br>Regards,<br>Bayu<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago replied on Wednesday, December 13, 2006</h2><P><FONT face=Arial>Hi Bayu,</FONT></P>
<P><FONT face=Arial>I thought CAB was for Web Apps as well as WinForms. Anyway I got your point about Web Apps not beeing smart at all.</FONT></P>
<P><FONT face=Arial>But I can use EventBroker withou using ObjectBuilder. See <A HREF="/forums/ShowThread.aspx?PostID=10154#10154">http://forums.lhotka.net/forums/ShowThread.aspx?PostID=10154#10154</A>&nbsp;<BR></FONT><FONT face=Arial>I can publish (1.2.) and subscribe (2.2)&nbsp;an event programmaticaly.</FONT></P>
<P><FONT face=Arial>I not a devoted fan of every MS piece of software. But if I have an event broker, why should I also use ActiveObjects for the same purpose?</FONT></P>
<P><FONT face=Arial>Of course I think I should also use Rocky's <FONT color=#0000ff>Broadcasting Messages to Multiple Clients</FONT>&nbsp;<A href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnadvnet/html/vbnet06082004.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnadvnet/html/vbnet06082004.asp</A>&nbsp;because it solves another problem.</FONT></P>
<P><FONT face=Arial></FONT>&nbsp;</P>
<P><FONT face=Arial>Cheers,<BR></FONT><FONT face=Arial>Tiago Freitas Leal</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Thursday, December 14, 2006</h2><BLOCKQUOTE><div><img src="/Themes/alternate1/images/icon-quote.gif"> <strong>tiago:</strong></div><div><p><font face="Arial">Hi Bayu,</font></p>
<p><font face="Arial">I thought CAB was for Web Apps as well as WinForms. Anyway I got your point about Web Apps not beeing smart at all.</font></p>
<p></div></BLOCKQUOTE><br></p><p>Formally, 'smart clients' exclude web apps indeed. But it's not like a doctor's prescription or so, if it works then it does, right? <br></p>;-)<br><p><BLOCKQUOTE><div><img src="/Themes/alternate1/images/icon-quote.gif"> <strong>tiago:</strong></div><div></p><p><font face="Arial">But I can use EventBroker withou using ObjectBuilder. See <a href="/forums/ShowThread.aspx?PostID=10154#10154">http://forums.lhotka.net/forums/ShowThread.aspx?PostID=10154#10154</a>&nbsp;<br></font><font face="Arial">I can publish (1.2.) and subscribe (2.2)&nbsp;an event programmaticaly.</font></p>
<p><font face="Arial">I not a devoted fan of every MS piece of software. But if I have an event broker, why should I also use ActiveObjects for the same purpose?</font></p>
<p></div></BLOCKQUOTE></p>Aha, I was not aware of tha, I always use the 'attributes way'.<br><br>Very well then, in that case you would NOT be committed to the ObjectBuilder and some of my comments no longer apply. I guess then that EventBroker could be used in both webforms and winforms.<br><p><BLOCKQUOTE><div><img src="/Themes/alternate1/images/icon-quote.gif"> <strong>tiago:</strong></div><div></p><p><font face="Arial">Of course I think I should also use Rocky's <font color="#0000ff">Broadcasting Messages to Multiple Clients</font>&nbsp;<a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnadvnet/html/vbnet06082004.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnadvnet/html/vbnet06082004.asp</a>&nbsp;because it solves another problem.</font></p>
<p><font face="Arial"></font>&nbsp;</p>
<p><font face="Arial">Cheers,<br></font><font face="Arial">Tiago Freitas Leal</font></p></div></BLOCKQUOTE><br><br><br>It seems like the EventBroker would provide you with a ready-for-use observer implementation indeed. If you use the programmatic way that bypasses the ObjectBuilder, then I guess performance would be fine as well (although this remains to be seen of course, but at least my earlier objections no longer apply).<br><br>There is one thing though, that you might want to be aware of: usually there are 2 kinds of messages to be sent around<br><br>1 - from one BO to another BO, these enable BOs to collaborate and jointly solve a use case in a loosely coupled way. These messages could be seen as being part of your business logic.<br>2 - from BOs to the UI, these are mere 'notifications' that enable the UI to stay in sync with changes in the state of your BOs.<br><br>In some applications this distinction does no need to be made explicit. But I have had cases where we did want to do this, simply because we wanted to ensure an ordering in the messages:<br>- first all BOs should be notified of changes<br>- and only then the UI<br><br>Why? Because you may not want your UI to show things while the use case has not been fully fullfilled yet.<br><br>When using a custom observer pattern between your BOs and events to notify your UI, then this ordering is explicitly in your code. When you use the EventBroker both to send messages between BOs and to your UI, then the two might get intermixed.<br><br>Just a thought.<br><br>Regards,<br>Bayu<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dreamkey replied on Tuesday, January 30, 2007</h2><P>Bayu,</P>
<P>Can you elaborate on how you are itnegrating the security models? In the spirit of reuse we are starting a new project using a lot of BOs from previous projects. We use the CSLA style CanAddObject, CanEditObject, etc to determine if the user has access to various funcitonality. Is there a way that we can do this without having to modify all the BO's to use the service? The big reason is that the same BOs will later be used in a web based interface (they are spearated into a common module).</P>
<P>Thanks</P>
<P>Dreamkey</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Friday, February 09, 2007</h2><BLOCKQUOTE><div><img src="/Themes/alternate1/images/icon-quote.gif"> <strong>dreamkey:</strong></div><div><p>Bayu,</p>
<p>Can you elaborate on how you are itnegrating the security models? In the spirit of reuse we are starting a new project using a lot of BOs from previous projects. We use the CSLA style CanAddObject, CanEditObject, etc to determine if the user has access to various funcitonality. Is there a way that we can do this without having to modify all the BO's to use the service? The big reason is that the same BOs will later be used in a web based interface (they are spearated into a common module).</p>
<p>Thanks</p>
<p>Dreamkey</p></div></BLOCKQUOTE><br><br>Hi,<br><br>Sorry you had to wait some time for my reply.<br><br>However, I don't think I understand your question. Security is a vague term, I guess you mean authentication and permissions, since you refer to the CanXXX methods?<br><br>Authorization has nothing to do with CAB. The only thing is that Csla's authentication and authorization framework relies on the principal/identity pair currently set on the thread. The CAB service I showed earlier in this thread is just a 'CAB-way' to get this current principal on the thread, but it does not have to be like this.<br><br>In a regular WinForms app you could precede your MainForm with a LoginForm that takes care of this and in a WebForms app the same. In case you also support unauthenticated users you will need to set a default principal, which in WinForms you could do in the Main routine before the MainForm loads and in a WebForms app you typically do this in your Global.asax.<br><br>Does this answer your question?<br><br>If not, perhaps be more specific.<br><br>Kind regards,<br>Bayu<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
