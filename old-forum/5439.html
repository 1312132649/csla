<html><header><title>BO generation for CSLA CE &amp; SQL Compact</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>BO generation for CSLA CE &amp; SQL Compact</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5439.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>drozd posted on Monday, September 22, 2008</h2>Hi all,<br><br>I'm really new to CSLA in general and I'm trying to check if CSLA CE is a good fit for the project we're soon launching for Windows Mobile/Compact Framework. I wonder if someone here could answer the following questions or just give me some directions of further research.<br><br>Do you generate BOs using any generators? Do you have any standard templates for the BOs? How difficult would it be to modify existing full CSLA templates for use with CSLA CE? <br><br>I've tried CodeSmith 5.0 with the SQL CE Schema provider, but couldn't connect even to the Northwind.sdf file due to CS trial version restrictions. Any other code generators I could use with existing CSLA templates and Sql CE db?<br><br>I'd be grateful for any hints.<br><br>Thanks,<br>Michal<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lawrencek replied on Tuesday, September 23, 2008</h2><P>I am using Code Smith 4.0 ( have not upgraded yet) and the community templates from a while back.&nbsp;</P>
<P>&nbsp; CSLA 2.x CodeSmith Templates for C#<BR>&nbsp; Version: 1.1.0 RC</P>
<P>they get you very close&nbsp; Just change Csla refs to CslaCE and you are basicly done.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>drozd replied on Wednesday, September 24, 2008</h2>Thanks for the tip. I'll give it a try.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>drozd replied on Wednesday, September 24, 2008</h2>I've downloaded the templates and they seem to need more work to be used with Sql Compact. Are you using them against a standard Sql Server?<br><br>Do you think it makes sense to run CSLA CE completely on the PDA (i.e. against Sql Server Compact) in terms of performance and complexity?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lawrencek replied on Wednesday, September 24, 2008</h2><P><FONT size=2>Yes they are used on SQL 2005 db.&nbsp; There is an attribute that must be removed from the Primary Key Field.&nbsp; and you might need to tweak the Factory methods or make the constructor public.</FONT></P>
<P><FONT size=2>I personally remove the dataportal call and create an instance of my object and then call DataPortal_Fetch methon</FONT></P>
<P><FONT size=2>something like the following</FONT></P><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>public</FONT></FONT><FONT size=2> </FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>static</FONT></FONT><FONT size=2> </FONT><FONT color=#2b91af size=2><FONT color=#2b91af size=2>MyObject </FONT></FONT><FONT size=2>GetMyObject(</FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>int</FONT></FONT><FONT size=2> varID)</P>
<P>{</P>
<P></FONT><FONT color=#2b91af size=2><FONT color=#2b91af size=2>MyObject </FONT></FONT><FONT size=2>myObj = </FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>new</FONT></FONT><FONT size=2> </FONT><FONT color=#2b91af size=2><FONT color=#2b91af size=2>MyObject </FONT></FONT><FONT size=2>();</P>
<P>myObj.DataPortal_Fetch(</FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>new</FONT></FONT><FONT size=2> </FONT><FONT color=#2b91af size=2><FONT color=#2b91af size=2>Criteria</FONT></FONT><FONT size=2>(varID));</P>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>return</FONT></FONT><FONT size=2> myObj ;</P>
<P></FONT><FONT color=#008000 size=2><FONT color=#008000 size=2><FONT color=#008000>//return DataPortal.Fetch&lt;MyObject &gt;(new Criteria(varID));</FONT></P></FONT></FONT>
<P><FONT size=2>}</FONT></P>
<P><FONT size=2>Doing that keeps the performace up and keeps the Business Object Look and Feel very similar to CSLA.</FONT></P>
<P><FONT size=2>To me I wanted my business objects to be as close in look and feel to the full framework as possable and there does not seem to be much if any&nbsp;performace penalty involed either.</FONT></P>
<P><FONT size=2>I think that if you are comfortable with CSLA and like the patterns it uses then it makes sence to follow them to the extent that it is&nbsp;possible in the CF</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>drozd replied on Thursday, September 25, 2008</h2>Removing the calls to DataPortal was exactly what I was think about - as on CF I would only instantiate BOs locally anyway. Do you modify the BusinessBase class to skip DataPortal calls for Insert/Update as well? <br><br>Thanks!<br><br>Michal<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lawrencek replied on Thursday, September 25, 2008</h2><P>There is a SaveCE method I use to save objects that bypasses the data.portal</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>drozd replied on Monday, September 29, 2008</h2>Ok. Thanks for the tip :)<br><br>Do you use CodeSmith for generating the SQL / SPs for data access? <br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
