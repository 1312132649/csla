<html><header><title>How to: Nonserialized or notundoable managed properties? </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to: Nonserialized or notundoable managed properties? </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7763.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 posted on Saturday, October 10, 2009</h2>I had submitted this for the wish list about a year ago  (http://forums.lhotka.net/forums/post/27850.aspx).<br /><br />However, assuming that this won't become part of CSLA, can you think of a way I might implement this myself? <br /><br />I'm more concerned about serialization over the wire, so one thought I had that wouldn't be a breaking change would be to have you add a virtual CloneForSave() method to BusinessBase that would just call Clone() as the default implementation. Then I could replace it with one that would inspect the PropertyInfo and discard those that aren't intended to be serialized before returning the cloned object. <br /><br />Right now, I'm using managed properties because the benefit of the automatic features it provides outweighs the performance issue, and also I can "reset" the property from the comon base class (mainly for lazy-loaded properties) and cause it to be reloaded on the next get. So, I can't use a private backing field when I need this ability.<br /><br />Any other ideas welcomed... </div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Sunday, October 11, 2009</h2><P>I put it on the wish list, but haven't had time to try and figure out an implementation yet. It isn't trivial, because I suspect it will mean storing field values in 2 or 3 arrays instead of just 1 like today, and storing the metadata somewhere (in the PropertyInfo&lt;T&gt; probably) so indicate which array to use.</P>
<P>If it was just MobileFormatter it would be pretty easy, because I can make the serializer smarter. But since we're also talking about BinaryFormatter and NDCS the problem is substantially harder.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Sunday, October 11, 2009</h2>Thanks. <br /><br />Incidentally, I didn't mean for that to come across as a whine -- I was just wondering if there was a possible workaround in case this feature had a limited audience or otherwise didn't fit in.  </div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
