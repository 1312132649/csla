<html><header><title>Differences between transaction types?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Differences between transaction types?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3006.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>g18c posted on Friday, June 08, 2007</h2><P class=MsoNormal><FONT face=Calibri>Hi, I’m currently learning CSLA and i have read good chunks of the CSLA book but it is very new to me still. I have read that performance can be enhanced for multiple inserts/updates etc for child objects in business lists by passing a SqlTransaction object in to the appropriate insert or update function. It mentioned this is a 'manual method'. Ok, so I’m happy with manual methods!</FONT></P>
<P class=MsoNormal><FONT face=Calibri></FONT>&nbsp;</P>
<P class=MsoNormal><FONT face=Calibri>However I don’t fully understand the other transactions types. Apart from this 'manual ado.net transaction method', is it possible to get automated transactions to the database without additional code or is my understanding completely wrong? Any pointers as to the differences between transaction types (but in layman’s terms!) and their useage scenario would be great as the book in some cases is still steep for me. I'm guessing i need to look into System.Transactions as that is a completely new word to me, but some gentle pointers would be much appreciated.<o:p></o:p></FONT></P>
<P class=MsoNormal><o:p><FONT face=Calibri>&nbsp;</FONT></o:p></P>
<P class=MsoNormal><FONT face=Calibri>Thanks,<o:p></o:p></FONT></P>
<P class=MsoNormal><o:p><FONT face=Calibri>&nbsp;</FONT></o:p></P>
<P class=MsoNormal><FONT face=Calibri>Chris<o:p></o:p></FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, June 08, 2007</h2>TransactionScope transactions are very easy with Csla.. you just decorate your DP_I or DP_U with the Transactional atribute and specify TS.<br><br>There are some limitations though; one is that you can only use one connection object to do all the updates.&nbsp; You can't open another connection even if the connection string matches exactly.&nbsp; Well you can, but if you do so the transaction will be promoted to a Distributed transaction and you have to have DTC running on both client and server. You'll also see a big performance hit.&nbsp; If you need to rollback, you throw an exception.&nbsp; Otherwise, its all handled automatically for you.<br><br>Also, I'm not sure how it works with anything other than Sql Server 2005.&nbsp; <br><br>The other option is using an enterprise services transaction, which IIRC is the same thing as a distributed transaction.&nbsp; That would require some setup I believe.. the details can be found here though.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>g18c replied on Friday, June 08, 2007</h2><P>Thanks very much for taking the time to reply. How would one access this connection from the insert or update dataportal procedures (is it a parameter, inside the business object itself or added when the transaction attribute is specified? From the book i could only see explicit access to local connections created within the procedures themself? Or am i barking up completly the wrong tree?!</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Friday, June 08, 2007</h2>You can pass it in the Update methods on your child objects like the book demonstrates.&nbsp; You can also use ApplicationContext (which I believe the 2.1 PDF demonstrates).<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
