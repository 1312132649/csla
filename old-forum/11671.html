<html><header><title>Best practices for conditional instance delete authorization?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Best practices for conditional instance delete authorization?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11671.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina posted on Thursday, November 01, 2012</h2><p>I have a business object and in addition to the standard per type authorization rules I also need to prevent deletion of a instance of an object if it meets a certain condition.</p>
<p>Is <b>there any big picture value at the UI level or otherwise</b> in attempting to shoehorn this into the authorization rules system?</p>
<p>(Like this post from Johnny Bee)&nbsp;<a href="http://forums.lhotka.net/forums/p/11071/51527.aspx#51527">http://forums.lhotka.net/forums/p/11071/51527.aspx#51527</a>)</p>
<p>Or is it really just preferable to have a simple (maybe even unmanaged) property of some kind that is CanDelete==false and check that at the UI level to enable a delete command?</p>
<p>(This will be asp.net Razor UI and wpf UI only, no silverlight.)</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Thursday, November 01, 2012</h2><p>The &quot;big picture&quot; value is to implement the check in the BusinessLayer of your app.&nbsp;</p>
<p>Yes, there are limitations to the AuthzRule subsystem - so you could create your own methods and override the CSLA baseclass methods to do the check in your BO. Then make sure to make the UI follow the same permissions when enabling/disabling actions.</p>
<p>The added value is that even if a developer should miss the UI syncronization - &nbsp;the BO will make sure to enforce the rules and NOT allow a user to perform actions they do not have permissions to do. &nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JCardina replied on Friday, November 02, 2012</h2><p>Hi Jonny, I know it should be at the business object level, my question was about the merit of using the authorization rules system versus simple properties and a check in the DataPortal_Delete for example instead.</p>
<p>I must be thinking about this wrong because I know this is a super common requirement in a business application but judging by the other posts I found and the responses it seems like it was never really planned for in the CSLA framework as there is never a clear answer when people ask.&nbsp;</p>
<p> I know that&#39;s not likely that it wasn&#39;t planned for so I wonder what the approved way to handle this sort of common authorization based on instance state scenario. </p>
<p>Is an extra authorization rule (with bogus property added to ensure it&#39;s unique) really the planned for method in CSLA to handle this scenario?</p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
