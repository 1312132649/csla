<html><header><title>Why isn't PropertyInfoManager contained within BusinessBase similar to how FieldManager is?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Why isn't PropertyInfoManager contained within BusinessBase similar to how FieldManager is?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10114.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>pbusch posted on Monday, February 28, 2011</h2><p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-size:small;"><span style="font-family:Calibri;">I know that FieldManager is exposed as a protected property within BusinessBase.<span style="mso-spacerun:yes;">&nbsp; </span>Why isn&#39;t PropertyInfoManager setup the same way?<span style="mso-spacerun:yes;">&nbsp; </span>From what I can gather, PropertyInfoManger maintains a dictionary of Types and a list of each Type&rsquo;s PropertyInfo(s).<span style="mso-spacerun:yes;">&nbsp; </span>It would seem easier to just have a list of PropertyInfo(s) maintained within BusinessBase, similar to how the FieldManager works.<span style="mso-spacerun:yes;">&nbsp; </span>There is a lot of work done in PropertyInfoManager to link up the PropertyInfo being registered with the Type they belong to.</span></span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-family:Calibri;font-size:small;">&nbsp;</span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-size:small;"><span style="font-family:Calibri;">I am sure there is a reason for this and I just don&rsquo;t see it or understand it enough.<span style="mso-spacerun:yes;">&nbsp; </span>I am just trying to learn more about CSLA and why things were built the way they were.</span></span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-size:small;"><span style="font-family:Calibri;"></span></span></p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, March 01, 2011</h2><p>Some of this is to deal with inheritance.</p>
<p>Consider that a class can define a property, and can then be subclassed by more than one other class.</p>
<p>The &quot;leaf node&quot; types have to create a consolidated list of properties for the type, including any from the base classes.</p>
<p>Those base class metadata&nbsp;objects (the PropertyInfo&lt;T&gt; objects) are not duplicated - they are reused. And this means they need to have the same offset index values into the managed backing field lists for every leaf type.</p>
<p>So that covers some of the information stored in the static property info management system.</p>
<p>Then there&#39;s the actual field manager for each business object. This field manager object contains the real managed field values unique to the business object instance - but based very much on the static propertyinfo metadata stored in the static property info manager.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
