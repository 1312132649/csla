<html><header><title>Trying to convert string to smartdate.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Trying to convert string to smartdate.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3219.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ThomasJGregg posted on Tuesday, July 17, 2007</h2><P>I am tring to convert a string to a smartdate for a grid column.&nbsp; The column is a date column with a dropdown tool.&nbsp; I need to be able to see null dates of course.&nbsp; here is my current code.</P>
<P>The datacolumn:</P><FONT size=2>
<P></FONT><FONT color=#2b91af size=2>DataColumn</FONT><FONT size=2> onsetDate = </FONT><FONT color=#0000ff size=2>new</FONT><FONT size=2> </FONT><FONT color=#2b91af size=2>DataColumn</FONT><FONT size=2>(</FONT><FONT color=#a31515 size=2>"OnsetDate"</FONT><FONT size=2>, </FONT><FONT color=#0000ff size=2>typeof</FONT><FONT size=2>(</FONT><FONT color=#2b91af size=2>SmartDate</FONT><FONT size=2>));</P>
<P>dataTable.Columns.Add(onsetDate);</P></FONT>
<P>The code to add the date:</P><FONT size=2>
<P></FONT><FONT color=#2b91af size=2>SmartDate</FONT><FONT size=2> dateIn = </FONT><FONT color=#0000ff size=2>null</FONT><FONT size=2>;</P>
<P></FONT><FONT color=#0000ff size=2>if</FONT><FONT size=2> (diagnosis.OnsetDate == </FONT><FONT color=#0000ff size=2>null</FONT><FONT size=2>)</P>
<P>{</P>
<P>row[</FONT><FONT color=#a31515 size=2>"OnsetDate"</FONT><FONT size=2>] = dateIn;</P>
<P>}</P>
<P></FONT><FONT color=#0000ff size=2>else</P></FONT><FONT size=2>
<P>{</P>
<P>dateIn = diagnosis.OnsetDate;</P>
<P>row[</FONT><FONT color=#a31515 size=2>"OnsetDate"</FONT><FONT size=2>] = dateIn;</P>
<P>}</P>
<P>&nbsp;</P>
<P>The problem is the diagnois.OnsetDate is a string value.&nbsp; How do i change this to be a SmartDate.</P>
<P>My product uses CSLA 1.0</P>
<P>Any help would be appreciated.</P>
<P>Thanks</P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, July 17, 2007</h2><P>In CSLA 1.x SmartDate was a reference type, so you need to create an instance:</P>
<P>SmartDate dateIn = new SmartDate();</P>
<P>Then you can set or retrieve its Text property to work with the value as&nbsp;a string:</P>
<P>string x = dateIn.Text;</P>
<P>dateIn.Text = "1/1/08";</P>
<P>In CSLA 2.0+ SmartDate is a value type (struct) and so the semantics are a bit different, but you still use the Text property when dealing with string values.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ThomasJGregg replied on Tuesday, July 17, 2007</h2>Worked like a charm!&nbsp; Thank you sir.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
