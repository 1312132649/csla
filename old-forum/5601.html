<html><header><title>Child Object Needs It's Own ID On New?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Child Object Needs It's Own ID On New?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5601.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Wbmstrmjb posted on Wednesday, October 15, 2008</h2><P>Why does the editable child template (Codesmith Ricky 2.0)&nbsp;generate the "New" procedure requesting it's own ID?&nbsp; Shouldn't "New" not know it's ID until the object is saved?&nbsp; It seems that it would take it's parent's ID possibly (though the parent may not yet be saved either).&nbsp; Is this a bug in the template or am I missing something?</P>
<P>Thanks,</P>
<P>Mike</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Wednesday, October 15, 2008</h2><P>I use SQL Server Identity values for my keys. So that means that an in memory object does not have a real ID. But I still assign a valid ID to each object - typically I use (-1*coll.Count) as the ID which guarantees me a temporary unique ID. When the whole object is saved, you are right, the parent is aved first, gets the real ID from the DB and then passes it down to each child as a foreign key. Then each child inserts itself and gets&nbsp;a real ID.</P>
<P>Note that the parent ID is not the same as the child unique ID! It is the foreign key.</P>
<P>Joe</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Wednesday, October 15, 2008</h2><P>^^^^</P>
<P>I have use a similar technique but only use each "pseudo" ID once per application session to avoid the unlikely&nbsp;possibility I might have two new objects with the same ID. </P>
<P>So, I start with -1 for each object Type and decrement each time a new temporary key is requested.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
