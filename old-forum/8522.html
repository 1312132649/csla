<html><header><title>Values in UpdateObjectArgs vs Request.Form</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Values in UpdateObjectArgs vs Request.Form</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8522.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago.santos posted on Friday, February 12, 2010</h2><p>I&#39;ve notice that the values in UpdateObjectArgs aren&#39;t the same that those that are in Request.Form.</p>
<p>For example, if I have some controls that bind to some properties, inside a &lt;asp:Panel. And if the Panel is not Visible, than those values that are inside are not posted to the page, Request.Form (don&#39;t have those values).</p>
<p>Yet, the Values in UpdateObjectArgs has all the values, even those that aren&#39;t visible to the user. Obviously this is not right.</p>
<p>Am I doing something wrong ?</p>
<p>Can you help me.</p>
<p>Thanks</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, February 12, 2010</h2><p>Actually it is &quot;right&quot;.</p>
<p>CSLA doesn&#39;t get or create the values you are seeing. Those values are provided by data binding directly to the data source control, and the CslaDataSource control simply provides them to your event handler as-is, without alteration.</p>
<p>To understand how/why you get those values, you&#39;ll have to explore the ASP.NET data binding mechanism or ask Microsoft why they chose that implementation.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago.santos replied on Friday, February 12, 2010</h2><p>Thanks, I was starting to suspect that :(</p>
<p>Can you suggest-me a solution ?</p>
<p>Maybe I can&#39;t hide the controls in the server side, and must hide it in the client side (with display:none). And somehow clear the values in the client side...</p>
<p>I realy cant understand why they simply see if the property that is being bind is visible or not.</p>
<p>&nbsp;</p>
<p>EDIT:</p>
<p>Ok, a possible solution is to disable the viewstate of all the controls inside the hidden asp:Panel. This way when there is a new postback they loose the values <img src="http://forums.lhotka.net/emoticons/emotion-1.gif" alt="Smile" /></p>
<p>I cannot simply disable the ViewState of the asp:Panel, because it would loose the state of the Visible in the next postbacks</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago.santos replied on Friday, February 12, 2010</h2><p>Here is the code</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private static void ChangeClearControl(Control panel, bool state)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; panel.Visible = state;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foreach (Control ctrl in panel.Controls)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ctrl.EnableViewState = state;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
