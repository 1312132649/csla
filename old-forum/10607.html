<html><header><title>Saving Business Object even if there are invalid values.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Saving Business Object even if there are invalid values.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10607.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tarekahf posted on Thursday, August 11, 2011</h2><p>Some times, you have a very complex form that the use needs to fill and submit for further processing. For example, I am currently developing a Staff Appraisal Form, which has 9 pages minimum, it is dynamic&nbsp;and validation for data entry&nbsp;are also&nbsp;dynamic which changes depending on the Stage of the Applicaiton.</p>
<p>Currently, the form has 2 major buttons:</p>
<p>1. Save</p>
<p>2. Submit</p>
<p>It does not make sense to force the Staff to fill valid information for all the form fields&nbsp;before he can save the form. It will be more convenient to allow the Staff to save the form (, even if some validation rules are not true, or even if some required fields are not filled. However, the Submit Button can be executed only if ALL the validation rules are fulfilled.</p>
<p>I am using CSLA .NET for framework 2.0 and Visual Studio 2005. I did not seen anything in CSLA framework that addresses such case; allow to save the Business Object even if some validation rules are not valid. Basically, as per CSLA .NET, if one or more of the validation rules are not valid, then the save logic will throw an error.</p>
<p>I was thinking that probably we need to assign a severity level for each validation rule, and configure the object to throw an error during save if any validation rule is not valid and its severity level exceeds a predefined limit. We can also add a &quot;IsValid&quot; flag as a field in the related record of the businsess object being saved.</p>
<p>I am wondering if this situation has been addressed before in CSLA .NET 2.0 or later versions.</p>
<p>What is the best way to implement such requirement ?</p>
<p>Tarek.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, August 11, 2011</h2><p>There are a couple possibilities.</p>
<p>First, broken rules have severities that are set by the rule. The default is Error, but your rule can indicate that it is just a warning. Warning and Information severities don&#39;t block saving an object.</p>
<p>Sadly, Microsoft&#39;s UI technologies don&#39;t understand this concept at all - they only know about validation errors. But the XAML PropertyInfo and PropertyStatus controls in Csla.Xaml understand the concept.</p>
<p>Second, you can override Save (and BeginSave) and change its behavior. If you look at the CSLA source code you can see the Save method. It isn&#39;t terribly complex - and one line in that method is where the object refuses to be saved if it has broken rules. You can override Save to reimplement it without that check.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tarekahf replied on Thursday, August 11, 2011</h2><p>Thanks Rocky,</p>
<p>Could you please point me to some resources to know more about XAML and CSLA.Xaml</p>
<p>Tarek.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
