<html><header><title>Business rule question</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Business rule question</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6035.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>albruan posted on Saturday, December 20, 2008</h2><P>I have a question about a use case.&nbsp; I'm dealing with a cataloging system for books and one use case is such that the user is required to enter either the book's ISBN or&nbsp;the author&nbsp;and the&nbsp;title prior to performing a look-up and saving the business class to the database.</P>
<P>I am overriding the AddBusinessRules method and have the title and author properties as dependent properties of each other via the isBidirectional argument being set to true.&nbsp; If either property contains a value, I'm validating that the other property similarly contains a value; additionally, I perform checks to make sure they don't exceed the length set for their fields in the database.&nbsp; The thing is I don't have to perform any of the above checks if the user has made an entry for the ISBN; all I have to do in that instance is validate that the entry is a&nbsp;correct entry for an ISBN.&nbsp; If none of the properties contain a value, the object is deemed to be invalid and thus cannot be saved to the database.</P>
<P>Am I going about improperly&nbsp;overriding the AddBusinessRules method in what I'm attempting?&nbsp; Is there a better way?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>robert_m replied on Sunday, December 21, 2008</h2>Here's what I would do:<br />- set up bidirectional dependencies between all three properties, ie. between:<br />  -isbn and author<br />  -isbn and title<br />  -author and title<br /><br />- then use the same method to validate all  these three properties (it should check wherher isbn is entered and valid or title and author are both entered etc - all combinations)<br />- and, of course, you need length checks which can be separate validation rules</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
