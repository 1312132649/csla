<html><header><title>Is there a better way to implement a server-side cache for Silverlight?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Is there a better way to implement a server-side cache for Silverlight?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11284.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>RobKraft posted on Friday, April 06, 2012</h2><p>We want to cache data server side so that we don&#39;t need to make the database calls for every silverlight client.&nbsp; Our objects are also used by Asp.Net web apps and desktop apps.&nbsp; Ideally, I&#39;d like to set the value of this to the collection that was cached, but that is not possible.</p>
<p>The only alternative we have come up with is to loop through the items in the cache calling this.Add.&nbsp; That is probably better than a database call, but feels less efficient than &quot;this = cache&quot;.&nbsp; </p>
<p>Is there a way to implement something like this below?</p>
<p style="padding-left:30px;"><span style="color:blue;">private</span>&nbsp;<span style="color:blue;">void</span>&nbsp;DataPortal_Fetch(CriteriaHash criteria)<br />		{<br />			<span style="color:blue;">if</span>&nbsp;(_cache != nulll) <br />			<span style="color:blue;">{</span>&nbsp;this = _cache;<br />			<span style="color:blue;">}</span><br />			<span style="color:blue;">else<br />			<span style="color:blue;">{</span>_cache = GetData()//GetData adds to this;<br />			<span style="color:blue;">}</span><br />		}</span></p>
<pre style="font-family:Consolas;background:white;color:black;font-size:13px;">
</pre></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Friday, April 06, 2012</h2><p>You may look into CslaContrib and the serverside caching with AppFabric. or plain InMemoryCache.</p>
<p>Uses a custom CacheDataPortal (serverside DataPortal)&nbsp; and ObjectCacheAttribute and ObjectCacheEvictionAttribute at classlevel to determin if object is Cachable and when to evictfrom cache. All that is required is configuring to use the custom DataPortal and add attribute to the actual classes. </p>
<p>CacheAttribute is configurable for CacheScope (Global,Group,User).</p>
<p>Http://CslaContrib.codeplex.com&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RobKraft replied on Monday, April 09, 2012</h2><p>Thanks for the suggestion, I will look into that.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>TSF replied on Monday, September 24, 2012</h2><p>Are there any examples showing how to use the caching feature in CslaContrib?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, September 24, 2012</h2><p>You should also look at the ObjectFactory data portal concepts (factory encapsulation), because in an object factory you really _can_ just deserialize a copy of the object out of the cache and return it as the result.</p>
<p>public MyClass Fetch(CriteriaHash criteria)<br />{<br />&nbsp;&nbsp;MyClass obj = null;<br />&nbsp;&nbsp;&nbsp;// get object from cache, or from database<br />&nbsp; MarkOld(obj);<br />&nbsp; return obj;<br />}</p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
