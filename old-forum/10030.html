<html><header><title>Data Update UOW and data integrity concerns</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Data Update UOW and data integrity concerns</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10030.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>stefan posted on Friday, February 04, 2011</h2><p>Hi Rocky,</p>
<p>looking at the unit of work stereotype, but specially the data update UOW, </p>
<p>I am concerned with a possible misusage. Looking at your example from the new eBook &quot;Using Csla 4: Creating Business Objects&quot; :</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Transactional(TransactionalTypes.TransactionScope)] <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private void DataPortal_Execute()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CustomerEdit = CustomerEdit.Save();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SalesOrderEdit = SalesOrderEdit.Save();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>What yould you suggest to prevent the user,&nbsp; UI-developer, or any other code from calling Save on each object individually in the context of that specific use case? </p>
<p>I think we are trading off data integrity against convenience here, and you should mention it in the book...</p>
<p>unless there is a solution for it.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, February 04, 2011</h2><p>That is a good point, though it has more to do with the various transaction concerns I&#39;m discussing in the <em>Data Access</em> ebook than with the UOW concept&nbsp;in <em>Creating Business Objects</em>.</p>
<p>This is (in my experience) a very rare thing - to combine saving multiple objects like the example. And usually it is a matter of convenience, not a transactional construct. I don&#39;t think I&#39;ve encountered a case where the objects couldn&#39;t also be saved separately, though I am sure that could happen.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, February 04, 2011</h2><p>And I suppose if you really did have to have both commit in a single transaction, you&#39;d use a BusinessBase and those two classes would become child objects instead of roots.&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
