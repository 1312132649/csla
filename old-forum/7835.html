<html><header><title>SL approach?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>SL approach?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7835.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>greengumby posted on Wednesday, October 21, 2009</h2>Hi,<br /><br />Just wondering what ppl's opinions are here.<br /><br />Scenario is a Person with a non-required address field and 2way binding on the address textbox in a Silverlight application.<br /><br />1st Option<br />Server Side on DataPortal_Create() create the address instance and send down to client so UI can directly edit.<br /><br />Downside I see with this approach.  If they don't fill in the address field it will put a blank in the database because of IsDirty and IsNew.<br /><br />Maybe on the non-required child objects MarkClean() after the DataPortal_Create?<br /><br /><br />2nd Option<br />Don't send the Address class to the client and have the Silverlight add a new child should it be required.<br /><br />One plus is that less data over the wire but I am unsure about 2way binding of controls when there is nothing to bind to. <br /><br />Maybe I have missed option 3 :)<br /><br />Any Suggestions appreciated<br />Many Thanks<br />Jeremy<br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, October 21, 2009</h2><P>Some things to consider.</P>
<P>First, you can have the DataPortal_Create() run on the client - CSLA .NET for Silverlight has an equivalent to the RunLocal attribute. So if you don't need to load default values for the new object from the database, it is probably better to use this option (a parameter on DataPortal.BeginCreate()) to run that code on the client.</P>
<P>Second, your address object is a child object, so normally you wouldn't use DataPortal_Create() in any case, but instead would use Child_Create(). This means the parent object will call DataPortal.CreateChild(), not DataPortal.Create() - and the result of doing this is that the object would be created on the client, not the server.</P>
<P>Third, you can use lazy loading to create the address object on demand. The only real trick to this is that you must design your UI to not attempt to bind to the parent object's Address property unless the user does something to explicitly edit that data. Otherwise data binding will trigger the lazy loading when it binds to the property.</P>
<P>Fourth, you are right, XAML binding requires an object to bind against. So if the UI elements try to bind, you need an object against which they can bind.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, October 21, 2009</h2>I've done something similar and I call MarkClean in the Child_Create method.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>greengumby replied on Wednesday, October 21, 2009</h2>Thanks Guys,

I suppose the reason why I bring this up is that we now have a Silverlight Developer who has never seen a CSLA object and Im trying to shield him as much as I can.

As far as I can see by MarkingClean on CreateChild() its a good solution to those properties that are required for binding but not required for data.

Rocky thanks for the [RunLocal] attribute that makes complete sense :)

Cheers
Jeremy</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
