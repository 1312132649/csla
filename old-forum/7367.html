<html><header><title>Role &amp; Permission question</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Role &amp; Permission question</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7367.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>forrest posted on Wednesday, July 29, 2009</h2>Hi ,I am from china,the csla.net is wonderful,thanks!<br>I have a question when I am implementing a new project with csla,maybe,it's not a question with csla.but can you give me some suggestion?please<br>In project tracker app,RoleName like 'ProjectManager''Administrator',a role can or can not do something has been designed,I think it just like Permission.<br>But with RBAC Rule, <br>User --- Role --- Permission<br>I think a role's permission shoud be configed with demands,so that are there any goods from IPrincipal.IsInRole method,because i don't know a role's permission.<br>In my new project,a corporation has many branches,so the roles may contain<br>boss<br>regional manager<br>sale manager<br>saler<br>.......<br><br>Every role can view different data by region/department/customer,so it can not work well if I code like User.IsInRole("Saler").<br><br>I&nbsp; have puzzled by this question for some days,do you have some suggestion to me?<br><br>Forgive of my poor english!<br>Thanks!<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, July 29, 2009</h2><A href="http://www.lhotka.net/weblog/PermissionbasedAuthorizationVsRolebasedAuthorization.aspx">http://www.lhotka.net/weblog/PermissionbasedAuthorizationVsRolebasedAuthorization.aspx</A></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>forrest replied on Thursday, July 30, 2009</h2>Do you mean we can use permission instead of role in realword?<br><br>thanks<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, July 30, 2009</h2>I had forgotten about that blog post, but I'm glad it was reposted because in the very near future I'll be moving to users -> roles -> permissions.<br /><br />Thanks<br />Andy</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>triplea replied on Thursday, July 30, 2009</h2>Based on the informaiton of the above link, I have slightly modified the example found here:<br><br>http://forums.lhotka.net/forums/thread/17604.aspx<br><br>And have found it to work really well.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>forrest replied on Thursday, July 30, 2009</h2>Thanks,your code is really work well.<br><br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Friday, July 31, 2009</h2><P>Try this one on for size...</P>
<P>I've been working with permission-based authorization for many years now and have to admit that my latest iteration is without a doubt the cleanest solution - I have the .NET 3.5 team to thank.</P>
<P>I've simply implemented an extension method on the IPrincipal interface:</P>
<P><CODE>public static bool HasPermission(this IPrincipal principal, Permission requestPermission)<BR>{<BR>&nbsp; &nbsp; // Do the work<BR>}<BR></CODE></P>
<P>Now in my application(s) I can simply call this method as if it was a built-in part of the IPrincipal interface.&nbsp; Plus, all of the logic in encapsulated in the extension method, so it's been a win-win for me.</P>
<P>Hope that helps.</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
