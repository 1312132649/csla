<html><header><title>CSLA Contrib - c# CodeSmith Templates</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA Contrib - c# CodeSmith Templates</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5726.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jack posted on Monday, November 03, 2008</h2><P>I am having some issues generating a source file when using a stored proc as my datasource vs. a view.&nbsp; When I check my CodeSmith Schema Explorer (Oracle Database) I can navigate to my command, see my sproc and see the input / output variables (output is a refcursor).&nbsp; The field in question is clearly defined as a varchar2(20).&nbsp; The recursor is (select * from view) and generating from the view works okay.</P>
<P>Any ideas on where to look?</P>
<P>thx</P>
<P>&nbsp;</P>
<P>jack</P>
<P>&nbsp;</P>
<P>Generating project "C:\epm\GeneratedFiles\ePM.csp" outputs...<BR>Compiling template "C:\framework\CodeGenTemplates\CodeSmith\CSLA35\CSharp\EditableRoot.cst"...<BR>Template compilation succeeded. (10 ms)<BR>Rendering output 'DataCollection.cs'...<BR>Error: ePM.csp(0,0) Parameter 'DATA_ENTRY_ID': No size set for variable length data type: String.<BR>Stack Trace:<BR>&nbsp;&nbsp; at System.Data.OracleClient.OracleParameterBinding.PrepareForBind(OracleConnection connection, Int32&amp; offset)<BR>&nbsp;&nbsp; at System.Data.OracleClient.OracleCommand.Execute(OciStatementHandle statementHandle, CommandBehavior behavior, Boolean needRowid, OciRowidDescriptor&amp; rowidDescriptor, ArrayList&amp; resultParameterOrdinals)<BR>&nbsp;&nbsp; at System.Data.OracleClient.OracleCommand.Execute(OciStatementHandle statementHandle, CommandBehavior behavior, ArrayList&amp; resultParameterOrdinals)<BR>&nbsp;&nbsp; at System.Data.OracleClient.OracleCommand.ExecuteReader(CommandBehavior behavior)<BR>&nbsp;&nbsp; at SchemaExplorer.OracleSchemaProvider.GetCommandResultSchemas(String connectionString, CommandSchema command)<BR>&nbsp;&nbsp; at SchemaExplorer.CommandSchema.get_CommandResults()<BR>&nbsp;&nbsp; at CodeSmith.Csla.TemplateBase.ObjectInfo.LoadProperties(CommandSchema command, Int32 resultSetIndex, StringCollection uniqueColumns, StringCollection filterColumns)<BR>&nbsp;&nbsp; at CodeSmith.Csla.TemplateBase.ObjectInfo.LoadFromSchema(CodeTemplate template)<BR>&nbsp;&nbsp; at CodeSmith.Csla.TemplateBase.ObjectInfo..ctor(CodeTemplate template)<BR>&nbsp;&nbsp; at _CodeSmith.EditableRoot_cst.__RenderMethod1(TextWriter writer, Control control)<BR>&nbsp;&nbsp; at CodeSmith.Engine.DelegateControl.Render(TextWriter writer)<BR>&nbsp;&nbsp; at CodeSmith.Engine.Control.RenderChildren(TextWriter writer)<BR>&nbsp;&nbsp; at CodeSmith.Engine.Control.Render(TextWriter writer)<BR>&nbsp;&nbsp; at CodeSmith.Engine.CodeTemplate.Render(TextWriter writer)<BR>&nbsp;&nbsp; at CodeSmith.Engine.CodeTemplate.RenderToFile(OutputFile outputFile, Boolean overwrite)<BR>&nbsp;&nbsp; at CodeSmith.Engine.CodeTemplate.RenderToFile(String path, Boolean overwrite)<BR>&nbsp;&nbsp; at CodeSmith.Engine.ProjectCodeGenerator.GenerateCode(CodeSmithProject csp)<BR>Unable to render output DataCollection.cs, skipping...<BR>Done rendering outputs: 0 succeeded, 1 failed, 0 skipped (204ms).<BR></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cliffordru replied on Thursday, November 06, 2008</h2>Hi Jack, can you check to see if the column in question has an empty string in it?&nbsp; If so, can you try updating to eliminate the empty strings?&nbsp; This may be related to the Oracle Client having issues with empty strings on variable length columns.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jack replied on Tuesday, November 11, 2008</h2><P>That column can be null - I actually had engaged CodeSmith support with the issue and they found a bug or two in the Oracle schemaprovider.&nbsp; The support person said they had a new build and would release it yesterday/today.&nbsp; I haven't seen it yet but we'll see.&nbsp; </P>
<P>I'll give that a try first and if that doens't cure the issue I'll try putting data in those columns - however that is only really going to help me to pass it along to CodeSmith as I can't obviously keep putting bogus data in the table just to run the CodeGen.&nbsp; I also have a bunch of triggeres and RI on that table related to all the similar nullable string columns.</P>
<P>Thanks for you input and I'll update this when I get a&nbsp;update from CodeSmith</P>
<P>Jack</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
