<html><header><title>BusinessListBase - adding/removing items IsDirty</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>BusinessListBase - adding/removing items IsDirty</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8787.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>xetal posted on Friday, April 09, 2010</h2><p>Curious as to why adding and removing items from a BusinessListBase doesn&#39;t call OnPropertyChanged(&quot;IsDirty&quot;).&nbsp; </p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, April 09, 2010</h2><p>All the metastate properties (IsDirty, IsNew, etc) are marked as Browsable(false) so they aren&#39;t bindable.</p>
<p>In Windows Forms this meant they really weren&#39;t bindable at all, so raising the event would be meaningless.</p>
<p>In WPF/SL that doesn&#39;t appear to be the case any longer. The problem now is figuring out how to globally (in BB, BLB, ERLB) raise the event in a way that doesn&#39;t degrade performance. Over the past decade or so, I&#39;ve made implementation choices based on the fact that those properties are passive. That means there&#39;s no existing plumbing to keep the properties &quot;up to date&quot; from instant to instant. Instead, many of them are calculated only when used, which is obviously nice for performance.</p>
<p>I thought about changing this in CSLA 4, but there&#39;s a very real risk of breaking existing Windows Forms apps, or at least substantially harming their performance (by causing multiple rebinds by the UI any time anything changes). So I have opted to leave the behavior as-is for now.</p>
<p>Both WPF and SL have good solutions to this through the ViewModelBase, CslaDataProvider, ObjectStatus and PropertyStatus controls. So it isn&#39;t really a pressing concern for modern UIs, and it is a dangerous thing to &quot;fix&quot; for legacy UIs.</p>
<p>I will probably change the behavior in some future 4.x release as the use of Windows Forms fades away. Certainly by CSLA 5 I&#39;m sure I&#39;ll change the behavior so the metastate properties update live and raise notification events.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xetal replied on Friday, April 09, 2010</h2><p>Thank you for the quick reply and explanation.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
