<html><header><title>OT: CodeSmith templates with Root Command</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>OT: CodeSmith templates with Root Command</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1834.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>albruan posted on Monday, November 27, 2006</h2><P>I have a sproc to flatten my BO hierarchy for reporting purposes.&nbsp; Distilling it to it's simplest, it's similar to the following:</P>
<P>SELECT&nbsp;EstimateDepartment.DeptName, <BR>&nbsp;&nbsp;&nbsp;&nbsp; SUM(EstimateDrawing.NumberOfDwgs) AS NumberOfDwgs,<BR>&nbsp;&nbsp;&nbsp;&nbsp; SUM(EstimateDrawing.ManHoursPerDwg) AS ManHoursPerDwg<BR>FROM EstimateDrawings INNER JOIN EstimateDepartments<BR>ON EstimateDrawings.DeptID = EstimateDepartments.DeptID<BR>GROUP BY EstimateDepartments.DeptName</P>
<P>A typical resultset would be something akin to:<BR><BR>DeptName&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NumberOfDwgs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ManHoursPerDwg<BR>Architectural&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 12.5<BR>Electrical&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7.5<BR><BR>So, my sproc works as planned.&nbsp; Where I'm having problems is trying to get the CodeSmith template for a Read-Only Child to work with it.&nbsp; I've selected the sproc as being the Root Command and the DeptName as being the Unique Column to reference in building the BO.&nbsp; Nonetheless, CodeSmith insists that I need to name a Unique Column in order to build the BO and it has me a bit confused as each DeptName appears only once in the resultset.</P>
<P>Can anyone spot if I'm doing something wrong?&nbsp; BTW, the templates I've been using were downloaded in August.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rasupit replied on Monday, November 27, 2006</h2>This issue has been addressed after v1.0.1.&nbsp; Try to use the latest version at&nbsp; <a href="http://www.codeplex.com/Release/ProjectReleases.aspx?ProjectName=CSLAcontrib&amp;ReleaseId=797">http://www.codeplex.com/Release/ProjectReleases.aspx?ProjectName=CSLAcontrib&amp;ReleaseId=797</a> or just download from Source Code.<br><br>Ricky<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>albruan replied on Monday, November 27, 2006</h2><P>Ricky,</P>
<P>I've just downloaded and installed the new templates at codeplex.com, but I still get the same error message regarding Unique Column(s) being required.</P>
<P>Allen</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rasupit replied on Monday, November 27, 2006</h2>Hmm,&nbsp; <br>Can you post your stored procedure in its entirety?&nbsp; Also, make sure you set the ResultSetIndex property to which result set to use from the stored procedure.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
