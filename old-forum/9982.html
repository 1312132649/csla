<html><header><title>GlobalContext for ASP.NET application built using CSLA does not work as expected. Alternatives?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>GlobalContext for ASP.NET application built using CSLA does not work as expected. Alternatives?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9982.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 posted on Tuesday, January 25, 2011</h2><p>Now that we&#39;ve completed our WinForms implementation, I&#39;m trying to build an ASP.NET application using the same business and data layers. So far it&#39;s working very well, but there are a few curve balls here and there.</p>
<p>I&#39;m finding when I set values in ApplicationContext.GlobalContext during the processing of a request, that the values are gone when the next request comes in. This is very different than what happens in a WinForms application, where the values persist for the life of the application, so I wasn&#39;t expecting this. However, in looking at the implementation, it seems like this is what was intended. </p>
<p>A possible and obvious alternative that would work for my intended purposes is so use the Session instead, but is there a better alternative? In this particular case, I was trying to set something at runtime that would persist for any subsequent requests (even from different Sessions), but I can make it work using the Session.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, January 25, 2011</h2><p>This is just a difference between smart client and web development. The CSLA ApplicationContext is lost between page requests. Anything you want to have stick around needs to be in Session or a database.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Tuesday, January 25, 2011</h2><p>OK, thanks. I can live with that. It means that I have to make some changes where I stored and retrieved data from the GlobalContext, but your &quot;provider&quot; model works well for this. The smart client can use a default value provider that uses the GlobalContext as is, and the web application can substitute a an alternative that reads/writes from the session or database in cases where we need the data to persists between page requests.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
