<html><header><title>CslaIdentity.Roles collection initialization</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CslaIdentity.Roles collection initialization</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11118.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rcollette posted on Thursday, February 02, 2012</h2><p>Hi,</p>
<p>I could be wrong, but it seems that the general practice for collection type properties is to initialize the property&#39;s field with its collection.</p>
<p>I have inherited from CslaIdentity and found it beneficial to initialize the property as shown below.&nbsp; Is this something that should be done within CslaIdentity itself?</p>
<pre style="font-family:Consolas;background:white;color:black;font-size:13px;"><span style="color:green;">    &#39;&#39;&#39;&nbsp;</span><span style="color:gray;">&lt;summary&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:green;">&#39;&#39;&#39;&nbsp;A&nbsp;list&nbsp;of&nbsp;role&nbsp;names&nbsp;(functions)&nbsp;associated&nbsp;with&nbsp;the&nbsp;user.</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:green;">&#39;&#39;&#39;&nbsp;</span><span style="color:gray;">&lt;/summary&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:green;">&#39;&#39;&#39;&nbsp;</span><span style="color:gray;">&lt;value&gt;&lt;/value&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:green;">&#39;&#39;&#39;&nbsp;</span><span style="color:gray;">&lt;returns&gt;&lt;/returns&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:green;">&#39;&#39;&#39;&nbsp;</span><span style="color:gray;">&lt;remarks&gt;</span><span style="color:green;">.NET&nbsp;Roles&nbsp;are&nbsp;mapped&nbsp;to&nbsp;AppSec&nbsp;functions.</span><span style="color:gray;">&lt;/remarks&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">Protected</span>&nbsp;<span style="color:blue;">Overloads</span>&nbsp;<span style="color:blue;">Property</span>&nbsp;Roles()&nbsp;<span style="color:blue;">As</span>&nbsp;Csla.Core.<span style="color:#2b91af;">MobileList</span>(<span style="color:blue;">Of</span>&nbsp;<span style="color:blue;">String</span>)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">Get</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:green;">&#39;Create&nbsp;a&nbsp;new&nbsp;roles&nbsp;list&nbsp;if&nbsp;it&nbsp;does&nbsp;not&nbsp;exist&nbsp;so&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;to&nbsp;constantly&nbsp;do&nbsp;this&nbsp;check.</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">If</span>&nbsp;<span style="color:blue;">MyBase</span>.Roles&nbsp;<span style="color:blue;">Is</span>&nbsp;<span style="color:blue;">Nothing</span>&nbsp;<span style="color:blue;">Then</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">MyBase</span>.Roles&nbsp;=&nbsp;<span style="color:blue;">New</span>&nbsp;Csla.Core.<span style="color:#2b91af;">MobileList</span>(<span style="color:blue;">Of</span>&nbsp;<span style="color:blue;">String</span>)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">End</span>&nbsp;<span style="color:blue;">If</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">Return</span>&nbsp;<span style="color:blue;">MyBase</span>.Roles
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">End</span>&nbsp;<span style="color:blue;">Get</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">Set</span>(<span style="color:blue;">ByVal</span>&nbsp;value&nbsp;<span style="color:blue;">As</span>&nbsp;Csla.Core.<span style="color:#2b91af;">MobileList</span>(<span style="color:blue;">Of</span>&nbsp;<span style="color:blue;">String</span>))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">MyBase</span>.Roles&nbsp;=&nbsp;value
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">End</span>&nbsp;<span style="color:blue;">Set</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">End</span>&nbsp;<span style="color:blue;">Property</span></pre></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, February 02, 2012</h2><p>The assumption is that the list of roles is initialized when the object is being loaded with data in the data portal. Because the list of roles is often loaded from the result of a LINQ query, it is then more efficient to create the Roles list directly off the query result - or if not more efficient, it is simpler code.</p>
<p>In short, CslaIdentity doesn&#39;t create the list, because I don&#39;t know how you will be creating or initializing the list and I don&#39;t want to impose one model on you when another model might work better.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
