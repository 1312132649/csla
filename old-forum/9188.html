<html><header><title>Large business object size problem</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Large business object size problem</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9188.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds posted on Thursday, July 08, 2010</h2><p>Hi All</p>
<p>Using CSLA Light...</p>
<p>I have a problem with calling Save on my business object when it gets over a certain size. The business object represents an &quot;attachment&quot; and so can have an arbitrarily large byte[] as one of its properties.</p>
<p>When I call BeginSave it all works fine until I attach a file that&#39;s over a certain size - over about 3MB in this case.</p>
<p>Now, this sounded like the usual problem with the limits on my Binding object being too small, but I&#39;ve set all of them I can find to int.MaxValue (programmatically). At the server end, I&#39;ve set MaxBufferSize, MaxReceivedMessageSize, MaxBufferPoolSize, ReaderQuotas.MaxArrayLength, ReaderQuotas.MaxBytesPerRead, ReaderQuotas.MaxStringContentLength to int.MaxValue, and at the Silverlight end I&#39;ve set MaxBufferSize and MaxReceivedMessageSize to int.MaxValue.</p>
<p>The exception I get is in the References class - on EndUpdate - I get &quot;The remote server returned an error: NotFound&quot;. When I look at this in Fiddler, I see the response from the server as being: &quot;<span lang="EN-NZ">ReadResponse() failed: The server did not return a response for this request.&quot;</span>
<p>Any clues on what else can be wrong and how to debug this?</p>
<p>Thanks,</p>
<p>Craig</p>
<p>&nbsp;</p>
</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, July 08, 2010</h2><p>If it is &quot;arbitrarily large&quot; you might need to find a different data transfer strategy, possibly including &quot;chunking&quot; the file over the network, or using http upload schemes. The data portal isn&#39;t well suited to something like a file transfer.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Friday, July 09, 2010</h2><p>Well, yes, I agree about the &quot;arbitrarily&nbsp;large&quot; thing - but I still need to figure out why it&#39;s falling over with a file that&#39;s 3.5MB when I&#39;ve set limits to int.MaxValue - i.e. 2GB. </p>
<p>So why would it be falling over at 3.5MB when it shouldn&#39;t be limiting it at that size? That&#39;s what I&#39;m really trying to figure out.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, July 09, 2010</h2><p>You aren&#39;t hitting an IIS or ASP.NET upload size limit by chance?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Friday, July 09, 2010</h2><p>Ah, maybe that&#39;s the case. Thanks - I&#39;ll go looking there...</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Friday, July 09, 2010</h2><p>Thanks for the tip Rocky - that was it. The maxRequestLength attribute of the httpRuntime element in my web.config file needed adjusting.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
