<html><header><title>Can't access ViewModelBase.Model from test class</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Can't access ViewModelBase.Model from test class</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11918.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonM posted on Wednesday, April 03, 2013</h2><p>I&#39;m using the MVVM pattern for a WPF application.&nbsp; Inside my viewmodel I make an async await call.&nbsp; Then manipulate my Model.&nbsp; Everything works perfectly inside my WPF app.&nbsp; In my test class this totally fails.&nbsp; The await if coming back on a different thread.&nbsp; I get a &#39;you can&#39;t access this because it is owned by a different thread&#39; error.&nbsp; How do I make it use the calling thread for a callback?&nbsp; I&#39;ve tried ConfigureAwait with true and false with no luck.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Wednesday, April 03, 2013</h2><p>This is a common issue with unit testing and async operations.</p>
<p>Unit testing frameworks typically don&#39;t create a synchronization context, and UI technologies do. So code behaves differently in a unit test environment than in a real UI environment.</p>
<p>If you search the web I suspect you&#39;ll find a number of solutions, probably involving the creation of a custom synchronization context object to get the same behavior in your unit test environment as in a real UI environment.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
