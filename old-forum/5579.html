<html><header><title>CSLA Async Call</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA Async Call</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5579.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Blackshirt posted on Monday, October 13, 2008</h2><P>We want to be able to call a CSLA object and have the code execute on the server.&nbsp; The code would save data to a database but then call another apps Web Service that could take a few minutes to complete.&nbsp; I have tested calling the web service asynchronously and all is good but my issue is if I do this from a CSLA object I wont be able to update the client with details of the save.&nbsp; So another option is to just call CSLA object and when that comes back make the web service call asynchronously but would like to keep everything on the server.&nbsp; </P>
<P>What other options do I have?&nbsp; </P>
<P>&nbsp;</P>
<P>thanks</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Curelom replied on Monday, October 13, 2008</h2>CSLA has remoting built in.&nbsp; You can configure it to hit a webservice.&nbsp; To save async, you can wrap the save call in a background task, another thread, or if you are using wpf, you can use the csladataprovider which has an IsAsynchronous flag.&nbsp; You can consult Rocky's book on how to config for web services.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Blackshirt replied on Monday, October 13, 2008</h2><P>Sorry, I didnt do a good job explaining.&nbsp; We currently do use .Net remoting for our calls.&nbsp; The issue comes in when you call the server to execute your Fetch or whatever call, then you make an Async call from the server.&nbsp; You lose the ability to tell the client that the Async process is finished.</P>
<P>So the other option is to just make the async call from the client, in our case a windows form, so we know when the Async call is made.&nbsp; I was just curious if I was missing something or maybe not understanding the communication between the server and client through CSLS.</P>
<P>So at this time we are thinking of just making the an async web service call from the client after the CSLA call is finished.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Curelom replied on Monday, October 13, 2008</h2><P>You might try making the fetch async, and then calling the other server syncronously from within the fetch.&nbsp; Since it is already in an async mode, there probably isn't a need to make the second call async.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, October 14, 2008</h2><P>Version 3.6 introduces support for async data portal calls.</P>
<P>Prior to 3.6, the easiest solution (by far) is to use synchronous data portal calls, but to do it from within a BackgroundWorker component. In fact, this is what 3.6 does behind the scenes (on Windows - it is different in Silverlight).</P>
<P>The process is pretty easy - just create a BackgroundWorker, hook its do work and completed events. In the do work event handler make your data portal call. In the completed event notify the rest of your client app that the server work is done. The BackgroundWorker ensures that the completed event is raised on the UI thread, so you don't have to worry about most cross-thread issues.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
