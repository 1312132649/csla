<html><header><title>Is Dependency Injection Container needed?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Is Dependency Injection Container needed?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8119.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ballistic posted on Wednesday, December 09, 2009</h2>Hello,<br><br>I am working on my first MVC project and would like to make every effort to have my project as testable as possible.&nbsp; I am going through the examples in the latest CLSA 3.8 videos and have a couple of questions.<br><br>When using the factory method to determine which DAL to use:<br><br>&nbsp;&nbsp; &nbsp;Since the DalFactory is initializing the appropriate manager (DataAccess.Ado or DataAccess.Mock from the example) base on the value of the "DalManagerType" key in the config file is a "dependency injection container" (like Unity) needed? <br><br>Also, the Insert and Update methods in the DataAccess require each property to be passed in as a parameter.&nbsp; Does it make sense to pass in the actual object (this) to the Insert method and have it read the properties itself? Not really sure what the downside of that would be.&nbsp; (Similar to the Insert and Update methods for the DataAccess' TestObject in the ObjectFactory demo)<br><br>Thank you,<br><br>&nbsp;- Andres<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, December 09, 2009</h2><P>You can certainly use a DI container if you'd like. I specifically didn't do that in the videos because it is such a huge level of complexity to take on - it would be a video all by itself just to explain the concept, why I chose framework X (instead of Y, Z, A, etc), how the framework works, its good/bad points, etc.</P>
<P>The Repository pattern is so much simpler and doesn't require a framework :)</P>
<P>My implementation choices were designed to minimize the breakdown of layer boundaries and to minimize coupling.</P>
<P>For example, if you pass 'this' to the DAL.Insert() method, then the DAL must know a great deal about the business object - including how to bypass authz/business/validation rule checking (and there's no way to do that from an external object other than an ObjectFactory).</P>
<P>Passing explicit parameter values means the DAL knows nothing about the business object, and the business object really knows little about the DAL - nothing beyond the interface actually&nbsp;- nicely decoupled.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, December 09, 2009</h2><P><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>ballistic:</strong></div><div>Hello,<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;Since the DalFactory is initializing the appropriate manager (DataAccess.Ado or DataAccess.Mock from the example) base on the value of the "DalManagerType" key in the config file is a "dependency injection container" (like Unity) needed? <BR></div></BLOCKQUOTE></P>
<P>You should also consider that DI containers typically drive off config file metadata too. In other words, if you decided to use Unity (or whatever) you'd end up putting a bunch of XML goo in your config file to tell it how to do its job.</P>
<P>One way or another your code needs some dynamic, configurable mapping to something real. The question is which of several well respected design patterns works best for you, by incurring the least complexity, overhead, etc.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
