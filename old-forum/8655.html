<html><header><title>GetPropertyConvert and SetPropertyConvert - how about a NameValueList converter?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>GetPropertyConvert and SetPropertyConvert - how about a NameValueList converter?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8655.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago posted on Saturday, March 13, 2010</h2><p>It looks like GetPropertyConvert and SetPropertyConvert were designed for the string &lt;-&gt; SmartDate conversion only.</p>
<p>I do a lot of conversions string &lt;-&gt; NameValueList like:</p>
<p>public string Status<br />{<br />&nbsp;&nbsp;&nbsp; get<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return StatusNVL.GetNVL().Value(GetProperty(StatusIDProperty));<br />&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; set<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetProperty(StatusIDProperty, StatusNVL.GetNVL().Key(value));<br />&nbsp;&nbsp;&nbsp; }<br />}</p>
<p>and could use a NameValueList converter.</p>
<p>Where do I sign for the wish list?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Saturday, March 13, 2010</h2><p>GetPropertyConvert/SetPropertyConvert work with any convertible values or values that can be cast from one type to another. They use the CoerceValue() helper method, which uses every technique I&#39;m aware of in .NET to try and convert the values from one type to another.</p>
<p>This doesn&#39;t include looking up values in lists - that&#39;s way beyond type coercion and requires knowledge of the structure of the list and the elements contained in the list.</p>
<p>To do what you are describing I typically have two properties and a business rule or two. When one of the properties is set, the business rule is triggered, and in the rule it locates the value in the lookup list and sets the other property.</p>
<p>So I might have Status and StatusId properties. Set StatusId to a value, and it has a business rule that changes Status (via LoadProperty() to avoid an infinite loop).</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
