<html><header><title>Default value and properties of type string</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Default value and properties of type string</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9870.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Holger posted on Wednesday, December 15, 2010</h2><p>Hi,</p>
<p>I have a CSLA managed property of type string. If I create a new instance of the class, all string properties are defaulted to string.Empty instead of null. The problem is that these values are inserted into database and all columns which are nullable have actually a value.</p>
<p>Is this behavior by design or is this a bug? I would expect that all string properties have a default value of null. I know that I can set the default value on RegisterProperty, but the default behavior should be null.</p>
<p>Best regards</p>
<p>Holger</p>
<p>

</p>
<pre style="font-family:consolas;"><span style="color:blue;">public</span>&nbsp;<span style="color:blue;">static</span>&nbsp;<span style="color:blue;">readonly</span>&nbsp;<span style="color:#2b91af;">PropertyInfo</span>&lt;<span style="color:blue;">string</span>&gt;&nbsp;DescrProperty&nbsp;=&nbsp;RegisterProperty&lt;<span style="color:blue;">string</span>&gt;(c&nbsp;=&gt;&nbsp;c.Descr,&nbsp;<span style="color:#2b91af;">ValidationRulesFriendlyName</span>.ArtlDescr);<br /><span style="color:blue;">public</span>&nbsp;<span style="color:blue;">string</span>&nbsp;Descr<br />{<br /><span style="color:blue;">   get</span>&nbsp;{&nbsp;<span style="color:blue;">return</span>&nbsp;GetProperty(DescrProperty);&nbsp;}<br />&nbsp;&nbsp; <span style="color:blue;">set</span> { SetProperty(DescrProperty,&nbsp;<span style="color:blue;">value</span>); }<br />}<br /><br /><br /></pre>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, December 15, 2010</h2><p>Nullable values can be hard to manage in databinding (and especially in Windows Forms) and would often get to be string.Empty after user has edited the field. </p>
<p>So the safe way is to write System.DBNull to the database if the string value IsNullOrEmpty.</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, December 16, 2010</h2><p>As already stated, databinding (especially WinForms) doesn&#39;t handle null well.</p>
<p>In addition, unless you have a checkbox, how would your user know if the value was purposely entered as empty or if its unknown?&nbsp; How do they enter &quot;null&quot; vs. &quot;empty?&quot;&nbsp; Does your application care?&nbsp; If not, I wouldn&#39;t worry if you have null or empty string in the database.&nbsp; Maybe you should consider removing the nullablity for that column; null doesn&#39;t mean &quot;optional,&quot; it means &quot;unknown.&quot;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jaans replied on Sunday, December 19, 2010</h2><p>The default usage is by design - For reasons mentioned by the other posts - also Rocky discusses this in his C# Business Objects books.<br /><br />Note: the SafeDataReader object will implicitly convert null values to an &quot;equivalent&quot; empty value.</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>Bruce Fincham replied on Friday, March 01, 2013</h2><p>Allowing nulls on a strings means that when you are writing a SQL statement you have to check for 2 potentials empty values i.e. WHERE @Firstname IS NULL OR @Firstname = &#39;&#39;.</p>
<p>If you don&#39;t allow nulls then your SQL statements are easier to code i.e. WHERE @Firstname = &#39;&#39;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
