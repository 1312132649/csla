<html><header><title>Is there a way to MarkBusy a BusinessListBase?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Is there a way to MarkBusy a BusinessListBase?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9466.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>c_manboy posted on Thursday, September 02, 2010</h2><p>I&#39;m using the BusyAnimation for WPF and have bound IsRunning to my BusinessListBase&#39;s IsBusy property as suggested.&nbsp; It works wonderfully.</p>
<p>I have a public method on my BusinessListBase that recalculates all the child objects data which can take about 10 - 15 seconds.&nbsp; I&#39;d love to set the IsBusy property when this runs so that my BusyAnimation executes.&nbsp; </p>
<p>I have tried executing a second BusyAnimation but it does not seem to be firing...at least it&#39;s not displaying.</p>
<p>Is there anyway to mark the list as busy?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, September 02, 2010</h2><p>.NET collections don&#39;t normally implement INotifyPropertyChanged, and the CSLA collection types don&#39;t either.</p>
<p>That means there&#39;s no notification mechanism by which data binding (hence BusyAnimation) would know that an IsBusy property has changed.</p>
<p>It is probably better to follow an MVVM design pattern, where the UI is bound to a viewmodel, which exposes the collection as a Model property (so you can bind to it as well). Then you can put an IsBusy property on the viewmodel, which is fine since your viewmodel can implement INotifyPropertyChanged.</p>
<p>This is all particularly easy if you use the ViewModel&lt;T&gt; base class in Csla.Xaml, since it provides support for most/all of this.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, September 02, 2010</h2><p>One other thng - this whole busy animation stuff will only work as expected if that long-running task is running on a background thread (using BackgroundWorker or something). Otherwise you&#39;ll block the UI thread and nothing will actually happen.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>c_manboy replied on Thursday, September 02, 2010</h2><p>I <em>knew</em> you were going to suggest MVVM.&nbsp; I suspected the reasons you mentioned and I&#39;m glad to have them confirmed.&nbsp; </p>
<p>Thanks!</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
