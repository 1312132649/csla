<html><header><title>Pass 2 arguments to Dataportal.Fetch</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Pass 2 arguments to Dataportal.Fetch</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12344.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brendt posted on Tuesday, February 04, 2014</h2><p>Good day.</p>
<p>i hope that somebody could help me with this. i am needing to pass 2 parameters to the Dataportal.Fetch method. currently i am passing 1 argument which is an enum type, but i am needing to pass a second optional string parameter to fetch NVLList objects. currently i have this method which works well when passing only 1 argument:</p>
<p><b>public static NVLList GetList(Common.Enums.TextListEnum emListType)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return Csla.DataPortal.Fetch&lt;NVLList&gt;(emListType);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</b></p>
<p>but i am needing to do something like this:</p>
<p><b>public static NVLList GetList(Common.Enums.TextListEnum emListType,[Optional]string Pparam)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //return Csla.DataPortal.Fetch&lt;NVLList&gt;(emListType,Pparam); <span style="text-decoration:underline;"><i>&lt;- this does not work</i></span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</b></p>
<p>&nbsp;</p>
<p>i have tried this as well which does not give any Intelli errors but fails when running the code:</p>
<p><b>public static NVLList GetList(Common.Enums.TextListEnum emListType,[Optional]string Pparam)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return Csla.DataPortal.Fetch&lt;NVLList&gt;(new Criteria(emListType,Pparam));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</b></p>
<p><b>&nbsp;private class Criteria<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public Common.Enums.TextListEnum Arg1 { get; private set; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public string Arg2 { get; private set; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public Criteria(Common.Enums.TextListEnum arg1, string arg2) { Arg1 = arg1; Arg2 = arg2; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</b></p>
<p>&nbsp;</p>
<p>the reason that i am needing to pass the second optional parameter is that i am calling NVLList based on an enum which determines what list i am returning, but at times i need to return a list for certain sql queries based on an ID value which is what i would like to pass in the second optional parameter.</p>
<p>&nbsp;</p>
<p>any help on this would be greatly appreciated.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Tuesday, February 04, 2014</h2><p>The latter version should work just fine,. </p>
<p>You add Serializable attribute to Criteria object and if on 4.x you should also use managed properties and inherit from CriteriaBase. </p>
<p>Then have a DataPortal_Fetch method that accepts Criteria object as one single&nbsp;parameter. </p>
<p>Which exception do you get? </p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brendt replied on Tuesday, February 04, 2014</h2><p>thanks JonnyBee.</p>
<p>works like a charm, as always you rock.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
