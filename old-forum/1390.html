<html><header><title>C# Templates -- Delegation Methods region</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>C# Templates -- Delegation Methods region</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1390.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>davem1958 posted on Wednesday, October 04, 2006</h2><P>I'm just starting to wade thru CodeSmith, CSLA, and templates.&nbsp; One thing that puzzles me is the "Delegation Methods" region, which apparently was added to support partial classes.&nbsp; That seems like a lot of additional complexity to support a partial class.&nbsp; Is it worth it?&nbsp; Any alternative?&nbsp; :)</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rasupit replied on Wednesday, October 04, 2006</h2><P>The code&nbsp;is in generated class and not in user class, so the amount of code is actually hidden from user.</P>
<P>I toyed whith several&nbsp;alternatives such as adding base class, and creating template methods on user class.&nbsp; This&nbsp;I think is the most elegant way.&nbsp; I also found from one of Eric Gunnerson's article (and test it) that delegates in .Net 2.0 is as performant or close to overrides.</P>
<P>As whether is worth it? That should be my line of question <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" />&nbsp; I guess I let others who uses partial class methods to chime in.</P>
<P>Ricky</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Skafa replied on Thursday, October 05, 2006</h2>one disadvantage of code generation with partial classes is that you cannot override methods in de 'Generated' partial class. That's something you should consider when deciding between the single/base/partial methods.<br><br>another thing is: (as for as i saw) you cannot mix the partial class and base class generation methods when the different classes depend on eachother.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rasupit replied on Tuesday, October 10, 2006</h2><P><EM>one disadvantage of code generation with partial classes is that you cannot override methods in de 'Generated' partial class.</EM></P>
<P>With partial class you can't override it but you'll wire delegate with your method contain your overridable code and return false so the generated code won't execute.</P>
<P>======== generated code ===========</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private void ExecuteInsert(SqlConnection cn, RootObject parent)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR><FONT color=#ff0000>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!onExecuteInsert(cn, parent)) return;<BR></FONT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; using (SqlCommand cm = cn.CreateCommand())<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cm.CommandType = CommandType.StoredProcedure;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cm.CommandText = "AddProduct";</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AddInsertParameters(cm, parent);</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cm.ExecuteNonQuery();</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _productID = (int)cm.Parameters["@NewProductID"].Value;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; onExecuteInsertComplete(cm, parent);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }//using<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</P>
<P><BR>========== User Code ===========</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private bool executeInsert(SqlConnection cn, RootObject parent)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//your overridable code goes here<BR><FONT color=#ff0000>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false; //false&nbsp;when you want to&nbsp;stop executing generated code<BR></FONT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR></P>
<P>HTH,</P>
<P>Ricky</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>davem1958 replied on Friday, October 13, 2006</h2><P>Ricky, can you give me an example of why I would need to override a method in the generated class?</P>
<P>Still trying to decide which way to go -- partial or split base</P>
<P>Dave</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rasupit replied on Friday, October 13, 2006</h2>Dave,<br>Normally you would not need to override a method in generated class, however is there when you need it.<br><br>These delegates are place strategically to provide comparable (with split base) ability to inject/override the generated code from user class when need it.<br><br>Ricky<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
