<html><header><title>CSLADataSource FormView Paging</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLADataSource FormView Paging</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5270.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Aver posted on Tuesday, August 19, 2008</h2>Hi Guys,<br>&nbsp;&nbsp; Started working with CSLADataSource today and the FormView controls. I want to use the paging of the formview control. I copied the paging example from ProjectList.aspx&nbsp; but it does not in the FormView. I have made sure to enable paging on both the FormView and the CSLADataSource. When I use numeric paging it shows the proper number of objects. Changing the page however has no effect on the databound to the formview. Is there anything I need to do to tell the datasource what object to load?<br><br>A Code Example would be:<br><br>&lt;csla:CslaDataSource ID="MyDataSource" runat="server" TypeName="MyObjectLibrary.Library.MyObject, MyObjectLibrary.Library"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TypeSupportsPaging="True" TypeSupportsSorting="True" OnSelectObject="MyDataSource_SelectObject" /&gt;<br>&nbsp;&lt;asp:FormView ID="FormView1" runat="server" DataSourceID="MyDataSource" <br>&nbsp; &nbsp; &nbsp;&nbsp; AllowPaging="True" DataKeyNames="ObjectID" PageIndex="0"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;ItemTemplate&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;label&gt;Property 1&lt;/label&gt;&lt;input type="text" value='&lt;%# Eval("Field1") %&gt;' /&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/ItemTemplate&gt;<br>&lt;/asp:FormView&gt;<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Aver replied on Wednesday, August 20, 2008</h2>Ok<br><br>&nbsp;&nbsp; So I have found a solution that will work however, it does not seem to be ideal. What I have done is the following.<br><br>In the FromView's PageIndexChanging event I change the pageindex on the form. Then in the CSLADataSource SelectObject event I select the index matching pageindex from my collection. This works but it also removes the proper row count from the formview. So before when I was setting the e.BusinessObject to my List the Form View would show the number of objects in the list. I understand that now by binding directly to an object of the list I am going to lose this functionality.<br><br>I guess now what I am wondering is there anything I need to do to the CslaDataSource or my BusinessList object to tell it what index to use? If I check e.statrowindex (In the SelectObject event) it matches the FormView's PageIndex but the bound fields are never updated.<br><br>I think it is either how I am setting the e.BusinessObject on the SelectEvent ? Or CslaDataSource wont work with FormView Paging.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, August 20, 2008</h2>Have you read the <EM><A href="http://store.lhotka.net">CSLA .NET Version 2.1 Handbook</A></EM>? In that book I walk through the various options you can use to do paging with CslaDataSource - at least with the GridView control.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Aver replied on Thursday, August 21, 2008</h2>Thanks for the suggestion Rocky. I bought the book last night and everything makes sense now.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
