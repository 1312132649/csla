<html><header><title>System Transactions -- Dependant on throwing exceptions</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>System Transactions -- Dependant on throwing exceptions</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1034.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JustCoding posted on Saturday, August 26, 2006</h2><P>I like using the declarative model for defining transactions. Just like the following line of code. </P>
<P>&nbsp;&nbsp;&nbsp;&lt;Transactional(TransactionalTypes.TransactionScope)&gt;</P>
<P>It appears to me that it depends on throwing an error in the object to rollback the transaction. For instance I have an object hierarchy that is several levels deep. If the child object xx fails it must throw the exception to rollback the transaction. </P>
<P>My problem is that I am trying to define an execution state object to determine successfull completion of transaction across all objects so that in a large project we don't have to rewrite the handling of specific exceptions like the database going down. So, we are not throwing errors, we are setting an execution state that is implemented in most of our objects and the controller is using that object to determine whether to send out emails, etc. </P>
<P>Given this scenario, how can I trigger the transaction to rollback if I don't throw errors since I only trap them and set appropriate information in the execution state object?</P>
<P>Has anyone come accross this issue or a similiar issue?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Sunday, August 27, 2006</h2>I modeled the TransactionScope support in CSLA after Enterprise Services with autocomplete, as it is the simplest model. To do what you want, you'll have to use Manual transactions and create your own TransactionScope object in the root object so you can call commit or rollback as needed. <br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
