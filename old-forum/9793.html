<html><header><title>How to GAC CSLA Light</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to GAC CSLA Light</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9793.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>wjcomeaux posted on Monday, November 22, 2010</h2><p>We need to GAC the CSLA binaries and I&#39;m having trouble figuring out how to GAC Csla light when there are two binaries names Csla.dll?</p>
<p>Have any of you had to do this? gacutil simply overwrites the last one in with the current one. I need BOTH binaries in the GAC for our development machines.</p>
<p>Thanks for any help,<br />Will</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Monday, November 22, 2010</h2><p>Can you even put the SL assembly in the GAC? There is no GAC concept in SL.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>wjcomeaux replied on Tuesday, November 23, 2010</h2><p>Well, I guess that was part of the question.</p>
<p>I know as far as the clients using the Silverlight that the GAC wasn&#39;t an option. What we were after is a way to handle our dependencies while developing.<br />I know that silverlight dlls can be added to the gac (I&#39;ve added the cslalight dll to the gac just fine and it works). The problem is when I add the normal csla.dll to the gac it overwrites the cslalight (which makes sense because they are the same name and version). I was just thinking there was something special we had to do to get them in the gac side-by-side.</p>
<p>Looks like we might need to investigate another avenue, which you told me about a few months ago and that&#39;s recompiling csla 3.8.3 into an actual csla_3_8_3.dll and updating all the namespaces therein. Then update all of our code to use the 3.8.3 dll so that we can move forward with csla 4.0 libraries.</p>
<p>Breaking changes are very pianful. :(<br />Will</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>wjcomeaux replied on Tuesday, November 23, 2010</h2><p>Rocky.</p>
<p>Does the csla assembly name matter? For instance, if I build as csla.dll and csla.silverlight.dll but leave all the internal namespaces the same, will it have any negative impact?</p>
<p>Thanks,<br />Will</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, November 23, 2010</h2><p>The assembly names on client and server must match <em>exactly</em> for the data portal to work. That includes the signing key, assembly name, etc.</p>
<p>What is your motivation for putting the SL assemblies in the GAC? You aren&#39;t running them on the server, and the only real value of putting assemblies in the GAC is so they are loaded into physical memory exactly one time and are then shared across Windows processes and .NET AppDomains. That can never happen with an SL assembly, so I&#39;m really struggling to see the value here.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>wjcomeaux replied on Tuesday, November 23, 2010</h2><p>I just wrote a quick test and it resulted in exactly what you said, if the assembly names don&#39;t match the objects won&#39;t work over the data portal. :(</p>
<p>It&#39;s an issue of versioning that we are facing. We have a rather large Csla 3.8.3 codebase&nbsp;with which&nbsp;Csla 4.0 is not backwards compatible.<br />So, we need a way to reference different versions of CSLA. It may all turn out to be&nbsp;moot as we are basing this effort&nbsp;on&nbsp;this assumption:<br />Given<br />BusinessLayerA -- Csla 3.8.3<br />BusinessLayerB -- Csla 4.0+<br />we assume&nbsp;WebApplicationC would be able to consume BusinessLayerA AND BusinessLayerB even though they depend on different versions of Csla.<br />Is this even a valid assumption? It was next in line for me to test and verify but maybe you already have a definitive answer?</p>
<p>If not, the entire point is moot and our ONLY real option would be to do whatever is necessary to make our existing codebase compatible with Csla 4.0+ (not a very palatable solution and would set us back MONTHS from using Csla 4 and the new stuff I&#39;ve worked on with Blake over at CodeSmith). :(<br />Unless you have a better option?</p>
<p>We considered recompiling Csla 3.8.3 into a Csla_3_8_3.dll and updating all of our code to use that dll and new namespace but that effort would be very large and it&#39;s not something we want to even consider unless it is the ONLY option.</p>
<p>Thanks,<br />Will</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>wjcomeaux replied on Tuesday, November 23, 2010</h2><p>I also just verified that compiling normal csla as version 4.1.0 and the silverlight as version 4.1.0.1 will not work. It compiles fine but upon execution throws an exception. :(</p>
<p>More sad by the hour.<br />Will</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
