<html><header><title>Possible bug: Silverlight &quot;Delete&quot; factory throws null reference exception with &quot;Value cannot be null. Parameter name: key&quot; message</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Possible bug: Silverlight &quot;Delete&quot; factory throws null reference exception with &quot;Value cannot be null. Parameter name: key&quot; message</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9582.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jaans posted on Tuesday, September 28, 2010</h2><p>Strangely I haven&#39;t called the delete factory in any of my previous Silverlight projects. Usually I just fetch the business object, call Delete() on the instance and Save it. </p>
<p>That actually works with this business object, but when I instead do the delete with a call to the Delete factory, I get an null reference exception with a message value of &quot;Value cannot be null. Parameter name: key&quot;</p>
<p>Here is the call stack (Silverlight side):</p>
<p><em>&nbsp;&nbsp; at System.Collections.Generic.Dictionary`2.FindEntry(TKey key)<br />&nbsp;&nbsp; at System.Collections.Generic.Dictionary`2.TryGetValue(TKey key, TValue&amp; value)<br />&nbsp;&nbsp; at Csla.Security.ObjectAuthorizationRules.GetRoles(Type objectType)<br />&nbsp;&nbsp; at Csla.Security.AuthorizationRules.GetAllowDeleteRoles(Type objectType)<br />&nbsp;&nbsp; at Csla.Security.AuthorizationRules.CanDeleteObject(Type objectType)<br />&nbsp;&nbsp; at Csla.DataPortal.Delete(Type objectType, Object criteria)<br />&nbsp;&nbsp; at Csla.DataPortal.Delete(Object criteria)<br />&nbsp;&nbsp; at Csla.Server.Hosts.Silverlight.SilverlightRequestProcessor.Delete(SilverlightCriteriaRequest request)</em></p>
<p>From the above it looks to be related to the authorization rules, but my business object has none (neither Instance nor Factory).<br /><br />Is this a Bug in CSLA or am I missing something?</p>
<p>PS: Based on CSLA 3.8.4 and Silverlight 4.</p>
<p>Thanks,<br />Jaans</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jaans replied on Saturday, October 02, 2010</h2><p>Does CSLA 4 also throw this exception when calling the Delete factory in Silverlight ?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jaans replied on Wednesday, December 22, 2010</h2><p>I can confirm that this does <strong><span style="text-decoration:underline;">not</span></strong> happen with CSLA 4.1.0 BETA.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
