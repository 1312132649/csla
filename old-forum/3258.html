<html><header><title>Switchable objects?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Switchable objects?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3258.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>sephus6 posted on Wednesday, July 25, 2007</h2>I have a hierarchy of items that can change at any time.&nbsp; More items can be added to the tree and each item can have a number of different child objects of different types.&nbsp; Currently, each item type can have any number of letters attached to them.<br><br>Here's an example:<br><br>ItemType1<br>&nbsp;&nbsp;&nbsp; ItemType2<br>&nbsp;&nbsp;&nbsp; ItemType2<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; Letter<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; Letter<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  ItemType4<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp; Letter<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  Item Type5<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  &nbsp;&nbsp; Letter<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Item Type5<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  &nbsp;&nbsp; Letter<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  &nbsp;&nbsp;  ItemType6<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  &nbsp;&nbsp;  &nbsp;&nbsp; Letter<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  ItemType4<br>&nbsp;&nbsp;&nbsp; Letter<br><br>Since each item in the tree can have a list of items of any given type I refer to each item as an entity and each entity can have a list of other entities - like this:<br><br>EntityList<br>&nbsp;&nbsp;&nbsp; Entity<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  LetterList<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  EntityList<br>&nbsp;&nbsp;&nbsp; Entity<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; LetterList<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  Letter<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EntityList<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  Entity<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  &nbsp;&nbsp;  LetterList<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  &nbsp;&nbsp; EntityList<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; Entity&nbsp;&nbsp;  <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  LetterList<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  &nbsp;&nbsp;  Letter<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;  &nbsp;&nbsp;  EntityList<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  &nbsp;&nbsp;  .etc<br><br>How can I implement this in CSLA?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>triplea replied on Wednesday, July 25, 2007</h2><P>Isn't this something like what's described here? <A HREF="/forums/thread/16315.aspx">http://forums.lhotka.net/forums/thread/16315.aspx</A></P>
<P>In any case, 1 way of doing this is to have a list in each of your object of type BusinessBase (or a base class you define). But the problem would be that unless your objects implement an interface or inherit from your base class, you won't be able to call any of their methods (since you won't be able to cast properly...). Also if you have custom non-generic methods you won't be able to call them directly.</P>
<P>By the way are you sure the above model is required and you don't just try to replicate your database structure in your object model?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sephus6 replied on Wednesday, July 25, 2007</h2>What we need is a tree of entities displayed above a grid.&nbsp; You can select an entity in the grid and see the corresponding data below.&nbsp; Each entity has different fields that need to be displayed in the grid.&nbsp;&nbsp; The data is passed to the BO in XML format, as below:<br><font face="Courier New" size="1"><br>&lt;COMBOS&gt;<br>&nbsp; &lt;COMBO CMB_ID="000950710" TOOLTIP="000950710"&gt;<br>&nbsp;&nbsp;&nbsp; &lt;COVERAGES&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;COVERAGE CVG_ID="0950690" TOOLTIP="0950690"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;POLICIES&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;POLICY CARRID="00337" POLNBR="X13575071" COV_EFFDT="2003-06-01" TOOLTIP="00337&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;USRS&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;USR CARRID="00337" POLNBR="X13575071" RPT="01" CORR="00" TOOLTIP="00337"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;LETTERS/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/USR&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;USR CARRID="00337" POLNBR="X13575071" RPT="01" CORR="01" TOOLTIP="00337"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;LETTERS/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/USR&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/USRS&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;LETTERS/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/POLICY&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;POLICY CARRID="00337" POLNBR="X13575071" COV_EFFDT="2004-06-01" TOOLTIP="00337"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;USRS&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;USR CARRID="00337" POLNBR="X13575071" RPT="01" CORR="00" TOOLTIP="00337"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;LETTERS/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/USR&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/USRS&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;LETTERS/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/POLICY&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;POLICY CARRID="00337" POLNBR="0950690R0" COV_EFFDT="2005-06-01" TOOLTIP="00337"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;USRS/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;LETTERS/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/POLICY&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;POLICY CARRID="00337" POLNBR="X13575071" COV_EFFDT="2005-06-01" TOOLTIP="00337"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;USRS/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;LETTERS/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/POLICY&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;POLICY CARRID="00337" POLNBR="X13575071" COV_EFFDT="2006-06-01" TOOLTIP="00337"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;USRS/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;LETTERS/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/POLICY&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;POLICY CARRID="00337" POLNBR="WCAUTHCLASS" COV_EFFDT="2007-01-01" TOOLTIP="00337"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;USRS/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;LETTERS&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;LETTER LETTER_ID="583273" LETTER_TYPE="NY07" TOOLTIP="583273"/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/LETTERS&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/POLICY&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/POLICIES&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;LETTERS/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/COVERAGE&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/COVERAGES&gt;<br>&nbsp;&nbsp;&nbsp; &lt;LETTERS/&gt;<br>&nbsp; &lt;/COMBO&gt;<br>&lt;/COMBOS&gt;<br><br><font face="Times New Roman"><font size="3">I want to convert this structure to business objects in the CSLA framework and pass the entire tree of business objects to the UI.&nbsp; The reason I thought a tree of generic Entity objects was necessary is because the tree can change and new items can be added anywhere in the tree at anytime.&nbsp; <br><br>Each Entity has it's own class that uses the IEntity interface.&nbsp; This interface has a type, so when I'm reading the EntityList I can look at the type and now how to cast the object I'm pulling out.<br><br>Is there a better way to do this?</font></font><br></font></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
