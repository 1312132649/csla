<html><header><title>Problem with loading authorization rules from database</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Problem with loading authorization rules from database</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7906.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Little_Irin posted on Thursday, October 29, 2009</h2>Hello! I need to load authorization rules from database using CSLA 3.7.0 in Silverlight 3.0 application. I plan using FieldManager and both property-level and object-level permissions.<br />I've written a simple RolePermissionList class inherited from NameValueListBase.<br />Key for this dictionary is name of object type, and value contains permissions which various roles have for different object properties.<br />And each time object is instantiated,its RolePermissionProperty is loaded from RolePermissionList.<br />But my problem is that I can't load authorization rules in AddAuthorizationRules method, because RolePermissionProperty is not set for ApplicationContext.ExecutionLocation equals "Silverlight".<br />Where should I load them?<br /><br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, October 29, 2009</h2><P>What is RolePermissionProperty?</P>
<P>It seems to me that at some point (before other objects get instantiated) you'll need to make a data portal call to get your RolePermissonList object from the server.</P>
<P>This wouldn't be real hard, except that Silverlight is asynchronous. So you'll have to take steps to make sure the app doesn't let the user actually do anything until that object has been retrieved.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
