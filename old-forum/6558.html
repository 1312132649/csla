<html><header><title>single teir with SQL compact database (SQLCe) Erro with data_fetch</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>single teir with SQL compact database (SQLCe) Erro with data_fetch</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6558.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>sanbrar posted on Wednesday, March 04, 2009</h2>Hello,<br><br>I am new to CSLA, please be nice.<br><br>I am working on a prototype following example in the book "C# 2005 Business Objects". Prototype very simple: only have employees and employees can multiple addresses. (Win Forms only)<br><br>After developing the business objects (employee, employee list, employee info, employee addresses, addresses) and UI, I get an error on using command in Data fetch in employee business object.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p = new SqlCeParameter("@param_ID", SqlDbType.NVarChar);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p.Value = criteria.Id.ToString();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cm.Parameters.Add(p);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; using (SqlCeCommand cm = cn.CreateCommand())<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br><br>Error: "System.NullreferenceException: Object reference not set to an instance of an object at Demo.Library.Employee.DataPortal_Fetch(Criteria criteria) in.... <br><br>Can anyone please direct me in a right direction on how I can resolve this error.&nbsp; Any help or comments would be greatly appreciated.<br><br>Thanks,<br>San<br><br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Thursday, March 05, 2009</h2><P>Hmmm. I'd think the error&nbsp;stack trace&nbsp;(and debugger) would tell you which line the problem occurred on, but I see two possible candidates here:</P>
<P>1. Does your criteria parameter have a value? If not, critieria.Id would cause and error.</P>
<P>2. You are referencing cm.Parameter. Does cm have a value at this point?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>richardb replied on Thursday, March 05, 2009</h2><P>You are referencing the cm object before it has been declared.</P>
<P>Add the parameter to the cm object</P>
<P>Using (SqlCeCommand cm = cn.CreateCommand()</P>
<P>{</P>
<P>&nbsp;&nbsp;&nbsp; cm.Parameters.Add(p)</P>
<P>etc.......</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
