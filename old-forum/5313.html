<html><header><title>WPF ComboBox not showing validation rule that a TextBox does.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>WPF ComboBox not showing validation rule that a TextBox does.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5313.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tdrake posted on Thursday, August 28, 2008</h2>Hi WPF'ers....<br><br>After some searching I can't see anyone else with this problem:<br><br>Business rule for Customer is such:<br>ValidationRules.AddRule(Csla.Validation.CommonRules.StringRequired, CustomerProperty);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ValidationRules.AddRule(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Csla.Validation.CommonRules.StringMaxLength,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new Csla.Validation.CommonRules.MaxLengthRuleArgs(CustomerProperty, 15));<br>and a TextBox defined as such:<br>&lt;TextBox Margin="5 0 5 0" Text="{Binding Customer, Converter={StaticResource IdentityConverter},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ValidatesOnDataErrors=True}"&gt;&lt;/TextBox&gt;<br><br>Works brilliantly... <br><br>Replace text box with a matching pair lookup as such:<br>&lt;ComboBox Margin="5 0 5 0" <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ItemsSource="{Binding Source={StaticResource ListCustomers}}" <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DisplayMemberPath="Value"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SelectedValuePath="Key"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SelectedValue="{Binding Path=Customer}" /&gt;<br><br>Now when I enter form for a new customer, I get no error - I like Rocky's little red dot.<br><br>Looked through the using CSLA 3.0 and probably say that the whole "rules bit" of CSLA is my current weak point (I'm sure there are more areas I don't know I don't know), so sorry if I've missed something.<br><br>Anyway, software going to use tomorrow with or without the error flag, but I'd like be know how to do it for the next release!!<br><br>Anyway, while I've tinkered with CSLA for about 3 years, and built a demo or two (Winform), this is my first real user app - WPF,WCF and Linq - do I feel like I'm cutting edge or what??!!??<br><br>Cheers Tony Drake<br>Melb Aus.<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Curelom replied on Thursday, August 28, 2008</h2><P>You probably are getting an error, but your combobox style is not showing it.&nbsp; Try something like below.&nbsp; You will need to supply your own brushes.</P><FONT color=#a31515 size=2><FONT color=#a31515 size=2>
<P></FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Style</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> x</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Key</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>x</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Type</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> ComboBox</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>}"</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> TargetType</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>x</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Type</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> ComboBox</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>}"&gt;</P>
<P>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Setter</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Property</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="Validation.ErrorTemplate"</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Value</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>StaticResource</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> validationTemplate</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>}" /&gt;</P></FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>
<P></FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Style.Triggers</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>
<P></FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Trigger</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Property</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="Validation.HasError"</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Value</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="True"&gt;</P></FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>
<P></FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Setter</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Property</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="BorderBrush"</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Value</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>DynamicResource</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> BorderErrorBrush</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>}"/&gt;</P></FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>
<P></FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Setter</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Property</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="Opacity"</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Value</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="0.84"/&gt;</P></FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>
<P></FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Setter</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Property</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="Background"</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Value</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>DynamicResource</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> BackgroundErrorBrush</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>}"/&gt;</P></FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>
<P></FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Trigger</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>
<P></FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Trigger</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Property</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="IsReadOnly"</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Value</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="True"&gt;</P></FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>
<P></FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Setter</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Property</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="IsEnabled"</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Value</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="False" /&gt;</P></FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>
<P></FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Trigger</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>
<P></FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Style.Triggers</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2> </P>
<P></FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Style</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tdrake replied on Thursday, August 28, 2008</h2><P>thanks - I am getting the error (as the business object is not valid) until I enter data&nbsp; - the user&nbsp;doesn't get any feedback apart from that&nbsp;- so I think you've hit the nail - thanks for the quick reply.</P>
<P>I'll workup the xml (and built a SP1 with new validate feedback) and report back.</P>
<P>Cheers Tony</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
