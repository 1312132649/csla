<html><header><title>Object Composition</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Object Composition</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2427.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonWright posted on Sunday, February 25, 2007</h2>&nbsp;&nbsp;&nbsp; Hi, was wondering if anybody could shed some light on the following. <br><br>Say for instance I have a student class. Student is a Editable Root. Now&nbsp; a student belongs to the following. <br><br>1 School<br>1 Campus<br>1 Cohort<br><br>This is modelled in the database as a 1 : Many between the Student and the respective Schools, Campus's and Cohort's. With the primary key of School, Campus and Cohort being stored in the <br>Student table.<br><br>Now in my Student class does anybody know which would be considered right way of going about things. <br><br>Would the correct way be, to store a reference to each of the above so the class would look something like this.<br><br>public class Student : .....<br><br>private School school;<br>private Campus campus;<br>private Cohort cohort;<br><br>And then in the Fetch method for student, using the relevent IDs from create the objects so<br><br>private void DataPortal_Fetch(Criteria criteria) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp; // Access database using ado<br>&nbsp;&nbsp;&nbsp;&nbsp; School school = new School(dr.GetInt32("SchoolID");<br>&nbsp;&nbsp;&nbsp; this.school = school;<br>&nbsp;&nbsp;&nbsp; Campus campus = new Campus(dr.GetInt32("CampusID");<br>&nbsp;&nbsp;&nbsp; this.campus = campus;<br>&nbsp;<br>&nbsp;&nbsp;&nbsp; // and so on.<br>}<br><br>Or am I going about things in the wrong way. <br><br>Your thoughts would be much appreciated. <br><br>Regards<br><br>Jon<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Skafa replied on Sunday, February 25, 2007</h2>If you always need those 'child' objects, then yes. that is a solution.<br><br>but why not let the UI decide wether they need to query the Db for a School object?<br><br>the UI then uses something like this:<br><br>Student s = Student.GetStudent(studentId);<br>School sch = School.GetSchool(s.SchoolId);<br>Campus c = Campus.GetCampus(s.CampusId);<br><br>another way is to lazy load (so the objects are only retrieved when asked for it):<br><br>class Student {<br>&nbsp;&nbsp;&nbsp; private School _school<br>&nbsp;&nbsp;&nbsp; public School School {<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  get <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  if (_school == null || _school.Id != _schoolId)<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  &nbsp;&nbsp;  _school = School.GetSchool(_schoolId);<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  return _school;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  }<br>&nbsp;&nbsp;&nbsp; }<br>}<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonWright replied on Sunday, February 25, 2007</h2>Some excellent suggestions. Thanks very much <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" /><br><br>Jon<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
