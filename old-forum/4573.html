<html><header><title>Re: Adding child via AddNew leaves IsNew = false</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Re: Adding child via AddNew leaves IsNew = false</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4573.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>preludecrazy posted on Thursday, March 27, 2008</h2><P><FONT face=Arial>Thanks Joe.</FONT></P>
<P><FONT face=Arial>In fact, I've just looked into this deeper, and realised the IsNew of my newly added child <EM>was</EM> true afterall, and not false.&nbsp; The reason why I presumed IsNew was false was I put a breakpoint at the top of my Update and Insert methods in LiteCompany, and it was jumping straight into Update -&nbsp;and I hadn't updated any rows, just added one, so I presumed it&nbsp;would&nbsp;only call the Insert method....</FONT></P>
<P><FONT face=Arial>However I then suddenly realised something which seems really bizzare to me... In my DataPortal_Update method in LiteCompanyCollection (which derives from BusinessListBase [EditableRootList template]), it loops through each child in 'this', then if the child is new it calls Insert otherwise calls&nbsp;Update.&nbsp; This seems sensible, but is sends 'this' (the parent/collection) as the parameter, not the actual child.&nbsp; So you end up having to loop through the parent again in LiteCompany Update again (and Insert)!&nbsp; This seems crazy, so surely it should be sending the child as the parameter?&nbsp; I'm sure this isn't a bug, and I'm missing something, but sending 'this' just doesn't make sense to me...</FONT></P>
<P><FONT face=Arial></FONT>&nbsp;</P>
<P><FONT face=Arial>Thanks.</FONT></P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
