<html><header><title>Application server not working under Wcf</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Application server not working under Wcf</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4247.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>shaih posted on Monday, January 28, 2008</h2><P>Hi,</P>
<P>I am running into an issue with the WcfHost (Wcf data portal channel) - I have both a Wcf service and WcfHost under IIS 6 (2003 Server). both are configured as instructed in the CSLA 3.0 ebook. Each one is defined under a V.Dir and is using a different application.</P>
<P>In my Wcf service I am calling a BO that is loading a tree of other BOs from a database, then it tries to load another BO object from the database (another tree of objects). At this point I get an HTTP failure in the client. When putting the RunLocal attribute on the root BO that is generating the error - everything works well.</P>
<P>I do not see any difference between the 2 load BOs except for the root of the tree BO is not participating in the first call (but it is not written in any special way)</P>
<P>Any idea/direction????</P>
<P>Thanks</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, January 28, 2008</h2><P>Your architecture is:</P>
<P>client--XML--&gt;wcfservice--dataportal--&gt;appserver</P>
<P>?</P>
<P>I do this quite frequently, though if you can avoid having a separate app server you'll get a lot better performance and simpler deployment, so that is really the better approach. But people do this harder architecture for security reasons, and I assume that's your motivation as well.</P>
<P>Debugging objects behind a WCF service can be a pain. It is far easier to debug behind a simpler client than WCF - like a console app or something. My recommendation would be to create a simple console app that references your same business assembly. Then set up your app.config to talk to that same app server. Then you can run the client in the debugger and step through to see the real exception that's causing you trouble.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
