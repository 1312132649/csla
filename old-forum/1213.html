<html><header><title>64-bit operating system and CSLA</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>64-bit operating system and CSLA</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1213.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>KFoster posted on Thursday, September 14, 2006</h2><P>Our DataPortal runs remotely on the Database Server. The DB Server is being upgraded to a 64 bit version of Windows and 64 bit version of SQL2005. The Application and Web servers are not being upgraded at this time. Does anyone see a problem with having a 64 bit compiled version of the data portal running remotely with 32 bit compiled versions of the Business Objects?</P>
<P>Has anyone done something similar yet?</P>
<P>Thanks,</P>
<P>Ken</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, September 14, 2006</h2>I'm not sure I understand your setup.&nbsp; The application server is usually the server which runs the dataportal code (which is the case if you setup remoting of any kind).&nbsp; <br>But then you say the DataPortal code runs on the DB server, which implies you're using the DB server as your app server.<br><br>Could you clarify a bit?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>KFoster replied on Thursday, September 14, 2006</h2><P>Our Application servers run various back end processes, largely business processes as part of an MSMQ based workflow, however there are numerous other services that run as well. Our Web Servers are basically just that, user interaction. Both the Web Servers and the App Servers (and a few diagnostic tools running as WinApps on various desktops) use a CSLA based data object layer. We decided to put the Data Portal close to the DB for a couple of reasons, including easier load balancing scenarios. </P>
<P>Does that help?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, September 14, 2006</h2>So in Csla terms, your web server and MSMQ workflow server are the clients, and your application server is the db server itself.<br><br>So the question becomes 'can the remoting source be 32-bit while the remoting target server is 64-bit'?&nbsp; It may be that you can use ES and that will work fine, whereas .Net remoting may not...&nbsp; <br><br>I think that's what you'll have to research.&nbsp; Does the data portal channel you've decided to use support crossing 32- and 64-bit bounderies?&nbsp; Unfortunately I don't have an answer to that, although maybe someone else here does.<br><br>If no one here has that answer, I hope you'll post the answer here anyway.. I'd sure like to know.&nbsp; <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" /><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, September 14, 2006</h2>I must second Andy's assessment - I am not aware of anyone doing what you are trying to do, so you'll just have to give it a try.<br><br>The real underlying question is whether the BinaryFormatter can serialize/deserialize objects across the 32/64 bit boundary. My expectation would be that this would work - but there's really only one way to be sure...<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonM replied on Thursday, September 14, 2006</h2><P>I've run 64-bit dataportal and sql server 2005 x64 with csla.net 1.5x&nbsp;on the same box.&nbsp; Connecting to it with both x86 and x64 winforms clients worked great.&nbsp; The only real hitch is getting IIS into 64-bit mode.&nbsp; You see while IIS 6 will support multiple framework versions (1.0, 1.1, 2.0) on the same box they must all be either x86 or x64.&nbsp; You have to run a script to set it for 64 or 32 bit, I believe the default it 32.&nbsp; The biggest problem happens when you try to install a 32-bit webapp (like VMware Server)&nbsp;in your 64-bit server, for some reason it ends up getting set back to 32-bit mode and your 64-bit CSLA doesn't work until you fix it.</P>
<P>To set IIS 6.0 in Windows 2003 x64 to <FONT color=#0000ff>64-bit</FONT> mode you would run this:</P>
<P><B>cscript.exe adsutil.vbs set W3SVC/AppPools/Enable32BitAppOnWin64 “false”</B></P>
<P>To set IIS 6.0 in Windows 2003 x64 to <FONT color=#0000ff>32-bit</FONT> mode you would run this:</P>
<P><STRONG>cscript.exe adsutil.vbs set W3SVC/AppPools/Enable32BitAppOnWin64 “true”</STRONG></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, September 15, 2006</h2>Sounds like those switches enable 32-bit apps to run in the 64-bit environment.. much like my AMD X2 at home runs in 64bit but if presented with 32 bit it somehow knows and works fine ...<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
