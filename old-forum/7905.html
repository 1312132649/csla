<html><header><title>Can't access PropertyInfo in OnDeserialized() override in CSLA 3.5 (Index still -1)</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Can't access PropertyInfo in OnDeserialized() override in CSLA 3.5 (Index still -1)</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7905.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 posted on Thursday, October 29, 2009</h2>So, I thought I stumbled into the problem with derived classes and properties not being registered and have researched the various threads, but now I'm not sure it's the same problem.<br /><br />I'm trying to access a managed property in OnDeserialized(), but the field index is still -1. <br /><br />If I look into the BusinessBase OnDeserialized() handler, I see that FieldManager.SetPropertyList() is called *after* OnDeserialized is called, so I'm kind of stuck here. <br /><br />Any thoughts on how to work around this?<br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, October 29, 2009</h2><P>Somewhere between 3.5 and 3.8 this bug was caught and fixed.</P>
<P>So you can either fix the bug in your copy of CSLA or upgrade.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Thursday, October 29, 2009</h2>Do you recall if the fix was in OnDeserializedHandler() or was implemented elsewhere? <br /><br />A clumsy work around I implemented was to check the property index in advance and it if is -1, to just create a dummy object of the same class. Ugly, but it seems to work... </div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, October 29, 2009</h2>It was fixed in OnDeserializedHandler(). If you look at the current code, it<br />is ordered correctly.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
