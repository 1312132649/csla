<html><header><title>How i use Csla.net with NHibernate-part 1</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How i use Csla.net with NHibernate-part 1</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6670.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>mamboer posted on Wednesday, March 25, 2009</h2>&nbsp; A few weeks ago,i started from <a href="http://www.code.google.com/p/cslaptrackerfactory">cslaptrackerfactory </a><br>rolling my own digs on using NHibernate with csla.net,i share u my experience,you give me your opinions.BTW:I'm not experted on both of Csla.net and NHibernate now(May be in the future:-).<br><br>&nbsp; My intention is clear:<br>&nbsp; To implement csla's objectfactory,using NHibernate to do the data access job but decouple it from csla.net. Since we may use other DA technologies.<br><br>&nbsp; The most important thing here is how to provide data to our Csla.net business objects.We have tow choices:<br>&nbsp; 1,Use independent DTO(a.k.a POCO)<br>&nbsp; In this case,the relationship among BO,DTO and NHibernate will be "BO&lt;-&gt;DTO&lt;-&gt;Persistence with NH".If you wanna use NH's lazy load,you can take this option,since we couldn't make all of BO's public properties and methods virtual.<br>&nbsp; 2,Use Csla.NET BO as DTO<br>&nbsp; The relationship becomes "BO&lt;-&gt;NH",NHibernate will feed your BO directly.<br><br>&nbsp; As Rocky had said somewhere,both of two options have their pros and cons,you should make your own choice.<br>&nbsp; In order to fulfil these two options,i define my own custom business base class which like:<br>&nbsp; <a href="http://sites.google.com/site/dafenbei/mamboernet/bobase">http://sites.google.com/site/dafenbei/mamboernet/bobase</a><br>&nbsp; <a href="http://sites.google.com/site/dafenbei/mamboernet/bobasefactory">http://sites.google.com/site/dafenbei/mamboernet/bobasefactory</a><br><br>&nbsp; I define some methods on the BO base,if you use the DTO style,the factory class will use these methods to synchronize data between BO and DTO,NHibernate will do the persistence job after the synchronization.<br>&nbsp; If you use the BO itself as DTO,things will be same as in the <a href="http://www.code.google.com/p/cslaptrackerfactory">cslaptrackerfactory </a><br>&nbsp; Now,let's say we use DTO style,the BO derived from my business base will look like,<br>&nbsp; <a href="http://sites.google.com/site/dafenbei/mamboernet/bosample">http://sites.google.com/site/dafenbei/mamboernet/bosample</a><br>&nbsp; <br>&nbsp; I am not sure whether i am on the right way,you can give me some of your opinions.Thanks so much.<br>&nbsp; <br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
