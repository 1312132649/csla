<html><header><title>SetProperty in CSLA 3.6.0.0</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>SetProperty in CSLA 3.6.0.0</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6597.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>vivitron posted on Wednesday, March 11, 2009</h2>Greetings,<br><br>I'm working on an implementation of CSLA and wanted to use private backing fields instead of managed backing fields.<br><br>I also want the object to throw an exception if the current user does not have access to read the value or set the value... This is not the default implementation.<br><br>So, two options:<br>&nbsp;(depreciated) CanReadValue(true);<br><br>or the new method:<br>return GetProperty&lt;int&gt;(_ProductIDPropertyInfo, _ProductID, _ProductIDPropertyInfo.DefaultValue, Csla.Security.NoAccessBehavior.ThrowException);<br><br>This works fine until I get to the SetProperty method which forces me to pass the string name of the Property as opposed to being able to pass the PropertyInfo object itself (like GetProperty does).<br><br>So I end up with this:<br><br>SetProperty&lt;int&gt;(<b><i>_ProductIDPropertyInfo.Name</i></b>, ref _ProductID, value, Csla.Security.NoAccessBehavior.ThrowException);<br><br>Any ideas why you can't do?<br>SetProperty&lt;int&gt;(<b>_ProductIDPropertyInfo</b>, ref _ProductID, value, Csla.Security.NoAccessBehavior.ThrowException);<br><br>Thanks for the help,<br>Dustin<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, March 11, 2009</h2>SetProperty() does throw an exception if the user isn't authorized, and so you should be able to use the default behavior there.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>vivitron replied on Wednesday, March 11, 2009</h2>Ah. My misunderstanding... That makes sense. So GetProperty does not always throw an exception, but SetProperty will.<br><br>Thanks for the help.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, March 11, 2009</h2>Yes. GetProperty() doesn't throw, because that messes up most UI data binding technologies. SetProperty() does throw, because it doesn't conflict with data binding.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
