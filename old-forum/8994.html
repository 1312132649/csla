<html><header><title>The remote server returned an unexpected response: (400) Bad Request.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>The remote server returned an unexpected response: (400) Bad Request.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8994.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>zaff posted on Wednesday, May 26, 2010</h2><p>Hi</p>
<p>Apologies for asking this same question again. But I just cannot get&nbsp;a relatively small&nbsp;object to update through Wcf.</p>
<p>I am using Project Tracker Solution - PTWin Application&nbsp;and have changed NO code at all.</p>
<p>I log on as Admin and add a few roles, all works fine...... however once I get to just&nbsp; 10 roles and try to add another role and save I get the following error.</p>
<p>The remote server returned an unexpected response: (400) Bad Request.</p>
<p>I have tried adding the following line into the Web.Config</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;">&lt;</span></span><span style="font-size:x-small;color:#a31515;"><span style="font-size:x-small;color:#a31515;">httpRuntime</span></span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;"> </span></span><span style="font-size:x-small;color:#ff0000;"><span style="font-size:x-small;color:#ff0000;">maxRequestLength</span></span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;">=</span></span><span style="font-size:x-small;">&quot;</span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;">2097151</span></span><span style="font-size:x-small;">&quot;</span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;"> /&gt;<font size="2" color="#0000ff"><font size="2" color="#0000ff">
<p>&nbsp;</p>
</font></font></span><font size="2" color="#0000ff">
<p>&nbsp;</p>
</font></span></p>
<p>&nbsp;</p>
<p>straight after &lt;<span style="font-size:x-small;color:#a31515;"><span style="font-size:x-small;color:#a31515;">system.web</span></span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;">&gt;</span></span></p>
<p><span style="font-size:x-small;color:#0000ff;">However I still get the error</span>&nbsp;</p>
<p>Any advice would be most appreciated.</p>
<p>Many Thanks</p>
<p>Zaff</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Wednesday, May 26, 2010</h2><p>There are several limits that need to be changed on the client and server.</p>
<p><a href="http://www.lhotka.net/cslanet/faq/DataPortalFaq.ashx">http://www.lhotka.net/cslanet/faq/DataPortalFaq.ashx</a></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, May 26, 2010</h2><p>Or you could simply use the config variable CslaDataPortalUrl on the client: </p>
<p>&nbsp; &lt;appSettings&gt;<br />&nbsp;&nbsp;&nbsp; &lt;add key=&quot;CslaDataPortalProxy&quot; value=&quot;Csla.DataPortalClient.WcfProxy, Csla&quot;/&gt;<br />&nbsp;&nbsp;&nbsp; &lt;add key =&quot;CslaDataPortalUrl&quot; value =&quot;http://localhost:21647/WcfPortal.svc&quot;/&gt;<br />&nbsp; &lt;/appSettings&gt;<br /><br />&nbsp; &lt;!-- This part of config is no longer neccessary in CSLA4 Client Side when using default WCF values and specifying CslaDataPortalUrl. --&gt;<br />&nbsp; &lt;!--&lt;system.serviceModel&gt;<br />&nbsp;&nbsp;&nbsp; &lt;client&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ..........<br />&nbsp;&nbsp;&nbsp; &lt;/client&gt;<br />&nbsp; &lt;/system.serviceModel&gt;--&gt;</p>
<p>Csla4 will auto configure to max length settings on client proxy when only CslaDataPortalUrl is specified.</p>
<p>Take a look at the SimpleNTier sample provided with Csla 4 and <a title="http://www.lhotka.net/cslabugs/edit_bug.aspx?id=591 " href="http://www.lhotka.net/cslabugs/edit_bug.aspx?id=591%20">http://www.lhotka.net/cslabugs/edit_bug.aspx?id=591</a></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>zaff replied on Thursday, May 27, 2010</h2><p>Hi </p>
<p>I&#39;m using&nbsp;&nbsp;csla version 3.5.3 at work but had a similar problem with version 4 beta at home.</p>
<p style="margin:0cm 0cm 0pt;" class="MsoNormal"><span style="font-size:10pt;mso-ansi-language:EN-US;mso-bidi-font-size:11.0pt;" lang="EN-US">Thanks for all your replies, Unfortunately I&#39;m still not winning.</span></p>
<p style="margin:0cm 0cm 0pt;" class="MsoNormal"><span style="font-size:10pt;mso-ansi-language:EN-US;mso-bidi-font-size:11.0pt;" lang="EN-US">&nbsp;</span></p>
<p style="margin:0cm 0cm 0pt;" class="MsoNormal"><span style="font-size:10pt;mso-ansi-language:EN-US;mso-bidi-font-size:11.0pt;" lang="EN-US">These are the changes I have made so far.</span></p>
<p style="margin:0cm 0cm 0pt;" class="MsoNormal"><span style="font-size:10pt;mso-ansi-language:EN-US;mso-bidi-font-size:11.0pt;" lang="EN-US">&nbsp;</span></p>
<p style="margin:0cm 0cm 0pt;" class="MsoNormal"><span style="font-size:10pt;mso-ansi-language:EN-US;mso-bidi-font-size:11.0pt;" lang="EN-US">1. Added </span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&lt;</span><span style="font-size:9pt;color:#a31515;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">httpRuntime</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"> </span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">maxRequestLength</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="color:blue;">2097151</span>&quot;<span style="color:blue;"> /&gt; </span></span><span style="font-size:10pt;mso-ansi-language:EN-US;mso-bidi-font-size:11.0pt;" lang="EN-US">into the </span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&lt;</span><span style="font-size:9pt;color:#a31515;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">system.web</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&gt; </span><span style="font-size:10pt;mso-ansi-language:EN-US;mso-bidi-font-size:11.0pt;" lang="EN-US">node in the Web.config for the following two applications PTWcfService AND WcfHost</span></p>
<p style="margin:0cm 0cm 0pt;" class="MsoNormal"><span style="font-size:10pt;mso-ansi-language:EN-US;mso-bidi-font-size:11.0pt;" lang="EN-US">&nbsp;</span></p>
<p style="margin:0cm 0cm 0pt;" class="MsoNormal"><span style="font-size:10pt;mso-ansi-language:EN-US;mso-bidi-font-size:11.0pt;" lang="EN-US">2. In the PTWcfClient project in the app.config I have updated as highlighted</span></p>
<p style="margin:0cm 0cm 0pt;" class="MsoNormal"><span style="font-size:10pt;mso-ansi-language:EN-US;mso-bidi-font-size:11.0pt;" lang="EN-US">&nbsp;</span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;</span><span style="font-size:9pt;color:#a31515;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">wsHttpBinding</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&gt;</span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;</span><span style="font-size:9pt;color:#a31515;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">binding</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"> </span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">name</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="color:blue;">WSHttpBinding_IPTService</span>&quot;<span style="color:blue;"> </span><span style="color:red;">closeTimeout</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">00:01:00</span>&quot;</span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">openTimeout</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="color:blue;">00:01:00</span>&quot;<span style="color:blue;"> </span><span style="color:red;">receiveTimeout</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">00:10:00</span>&quot;<span style="color:blue;"> </span><span style="color:red;">sendTimeout</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">00:01:00</span>&quot;</span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">bypassProxyOnLocal</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="color:blue;">false</span>&quot;<span style="color:blue;"> </span><span style="color:red;">transactionFlow</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">false</span>&quot;<span style="color:blue;"> </span><span style="color:red;">hostNameComparisonMode</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">StrongWildcard</span>&quot;</span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">maxBufferPoolSize</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="color:blue;">524288</span>&quot;<span style="color:blue;"> </span><span style="color:red;">maxReceivedMessageSize</span><span style="color:blue;">=</span>&quot;<span style="background:yellow;color:blue;mso-highlight:yellow;">2147483647</span>&quot;</span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">messageEncoding</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="color:blue;">Text</span>&quot;<span style="color:blue;"> </span><span style="color:red;">textEncoding</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">utf-8</span>&quot;<span style="color:blue;"> </span><span style="color:red;">useDefaultWebProxy</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">true</span>&quot;</span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">allowCookies</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="color:blue;">false</span>&quot;<span style="color:blue;">&gt;</span></span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;</span><span style="font-size:9pt;color:#a31515;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">readerQuotas</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"> </span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">maxDepth</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="background:yellow;color:blue;mso-highlight:yellow;">1024</span>&quot;<span style="color:blue;"> </span><span style="color:red;">maxStringContentLength</span><span style="color:blue;">=</span>&quot;<span style="background:yellow;color:blue;mso-highlight:yellow;">2147483647</span>&quot;<span style="color:blue;"> </span><span style="color:red;">maxArrayLength</span><span style="color:blue;">=</span>&quot;<span style="background:yellow;color:blue;mso-highlight:yellow;">2147483647</span>&quot;</span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">maxBytesPerRead</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="background:yellow;color:blue;mso-highlight:yellow;">2147483647</span>&quot;<span style="color:blue;"> </span><span style="color:red;">maxNameTableCharCount</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">16384</span>&quot;<span style="color:blue;"> /&gt;</span></span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;</span><span style="font-size:9pt;color:#a31515;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">reliableSession</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"> </span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">ordered</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="color:blue;">true</span>&quot;<span style="color:blue;"> </span><span style="color:red;">inactivityTimeout</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">00:10:00</span>&quot;</span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">enabled</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="color:blue;">false</span>&quot;<span style="color:blue;"> /&gt;</span></span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;</span><span style="font-size:9pt;color:#a31515;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">security</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"> </span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">mode</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="color:blue;">Message</span>&quot;<span style="color:blue;">&gt;</span></span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;</span><span style="font-size:9pt;color:#a31515;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">transport</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"> </span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">clientCredentialType</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="color:blue;">Windows</span>&quot;<span style="color:blue;"> </span><span style="color:red;">proxyCredentialType</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">None</span>&quot;</span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">realm</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;&quot;<span style="color:blue;"> /&gt;</span></span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;</span><span style="font-size:9pt;color:#a31515;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">message</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"> </span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">clientCredentialType</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="color:blue;">UserName</span>&quot;<span style="color:blue;"> </span><span style="color:red;">negotiateServiceCredential</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">true</span>&quot;</span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:9pt;color:red;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">algorithmSuite</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">=</span><span style="font-size:9pt;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&quot;<span style="color:blue;">Default</span>&quot;<span style="color:blue;"> </span><span style="color:red;">establishSecurityContext</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">true</span>&quot;<span style="color:blue;"> /&gt;</span></span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;/</span><span style="font-size:9pt;color:#a31515;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">security</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&gt;</span></p>
<p style="margin:0cm 0cm 0pt;page-break-after:auto;mso-layout-grid-align:none;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;/</span><span style="font-size:9pt;color:#a31515;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">binding</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&gt;</span></p>
<p style="margin:0cm 0cm 0pt;" class="MsoNormal"><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;/</span><span style="font-size:9pt;color:#a31515;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">wsHttpBinding</span><span style="font-size:9pt;color:blue;font-family:&#39;Courier New&#39;;mso-ansi-language:EN-GB;mso-no-proof:yes;mso-bidi-font-size:10.0pt;">&gt;</span><span style="font-size:10pt;mso-ansi-language:EN-US;mso-bidi-font-size:11.0pt;" lang="EN-US"></span></p>
<p>However I&#39;m still getting the same error. Any more help would be appreciated</p>
<p>Thanks</p>
<p>Zaff&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>mbblum replied on Saturday, May 29, 2010</h2><p>We hit the same issue, and a co-worker found it was the IIS setting, not WCF configuration. Within web.config&#39;s&nbsp;&lt;system.web&gt; look for:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;httpRuntime maxRequestLength=&quot;400&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; useFullyQualifiedRedirectUrl=&quot;true&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; executionTimeout=&quot;45&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /&gt;</p>
<p>The maxRequestLength is KB, so the above sample&nbsp;limits requests to 400KB. If the incoming request gets large than this, IIS will refuse it. The purpose is to limit attacks and DOS on your system, so keep as small as feasible for your system.</p>
<p>On the other side, the reason for our troubles is because&nbsp;as written it&nbsp;sends entire collections to save a single change. Instead it should only be sending the modified object. (Some entities do have collections that are to be saved as a group&nbsp;with&nbsp;a parent&nbsp;object, not individually. But only that parent should be Save and sent, not great-grand parents with other&nbsp;collections, possibly quite large.)&nbsp;I am in the process of changing this now to reduce the amount of overhead traffic on saves that simply wastes bandwidth and make the app appear slow to users.</p>
<p>Hope that helps, mbb</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>mbblum replied on Saturday, May 29, 2010</h2><p>Oops, read the thread and not your original post close enough. You alread set that value.</p>
<p>Sorry about that.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>mbblum replied on Saturday, May 29, 2010</h2><p>Try this one more time. Verify the binding settings in the web.config match those in the app.config.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>zaff replied on Tuesday, June 01, 2010</h2><p>Hi</p>
<p>I do have the following line in my PTWcfService project (Is this what you mean??)</p>
<p>&nbsp;</p>
<p><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;"><font size="2" color="#0000ff"><font size="2" color="#0000ff">
<p>&lt;</p>
</font></font></span><font size="2" color="#0000ff">
<p>&nbsp;</p>
</font></span></p>
<p><span style="font-size:x-small;color:#a31515;"><span style="font-size:x-small;color:#a31515;">endpoint</span></span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;"> </span></span><span style="font-size:x-small;color:#ff0000;"><span style="font-size:x-small;color:#ff0000;">address</span></span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;">=</span></span><span style="font-size:x-small;">&quot;&quot;</span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;"> </span></span><span style="font-size:x-small;color:#ff0000;"><span style="font-size:x-small;color:#ff0000;">binding</span></span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;">=</span></span><span style="font-size:x-small;">&quot;</span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;">wsHttpBinding</span></span><span style="font-size:x-small;">&quot;</span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;"> </span></span><span style="font-size:x-small;color:#ff0000;"><span style="font-size:x-small;color:#ff0000;">contract</span></span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;">=</span></span><span style="font-size:x-small;">&quot;</span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;">IPTService</span></span><span style="font-size:x-small;">&quot;</span><span style="font-size:x-small;color:#0000ff;"><span style="font-size:x-small;color:#0000ff;">/&gt;</span></span></p>
<p>&nbsp;</p>
<p>I&#39;m guessing that as the application is actually working when small objects are passed that all the binding stuff will probably be OK.</p>
<p>It&#39;s just when the object gets a bit bigger, in this case the roles object which updates just fine upto 9 roles and it&#39;s adding a 10th role that causes the error so I think is it probably a setting somewhere that increases this default (small) size that can be passed around with WCF.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
