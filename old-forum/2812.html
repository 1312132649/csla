<html><header><title>Core.BusinessBase - IsChild region</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Core.BusinessBase - IsChild region</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2812.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Arkrzrbak posted on Wednesday, May 02, 2007</h2><P><FONT face="Courier New" size=2>Can someone please explain to me why&nbsp;the need for the IsChild #region, or the _isChild field,&nbsp;in Core.BusinessBase?&nbsp; I ask this because there is already a Parent property in the "Parent/Child link" region.&nbsp; Is it fair to say that&nbsp;the IsChild region could be&nbsp;replaced with:</FONT></P>
<P><FONT face="Courier New" size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private bool IsChild <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return (this.Parent != null);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</FONT></P>
<P><FONT face="Courier New" size=2>You would have to comment out the check in the SetParent method too.</FONT></P>
<P><FONT face="Courier New" size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; internal void SetParent(Core.IEditableCollection parent)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //if (!IsChild)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //throw new InvalidOperationException(Resources.ParentSetException);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _parent = parent;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</FONT></P>
<P><FONT face="Courier New" size=2>This way you either have a Parent, and thus are a Child, or you don't have a parent and are not a child.</FONT></P>
<P><FONT face="Courier New" size=2>Thanks</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, May 02, 2007</h2><P>At the moment it is possible for an object to be a child of another object without the Parent property ever being set.</P>
<P>If your object is a child of a collection (BLB), then SetParent() is called and Parent has a value.</P>
<P>But if your object is a direct child of another object (BB), then SetParent() would only be called if you implement the code to call it (any time the child field is set, and when your object is deserialized). That's not automatic, and most people don't make this call. So Parent is null, even though the object is a child.</P>
<P>I've toyed off and on with creating a "child coordinator" object that would fill the role of BLB in this second case. The goal would be to simplify the code in your parent object, and one side-effect would be that SetParent() would be called automatically. But this idea is relatively low on the priority list, and wouldn't solve the _isChild problem regardless, because using the child coordinator would be entirely optional (must preserve backward compatibility with existing code).</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Arkrzrbak replied on Wednesday, May 02, 2007</h2><P><FONT face="Courier New" size=2>IC.&nbsp; That makes sense.&nbsp; I didn't consider the scenarion when BB is a child of another BB.&nbsp; Thanks for the reply.</FONT></P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
