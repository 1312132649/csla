<html><header><title>WPF - Binding child forms and other queries</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>WPF - Binding child forms and other queries</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7730.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiptop posted on Tuesday, October 06, 2009</h2>Hello<br /><br />I am new to CSLA and are currently evaluating it in a prototype project with a view to using it in a proposed large project.<br /><br />I have got the whole framework working fine and binding to a table to a wpf form without too many issues.<br /><br />What I can't work out from the examples is how to bind a second data source to a form.<br /><br />For example, I have an Employee table and I can bind this fine to the form. I also have a foreign key on this table to an Address table. LINQ Classes load the child table data fine but I can't seem to get the wpf form to bind the address fields to the address table data. I am using a second csla dataprovider in the xaml that looks like this :<br /><br />                                   ObjectType="{x:Type Mydb:Address}"<br />                           FactoryMethod="GetAddress"<br />                           IsAsynchronous="False"<br />                           IsInitialLoadEnabled="False"<br />                           DataChanged="DataChanged"<br />                           ManageObjectLifetime="True">            <br />        <br /><br />and binding the fields like this <br /><br />DataContext="{Binding Source={StaticResource Address}}" Text="{Binding Address1, Converter={StaticResource IdentityConverter}, ValidatesOnDataErrors=True}"<br /><br />It all compiles fine but the data doesn't show on the form.<br /><br />The project tracker example uses a slightly different way of displaying child data and I have not been able to work out how to do it for my needs.<br /><br />Any hints would be greatly appreciated.<br /><br />Mark</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Tuesday, October 06, 2009</h2>If you are dealing with child's data, you do not need a separate data provider, you can just bind to a property on main provider.<br /><br /><br /><br />Where AddressFields sits inside another layout control with data context bound to main provider and your Employee object has property called Address which has a property called Address1<br /><br />Sergey Barskiy<br />Principal Consultant<br />office: 678.405.0687 | mobile:&#160;404.388.1899<br /><br />Microsoft Worldwide Partner of the Year | Custom Development Solutions, Technical Innovation<br /><br />-----Original Message-----<br />From: tiptop [mailto:cslanet@lhotka.net] <br />Sent: Tuesday, October 06, 2009 8:06 AM<br />To: Sergey Barskiy<br />Subject: [CSLA .NET] WPF - Binding child forms and other queries<br /><br />Hello<br /><br />I am new to CSLA and are currently evaluating it in a prototype project with a view to using it in a proposed large project.<br /><br />I have got the whole framework working fine and binding to a table to a wpf form without too many issues.<br /><br />What I can't work out from the examples is how to bind a second data source to a form.<br /><br />For example, I have an Employee table and I can bind this fine to the form. I also have a foreign key on this table to an Address table. LINQ Classes load the child table data fine but I can't seem to get the wpf form to bind the address fields to the address table data. I am using a second csla dataprovider in the xaml that looks like this :<br /><br />                                   ObjectType="{x:Type Mydb:Address}"<br />                           FactoryMethod="GetAddress"<br />                           IsAsynchronous="False"<br />                           IsInitialLoadEnabled="False"<br />                           DataChanged="DataChanged"<br />                           ManageObjectLifetime="True">            <br />        <br /><br />and binding the fields like this <br /><br />DataContext="{Binding Source={StaticResource Address}}" Text="{Binding Address1, Converter={StaticResource IdentityConverter}, ValidatesOnDataErrors=True}"<br /><br />It all compiles fine but the data doesn't show on the form.<br /><br />The project tracker example uses a slightly different way of displaying child data and I have not been able to work out how to do it for my needs.<br /><br />Any hints would be greatly appreciated.<br /><br />Mark<br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, October 06, 2009</h2><P>That's correct. You really need a data provider for each <EM>root object</EM>, and then you can bind to child objects through the parent object's properties.</P>
<P>In CSLA .NET 3.8 the CslaDataProvider control supports "chaining", where a data provider's ObjectInstance property can be bound to a property of a "parent" data provider control. The reason for doing this is to support more of an MVVM model while still using the data provider control.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiptop replied on Tuesday, October 06, 2009</h2>Thanks for both replies. Both of those helped in solving the problem as what I needed to do was use Address.City for binding the child table  / objects. I have removed the second csla data provider.<br /><br />What I need to do next is work how to trigger a data changed event for the child bound fields as at the moment when I change this data, the "Save" button remains disabled.<br /><br />Thanks for your help.<br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, October 06, 2009</h2>If the data provider connects to your root object, and your Save button is<br />bound to the data provider (or an ObjectStatus bound to the data provider)<br />then the Save button should enable automatically when the parent/root<br />object's IsSavable property is true.<br /><br />IsSavable will be true if the user is authorized to do the save, if the<br />entire object graph is valid and if any object in the object graph has been<br />changed. <br /><br /><br />-----Original Message-----<br />From: tiptop [mailto:cslanet@lhotka.net] <br />Sent: Tuesday, October 06, 2009 10:02 AM<br />To: rocky@lhotka.net<br />Subject: Re: [CSLA .NET] RE: WPF - Binding child forms and other queries<br /><br />Thanks for both replies. Both of those helped in solving the problem as what<br />I needed to do was use Address.City for binding the child table  / objects.<br />I have removed the second csla data provider.<br /><br />What I need to do next is work how to trigger a data changed event for the<br />child bound fields as at the moment when I change this data, the "Save"<br />button remains disabled.<br /><br />Thanks for your help.<br /><br /><br /></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
