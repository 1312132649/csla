<html><header><title>Overiding PropertyInfo&lt;T&gt;</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Overiding PropertyInfo&lt;T&gt;</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8084.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>shrage posted on Wednesday, December 02, 2009</h2>I would like to stor more information about a property so i inherited from PropertyInfo and added additional fields, here is how i tried to register a property using my own sub class<br /><br />private static StringPropertyInfo FirstNameProperty =   RegisterProperty(c => c.FirstName) as StringPropertyInfo;<br /><br />But for some reason after this line of code runs, FirstNameProperty will be null, looks like it cannot convert from simple PropertyInfo to my sub class, how would i go about it?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, December 03, 2009</h2><P>Jason has a blog post about changing the way IsDirty works - which involves creating a custom PropretyInfo&lt;T&gt; type among other things, so this may help:</P>
<P><A href="http://www.jasonbock.net/JB/Default.aspx?blog=entry.9cc70d85bef34e2b9a683ba82615f8a3">http://www.jasonbock.net/JB/Default.aspx?blog=entry.9cc70d85bef34e2b9a683ba82615f8a3</A></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rxelizondo replied on Sunday, December 06, 2009</h2>Wowzers ! That sure looks like a lot of work!<br /><br />Just toying around with this I came up with something that may save you some time if you want to cut some corners. It looks to me though that you almost got something working in your example.<br /><br />Here is the code, you will need to replace the “{“ with the lower than symbol and the “}” with greater than symbol for the code to compile:<br /><br />class StringPropertyInfo{P} : PropertyInfo{P}<br />{<br />    public StringPropertyInfo(string name) : base(name, "")<br />    { <br />    }<br /><br />    public int MyProperty <br />    { <br />        get; <br />        set; <br />    }<br />}<br /><br />class SomeClass : BusinessBase{SomeClass}<br />{<br />    private static StringPropertyInfo{string} IDProperty = (StringPropertyInfo{string})RegisterProperty{string}(new StringPropertyInfo{string}("ID"));<br />    public string ID<br />    {<br />        get { return GetProperty(IDProperty); }<br />        set { SetProperty(IDProperty, value); }<br />    }<br />}<br /><br /></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
