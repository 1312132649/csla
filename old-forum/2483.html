<html><header><title>Editable items in a read-only list?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Editable items in a read-only list?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2483.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>mercule posted on Tuesday, March 06, 2007</h2><P>I'm working on a customizable questionaire application and I'm running into a situation where I'm a bit confused how to handle it.</P>
<P>One form in the application is for a user to answer the questions.&nbsp; The list of questions is immutible, but the answers obviously need to be edited and saved back to the database.&nbsp; My gut reaction is that I want to use the following object structure:</P>
<P>questionaireItem (editable)&nbsp;--&gt; questionList (read-only) --&gt; questionItem (editable)</P>
<P>The logical hiccup I'm running into is that there doesn't seem to be a way to pass the Save instruction down to the individual questionItems.&nbsp; I'm pondering switch the questionList to an editable list and just closing off access to add/delete member items, but I don't want to carry overhead that I don't need.</P>
<P>Has anyone run into a similar situation or have a suggestion on how to handle this?&nbsp; Is this just inexperience with the framework biting me?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Justin replied on Tuesday, March 06, 2007</h2><P>If the list of questions is immutable why are they not properties of the questionaireItem? For instance questionaireItem.question1, questionaireItem.question2 etc thus eliminating a read only list since the list doesn't change. </P>
<P>Now if the reason it is a list is because it can be changed by a admin/supervisor type and not a developer with acces to change the source then I would approach that as a buiness rule such that the List is editable but rejects saves&nbsp;unless&nbsp;the questionaireItem is being edited by the proper user.</P>
<P>Justin</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Tuesday, March 06, 2007</h2><P>It seems to me that you've missed a step here.&nbsp; What you actually need to save are the responses to the questions, not the questions themselves, as would be indicated by your model.&nbsp; May I suggest the following:</P>
<UL>
<LI>Questionnaire (editable root)</LI>
<LI>QuestionList (read-only child collection)</LI>
<LI>Question (read-only child object)</LI>
<LI>ResponseCollection (editable child collection)</LI>
<LI>Response (editable child object)</LI></UL>
<P>with the Questionnaire object exposing the QuestionList and ResponseCollection as properties.&nbsp; The Response object would have a referece to the Question and a Value property that is used to persist the user's answer.&nbsp; Then, when you call Questionnaire.Save() it will pass the operation through the ResponseCollection to the individual Response objects.</P>
<P>HTH</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>mercule replied on Wednesday, March 07, 2007</h2><P>The questions are, in fact, editable by the admin.&nbsp; There are actually six different&nbsp;questionaires that I know will be available to begin with.&nbsp; My plan had been to create a separate set of objects to edit the questions because, as SonOfPirate indicated, the actual questionaire is really just editing the answers.</P>
<P>SonOfPirate, your model would still require passing a save call to an editable child of a read-only parent, which is what's perplexing me about this circumstance.&nbsp; Could you elaborate a bit?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, March 07, 2007</h2>merclue,<br><br>Maybe a simpler object model is needed.<br><br>What about Questionaire which has a Questions collection.&nbsp; The each Question could have the question, possible responses and a field to actually set the answer.&nbsp; So it'd be an Editable child object,but only the Answer field would be actually read - write; the other properties would expose only getters.<br><br>The questionaire object itself could have data about the respondant; name, email, etc.<br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DansDreams replied on Wednesday, March 07, 2007</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>mercule:</strong></div><div>
<P>The questions are, in fact, editable by the admin.&nbsp; There are actually six different&nbsp;questionaires that I know will be available to begin with.&nbsp; My plan had been to create a separate set of objects to edit the questions because, as SonOfPirate indicated, the actual questionaire is really just editing the answers.</P>
<P>SonOfPirate, your model would still require passing a save call to an editable child of a read-only parent, which is what's perplexing me about this circumstance.&nbsp; Could you elaborate a bit?</P>
<P></div></BLOCKQUOTE></P>
<P>Why are you describing an editable list as read-only?&nbsp; As already suggested, this looks like a fairly simple permissions issue to me.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>mercule replied on Thursday, March 08, 2007</h2><P><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>DansDreams:</strong></div><div>Why are you describing an editable list as read-only?</div></BLOCKQUOTE></P>
<P>Lack of experience with the framework and some of the thought processes behind it.&nbsp; My understanding was that the difference between an editable list and a read-only one was whether a child element could be added to them.&nbsp; </P>
<P>In this case, there is significant difference in logic between the use case for maintaining the questions list vs. actually answering them.&nbsp; If I'm understanding Mr. Lhotka's book correctly, that is ample justification for making two different families of objects.</P>
<P>For admin/maint:<BR>Questionaire --&gt; Questions (with the ability to add children)&nbsp;--&gt; Question</P>
<P>For user responses:<BR>Questionaire --&gt; Answers (w/o the ability to add)&nbsp;--&gt; Answer (w/ QuestionText as a property)</P>
<P><BLOCKQUOTE><div>As already suggested, this looks like a fairly simple permissions issue to me.</div></BLOCKQUOTE></P>
<P>That's the answer I was looking for.&nbsp; Thank you much.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
