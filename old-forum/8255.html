<html><header><title>How can I tell the business object that it's property object has changed?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How can I tell the business object that it's property object has changed?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8255.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>espenrl posted on Friday, January 01, 2010</h2>I have this custom type UserRoles that I use for a property in my business object.<br /><br />public UserRoles Roles {get; set;}<br /><br />The above code does not reflect the actual code. I am using a csla managed backing field.<br /><br />Now, I want my business object marked dirty when properties of the UserRoles object is changed. How can this be achieved?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rxelizondo replied on Saturday, January 02, 2010</h2><br />Is the UserRoles type derided from BusinessBase? If so, if you are using managed field, I think that what you are asking for is done automatically already. On the other hand, if the UserRoles is not derived from BusinessBase then its a totally different ball game.<br /><br />You should know that if your UserRoles type inherits from BusinessBase you should remove the "set" accessors from your property declaration, if you don't then you will get all kind of unexpected behaviors.<br /><br />Come to think about it, when using managed fields, I think the CSLA should raise an error if you try to set the field value of a BusinessBased derived object more than once. This will make it clear that doing that is not a good thing.<br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Saturday, January 02, 2010</h2>Your UserRoles class should inherit from BusinessBase - and then it will work like magic. <br><br>Look at the ProjectTrackercs sample in Csla downloads for how this is done in the custom Principal/Roles object. <br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, January 05, 2010</h2><P>I would think that your UserRoles class should subclass BusinessListBase.&nbsp; Then it contains objects which subclass BusinessBase.&nbsp; </P>
<P>Also, I would think you'd want your Roles property to be private settable.&nbsp; The UI should be altering the contents of the collection, not replacing the collection itself.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>espenrl replied on Tuesday, January 05, 2010</h2>Thanks for all the answers!<br /><br />I'll have the BusinessBase solution in mind, but I want to keep the UserRoles object small and it's API clean. Is there another way to achieve this? I have tried implementing INotifyPropertyChanged, but that was no success. I guess I'll fire up Reflector and digg into the "magic". :-)</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
