<html><header><title>Pre-Populate New BLB Child Object?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Pre-Populate New BLB Child Object?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8065.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dmbRedGetta posted on Monday, November 30, 2009</h2><P>I have a list of status values with an integer field that allows the user to control the order.&nbsp; The implementation is almost identical to the RolesEdit example in the book, except for the additional Order field.</P>
<P>I'm trying to query the db for the largest Order value so I can pre-populate the new child with the next Order value.</P>
<P>I have the code to hit the database in the DataPortal_Create() method of the child object, and I have changed the NewItemStatus() function to call DataPortal.Create().</P>
<P>How do I execute this code from the UI?&nbsp; Right now, I just have a GridView inside the first View, and a DetailsView inside another View.&nbsp; When the user clicks the "Add New" button, I flip to the InsertView and set the DetailsView into Insert mode, but that simply returns two empty TextBoxes based on the Fields definition of the DetailsView.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dmbRedGetta replied on Tuesday, December 01, 2009</h2><P>I'm still open to suggestions, but I ended up writing a simple "GetNextOrder" command similar to the Exists command example.&nbsp; Then, during the&nbsp;"Add New" button click event&nbsp;in the code-behind of my webpage, I'm using that command&nbsp;to pre-populate the textbox in the detailsview.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
