<html><header><title>Authorize Read/Write on the Property level based on data</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Authorize Read/Write on the Property level based on data</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4660.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>wentwj posted on Thursday, April 10, 2008</h2>On the project we're working on we have a need to restict access to objects based on the state of the object itself.&nbsp; For example we want a certain property to be writable only if the object is new, or only if the object has a certain 'status', or any set of restrictions based on the property itself.<br><br>We also want these conditions to be reflected based on the result of CanReadProperty and CanWriteProperty in order to pass this information up to the UI and any other program that consumes the business objects.&nbsp;&nbsp; Basically we want to be able to add authorization rules based on the state of the object rather than&nbsp; specific role the user has.<br><br>Is there a way to handle this within CSLA?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, April 10, 2008</h2>You can override CanReadProperty() and CanWriteProperty() to change their behavior.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>wentwj replied on Thursday, April 10, 2008</h2>We were developing an addition to our CSLA framework, which is essentially a combination of AuthorizationRules and ValidationRules as a new AuthorizationBusinessRules class on each of our business objects.&nbsp; It maintains a collection of handlers similar to ValidationRules, which is called through overload CanReadProperty/CanWriteProperty.&nbsp; The handers simply accept an object which would be the instance of the of the buisness object that we'd be determinig if we should authorize the read/write.&nbsp; So CanReadProperty/CanWriteProperty is overloaded to check these AuthorizationBusinessRules and then check the standard role authorizations.<br><br>Developers could then define AuthorizationBusinessRules in an AddAuthorizationBusinessRules function, which is executed once per type, similar to AddAuthorizationRules and AddBusinessRules.&nbsp; So there's a slightly more structured way to define these object state based rules.<br><br>We were wondering what your thoughts would be on such an addition, and if there were some potential issues with this that we haven't forseen.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
