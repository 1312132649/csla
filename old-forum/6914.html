<html><header><title>Entity Framework, Csla, and large scale enterprise applications</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Entity Framework, Csla, and large scale enterprise applications</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6914.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>CyclingFoodmanPA posted on Thursday, May 07, 2009</h2><P>Ok, I am getting pretty psyched reading about the Entity Framework and using the book "Programming Entity Framework" by Julia Lerman.&nbsp; I am finishing up Chapter 3 and went through the examples pretty well.&nbsp; I started creating a project with a small DB and going through the modifications to the model that she requested.&nbsp; Here is where I am going:</P>
<P>The changes are not to bad for a small application, say under 20 tables.&nbsp; When you get to a large application, say 180+ tables, there seems to be a lot to do (pluralization of Navigation Properties, pluralization of the Entity Set Names, etc.) and all this has to be done in a systematic, organized method, otherwise if you miss something and gen your code, you&nbsp;will have to go back and redo some stuff.</P>
<P>I went and created a sample of this on my own with a pricing table and followed the same steps for the example in the book.&nbsp; However, I am getting some strange error now as follows:</P>
<P>System.Data.MetadataException was unhandled<BR>&nbsp; Message="Schema specified is not valid. Errors: \r\nThe EntityType 'BelAirPricing.CopyOfSpotLocation' that the NavigationProperty 'PLATTSProducts' is declared on is not the same type 'BelAirPricing.SpotLocation' referred by the end 'SpotLocation' of the RelationshipType 'BelAirPricingModel.FK_SpotLocation_PLATTSProduct' that this NavigationProperty represents."<BR>&nbsp; Source="System.Data.Entity"<BR>&nbsp; StackTrace:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Metadata.Edm.ObjectItemCollection.LoadAssemblyFromCache(ObjectItemCollection objectItemCollection, Assembly assembly, Boolean loadReferencedAssemblies)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Metadata.Edm.ObjectItemCollection.LoadAssemblyForType(Type type)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Metadata.Edm.MetadataWorkspace.LoadAssemblyForType(Type type, Assembly callingAssembly)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Objects.ObjectContext.CreateQuery[T](String queryString, ObjectParameter[] parameters)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at BelAirPricing.BelAirPricingEntities.get_NYMEXHistories() in D:\Visual Studio 2008\Entity Framework\Books\Programming Entity Framework\Chapter03\BelAirPricing\BelAirPricing.Designer.cs:line 98<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at BelAirPricing.Program.QueryNYMEXPricing() in D:\Visual Studio 2008\Entity Framework\Books\Programming Entity Framework\Chapter03\BelAirPricing\Program.cs:line 19<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at BelAirPricing.Program.Main(String[] args) in D:\Visual Studio 2008\Entity Framework\Books\Programming Entity Framework\Chapter03\BelAirPricing\Program.cs:line 12<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.AppDomain._nExecuteAssembly(Assembly assembly, String[] args)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.AppDomain.ExecuteAssembly(String assemblyFile, Evidence assemblySecurity, String[] args)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Threading.ThreadHelper.ThreadStart_Context(Object state)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Threading.ThreadHelper.ThreadStart()<BR>&nbsp; InnerException: <BR><BR>and this is a small (13 table) db that I am practicing on before I dig into my big enterprise application.&nbsp; So, my question is, is anyone out there developing a large scale enterprise application with the EF and if so, how are things going.&nbsp; Are there any major bottlenecks that you have had to overcome, how did you do it, etc?&nbsp; I am the sole developer at my organization so some feedback and "helpfull hints" from other developers would be great!</P>
<P>Thanks in advance for your help and keep on developin'</P>
<P>CyclingFoodmanPA</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dlambert replied on Thursday, May 07, 2009</h2>I haven't done large-scale EF yet, so take this with a grain of salt.&nbsp; My impressions when playing with it, though, were pretty similar to yours:&nbsp; As long as your data model and application (1) is internally consistent across the whole of the application, and (2) agrees with the "Grand Unified Theory of EF", you're golden.&nbsp; My experience was that as soon as you depart from that mainline, however, stuff starts to get a little bumpy.<br><br>If I were going to dive into this in a big way, I'd look for some places to partition my data model so that I could produce a number of EF models of a manageable size.&nbsp; That's not always going to be easy, but if you can't do that, I'd be very worried about a localized problem rendering the entire data model unusable.&nbsp; <br><br>I had a similar experience a few years ago w/ Hibernate -- there was no such thing as an isolated problem.&nbsp; I chalk this up in part to my ignorance w/ Hibernate, but also to the tactic of trying to create one big model to rule them all.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
