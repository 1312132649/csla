<html><header><title>Wishlist item: Add a Copy() method to BusinessBase...</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Wishlist item: Add a Copy() method to BusinessBase...</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5864.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>cmclernon posted on Monday, November 24, 2008</h2><P>Hi Rocky,</P>
<P>Just wondering if there are any plans to implement the Copy() method in the near future?</P>
<P>Thanks,</P>
<P>Colm</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Monday, November 24, 2008</h2><P>BusinessBase does support Clone(), which makes a copy of the object - are you referring to something else? </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cmclernon replied on Monday, November 24, 2008</h2><P><A href="http://www.lhotka.net/cslanet/WishList.aspx">http://www.lhotka.net/cslanet/WishList.aspx</A></P>
<P>Yeah, it's item no. 20 on the above wishlist link.&nbsp; The full description is:</P>
<P>Add a Copy() method to BusinessBase (like Clone(), but with ability to change resulting objects). And cascade call through to child objects.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, November 24, 2008</h2>Not in 3.6.0, no. I don't have any estimate on a timeline.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cmclernon replied on Tuesday, November 25, 2008</h2><P>Thanks for the reply Rocky,</P>
<P>I have implemented the FixUpAfterCopy() method you specified in another thread and it works well.&nbsp; The only reservation I have with it is that it needs maintained so that any newly added&nbsp;childlist's are added to the method.</P>
<P>Regards,</P>
<P>Colm</P>
<P>P.S.&nbsp;I know your todo list must be massive and also everyone has their own wants but I'd&nbsp;just like to add&nbsp;that the Copy() method is high on my wishlist as it would eliminate this maintenance and hence provide a&nbsp;nicer framework experience. :)</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Tuesday, November 25, 2008</h2><P>I think with managed fields that a reasonably generic or common method to implement this would not be that difficult. I have a need for it myself so I may just post my implementation once I'm happy with it. </P>
<P>Objects with auto-incrementing fields (e.g. identity columns) might need special attention. Depending on how you're saving the new copy, the old values might be ignored anyway even if you left them alone, but it would be best if they are represented the same way a brand new object of the same type would appear. </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Tuesday, November 25, 2008</h2><P>We've added an ICopyable interface, analogous to ICloneable, with a single Copy() method for this purpose.&nbsp; In our case, cloning is great except that it also duplicates primary key information.&nbsp; We distinguish between cloning and copying as:</P>
<UL>
<LI>Cloning creates an EXACT copy of the object, its state and its children and their state.</LI>
<LI>Copying creates a DUPLICATE of the object and its children.</LI></UL>
<P>This might seem subtle to some and I realize there are ways to change the primary keys, etc. when cloning, but we wanted a true clone process as well.&nbsp; For instance, we have a case where some work is done on a background thread and we clone the object and pass it to the thread.</P>
<P>More often, however, we have the need to "copy" an object - such as support for copy/cut/paste in a grid.&nbsp; When doing so, we not only need to&nbsp;duplicate the object with a new primary key (guid in most cases) but also its child objects and so on down the object graph.&nbsp; This is quite cumbersome to do via the cloning process.&nbsp; So, our Copy() method on a BO knows how to copy the object, assign a new primary key value and return the copy.&nbsp; We have the same interface on our collections which know how to instantiate a new collection and iterate through each item, delegating to the item's Copy() method and adding the returned copy into the new collection.&nbsp; By doing this, the entire object graph easily copies itself.</P>
<P>As you can tell, I am a proponent of building this capability into the framework.&nbsp; So, hopefully it will move up in priority for the next version.</P>
<P>Thanks!</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cmclernon replied on Thursday, November 27, 2008</h2><P>Thanks guys.&nbsp;&nbsp;Your help is much appreciated.</P>
<P>Regards,</P>
<P>Colm</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
