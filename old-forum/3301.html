<html><header><title>CslaDataSource</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CslaDataSource</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3301.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dantes posted on Tuesday, July 31, 2007</h2>i have this web apps... i have a gridview and a combobox...<br>i used the csladatasource to connect the gridview and my business object...<br><br>i used the combobox (SelectedIndexChanged) to choose a value to be passed as criteria to the GetList method of my Business Object... and render the gridview back... but the gridview would not change...<br><br>'Code<br><br>Partial Public Class RadGridSample<br>&nbsp;&nbsp;&nbsp; Inherits System.Web.UI.Page<br><br>&nbsp;&nbsp;&nbsp; Private _positionList As PositionList = Nothing<br>&nbsp;&nbsp;&nbsp; Private _value As Integer = 0<br>&nbsp;&nbsp;&nbsp; Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _positionList = PositionList.GetList(Nothing)<br>&nbsp;&nbsp;&nbsp; End Sub<br><br>&nbsp;&nbsp; Private Sub CslaDataSource1_SelectObject(ByVal sender As Object, ByVal e As Csla.Web.SelectObjectArgs) Handles CslaDataSource1.SelectObject<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.BusinessObject = _positionList<br>&nbsp;&nbsp;&nbsp; End Sub<br><br>&nbsp;&nbsp;&nbsp; Protected Sub RadComboBox1_SelectedIndexChanged(ByVal o As System.Object, ByVal e As Telerik.WebControls.RadComboBoxSelectedIndexChangedEventArgs) Handles RadComboBox1.SelectedIndexChanged<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _positionList = PositionList.GetList(CType(RadComboBox1.SelectedValue, Integer))<br>&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Dim e1 As New Csla.Web.SelectObjectArgs<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CslaDataSource1_SelectObject(Me.CslaDataSource1, e1)<br><br>&nbsp;&nbsp;&nbsp; End Sub<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonStonecash replied on Tuesday, July 31, 2007</h2>From the code that you posted, it looks like you are not handling the distinction between the original rendering of the page and the "postback" rendering/processing of the page.&nbsp; The typical pattern is to have some code in the form load event that tests to see if this call to the page is a postback.&nbsp; If it is not a postback (meaning this is the first time through the page logic), you would set up the contents of the combo box.&nbsp; If it is a postback (meaning the second or subsequent time through the page logic), you would respond to the changes in the combo box such as the selected index changed.&nbsp; If you reinitialize the combo box every time, you will never get the selected index changed event because from the perspective of the ASP.NET logic, you have overwritten the changes each time before they can be recognized and processed.&nbsp; <br><br><br>Jon Stonecash<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Tuesday, July 31, 2007</h2>I'll add another thing:<br><br>This segment is wrong:<br>Dim e1 As New Csla.Web.SelectObjectArgs<br>CslaDataSource1_SelectObject(Me.CslaDataSource1, e1)<br><br>It won't do anything on it's own. What you should do is call the grid's DataBind() method. That will trigger the SelectObject event in your csladatasource.<br><br><br>So, what you have to do is wrap check for the combobox's selected value inside the SelectObject event, and only call gridview1.DataBind() from selectedindex changed.<br><br>In Page.Load, you should do:<br>If Not Page.IsPostBack Then<br>&nbsp;gridview1.DataBind()<br>End If<br><br><br>Although from what you're saying, this might not be necessary at all.<br><br>Andr√©s<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
