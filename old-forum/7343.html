<html><header><title>BusinessBase&lt;T&gt; and static property?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>BusinessBase&lt;T&gt; and static property?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7343.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Goran posted on Monday, July 27, 2009</h2>How should we handle static property in BusinessBase&lt;T&gt;? I Have the following scenario<br><br>TypeBase : BusinessBase&lt;TypeBase&gt;<br><br>TypeA : TypeBase<br>TypeB : TypeBase<br><br>There are some TypeBase.properties that will contain common (static) values, which should be available to all classes that subclass TypeBase, and if one subclass (ex TypeA) of TypeBase changes this property, this change should be available to all other subbclasses also (TypeB, TypeC, etc).<br><br>I guess this calls for static property (unless I am unaware of some pattern that can handle this scenario). GetProperty/SetProperty are an instance methods, so they cant be used with static property.<br><br>How do we handle static properties with CSLA?<br><br>Edit: also using static properties I wont be able to use databinding mechanism. Am I using the correct approach here?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, July 27, 2009</h2><P>You probably want a static <EM>value</EM> with an instance <EM>property</EM>.</P>
<P>private static int _value;</P>
<P>public int Value<BR>{<BR>&nbsp; get { return _value; }<BR>&nbsp; set { _value = value; }<BR>}</P>
<P>Just remember that if your client code is multi-threaded you'll need to wrap this with locking code, because a static field spans threads.</P>
<P>And remember that if you do this on the server, this static field will not only span threads, but it will span users. It isn't scoped at the user level, it is scoped at the AppDomain level - which essentially means the virtual root.</P>
<P>If you need this to work on the server in a per-user manner, you might consider using Csla.ApplicationContext.LocalContext, which is scoped per-user (and per-client request). On the client, LocalContext is per-thread, so you avoid threading issues in one way, but you must remember that a value set on one thread won't be available to other threads.</P>
<P>(except in Silverlight, where LocalContext is at the AppDomain level because there is no concept of per-thread storage)</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
