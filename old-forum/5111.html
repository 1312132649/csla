<html><header><title>child - grandchild relation ship</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>child - grandchild relation ship</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5111.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ThomasHepp posted on Thursday, July 17, 2008</h2><P><FONT face=Arial>Hallo,</FONT></P>
<P><FONT face=Arial>I think I have a simple problem. I have a BusinessListBase (=parent), which has a view BusinessBases (=childs). Each child has a BusinessListBase (=grandchild) which has BusinessBases (=great-granschilds).</FONT></P>
<P><FONT face=Arial>All child objects (grand and great-grand too) are marked as child.</FONT></P>
<P><FONT face=Arial>Now I simply want, that when my great-grandchild is dirty, the parent becomes dirty too. I thougt, this happens automaticly?!</FONT></P>
<P><FONT face=Arial>A short question: How do I save my grandchild list in the best way? In the moment, I save my grandchild when I insert or update my child or I delte my granschild list when I delete my child.</FONT></P>
<P><FONT face=Arial></FONT>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Tim.Gray replied on Thursday, July 17, 2008</h2><P><FONT face=Arial size=2>The problem is that the base IsDirty method of your root class (parent) does not automatically check any child classes. What we did was to override the IsDirty method of the parent class to check itself and any child classes for being dirty. We did the same for the IsValid method as well. C# Example:</FONT></P><CODE>public override bool IsDirty<BR>{<BR>&nbsp;get<BR>&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;if (base.IsDirty) return true;<BR>&nbsp;&nbsp;&nbsp;if (_childs.IsDirty) return true;<BR>&nbsp;&nbsp;&nbsp;return false;<BR>&nbsp;&nbsp;}<BR>}</CODE><FONT size=3> 
<P></FONT><FONT size=3><FONT size=3>&nbsp;</P></FONT></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Thursday, July 17, 2008</h2><P>The override of IsDirty and IsValid was required prior to CSLA 3.5. </P>
<P>I wrote my own code in a Base class so that I did not have to do it in every BO.</P>
<P>Rocky has now added it to the framework in 3.5 so it should "just work".</P>
<P>Joe</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
