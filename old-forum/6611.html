<html><header><title>Fetching childs through Child Dataportal</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Fetching childs through Child Dataportal</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6611.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>amselem posted on Monday, March 16, 2009</h2><P>I've upgraded to 3.6.1 and wanted to start using the child dataportal. </P>
<P>I've seen the ProjectTracker example and found that when the Project root is fetching the Resources BL, it's calling its shared friend factory method, then it&nbsp;calls Dataportal.FetchChild. I wonder if it's ok -or not- to call directly the child DP inside Root DP and bypass the shared method since it isn't doing anything special.</P>
<P>In Project.vb, DataPortal_Fetch method, &nbsp;instead of</P><FONT size=2>
<P>LoadProperty(</FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>Of</FONT></FONT><FONT size=2> ProjectResources)(ResourcesProperty, _<BR>&nbsp;&nbsp;&nbsp;&nbsp; ProjectResources.GetProjectResources(data.Assignments.ToArray))</FONT></P>
<P><FONT size=2>I'd like to use this:</P>
<P>LoadProperty(<FONT color=#0000ff size=2><FONT color=#0000ff size=2>Of</FONT></FONT><FONT size=2> ProjectResources)(ResourcesProperty, _<BR>&nbsp;&nbsp;&nbsp; Dataportal.FetchChild(</FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>Of</FONT></FONT><FONT size=2> ProjectResources)(data.Assignments.ToArray))</FONT></P>
<P></FONT><FONT size=2><FONT size=3>I also missed a FieldManager.FetchChildren() method to call multiple child BL, just like the FieldManager.UpdateChildren pattern. Maybe this can be added to the framework&nbsp;if it makes sense.</FONT></FONT></P>
<P><FONT size=2><FONT size=3>Thanks in advance for your comments</FONT></P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, March 17, 2009</h2>Technically it's ok, but it breaks encapsulation.&nbsp; The idea is that the parent knows as little about it's child as possible.. including how it's created.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>amselem replied on Tuesday, March 17, 2009</h2><P>Thanks for your comments ajj3085</P>
<P>I don't see where it breaks encapsulation... I think that the parent should delegate to child DP&nbsp;the creation of the children, just like it delegates the update call.&nbsp;I don't see the point of having the child friend&nbsp;factory method now since we have child DP. In fact I think that the factory method was friend scoped for allowing the parent to call it, isn't that also breaking encapsulation? <BR><BR>Maybe I'm wrong but now I'm dropping all child factory methods in favour of the DP code, it saves some code and I think that the encapsulation is more o less the same.</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
