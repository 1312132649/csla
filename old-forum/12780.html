<html><header><title>BusinessRules.CheckRules() not called on DataPortal.ChildXYZ(with param)  ByDesign?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>BusinessRules.CheckRules() not called on DataPortal.ChildXYZ(with param)  ByDesign?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12780.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>swegele posted on Wednesday, October 22, 2014</h2><p>I noticed my rules not getting run automatically when I used the DataPortal.ChildXYZ(obj param).&nbsp; But when I call it with no params ex. DataPortal.ChildXYZ() then CheckRules does get run.<br /><br />Is that by design?&nbsp; Am I supposed to do something in my void Child_Create(object param) methods?</p>
<p>MarkAsChild is getting called...so I would have thought CheckRules would too?</p>
<p>&nbsp;</p>
<p>Thanks</p>
<p>Sean</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>swegele replied on Wednesday, October 22, 2014</h2><p>Perhaps I am supposed to call base.ChildXYZ first thing or last thing in my version of void Child_Create?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>swegele replied on Wednesday, October 22, 2014</h2><p>OK I noticed this works to call the CheckRules</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private void Child_Create(object parent)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ParentId = parent.Id;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; base.Child_Create();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>I didn&#39;t know I was supposed to call base.Child_Create() or base.Child_Fetch() to get that functionality.&nbsp; I figured it was the dataportal actually doing the CheckRules call.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>swegele replied on Wednesday, October 22, 2014</h2><p>So why is CheckRules not called on ChildDataPortal_XYZ methods automatically just like DataPortal_XYZ methods?</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JonnyBee replied on Thursday, October 23, 2014</h2><p><span style="color:#000000;font-family:Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;orphans:auto;text-align:start;text-indent:0px;text-transform:none;white-space:normal;widows:auto;word-spacing:0px;-webkit-text-stroke-width:0px;float:none;background-color:#ffffff;">It is all handled in the same way:</span></p>
<pre style="font-family:Consolas;font-size:13;color:black;background:white;"><span style="color:blue;">protected</span>&nbsp;<span style="color:blue;">virtual</span>&nbsp;<span style="color:blue;">void</span>&nbsp;Child_Create()
{
&nbsp;&nbsp;BusinessRules.CheckRules();
}</pre>
<pre style="font-family:Consolas;font-size:13;color:black;background:white;"><span style="color:blue;">protected</span>&nbsp;<span style="color:blue;">virtual</span>&nbsp;<span style="color:blue;">void</span>&nbsp;DataPortal_Create()
{
&nbsp;&nbsp;BusinessRules.CheckRules();
}</pre>
<p>and the DataPortal does NEVER call BusinessRules.CheckRules.</p>
<p><span style="color:#000000;font-family:Arial, Helvetica, sans-serif;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;orphans:auto;text-align:start;text-indent:0px;text-transform:none;white-space:normal;widows:auto;word-spacing:0px;-webkit-text-stroke-width:0px;float:none;background-color:#ffffff;">So - when you create other overloads on these methods it is your reponsibility to either call the base.CYZ_Create or call BusinessRules.CheckRules(). CSLA Framework / DataPortal does not enforce BusinessRules.CheckRules when you create other overloads. <br /></span></p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
