<html><header><title>SmartInt</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>SmartInt</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1454.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 posted on Wednesday, October 11, 2006</h2>Hi all,<br><br>I have a SmartInt class and I know others do as well.<br><br>For sorting purposes, emptyIsMax is used to determine the empty value, which is int.MaxValue or int.MinValue.&nbsp; That's fine.<br><br>What about when you use SmartInt.Value in a calculate and the SmartInt is empty?&nbsp; It seems reasonable to me that Value should return 0 for this instance, since conceptually you could intereprete empty as 0.<br><br>1 + empty = 1.&nbsp; Makes sense to me..<br><br>Or you could have the empty is more like a null...<br><br>1 + empty = empty.<br><br>Have have others handled this case?&nbsp; I'd like to go the zero route, but just need to make sure I'm not going to regret that later...<br><br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jlazanowski replied on Wednesday, October 11, 2006</h2><P>Andy,</P>
<P>I write a lot of reports, and I used to get frustrated with Crystal always returning a null value when I tried to add numbers that contained a null value, I expected a results of 1 + null to = 1 because I believed that Null should represent zero.</P>
<P>After fighting with this for a while, I asked around on the crystal forums to see if anyone could explain this behavior to me.&nbsp; This turned out to be an <SPAN>interesting&nbsp;</SPAN>question, but it comes down to&nbsp; relational algebra, and there is actually a rule for this situation</P>
<P>&nbsp;Codd's Rule #3. Nulls are Treated Uniformly As Unknown<BR><BR>&nbsp; &nbsp; * Null must always be interpreted as an unknown value<BR>&nbsp; &nbsp; * Null means no value has been entered; the value is not known<BR>&nbsp; &nbsp; * 'Unknown' is not the same thing as an empty string ("") or zero<BR>&nbsp; &nbsp; * EXAMPLE. &nbsp;If you pick up an item in a store and the price is not marked, the price is unknown (NULL); it is not free <BR>&nbsp; &nbsp; * If not handled properly, nulls can cause confusion in your database<BR>&nbsp; &nbsp; * EXAMPLE. If you search for all of the authors whose home state is not California, the results will not include any authors with NULL in the &nbsp;'state' column. &nbsp;SQL is very literal. You asked for authors where the state was NOT California and NULL means 'unknown.' &nbsp;A NULL value for 'state' may mean that the state is California and it may mean that it is not California; you just don't know. &nbsp;Because the database engine can't tell for sure whether the state is not California, a record with NULL will not be returned<BR>&nbsp; &nbsp; * &nbsp;Nulls propagate through arithmetic expressions (e.g., 2 + NULL = NULL)<BR>&nbsp; &nbsp; * Comparing a null to any value, including itself, returns NULL&nbsp;&nbsp;</P>
<P>&nbsp;</P>
<P>Now that <SPAN>doesnâ€™t </SPAN>mean that you have to stick to this rule, but I think it's important to know that it exists and that some people (perhaps someone working on a project after you) would expect it to apply.</P>
<P>&nbsp;</P>
<P>My .02</P>
<P>Justin</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, October 11, 2006</h2>Yes, agreed that there are good reasons for it.&nbsp; I think I'll keep with this standard.&nbsp; Theoretically in my particular case, the values should never been unknown.. but I'd like to handle it gracefully instead of one of my users finding out how to blank something they shoudn't be able to and my application acting odd... especially since this part of the app is our sales and invoicing system!<br><br>The example you give about searching for states is interesting.&nbsp; Technically not knowing in which state the author resides is its own distinct value which isn't California, so I think you can make the argument the database should only filter rows where it is certain that the state isn't California.&nbsp; Obviously unknown is not a certainty, and its also logical to include null state rows.&nbsp; <br><br>In practice, I've written many applications which explicitly include those rows with null fields because people expect them to come up.&nbsp; This is probably why some people say that nullable shouldn't be an option.&nbsp; Its very very rare that in your application there's a difference between empty string and null (but you need a way to store a null date).<br><br>Andy<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
