<html><header><title>How to add sorting to RolesEdit.aspx</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to add sorting to RolesEdit.aspx</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/934.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken posted on Thursday, August 17, 2006</h2><P>If I add the ability to sort using SortedBindingList the way I've learned to in other threads to RolesEdit, I get the following error:</P>
<P>Error&nbsp;1&nbsp;Cannot implicitly convert type 'Csla.SortedBindingList&lt;ProjectTracker.Library.Role&gt;' to 'ProjectTracker.Library.Roles'&nbsp;.&nbsp; It's happening on the&nbsp;aquamarine line...&nbsp; Also happens for the Insert, Update and Select functions.</P><FONT size=2>
<P></FONT><FONT face="Courier New"><FONT color=#0000ff size=2>protected</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>void</FONT></FONT><FONT face="Courier New"><FONT size=2> RolesDataSource_DeleteObject(<BR></FONT><FONT color=#0000ff size=2>object</FONT></FONT><FONT face="Courier New" size=2> sender, Csla.Web.DeleteObjectArgs e)<BR>{<BR></FONT><FONT face="Courier New" color=#0000ff size=2>&nbsp;&nbsp;try<BR></FONT><FONT size=2><FONT face="Courier New">&nbsp; {<BR><FONT color=#000000>&nbsp;&nbsp;&nbsp; ProjectTracker.Library.Admin.Roles obj = GetRoles();</FONT></FONT></FONT></P>
<P><FONT><FONT>Here's the GetRoles spec:</FONT></FONT></P><FONT size=2><FONT face="Courier New"><FONT size=2>
<P></FONT><FONT><FONT color=#0000ff size=2>private</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>SortedBindingList</FONT><FONT size=2>&lt;</FONT><FONT color=#008080 size=2>Role</FONT><FONT size=2>&gt; GetRoles()</FONT></FONT></P>
<P><FONT><FONT face="Times New Roman" size=3>I tried casting the GetRoles() function result to Roles, but it says it can't convert that.&nbsp; </FONT></FONT></P>
<P><FONT><FONT face="Times New Roman" size=3>Do I have to have two different GetRoles types of functions, one that returns a sorted value and one that does not?&nbsp; Seems a bit klunky to do that, particularly as it might gum up the sorted cached results.</FONT></FONT></P>
<P><FONT><FONT size=2><FONT face="Times New Roman" size=3>Thanks!</FONT></P></FONT></FONT></FONT></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Friday, August 18, 2006</h2><P>I got it to work, but it smells of rotten fish.</P>
<P>I created a GetUnsortedRoles function that returns a Roles list instead of a SortedBindingList&lt;Role&gt;.</P>
<P>Of course, since the problem is that I can't figure out how to get from a SortedBindingList&lt;Role&gt; to a Roles collection, I can't make use of the cached SortedBindingList&lt;Role&gt; like we do in GetRoles().</P>
<P>So, everytime someone wants to delete, update, or insert a record, I have to ignore the cache.&nbsp; Rather defeats the purpose of having one in an edit screen.</P>
<P>And, of course, it forgets the sorting instruction, so it returns from those operations sorted totally different from the user's last sort request.&nbsp; (I hope I can fix that by interrogating the cached SortedBindingList to find out how it is sorted, and reapplying the sort when the update/delete/insert operation is done.)</P>
<P>Surely there has to be a better way!!??</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Friday, August 18, 2006</h2><P>I made it work, but it's ugly.&nbsp;</P>
<P>Anybody know a better way?</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
