<html><header><title>Bxf Caching</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Bxf Caching</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10401.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonM posted on Monday, May 30, 2011</h2><p>I&#39;ve been playing with a CSLA 4/Silverlight/MVVm project.&nbsp; One of things I&#39;ve had trouble with is transitions when loading a new view.&nbsp; I&#39;ve found that caching the view part fixed most of the problem except on the first load.&nbsp; I&#39;ve modified the BxF source I&#39;m using to support this.&nbsp; I changed the .ShowView call with an extra overload called &#39;Cache&#39;.&nbsp; When this is set to true the generated view is stuffed in a internal dictionary based on the view name.&nbsp; If the view is already there it is returned instead.&nbsp; The viewmodel passed in is still bound to it. Does anyone see a problem with doing this??&nbsp; </p>
<p>I also have another WPF app I&#39;m working on that is not a CSLA app but could benefit from a MVVM pattern.&nbsp; It will only ever have 5-8 views ever.&nbsp; All the viewmodels need to be persisted through the application life cycle.&nbsp; I&#39;m trying to decide on whether I should make another modficationt to allow for the caching of the viewModel instide of BxF or if I should just build a static class and put all the viewModels in it.&nbsp; This way I could initialize them in the app startup and reference them from anywhere in the app on the showview call.&nbsp; Any thoughts or suggestions?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, May 31, 2011</h2><p>This thread should really be on <a href="http://bxf.codeplex.com">http://bxf.codeplex.com</a></p>
<p>The idea in Bxf is that your provider (the code handling the OnShowView event) should do any/all of this work. Or the view factory.</p>
<p>Who sets that cache parameter? The code that calls the ShowView method? Why would we want code scattered all over the app to know about caching? That seems like a dangerous move, because it distributes this knowledge everywhere.</p>
<p>I don&#39;t fully understand your scenario, but it sounds like you have the need to create a usercontrol instance (view), and then when subsequent requests come in to show that view, you would show <em>that same instance</em> instead of creating a new instance.</p>
<p>That&#39;s something the view factory would do. Bxf allows you to create a custom view factory so you can override the default view creation.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonM replied on Thursday, June 09, 2011</h2><p>I think you are right.&nbsp; The code that calls ShowView shouldn&#39;t be able to decide about caching view it does create scattered code.&nbsp; I&#39;m trying to deal with an issue where I&#39;m loading plugins dynamically at runtime so it makes it harder to create reusable instances.&nbsp; I guess I create an attribute to declare whether or not the view should be cached.&nbsp; Anyway, thanks for the input on this.</p>
<p>Jon</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
