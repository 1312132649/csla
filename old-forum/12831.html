<html><header><title>Type level authorization rules</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Type level authorization rules</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12831.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 posted on Wednesday, February 11, 2015</h2><p>I&#39;m looking through the code for Csla, and it seems the check for things like GetObject are done client side before the call is made to the data portal, which is good in that a remote call won&#39;t be made if the user lacks permission.</p>
<p>However it doesn&#39;t look like the check is repeated on the server side. I can certainly call BusinessRules.HasPermission at the start of each DataPortal_XYZ method, but it feels like the framework should handle this.&nbsp; </p>
<p>Is if my current understanding is correct and I need to do the check myself in the DataPortal_XYZ methods?</p>
<p>If that is correct, could we get a feature to do this automatically?</p>
<p>This is Csla 4.5.601.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Wednesday, February 11, 2015</h2><p>You can add a check in a custom data portal authorizer. The authorizer runs before pretty much anything else on the server, and is the location for global checks you might want to perform before allowing a user request to be processed - for example doing a server-side check of HasPermissions.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, February 12, 2015</h2><p>Thanks Rocky, I&#39;ll go that route.&nbsp; </p>
<p>Is there a reason that just invoking the configured type level authorization isn&#39;t done automatically though?&nbsp; It seems like that would make sense as a default behavior in Csla, and if you needed something in addition, implementing a customer data portal authorizer should be the answer.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
