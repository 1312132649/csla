<html><header><title>CSLA Light v3.6.2 and Silverlight 3</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA Light v3.6.2 and Silverlight 3</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6760.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brad posted on Tuesday, April 07, 2009</h2>Greetings,<br /><br />I am attempting to compile CSLA Light v3.6.2 under Silverlight 3 and am running into compile issues.<br /><br />The build error I received is:<br /><br />Error	16	Custom tool error: Failed to generate code for the service reference 'WcfPortal'.<br /><br />To reproduce my steps, I did the following (on a machine with SL3 installed):<br /><br />1) Download CSLA Light v3.6.2<br />2) Unpack to directory<br />3) Run the cslalightcs solution<br />4) Completed the Visual Studio Upgrade Wizard (with no errors)<br />5) Attempted to build the solution.<br /><br />Any tips on getting this built for Silverlight 3?<br /><br />Cheers,<br />-Brad</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, April 08, 2009</h2><P>I must confess that I've spent zero time getting CSLA to work on SL3. I'm buried in numerous projects and, while this is a high priority, it has to wait.</P>
<P>From what you are seeing, I suspect you'll need to re-reference the WCF data portal service from the CSLA .NET for Windows side. Odds are they changed the way WCF proxies are generated and were unable to auto-upgrade the existing proxy code.</P>
<P>That shouldn't be hard - just build CSLA .NET for Windows, then create a temporary web project and expose the Silverlight WcfHost class as a service. Then in the CSLA .NET for Silverlight project, remove the service reference and re-add it to reference this temporary host.</P>
<P>Obviously the resulting config file URL is useless - but the point is to regen the proxy code in the SL Csla project.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Shane replied on Saturday, April 18, 2009</h2>Any luck on this? I just attempted to build this today and received the same error.<br /><br />Re-adding the reference to the WcfPortal doesn't seem to help.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Monday, April 27, 2009</h2>Hi guys - I was curious as to if either of you or anyone reading this has been able to get past any issue in this area.<br /><br />I am turning towards working on a second, more involved showcase application for my company and will be using Silverlight 3 -- so I haven't gotten to the point where I would run into this issue yet but assuming I do, just want to understand what the workaround was (if there was one). <br /><br />Thanks!<br />Chris<br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Monday, April 27, 2009</h2>FWIW, I decided to take the leap - I've gone ahead and upgraded my software to use Silverlight 3.<br /><br />After conversion, I have a slight issue with the data grid reference I was using but other than that everything works a-ok. That is, I'm not encountering the error mentioned above. <br /><br />Just thought I'd mention it in case others were holding back. </div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Chris replied on Wednesday, April 29, 2009</h2><P>I'm on SL3 and I am having trouble with the DataGrid and "<FONT color=#a31515 size=2><FONT color=#a31515 size=2><FONT color=#a31515 size=2><FONT color=#a31515 size=2>csla</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>ValidatedDataGridTextColumn</FONT></FONT></FONT></FONT>" ... I found an very interesting link that I'm exploring about how to toggle between SL2 and SL3.&nbsp; </P>
<P><A href="http://blogs.msdn.com/amyd/archive/2009/03/18/switching-from-silverlight-3-tools-to-silverlight-2-tools.aspx">http://blogs.msdn.com/amyd/archive/2009/03/18/switching-from-silverlight-3-tools-to-silverlight-2-tools.aspx</A></P>
<P>Chris</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Shane replied on Thursday, April 30, 2009</h2>I haven't been spending a lot of time with this since posting initially, but I'm experiencing the error on two different machines.<br /><br />I'll take a deeper dive this weekend and post again if I come up with something.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Shane replied on Thursday, April 30, 2009</h2>Ok, so I've made a little more progress on this, but I'm not sure what the implications are.<br /><br />I can get cslalightcs to build now if I go to "Configure Service Reference" on the context menu of WcfPortal in the solution and change the Reuse options from "Reuse types in all..." to "Reuse types in specified..." and check all items -except- System.Data.Services.Client.<br /><br />Adding System.Data.Services.Client back into the mix will cause the build to fail.<br /><br />Again, not sure of the implications of changing this option yet so if anyone can offer some advice, it would be appreciated.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Shane replied on Thursday, April 30, 2009</h2>Maybe I should have saved this up for a single post, but anyway, I was finally able to get this to build.<br /><br />As I said in my previous post, removing System.Data.Services.Client from the list of types to reuse allowed me to build but re-selecting it would go back to failing.<br /><br />I wound up removing the reference from the solution and building without it. As expected, I received an error about the 'type or namespace Data' not existing. After re-adding the reference and setting the reuse options back to 'Reuse types in all assemblies', I can build successfully.<br /><br />Hope this helps.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>pondosinat replied on Thursday, May 21, 2009</h2><P>Shane,</P>
<P>I'm not having any luck getting this to build by following these steps. Are you using CSLA v 3.6.2? I just installed SL3 but CSLA is can no longer talk to the db. When I try to compile CslaLight now I get those same WcfPortal missing reference errors...</P>
<P>Thanks,</P>
<P>Brian</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Phil Cockfield replied on Monday, June 15, 2009</h2>I wonder if anyone who's successfully navigated through getting CSLA to build successfully against SL3 could post the DLL somewhere please?<br /><br />I've been following these guides, but I'm getting nowhere, and would really love to get up and running.<br /><br />If you have the DLL, that would be most appreciated...thank you so much.<br /><br />---<br />Phil</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Monday, June 15, 2009</h2>I've been actively using this combination without any problem.<br /><br />In upgrading from SL2 to SL3 I had to make sure I updated all my references to the newest versions &amp; such... but once that was squared away I was rolling.<br /><br />I think Sergey or Nermin posted a thread guiding on this, too. <br /><br />More details as to what your error is might help. </div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bdbrodie replied on Thursday, June 18, 2009</h2><P>Hi fellow CSLA + Silverlight 3 Beta newbies...</P>
<P>Thought I'd save everyone else a few hours of hair pulling to get the Cslalight project compiling.</P>
<P>I don't totally understand everything that is going on behind the scenes here yet, but a comment on this other thread helped me out right away.</P>
<P><A HREF="/forums/thread/30799.aspx">http://forums.lhotka.net/forums/thread/30799.aspx</A></P>
<P>Here are the steps I followed:</P>
<OL>
<LI>Copy the "WcfHostWeb" project and then adding that to the Csla_build solution</LI>
<OL>
<LI>Redo the reference to Csla if necessary. Be sure to use the .NET version, not the Silverlight version (right, you don't have the yet because its not compiling...)</LI>
<LI>Remove the unnecessary reference to the Rolodex project.</LI>
<LI>Compile (should work)</LI></OL>
<LI>Delete "WcfPortal" reference under Service References in the CslaLight project.</LI>
<LI>Add a new reference to the WcfHostWeb service (Click "Discover")</LI>
<LI>Compile!</LI></OL>
<P>Some of the samples have an error in the ServiceConfig file. The ServiceConfig file should look something like this:</P><FONT color=#0000ff size=3><FONT color=#0000ff size=3>
<P>&lt;</FONT></FONT><FONT color=#a31515 size=3><FONT color=#a31515 size=3>configuration</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>&gt;</FONT></FONT></P>
<P><FONT color=#0000ff size=3><FONT color=#0000ff size=3>&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=3><FONT color=#a31515 size=3>system.serviceModel</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>&gt;</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=3><FONT color=#a31515 size=3>bindings</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>&gt;</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=3><FONT color=#a31515 size=3>basicHttpBinding</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>&gt;</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=3><FONT color=#a31515 size=3>binding</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3> </FONT></FONT><FONT color=#ff0000 size=3><FONT color=#ff0000 size=3>name</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>=</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>BasicHttpBinding_IWcfPortal</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3> </FONT></FONT><FONT color=#ff0000 size=3><FONT color=#ff0000 size=3>maxBufferSize</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>=</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>65536</FONT></FONT><FONT size=3>"</P></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>
<P></FONT></FONT><FONT color=#ff0000 size=3><FONT color=#ff0000 size=3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxReceivedMessageSize</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>=</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>65536</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3> </FONT></FONT><FONT color=#ff0000 size=3><FONT color=#ff0000 size=3>receiveTimeout</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>=</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>10</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3> </FONT></FONT><FONT color=#ff0000 size=3><FONT color=#ff0000 size=3>sendTimeout</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>=</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>10</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>&gt;</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</FONT></FONT><FONT color=#a31515 size=3><FONT color=#a31515 size=3>binding</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>&gt;</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</FONT></FONT><FONT color=#a31515 size=3><FONT color=#a31515 size=3>basicHttpBinding</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>&gt;</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</FONT></FONT><FONT color=#a31515 size=3><FONT color=#a31515 size=3>bindings</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>&gt;</P>
<P>&lt;</FONT></FONT><FONT color=#a31515 size=3><FONT color=#a31515 size=3>client</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>&gt;</P>
<P>&lt;</FONT></FONT><FONT color=#a31515 size=3><FONT color=#a31515 size=3>endpoint</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3> </FONT></FONT><FONT color=#ff0000 size=3><FONT color=#ff0000 size=3>address</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>=</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>http://localhost:1993/WcfPortal.svc</FONT></FONT><FONT size=3>"</P></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>
<P></FONT></FONT><FONT color=#ff0000 size=3><FONT color=#ff0000 size=3>binding</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>=</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>basicHttpBinding</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3> </FONT></FONT><FONT color=#ff0000 size=3><FONT color=#ff0000 size=3>bindingConfiguration</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>=</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>BasicHttpBinding_IWcfPortal</FONT></FONT><FONT size=3>"</P></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>
<P></FONT></FONT><FONT color=#ff0000 size=3><FONT color=#ff0000 size=3>contract</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>=</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>WcfPortal.IWcfPortal</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3> </FONT></FONT><FONT color=#ff0000 size=3><FONT color=#ff0000 size=3>name</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>=</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>BasicHttpBinding_IWcfPortal</FONT></FONT><FONT size=3>"</FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3> /&gt;</P>
<P>&lt;/</FONT></FONT><FONT color=#a31515 size=3><FONT color=#a31515 size=3>client</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>&gt;</P>
<P>&lt;/</FONT></FONT><FONT color=#a31515 size=3><FONT color=#a31515 size=3>system.serviceModel</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>&gt;</P>
<P>&lt;/</FONT></FONT><FONT color=#a31515 size=3><FONT color=#a31515 size=3>configuration</FONT></FONT><FONT color=#0000ff size=3><FONT color=#0000ff size=3>&gt;</P></FONT></FONT>
<P>&nbsp;</P>
<P>Hope this helps!</P>
<P>&nbsp;</P>
<P>Ben</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Saturday, June 20, 2009</h2><P>FYI, I have branched the 3.6.x code in svn, so trunk will now become 3.7. My plan is for 3.7 to support Silverlight 3, and 3.6 to support Silverlight 2.</P>
<P>Beyond fixing the project issues so 3.7 builds for SL3, there's the bigger matter of taking advantage of element binding (which means all the Csla.Silverlight UI controls will change), and possibly (hopefully) getting rid of Navigator in favor of using SL3's deep linking support.</P>
<P>I suspect there may be some changes in WcfProxy too - to enable some of the new WCF features. Maybe not - maybe the current model will work - but I wouldn't be surprised if some changes aren't required.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>wjcomeaux replied on Monday, June 22, 2009</h2><P>Hey guys:</P>
<P>Does there happen to be a consolidated/definitive set of steps one should take to get this all to compile and work for Silverlight 3? It seems some people get it and some don't using a mixture of ideas. I've tried the various things mentioned here and in other threads and I keep running into the same various errors mentioned by other users. I'm presume I'm missing&nbsp;a critical step, doing something out of order or completely doing something wrong...</P>
<P>My SL2 environment is gone and we are only using SL3 Preview stuff. Thankfully this is all new development so we aren't locked out from an existing code base. However, we are definitely itching to get some of this stuff working before the "powers that be" deem it "too soon" or "not worth the effort".</P>
<P>Assume I've got a fresh set of the csla&nbsp;projects (light and win)&nbsp;and a fairly fresh install of the SL3 files. Where to?</P>
<P>Thanks,<BR>Will</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, June 22, 2009</h2><P>There's a link off the FAQ to a forum post with a list of steps</P>
<P><A href="http://www.lhotka.net/cslanet/faq/SilverlightFaq.ashx">http://www.lhotka.net/cslanet/faq/SilverlightFaq.ashx</A></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>wjcomeaux replied on Tuesday, June 23, 2009</h2><P>Edit** Question regarding Tortoise moved to thos thread. <A HREF="/forums/34200/ShowThread.aspx#34200">http://forums.lhotka.net/forums/34200/ShowThread.aspx#34200</A></P>
<P></P>
<P>Thanks,<BR>Will</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, June 23, 2009</h2><P>Please split the svn question into its own thread.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>wjcomeaux replied on Wednesday, June 24, 2009</h2><P>Well, I've made some progress. I follows the steps linked in the Silverlight FAQ.<BR><SPAN>After I get all steps completed I am able to get a Rebuild All succeeded message when I build the CslaLight project. However, there is still an error:<BR>Custom tool error: Failed to generate code for the service reference 'WcfPortal'. Please check other error and warning messages for details.<BR>File referenced is Reference.svcmap in the CslaLight project. Does the Rebuild All succeeded really mean that or is this error going to bite us in the rear soon? <BR></SPAN><SPAN><BR>Thanks, Will<BR>Compiler warnings follow:<BR><BR>There are 403 warnings, these few seem to be of interest.<BR><BR>Warning&nbsp;3&nbsp;Custom tool warning: Cannot import wsdl:binding<BR>Detail: There was an error importing a wsdl:portType that the wsdl:binding is dependent on.<BR>XPath to wsdl:portType: //wsdl:definitions[@targetNamespace='http://ws.lhotka.net/WcfDataPortal']/wsdl:portType[@name='IWcfPortal']<BR>XPath to Error Source: //wsdl:definitions[@targetNamespace='http://tempuri.org/']/wsdl:binding[@name='BasicHttpBinding_IWcfPortal']&nbsp;C:\SourceCode\Servicing\Hps.Framework.Servicing\Development\Csla\CslaLight\cslalightcs\Csla\Service References\WcfPortal\Reference.svcmap&nbsp;1&nbsp;1&nbsp;CslaLight</SPAN></P>
<P><SPAN>Warning&nbsp;4&nbsp;Custom tool warning: Cannot import wsdl:port<BR>Detail: There was an error importing a wsdl:binding that the wsdl:port is dependent on.<BR>XPath to wsdl:binding: //wsdl:definitions[@targetNamespace='http://tempuri.org/']/wsdl:binding[@name='BasicHttpBinding_IWcfPortal']<BR>XPath to Error Source: //wsdl:definitions[@targetNamespace='http://tempuri.org/']/wsdl:service[@name='WcfPortal']/wsdl:port[@name='BasicHttpBinding_IWcfPortal']&nbsp;C:\SourceCode\Servicing\Hps.Framework.Servicing\Development\Csla\CslaLight\cslalightcs\Csla\Service References\WcfPortal\Reference.svcmap&nbsp;1&nbsp;1&nbsp;CslaLight</SPAN></P>
<P><SPAN>Warning&nbsp;2&nbsp;Custom tool warning: Cannot import wsdl:portType<BR>Detail: An exception was thrown while running a WSDL import extension: System.ServiceModel.Description.DataContractSerializerMessageContractImporter<BR>Error: Exception has been thrown by the target of an invocation.<BR>XPath to Error Source: //wsdl:definitions[@targetNamespace='http://ws.lhotka.net/WcfDataPortal']/wsdl:portType[@name='IWcfPortal']&nbsp;C:\SourceCode\Servicing\Hps.Framework.Servicing\Development\Csla\CslaLight\cslalightcs\Csla\Service References\WcfPortal\Reference.svcmap&nbsp;1&nbsp;1&nbsp;CslaLight</SPAN></P>
<P><SPAN>Warning&nbsp;5&nbsp;Custom tool warning: No endpoints compatible with Silverlight 2 were found. Please note that only Basic Profile / SOAP 1.1 services are supported. If you are attempting to use a Windows Communication Foundation service, make sure you are using the BasicHttpBinding.A client proxy class was generated but it will not be usable unless endpoint information compatible with Silverlight 2 is provided via the constructor.&nbsp;C:\SourceCode\Servicing\Hps.Framework.Servicing\Development\Csla\CslaLight\cslalightcs\Csla\Service References\WcfPortal\Reference.svcmap&nbsp;1&nbsp;1&nbsp;CslaLight</SPAN></P>
<P><SPAN>Warning&nbsp;1&nbsp;Custom tool warning: Unable to load one or more of the requested types. Retrieve the LoaderExceptions property for more information.&nbsp;C:\SourceCode\Servicing\Hps.Framework.Servicing\Development\Csla\CslaLight\cslalightcs\Csla\Service References\WcfPortal\Reference.svcmap&nbsp;1&nbsp;1&nbsp;CslaLight<BR><BR><BR><BR></P></SPAN></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>StuartBale replied on Saturday, June 27, 2009</h2>Hi,<br />Any chance you can zip v3.7 and make available for download?<br />Regards,<br />Stuart</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Sunday, June 28, 2009</h2>Yes, look for it in the near future.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
