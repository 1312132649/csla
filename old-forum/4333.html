<html><header><title>WCF Configuration</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>WCF Configuration</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4333.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Lee posted on Tuesday, February 12, 2008</h2><P>Dear All,</P>
<P>I am trying to call WCF Service in localhost from win forms&nbsp;, same route with PTTracker sample.&nbsp;&nbsp;&nbsp;&nbsp; It is&nbsp; CAB/SCSF projects and service &nbsp;is a seperate assembly which uses <A href="http://localhost/JunoWcfService/JunoService.svc">http://localhost/JunoWcfService/JunoService.svc</A> , and&nbsp;&nbsp;all other win form modules&nbsp;communicate with&nbsp;server <A href="http://localhost/WcfHost/WcfPortal.svc">http://localhost/WcfHost/WcfPortal.svc</A> via WCF&nbsp;channel. and most of them uses service assembly.</P>
<P>Each Web.config is same with PTTracker sample and WCF channel works fine,but&nbsp;WCF service is not working. The client app.config is as follows :</P>
<P>&nbsp;&lt;system.serviceModel&gt;<BR>&nbsp;&nbsp;&lt;bindings&gt;<BR>&nbsp;&nbsp;&nbsp;&lt;wsHttpBinding&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&lt;binding name="WSHttpBinding_IJunoService" closeTimeout="00:01:00"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bypassProxyOnLocal="false" transactionFlow="false"&nbsp; hostNameComparisonMode="StrongWildcard"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxBufferPoolSize="524288" maxReceivedMessageSize="65536"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; messageEncoding="Text" textEncoding="utf-8" useDefaultWebProxy="true"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; allowCookies="false"&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxBytesPerRead="4096" maxNameTableCharCount="16384" /&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;reliableSession ordered="true" inactivityTimeout="00:10:00"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enabled="false" /&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;security mode="Message"&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;transport clientCredentialType="Windows" proxyCredentialType="None"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; realm="" /&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;message clientCredentialType="Windows" negotiateServiceCredential="true"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; algorithmSuite="Default" establishSecurityContext="true" /&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/security&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/binding&gt;<BR>&nbsp;&nbsp;&nbsp;&lt;/wsHttpBinding&gt;<BR>&nbsp;&nbsp;&lt;/bindings&gt;<BR>&nbsp;&nbsp;&lt;client&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;<BR><FONT color=#0000ff>&nbsp;&nbsp;&nbsp;&lt;endpoint address="</FONT><A href="http://localhost:50746/JunoWcfService/JunoService.svc"><FONT color=#0000ff>http://localhost:50746/JunoWcfService/JunoService.svc</FONT></A><FONT color=#0000ff>"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binding="wsHttpBinding" bindingConfiguration="WSHttpBinding_IJunoService"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contract="IJunoService"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name="WSHttpBinding_IJunoService"&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&lt;identity&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;userPrincipalName value="Rainman-PC\Rainman" /&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/identity&gt;<BR>&nbsp;&nbsp;&nbsp;&lt;/endpoint&gt;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&lt;endpoint name="WcfDataPortal"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; address="</FONT><A href="http://localhost:50858/WcfHost/WcfPortal.svc"><FONT color=#0000ff>http://localhost:50858/WcfHost/WcfPortal.svc</FONT></A><FONT color=#0000ff>"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binding="wsHttpBinding"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contract="Csla.Server.Hosts.IWcfPortal" /&gt;<BR></FONT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/client&gt;<BR>&nbsp;&lt;/system.serviceModel&gt;&nbsp;</P>
<P>As seen, I cut&nbsp;client endpoint section from app.config, which generated by VS.NET&nbsp;of my seperate WCF client assembly&nbsp;and added it to main exe's app.config.&nbsp;But I don't know this is fine which has&nbsp;&nbsp; 2 endpoint with diffrent .svc file.&nbsp;</P>
<P>&nbsp;Following is the method of client.</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; public AnalysisRqst GetDiagnosis(AnalysisRqst analyRqst)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT color=#0000ff>&nbsp; // here, always failed due to endpoint</FONT><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.ServiceModel.ChannelFactory&lt;JunoService.IJunoService&gt; factory =<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new System.ServiceModel.ChannelFactory&lt;JunoService.IJunoService&gt; ("WSHttpBinding_IJunoService");</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // tried this code but still same error</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // System.ServiceModel.ChannelFactory&lt;JunoService.IJunoService&gt; factory =<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp; new System.ServiceModel.ChannelFactory&lt;JunoService.IJunoService&gt; ("WSHttpBinding_IJunoService",<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// new EndpointAddress("<A href="http://localhost:50746/JunoWcfService/JunoService.svc">http://localhost:50746/JunoWcfService/JunoService.svc</A>"));</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AnalyRqstData resultData;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AnalyRqstData rqstData = new AnalyRqstData();</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // lots of code goes here</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</P>
<P>The error message is as follows :</P>
<P><FONT color=#0000ff>Service 'JunoService.IJunoService' has zero application (non-infrastructure)<BR>endpoints. This might be because no </FONT><A class=kLink id=KonaLink2 href="http://www.vistax64.com/#" target=_top><FONT><FONT color=#0000ff><SPAN class=kLink>configuration </SPAN><SPAN class=kLink>file</SPAN></FONT></FONT></A><FONT color=#0000ff> was found for your<BR>application, or because no service element matching the service name could be<BR>found in the configuration file, or because no endpoints were defined in the<BR>service element</FONT></P>
<P>I read many related threads of here and through google, but no success to figure out. </P>
<P>Any advice would be highly appreciated.</P>
<P>RGDS</P>
<P>HK.Lee</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Lee replied on Wednesday, February 13, 2008</h2><P>Never mind. I fixed error.</P>
<P>It looks like&nbsp;wrong Typing or another space or case sensitive chracter or something blabla&nbsp;that I didn't recognized in App.Config. I made another&nbsp;small test project and succeeded&nbsp;, so just copied appConfig&nbsp;and paste in exe.s config and problem has gone, but&nbsp;I lost many hours to settle. Really makes me fool.</P>
<P>RGDS</P>
<P>HK.Lee</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
