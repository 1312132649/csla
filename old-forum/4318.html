<html><header><title>[OT] Generics and Interfaces</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>[OT] Generics and Interfaces</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4318.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Patrick.Roeper posted on Friday, February 08, 2008</h2>The past couple of days I have been trying to do some creative things with interfaces and my csla business objects. I've managed to understand... a) creativity gives me a headache &amp; b) I don't understand generics/interfaces as well as I thought...<br><br>I've tried to read through some articles in blogs but the examples are a little larger than what I am looking for. Below is a sample program that is modeling the consumption of fruit:<br><br><font size="2">class Program<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; interface IFruit { }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class Apple : IFruit { }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class Orange : IFruit { }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class Apples : List&lt;Apple&gt; { }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; static void EatFruit(List&lt;IFruit&gt; fruit)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; static void EatFruit2&lt;T&gt;(List&lt;T&gt; fruit) where T : IFruit<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; static void Main()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EatFruit(new Apples()); // This doesn't work<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EatFruit2(new Apples()); // This does<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; }</font><br><br>Can someone explain why the first eat fruit method doesn't work? I understand why the second method works but I'm not seeing why the first method isn't really doing the same thing.<br><br>Thanks in advance.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>FatPigeon replied on Friday, February 08, 2008</h2><DIV><FONT face=Arial size=2>I think the way to look at it is that List&lt;Apple&gt; and List&lt;IFruit&gt; both descend directly from&nbsp;System.Object. Neither descends from the other which would&nbsp;<BR>need to be the case for EatFruit to work.<BR></FONT></DIV>
<DIV><FONT face=Arial size=2>The fact is List&lt;Apple&gt; can contain only apples where as List&lt;IFruit&gt; can contain apples or oranges. A List&lt;Apples&gt; can never be a List&lt;IFruit&gt; because it cannot contain oranges and List&lt;IFruit&gt; can never be a List&lt;Apple&gt; because it can contain oranges.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>The parameter type in EatFruit2 is being defined as List&lt;Apple&gt; by the caller so this does work.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Hope this helps.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Regards,</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Patrick</FONT></DIV>
<DIV><FONT face=Arial size=2>&nbsp;</DIV></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Patrick.Roeper replied on Friday, February 08, 2008</h2>That actually makes a lot of sense. Thanks <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" /><br><br><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
