<html><header><title>Why Csla.ApplicationContext.User always equals &quot;&quot; in silverlight</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Why Csla.ApplicationContext.User always equals &quot;&quot; in silverlight</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9669.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ddredstar posted on Monday, October 25, 2010</h2><p>I have assign Csla.ApplicationContext.User successfully like below</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private static bool SetPrincipal(MyIdentity identity)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (identity.IsAuthenticated)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MyPrincipal principal = new MyPrincipal(identity);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Csla.ApplicationContext.User = principal;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return identity.IsAuthenticated;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>but when i check Csla.ApplicationContext.User in silverligth, i always equals &quot;&quot; ,please help me!</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Monday, October 25, 2010</h2><p>The code you show in your post - is that running on the client workstation?</p>
<p>If so, then Csla.ApplicationContext.User should have the value you set. I&#39;d recommend walking through that code in the debugger to make sure it is actually running.</p>
<p>If you aren&#39;t running that code on the client, then you need to do so. Silverlight doesn&#39;t automatically have a principal, and you need to explicitly set the principal on the client.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ddredstar replied on Friday, October 29, 2010</h2><p>the code running on the Business Class Library, i refer to you Csla sample,</p>
<p>What &#39;s your mean by client workstatioin?</p>
<p>Could you please provide me sample code for silverlight?your book not includes Silverlight.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, October 29, 2010</h2><p>The Expert 2008 Business Objects book was written before Silverlight was out, so it doesn&#39;t include Silverlight.</p>
<p>You can find a lot of Silverlight content and samples in CSLA .NET 3.7 and higher from <a href="http://www.lhotka.net/cslanet/download.aspx">www.lhotka.net/cslanet/download.aspx</a>. </p>
<p>What I mean by &#39;client workstation&#39; is the client machine - the computer the user is actually using.</p>
<p>If you are building an ASP.NET application, the code you showed would be running on the web server. But if you are creating a Windows Forms, WPF or Silverlight application that code would be running on the user&#39;s computer (the client workstation).</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ddredstar replied on Sunday, October 31, 2010</h2><p>Thank you very much!</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
