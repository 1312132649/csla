<html><header><title>CslaDataSource &amp; Infragistics Web Grid</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CslaDataSource &amp; Infragistics Web Grid</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5291.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 posted on Friday, August 22, 2008</h2>Hi,<br><br>I'm trying to figure out why Infragistics Web Grid isn't playing nice when I use a CslaDataSource.&nbsp; One of the issues is that the grid doesn't detect the child hierarchy.<br><br>I have a collection of Items, and each Item has a SubItems property, which is a collection of SubItem instances.&nbsp; Looking at the code, I'm wondering if ObjectViewSchema class returning null for GetChildren is the reason.&nbsp; Also, the property sample value is set to null in CslaDesignerDataSourceView.&nbsp; I doubt that'd have any impact though.<br><br>The main issue though is that the grid doesn't update the html... so basically it's broken.<br><br>Unfortunately Infragistics is unwilling to do anything but try with their controls DataSourceId not set, so I'm having a tough time figuring out what is causing their control grief.<br><br>Anyone been down this path lately?<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, August 22, 2008</h2>Well, even if you implement GetChildren, it doesn't get called.&nbsp; Not sure why..<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Fintanv replied on Monday, August 25, 2008</h2><P>I do not have a solution but I have dealt with Infragistics 'support' on more than one occassion.&nbsp; Getting through their first line of support (defence)&nbsp;can be a challange, you really have to hand hold them through the process and spoon feed them the issue.&nbsp; Having a project that you write that shows the issue is almost a hard requirement.&nbsp; Once they agree to log the issue into their system it appears to go to the real developers of the components, so your chances of getting a resolution go up at this point.</P>
<P>Best of luck.&nbsp; I sympathize.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, August 25, 2008</h2>Well, I did give them a solution, and the support tech. balked at teh CslaDataSource.. saying "it works if you don't have a DataSourceId."&nbsp; <br><br>I am leaning more toward something with the CslaDataSource though, as the Janus control throws an exception when bound to a CslaDataSource.... and the same exception I see when I first open the designer with the Infragistics grid.&nbsp; It's a TargetInvokationException.&nbsp; So I'm going to try and dig more into the CslaDataSource.&nbsp;&nbsp; I was hoping to say "well, Janus your competitor has a grid that works.."&nbsp; Ah well.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>igtonyl replied on Wednesday, September 03, 2008</h2>The WebGrid relies on the datasource interface implementation to provide functionality.  In a scenario like this where binding to a particular datasource throws an exception, I would tend to focus more on the datasource implementation itself rather than the webgrid.  <br /><br />The fact that your ObjectViewSchema class is returning null for GetChildren may indeed be the cause of the problem.  The Schema is used by the grid to determine the "Band" structure which defines the columns for each level of hierarchy.  If it can't get a subobject, it has no way to identify what the child hierarchy is supposed to look like.  <br /><br />You can manually create bands through the ASPX, by following the structure present for the parent band.  Under the Bands tag in your markup, simply add another Band tag, and then add the appropriate columns.  This can also be done at runtime by modifying the bands collection.  <br /><br />Hope this helps,<br />-Tony<br /><br />Anthony Lombardo<br />Developer Evangelist<br />Infragistics, Inc.<br />www.infragistics.com</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, September 04, 2008</h2><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>igtonyl:</strong></div><div>The WebGrid relies on the datasource interface implementation to provide functionality.  In a scenario like this where binding to a particular datasource throws an exception, I would tend to focus more on the datasource implementation itself rather than the webgrid.</div></BLOCKQUOTE><br><br>But it doesn't when used with MS controls, and I've not found specifically that it was the DataSource that was throwing the exception.&nbsp; For all I know the WebGrid designer was throwing the exception.&nbsp; I really don't know.<br><br><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>igtonyl:</strong></div><div>The fact that your ObjectViewSchema class is returning null for GetChildren may indeed be the cause of the problem.  The Schema is used by the grid to determine the "Band" structure which defines the columns for each level of hierarchy.  </div></BLOCKQUOTE><br><br>Except that I found that even if I implemented the GetChildren method, it is NEVER called by the WebGrid's designer.&nbsp; That was the first thing I did to try and get the hierarchy to display.<br><br><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>igtonyl:</strong></div><div>If it can't get a subobject, it has no way to identify what the child hierarchy is supposed to look like.  

You can manually create bands through the ASPX, by following the structure present for the parent band.  Under the Bands tag in your markup, simply add another Band tag, and then add the appropriate columns.  This can also be done at runtime by modifying the bands collection.</div></BLOCKQUOTE><br><br>Unfortunately it doesn't help, since the designer doesn't modify the html, and so any changes I make are lost.&nbsp; Of course the whole point of the designer is to NOT have to setup the control via code manually.&nbsp; I've found though that the webgrid designer failing to modify the aspx page isn't the only problem; for example, I can't always add a control from the toolbox.&nbsp; Double clicking simply does nothing.&nbsp; It seems to work if I create a new solution.. but that doesn't help me with the solution I already have. <br><br>At any rate I finished what I needed to finish and have moved on.&nbsp; Hopefully at some point I'll be able to revisit this issue, but for now I'm pretty dumbfounded, because the WinForms controls&nbsp; have been working extremely well for me, but the web controls have been a big letdown so far.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
