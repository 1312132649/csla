<html><header><title>Root Collection DataPortal_Update</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Root Collection DataPortal_Update</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8395.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>MadGerbil posted on Thursday, January 21, 2010</h2>I've got the silly thing working.<br />Does this code look right?<br />Is there a better way to do it?<br /><br />        [Transactional(TransactionalTypes.TransactionScope)]<br />        protected override void DataPortal_Update()<br />        {<br />            using (var ctx = ConnectionManager.GetManager("eGA"))<br />            {<br />                base.Child_Update();<br />            }<br />        }</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, January 21, 2010</h2><P>Looks right to me.</P>
<P>The children know how to save themselves, and the collection doesn't have anything to really save.&nbsp; So its only job is to open a connection so that the children all use that conneciton and particpate in the transaction, and your code does that.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rxelizondo replied on Thursday, January 21, 2010</h2>        Yeah, it looks good to me too, I just finished creating one of those too, the only difference is that I am using DB2 so my procedure looks just a tad different that yours:<br /><br />protected override void DataPortal_Update()<br />{<br />    using (TransactionManager&lt;DB2Connection, DB2Transaction&gt; ctx = TransactionManager&lt;DB2Connection, DB2Transaction&gt;.GetManager(&quot;DB:TMMPDirect&quot;))<br />    {<br />        base.Child_Update();<br />        ctx.Transaction.Commit();<br />    }<br />}</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
