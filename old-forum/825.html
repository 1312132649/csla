<html><header><title>Newbie Parent/Child/Grandchild architecture question</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Newbie Parent/Child/Grandchild architecture question</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/825.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Kinergy posted on Sunday, August 06, 2006</h2>Hi, let's suppose we want to create the following structure of BOs:<br><br>ParentRoot : BusinessBase&lt;ParentRoot&gt;<br>&nbsp; ChildCollection : BusinessListBase&lt;ChildCollection, Child&gt;<br><br>Child : BusinessBase&lt;Child&gt;<br>&nbsp; GrandchildCollection : BusinessListBase&lt;GrandchildCollection, Grandchild&gt;<br><br>Grandchild : BusinessBase&lt;Grandchild&gt;<br>&nbsp; (...could have more levels for great grandchildren...)<br><br>The template for a BusinessBaseList has a single method for populating the list with its child BOs (Child or Grandchild, etc.) that takes a SqlDataReader which is then passed on to the child. In the Project Tracker example, it is the Project BO method DataPortal_Fetch that calls the db stored procedure and retrieves two levels of data to populate the fields of the Project BO, as well as the ProjectResources object containing all the ProjectResource objects. If one were to create a third level with a grandchild it seems to me that this method of passing a SqlDataReader with enough data that could be somehow parsed into many GrandchildCollection objects doesn't work well. So, my question is, what is the recommended architecture for a 3+ level BO structure with collections? Should I create new stored procedures for each collection to call given that they can each filter the db table on their parent Id, or am I missing something?<br><br>Thanks in advance!<br><br>K<br><br>(I'm using CSLA 2.0.3)<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Sunday, August 06, 2006</h2>This is a common topic.&nbsp; You can find some suggestions here: http://forums.lhotka.net/forums/thread/1974.aspx.&nbsp; Ignore the posts in the second half of the thread regarding the wiki.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Maccurt replied on Monday, August 07, 2006</h2><P>Use a Dataset instead of a DataReader in this example, then use the relation object to create relations to all your data. I also created a new class called SafeDataRow that performs the same as the SafeDataReader. I am not suggesting you keep the Dataset around, just use it when you have those deep Parent-Child-Grandchild relationships. </P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
