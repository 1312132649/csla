<html><header><title>multiple DataPortal_Update - with different parameters</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>multiple DataPortal_Update - with different parameters</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10570.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Curelom posted on Friday, July 29, 2011</h2><p>I&#39;m trying to save with a business list.&nbsp; If a concurrency error occurs, I want to prompt the user if they want to write over the changed values.&nbsp; (I know, but that&#39;s what the users want.)&nbsp; I&#39;ve built the list with CSLA Extension code generator, so I can&#39;t modify the original DataPortal_Update.&nbsp; I&#39;ve created another DataPortal_Update as below.&nbsp; My question is how do I call this method?&nbsp; It doesn&#39;t seem to be the same way you would with a DataPortal_Fetch with diff parameters.</p>
<pre style="font-family:Consolas;background:white;color:black;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">protected</span>&nbsp;<span style="color:blue;">override</span>&nbsp;<span style="color:blue;">void</span>&nbsp;DataPortal_Update(<span style="color:blue;">bool</span>&nbsp;overrideConcurrency)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">using</span>&nbsp;(<span style="color:blue;">var</span>&nbsp;ctx&nbsp;=&nbsp;Csla.Data.<span style="color:#2b91af;">ObjectContextManager</span>&lt;FullyLoadedCostLibrary.Data.<span style="color:#2b91af;">FLCEntities</span>&gt;.GetManager(FLCModel.<span style="color:#2b91af;">FLCEntitiesDatabase</span>.Name))&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Child_Update(overrideConcurrency);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</pre></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Friday, July 29, 2011</h2><p>You&#39;re right, the DataPortal_Update method does NOT accept any parameters. </p>
<p>What comes to mind is to use a command object to do the&quot;overridden&quot; save with the list as a property on that command object.</p>
<p>Make the list a property on the CommandObject and call DataPortal_Update(bool) on the list from DataPortal_Execute on the command object.</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Curelom replied on Monday, August 08, 2011</h2><p>This solution should work for now.&nbsp; Is this something that would be worthy of adding to the wish list?&nbsp; I have no idea how difficult it would be to add and this is the first time I&#39;ve come across a situation where I needed to do this after using CSLA for a number of years.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Monday, August 08, 2011</h2><p>Hi,</p>
<p>Rocky may correct me - but IMO this is an edge case. </p>
<p>Save is an instance method and you would normally have the option of adding properties to the BO that can be used to test for various conditions in the save method.&nbsp; </p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, August 08, 2011</h2><p>The idea of passing metadata along with a data portal call doesn&#39;t fit with the philosophy of the data portal. The idea is to reflect your requirements in the object model, and the data portal just flows the object model between the client&nbsp;and server - allowing the object model to do what it needs to do on either end of the network connection.</p>
<p>The ApplicationContext dictionaries are a compromise to allow out-of-band metadata to flow along with the model, but that&#39;s as far as I ever plan to go.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
