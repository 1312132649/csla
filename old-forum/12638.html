<html><header><title>Error &quot;Edit level mismatch in AcceptChanges&quot; when save a Editable Root Collection</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Error &quot;Edit level mismatch in AcceptChanges&quot; when save a Editable Root Collection</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12638.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>QuangBH posted on Wednesday, May 21, 2014</h2><p>My project using CSLA 4. I am using a GridView to binding and update data. However when I update data after user edit on gridview. I always get an error : &quot;Edit level mismatch in AcceptChanges&quot;</p>
<p>The way I done it is:</p>
<p>Bars_Coll items = Bars_Coll.GetBar_Coll();</p>
<p>gridview.datasource = items;</p>
<p>after user edit a cell. I update by:</p>
<p>items.applyEdit();</p>
<p>items.Save();</p>
<p>This&nbsp;is the&nbsp;way that I learned from thread: <a href="http://forums.lhotka.net/forums/p/11468/53194.aspx">http://forums.lhotka.net/forums/p/11468/53194.aspx</a>&nbsp;</p>
<p>Thank,</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, May 22, 2014</h2>Are you using dynamic list or a normal business list?  The normal case it&#39;s that the grid called ApplyEdit for you when the user leaves the row, not the cell.  A dynamic list will then call safe for you, a normal list will not.  Both will call ApplyChanges.  So you shouldn&#39;t need to do either.  It you really are calling this aww the cell loses focus, that&#39;s not the standard behavior of grids and will likely confuse users.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Sunday, May 25, 2014</h2><p>Not quite sure what you want to accomnplish but it seems you should rather use the DynamicRootBindingList stereotype that will automatically save when user moves to a new row.&nbsp;</p>
<p>This error message is a classic one in Windows Forms as you cannot call Save on an object that has active databinding. You must always make sure that the object is not bound to any datasource/bindingsource before you can save an object. And also remember that Save returns a new instance of the obnect to &quot;rebind&quot; to the UI.&nbsp;</p>
<p>When DataBinding is active it will call BeginEdit/EndEdit/CancelEdit a many times (&quot;under the hood&quot;) and DataBinding assumes it has full control of the actual object. See also:&nbsp;<a href="http://msdn.microsoft.com/en-us/library/system.componentmodel.ieditableobject(v=vs.110).aspx">http://msdn.microsoft.com/en-us/library/system.componentmodel.ieditableobject(v=vs.110).aspx</a>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
