<html><header><title>Object Design / TreeView / Lazy Loading</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Object Design / TreeView / Lazy Loading</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/940.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 posted on Friday, August 18, 2006</h2><P>My model is that a profile (individual or organization) may have relationships with one or more profiles. Some of those relationships carry additional data (and hence end up being different concrete classes), but all of them implement a common interface that exposes the common properties for all relationships. </P>
<P>Now, a UI requirement I have is that we could have a treeview or hierarchical browse capability. That is, the first level will be all the related people to the profile I'm currently editing/viewing, but I should be able to see who those related people are related to, and click down to see who is related to those people, and so forth. </P>
<P>My challenge is that there is really not any difference in terms of how I'd want the object to operate outside of one&nbsp;item (next paragraph)&nbsp;- I'd like the related people to each have a collection of IProfileRelationships too. Of course, these would be lazily loaded (I assume via a command of some sort to get the data reader that would populate the lazy loaded collection).</P>
<P>What I want to be different is that because these relationships don't have anything to do with the profile I'm editing, I don't want to allow editing of the relationships and have to deal with persistance of them. Only the immediate relationships for the particular profile that I'm editing should be editable and savable. </P>
<P>I am loathe to create a separate parallel set of objects that truly does the exact same thing except that they cannot be saved / are read only.</P>
<P>So, Question #1: Is it OK to utilize an editable child object in a read-only usage? </P>
<P>If so, the following is true:</P>
<P>&gt;&gt; I would be responsible in the UI for not allowing the editing of these nested relationships, the deletion, or addition of nested relationships (relationships not directly related to the profile I'm editing. </P>
<P>&gt;&gt; My objects would help facilitate the lazy loading of these child collections, but when it comes time for saving, it would simply ignore them. </P>
<P>Question #2: Should I enable some sort of exception thrower in my editable child object that is enabled when I mean to use the object in read-only fashion? I was considering a possible approach to do this, since I am code generating most of the fields &amp; properties, might be to override propertyhaschanged and look at a boolean isReadOnly and if true, throw an exception -- that way the UI developer knows pretty quickly that they're doing something they're not supposed to. </P>
<P>Any suggestions much appreciated,</P>
<P>Chris</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
