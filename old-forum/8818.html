<html><header><title>Adding a TAG property to Csla.Validation.RuleArgs and Csla.Validation.BrokenRule</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Adding a TAG property to Csla.Validation.RuleArgs and Csla.Validation.BrokenRule</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8818.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>yanivabo posted on Tuesday, April 20, 2010</h2><p>Hello, <br />My name is yaniv and I&rsquo;m a new user to the CSLA framework and so far it&#39;s look very promising, I read the book and have the videos (Silverlight and framework). I&rsquo;m using CSLA 3.8.2</p>
<p>I have one problem, when a business object is not valid I need to get not only the error description but also Error Code. Is there any way to get that is the current CSLA frame work?</p>
<p>I need this feature because some of the objects are exposed (not directly) using a web service for other companies programmers to interact. if they transfer invalid data (didn&rsquo;t send a required filed for exempla) I need to return an error. It is a good practice to return Error Code number + description for service errors. Save a lot of time in developing.</p>
<p>Is it possible to add to the Csla.Validation.RuleArgs and Csla.Validation.BrokenRule a TAG property type of object that can be used to transfer any additional info on the broken rule?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>ajj3085 replied on Tuesday, April 20, 2010</h2><p>You could use DecoratedRuleArgs to add in an error code.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>yanivabo replied on Tuesday, April 20, 2010</h2><p>If I use DecoratedRuleArgs to add a custom argument as Error Code, how can I get the error code from the </p>
<p>object&nbsp; BrokenRulesCollection -&gt; BrokenRule?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, April 20, 2010</h2><p>The BrokenRule&#39;s ToString will return a Uri, which will have the ErrorCode dictionary value included, which you should be able to parse with the <span style="color:#2b91af;font-size:x-small;"><span style="color:#2b91af;font-size:x-small;">RuleDescription </span></span>class to get the value.</p>
<p>Thinking about this though, you&#39;ll probably need a custom RuleArgs subclass per error condition, since the same RuleArgs is reused with each running of the rule.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
