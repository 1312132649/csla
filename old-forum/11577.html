<html><header><title>PropertyInfo &amp; WinRT</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>PropertyInfo &amp; WinRT</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11577.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>TSF posted on Thursday, September 13, 2012</h2><p>I&#39;m trying to use the&nbsp;PropertyInfo control in a WinRT app, and I can&#39;t get the binding to work correctly.&nbsp; I want to bind another control&#39;s appearance to&nbsp;the IsValid&nbsp;meta data for a BO property that&nbsp;the PropertyInfo control exposes.&nbsp;<strong>The problem is that the binding is triggered only once when the page is first loaded.</strong> Updating the BO&#39;s property via the UI doesn&#39;t trigger the PropertyInfo&nbsp;binding.&nbsp; My XAML is below.&nbsp; (Note - my ViewModelBase class is set as the page&#39;s DataContext, so &quot;Model&quot; below should refer to the actual business object.)</p>
<p>&nbsp;I have tried the following four syntax&nbsp;variations for PropertyInfo:</p>
<p style="padding-left:30px;">&lt;csla:PropertyInfo x:Name=&quot;piField1&quot; Source=&quot;{Binding Model}&quot; Property=&quot;{Binding Model.Field1}&quot;/&gt;</p>
<p style="padding-left:30px;">&lt;csla:PropertyInfo x:Name=&quot;piField1&quot; Source=&quot;{Binding Model}&quot; Property=&quot;{Binding Field1}&quot;/&gt;</p>
<p style="padding-left:30px;">&lt;csla:PropertyInfo x:Name=&quot;piField1&quot; Property=&quot;{Binding Model.Field1}&quot;/&gt;</p>
<p style="padding-left:30px;">&lt;csla:PropertyInfo x:Name=&quot;piField1&quot; Property=&quot;{Binding Field1}&quot;/&gt;</p>
<p>I want to bind a Border element to the IsValid property exposed by the PropertyInfo control, as follows:</p>
<p style="padding-left:30px;">&lt;Border BorderBrush=&quot;Red&quot; <span style="background-color:yellow;">BorderThickness=&quot;{Binding ElementName=piField1, Path=IsValid, Converter={StaticResource ValidationToBorderConverter}}&quot;</span> Margin=&quot;0,5,0,0&quot; &gt;<br />&nbsp;&nbsp;&nbsp; &lt;TextBox Name=&quot;tbField1&quot; Text=&quot;{Binding Model.Field1, Mode=TwoWay}&quot; /&gt;<br />&lt;/Border&gt;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, September 13, 2012</h2><p>WinRT is missing some features used by the &#39;modern&#39; PropertyInfo control in WPF/SL. The WinRT version of PropertyInfo uses an implementation more similar to what we did for Silverlight 2.0, which was also missing these features.</p>
<p>As a result, the Property property can&#39;t be a binding expression, it must be the string name of the property</p>
<p>Property=&quot;Field1&quot;</p>
<p>As you note, you do need to set the Source property to a binding expression that resolves to the business object.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Friday, September 14, 2012</h2><p>My mistake, talking about propertyinfo in the post above, I was thinking it was propertystatus.</p>
<p>Does propertystatus have the same issue?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, September 14, 2012</h2><p>Yes, PropertyInfo and PropertyStatus (and TriggerAction) all have the same issue.</p>
<p>For those interested, the issue is that there&#39;s no API to get access to the Binding object for a bound property in a control. As a result, we can&#39;t get the binding and then find the binding&#39;s source and path like in WPF or SL3+. Instead, the XAML must directly provide the control with the source and the path (as a string). </p>
<p>Hence the Source property being required, and the Property property being a string value that must contain the path to the property.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
