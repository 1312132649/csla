<html><header><title>General OO - One to Zero or One</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>General OO - One to Zero or One</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3396.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>juddaman posted on Friday, August 17, 2007</h2><P class=MsoNormal><SPAN>I have a situation where I have a BO that may or may not have an association with another BO. For the sake of discussion say Person hasPet Animal (in this 'world' a Person can only have up to one pet) and the inverse Pet ownerBy Person. Hence a person may or may not have a pet. When the association exists I am storing the identifier of the (in this case) Animal in the Person BO. However when the Person has no pet I'm just storing an empty Guid. I'm not keen on storing what is basically a null reference in a BO, has anybody got any better solutions to this? Or is this a valid solution? I did consider moving the reference to the Pet so it would keep reference its owner (which could be modelled as a must have association – i.e. a pet must be owned by someone). However in this case it is required that a Person knows its pet if it has one. Any suggestions?</SPAN></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>richardb replied on Wednesday, August 29, 2007</h2><P>Sounds like a valid solution to me if there is definately only ever 1 "Pet" allowed per "Person".&nbsp; You could have a Property on the BO called Pet() which returns and sets&nbsp;the Pet object accordingly I guess.</P>
<P>You could also use a collection and child object which potentially allows you to assign many "Pets" if the Pet is a child object, but for now you could check and restrict it so only one Pet could be added at a time.&nbsp; But that might be confusing.&nbsp; I used this method once as Sales teams were creating a cost sheet quote and swore blind they only ever created one quote per "Sales deal" at a time.&nbsp; I didn't believe them and wanted to have up my sleeve the ability to save multiple quotes (a history) so designed my object model that way but just let them add/edit one quote.</P>
<P>To be honest it wasn't much work to switch to either method.</P>
<P>Sounds like your Pet could be a switchable parent child object.</P>
<P>Hope that helps.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>juddaman replied on Thursday, August 30, 2007</h2><P>Hi Richard, thanks for replying.<o:p></o:p></P>
<P>I ended up adding methods to set and get the "Pet" (similar to what you suggested). This way I could just return null if there was no "pet". I also added a HasPet property. I realized my issue was with returning an empty Guid, which was ambiguous, could be NULL could be a pet. I didn’t consider the list but if more than one Pet ever made it on too the list the consequence would be dire. In my system a Pet&nbsp;is a root, Person just keep a reference to it.</P>
<P>On another note - Can One-to-One relationships exist within the CSLA / behavior driven philosophy? If the relationship always existed should all the properties be combined into 1 BO so the BO had all the data it needed?</P>
<P>&nbsp;I.e. so A - B and B -C. Would become A (with all the properties of B) and C with all the properties of (B).</P>
<P>Thanks again,</P>
<P>George<o:p></o:p></P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
