<html><header><title>CSLA 3.7 WSDL Question</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA 3.7 WSDL Question</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8406.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dd3000 posted on Monday, January 25, 2010</h2>Since upgrading from CSLA 3.0 to CSLA 3.7 we have noticed that the WSDL definition for one of our webservices now contains information about the Broken Rules Collection:<br />  &amp;lt;s:complexType name="BusinessBaseOfOurClass" abstract="true"&amp;gt;<br />    &amp;lt;s:complexContent mixed="false"&amp;gt;<br />      &amp;lt;s:extension base="s2:BusinessBase" /&amp;gt;<br />    &amp;lt;/s:complexContent&amp;gt;<br />  &amp;lt;/s:complexType&amp;gt;<br />  &amp;lt;s:complexType name="BusinessBase" abstract="true"&amp;gt;<br />    &amp;lt;s:complexContent mixed="false"&amp;gt;<br />      &amp;lt;s:extension base="s2:UndoableBase"&amp;gt;<br />        &amp;lt;s:sequence&amp;gt;<br />          &amp;lt;s:element minOccurs="0" maxOccurs="1" name="BrokenRulesCollection" type="s2:ArrayOfBrokenRule" /&amp;gt;<br />        &amp;lt;/s:sequence&amp;gt;<br />      &amp;lt;/s:extension&amp;gt;<br />    &amp;lt;/s:complexContent&amp;gt;<br />  &amp;lt;/s:complexType&amp;gt;<br />  &amp;lt;s:complexType name="UndoableBase" abstract="true"&amp;gt;<br />    &amp;lt;s:complexContent mixed="false"&amp;gt;<br />      &amp;lt;s:extension base="s2:BindableBase" /&amp;gt;<br />    &amp;lt;/s:complexContent&amp;gt;<br />  &amp;lt;/s:complexType&amp;gt;<br />  &amp;lt;s:complexType name="BindableBase" abstract="true"&amp;gt;<br />    &amp;lt;s:complexContent mixed="false"&amp;gt;<br />      &amp;lt;s:extension base="s2:MobileObject" /&amp;gt;<br />    &amp;lt;/s:complexContent&amp;gt;<br />  &amp;lt;/s:complexType&amp;gt;<br />  &amp;lt;s:complexType name="MobileObject" abstract="true" /&amp;gt;<br />  &amp;lt;s:complexType name="BrokenRule"&amp;gt;<br />    &amp;lt;s:complexContent mixed="false"&amp;gt;<br />      &amp;lt;s:extension base="s2:MobileObject" /&amp;gt;<br />    &amp;lt;/s:complexContent&amp;gt;<br />  &amp;lt;/s:complexType&amp;gt;<br />  &amp;lt;s:complexType name="ArrayOfBrokenRule"&amp;gt;<br />    &amp;lt;s:sequence&amp;gt;<br />      &amp;lt;s:element minOccurs="0" maxOccurs="unbounded" name="BrokenRule" nillable="true" type="s2:BrokenRule" /&amp;gt;<br />    &amp;lt;/s:sequence&amp;gt;<br />  &amp;lt;/s:complexType&amp;gt;<br /><br />    Is there any way to keep the BrokenRulesCollection from appearing in the WSDL? We have a BizTalk orchestration that references this web service and doesn't like the new BrokenRulesCollection sequence. I have already tried hiding the property with a new private BrokenRulesCollection property in the derived class, or applying XmlIgnore or SoapIgnore attributes to the BrokenRulesCollection property, but nothing seems to be working.<br /><br />I would also appreciate it, if someone could let me know how to get the XML to appear correctly on this forum.<br /><br /><br />Thanks<br />David</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, January 25, 2010</h2><P>You are exposing your business objects directly as the external interface (contract) for your service?</P>
<P>At the risk of being overly blunt - that's a terrible idea. It is a fundamentally flawed architectural choice.</P>
<P>Services are constructed to expose an immutable contractual interface. Changing that interface should take a concious effort or act, because such changes will break consumers (as you've discovered).</P>
<P>Architecturally, who would want to tie the internal implementation (your objects) to this immutable contract? You can't ever change your object model without breaking the contract - which means you can't ever change your object model. Which means you can't evolve or maintain your application.</P>
<P>A service is a type of interface - no different from a web or Windows interface. No one ever exposes their objects directly through those interfaces - they always have UI code (or data binding) between the interface and the object model.</P>
<P>The exact same thing applies to a service interface. You should never expose your objects directly through a service interface either. You should always have some UI code (or data binding equivalent) between the interface (contract) and the object model.</P>
<P>Certainly CSLA doesn't guarantee it'll maintain the same interface for meta-properties (like BrokenRulesCollection) over time. I try to avoid breaking UI code, but the idea of exposing objects directly <EM>as the interface</EM> is way outside of any scope I'd consider (mostly because you can probably tell how I feel about doing such a thing :) ).</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
