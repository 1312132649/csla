<html><header><title>State management on a 2 dimensional array of decimal values?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>State management on a 2 dimensional array of decimal values?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10230.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Dane posted on Saturday, April 02, 2011</h2><p>I&nbsp;need to&nbsp;have state management on a&nbsp;2 dimensional array of decimal&nbsp;values&nbsp;with a variable&nbsp;number of rows and columns. I need full Csla state tracking on&nbsp;every decimal&nbsp;value in the array and I&#39;m having a hard time coming up with an efficient way to accomplish this.&nbsp; Any suggestions you have will be received with appreciation.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>tmg4340 replied on Sunday, April 03, 2011</h2><p>I&#39;ll ask for this, but honestly it may not end up helping much...</p>
<p>If you could give us some more context to your problem space, we might be able to suggest a solution.</p>
<p>Having said that, I wouldn&#39;t hold my breath.&nbsp; I don&#39;t see a way to manage the array in any kind of efficient manner within CSLA, especially as a single unit.&nbsp; Breaking each element out isn&#39;t efficient, but fits more into the CSLA model - until you add in&nbsp;the variableness factor.&nbsp; CSLA doesn&#39;t really do well with that kind of dynamic situation - at least not right out of the box.</p>
<p>Essentially you&#39;re trying to add CSLA functionality to a DataTable, which to my knowledge hasn&#39;t really been done.&nbsp; In fact, you may get more of what you want by using a DataTable...</p>
<p>But again, a bit more information about what you&#39;re trying to do may help.</p>
<p>- Scott</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Dane replied on Wednesday, April 06, 2011</h2><p>I suspect that you are probably correct but thought I&#39;d take a shot on the forum to see if anyone had suggestions.</p>
<p>What I&#39;m trying to accomplish is tracking an unknown number of value series&nbsp;indexed by a single date series (imagine a spread sheet with a date column and several value columns).&nbsp; A DataTable isn&#39;t a viable option because one UI I&#39;m&nbsp;working with&nbsp;is Silverlight which has no DataTable.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tmg4340 replied on Wednesday, April 06, 2011</h2><p>Well... I can actually think of a way to make it work, though I&#39;m not sure how efficient it would be, nor&nbsp;would it be easy to work into&nbsp;in a XAML-based UI.</p>
<p>(This would also be helpful if this array is a sparse array, which I have a hunch it may be...)</p>
<p>You could implement a simple node class with pointers, and essentially create a linked list to define your array.&nbsp; That could fit relatively neatly into one of the CSLA collection classes, and then you&#39;d get your change tracking on each node.&nbsp; From an efficiency perspective, that&#39;s about the best I can come up with, and if you don&#39;t have a lot of rules (business or otherwise), the overall structure size might not be that bad.</p>
<p>If you wanted to make it a little simpler to conceptualize, you could build a child/grandchild list, with the children being your date and the grandchildren being the series values for each date.&nbsp; It&#39;s a variation on implementing a sparse array, and could also work relatively well.</p>
<p>The UI, though, is a&nbsp;problem. &nbsp;XAML data-binding isn&#39;t really built to do work with something like that.&nbsp; So you&#39;d have to build a ViewModel to turn that into something that looks like a spreadsheet, but still maintains the appropriate link back to the true data element (presuming that&#39;s your UI metaphor.)&nbsp; And that&#39;s where you&#39;re going to run into overhead, as you basically can&#39;t take advantage of a lot of the built-in UI infrastructure for CSLA - you have to re-implement that UI code, probably delegating back to your CSLA nodes.&nbsp; The level you have to go to depends on what your UI needs are, but it&#39;s likely not non-trivial.&nbsp; The second structure (the child/grandchild structure) might make that easier, but I still think you&#39;d end up re-implementing a fair amount of code.</p>
<p>All of this assumes you want to rely on XAML data-binding, but if you set that aside, then you gain some flexibility - at the cost of a potentially heavy code base to write behind your SL usercontrol.&nbsp; That&#39;s a step I&#39;d seriously think about before implementing;&nbsp;do not underestimate the amount of additional code you&nbsp;might have to write.</p>
<p>HTH</p>
<p>- Scott</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
