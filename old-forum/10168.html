<html><header><title>CSLA Silverlight Resource dll</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA Silverlight Resource dll</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10168.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>richardp posted on Monday, March 14, 2011</h2><p>Hi, we are developing a 3 tier CSLA Silverlight app.</p>
<p>The ability to translate to different languages is a key requirement.</p>
<p>I have tried storing the localizable strings in a dedicated resource dll, which is referenced by both Library.Server.dll and Library.Client.dll. So I have Library.Resource.Server.dll and Library.Resource.Client.dll. I used the trick of adding a file as a link to share the same resource class file between the client and server. The&nbsp;class that is shared is the one that the resource compiler tool produces i.e. Library.Resource.Server.Designer.cs.</p>
<p>This all seems to compile and works on the server side, &nbsp;however it throws an exception when the client code tries to access a resource string. The exception is something about &quot;missing manifest - missing resource culture&quot;.</p>
<p>I read that Silverlight is not able to use resource files compiled as &quot;Embedded Resource&quot;, only files compiled as &quot;Resource&quot;.</p>
<p>I am a bit stuck now and would welcome any suggestions.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>richardp replied on Tuesday, March 15, 2011</h2><p>OK I figured it out.</p>
<p>It was no use adding the generated resource class file as a link, this class is simply a wrapper around a ResourceManger which retrieves resources that were previously embedded in the assembly.</p>
<p>The resources get embedded in the assembly by the&nbsp;PublicResXFileCodeGenerator tool.</p>
<p>You can&#39;t run this tool against a linked .resx file.</p>
<p>The best solution I found was to have identical, duplicate resource dlls, one for the server and one for the Silverlight client. I set a post-build step on the server resource dll to copy the server resx file to the client resource dll project. This keeps the 2 files in sync. I have to remember to only edit the server resource dll, as the client resource dll will get over-written on each build.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, March 15, 2011</h2><p>I don&#39;t know exactly how your solution/project is configured. But the Csla.Silverlight project uses linked resource files from the Csla main project.</p>
<p>Jonny did this, and it might be that he had to manually edit the csproj file to make it work - I&#39;m not sure. I do believe we had to do some manual csproj editing for either SL or WP7, and I don&#39;t remember the exact circumstances.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>richardp replied on Tuesday, March 15, 2011</h2><p>Aha! I found the linked resource files in the Csla.Silverlight project and replicated what you did there and it is all working now.</p>
<p>Thanks heaps Rocky!</p>
<p>Richard.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
