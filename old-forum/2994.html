<html><header><title>Issue with IsDirty after delete.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Issue with IsDirty after delete.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2994.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>reagan123 posted on Wednesday, June 06, 2007</h2><P>Hi everyone. I'll try to keep this brief.<BR><BR>I currently have a windows form that has a&nbsp; combo box on it.. When the user selects a value, the objects values are loaded into text boxes on that form.</P>
<P>This all works great... when I delete the object, I call the delete, which works fine and then call a routine ClearForm() in which I set all of the text boxes to ""</P>
<P>My problem is that when I call ClearForm() it is setting IsDirty = true</P>
<P>Is there a way to clear out these text boxes without having IsDirty set to true?</P>
<P>Hope this makes sense!</P>
<P>Thanks for your time,<BR>Shawn</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bowman74 replied on Wednesday, June 06, 2007</h2><P>Shawn,</P>
<P>I'm assuming you are using data binding.&nbsp; If you still have the text boxes bound to a CSLA object it is going to clear out the value in the CSLA object's property that the textbox is bound to when you set the textbox to "".&nbsp; That's object's IsDirty value is now going to be True.&nbsp; If you just want to clear out the textboxes and it is not valid to enter data into them I would remove the data bindings first so they won't try and update the object.&nbsp; If you want to have an area where the use can enter new data then you should bind the text boxes to a new instance of the class not the old deleted instance.&nbsp; That should set the textboxes values to be whatever the default values in your object are, most likely "" for strings without you having to do it explicitly.</P>
<P>Does this make sense or did I misunderstand you issue?</P>
<P>Thanks,</P>
<P>Kevin</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Wednesday, June 06, 2007</h2>Two different suggestions:<br><ul><li>Instead of calling ClearForm, delete the UserControl/Form.&nbsp; This dumps the form out of memory and it is no longer an issue.&nbsp; Just create a new instance of the form when you want to display another instance of that type of object.</li><li>If you follow the pattern Rocky uses in the books when calling .Delete and then .Save() on an object, you are left with an object with IsNew (and consequently IsDirty) set to true even though it has the deleted objects values still in it.&nbsp; A better way may be to create a new instance of that object and bind it to your form.&nbsp; It will also have IsNew (and consequently IsDirty) set to true, but all of the values will be set to the defaults.</li></ul>Finally, Iwould suggest that in general your code only modifies the business objects and not the controls that they are bound to.&nbsp; It just generally works more predictably this way.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>reagan123 replied on Wednesday, June 06, 2007</h2><P>awesome guys!&nbsp; thanks for the quick reply.&nbsp; I'll go in and see which solution is the best for my situation. </P>
<P>As you can probably tell I'm really new to the framework.&nbsp; I really like what I've seen so far, but still get confused on it at times.</P>
<P><BR>Thanks again!</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Wednesday, June 06, 2007</h2>One thing I have noticed with people learning the framework is that the learning curve is fairly steep for a week or two.&nbsp; But after a month or two of use, you realise that you know almost all of it quite well and are comfortable and productive.&nbsp; The other thing is that you have a good community here with a very good signal to noise ratio.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
