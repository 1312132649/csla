<html><header><title>GridView - readonly collection interaction</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>GridView - readonly collection interaction</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2825.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>georgeb posted on Friday, May 04, 2007</h2><P>I am using the csla 2.1.4 and I created a readonly collection with paging to consume it in an asp.net 2.0 app. In an asp page that I was previously using&nbsp; a grid to display data&nbsp;using a&nbsp; child collection, I change the data source&nbsp;with the readonly collection and made the ajustments to the grid. In debug mode I see that the data is retrieved from the database and the collection is correctly&nbsp;returned&nbsp;&nbsp;in the </P><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>Protected</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</FONT><FONT size=2> MessagesDataSource_SelectObject(</FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> sender </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Object</FONT><FONT size=2>, </FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> e </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> Csla.Web.SelectObjectArgs) </FONT><FONT color=#0000ff size=2>Handles</FONT><FONT size=2> MessagesDataSource.SelectObject</P></FONT><FONT size=2>
<P>e.BusinessObject = RectisSecretaryII.Library.MessagesList.GetPage(e, businessObject.Id)</P>
<P></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</FONT></P>
<P>The grid does not display the data.The fields are the same. Any ideas why this is happening?&nbsp;&nbsp;</P>
<P><FONT color=#0000ff size=2></FONT>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, May 04, 2007</h2>Do the property names match exactly on the child objects? Remember that data binding does everything through reflection - taking the string property names from the grid definition and reflecting against each child object to pull out the property values.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>georgeb replied on Saturday, May 05, 2007</h2><P>Yes. I checked the field names and are the same. I also check the autogenerate field to true.&nbsp; It still does not work.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>georgeb replied on Monday, May 07, 2007</h2>The problem remain. I refreshed the schema and again no result. I used autoregenerate columns (grid) again no result! Any ideas? (the readonly collection object has data in it).</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, May 07, 2007</h2><P>I have no ideas, sorry...</P>
<P>Try creating a new page, add a data control pointing to this list and binding it to a new grid - see what happens. If that works (which it should, binding to read-only collections works fine in general and people do it all the time), you can compare the aspx tags to the non-working page and maybe find the difference.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, May 07, 2007</h2><P>One more thought though. Odds are that some exception is occurring while data binding is trying to read the data from your object. It could be a null ref thing, or one of your property get blocks has an issue, or a type mismatch or ...</P>
<P>But I bet that's what is happening.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>georgeb replied on Tuesday, May 08, 2007</h2>Finally!! It is partially solved! I disable the paging from the asp Gridview and it works. I noticed that the storproc returned all the records (my bug!) form the database and filled the internal readonly collection. When I used the collection in the asp page it returned (the readonly collection getlist) only the first 10 records ignoring (?) the rest entries in the list.That behavior &nbsp;I guess it causes the problem.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
