<html><header><title>Need advice on creating a global config infrastructure</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Need advice on creating a global config infrastructure</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9572.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>bgilbert posted on Friday, September 24, 2010</h2><p>I have a business object library that currently uses a set of ClientContext objects for passing client-side My.Settings values to the server-side code. This works reasonably well. We&#39;re about to significantly extend our application to multiple clients and I&#39;m looking at storing a lot of behaviors in a centralized db table. For example, reinforce such-and-such business rule if the particular client has it configured as such. For this to work, I need both the client code and the business objects at server-side to have access to the same set of config data.</p>
<p>Any thoughts on the best way to implement something like this?</p>
<p>Thanks</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JonnyBee replied on Friday, September 24, 2010</h2><p>Hi, </p>
<p>GlobalContext is a 2 way context whereas ClientContext is one-way from client to server. But there are limitations (or requirements for spesial handling) especially if you are using BackgroundWorker or the async DataPortal.You should also keep in mind that data loaded into ClientContext/GlobalContext gives extra overhead on the wire (will be send/received for all server calls).</p>
<p>As for rules - I assume that you will have to create a Rule that loads/accesses configured data in the database and uses RuleChaining to call the actual Rules. </p>
<p>I&#39;d probably recommend to load all the rules config for a client into a cached thread safe dictionary on both the server and client and create your own Rule that will use RuleChaining to call the actual rules. This Rule must be set to run on all fields that are configurable in your app.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bgilbert replied on Tuesday, September 28, 2010</h2><p>Jonny,</p>
<p>&nbsp;</p>
<p>Thanks for your input. This is the general direction we&#39;ve been discussing, although I hadn&#39;t known about GlobalContext until now. I think we can use some amount of rule chaining, as you suggest, but there will probably be other behaviors that don&#39;t lend themselves to rules. We&#39;re thinking that we&#39;ll build cached structures on both the client and server sides that will help branch rules, methods, and UI elements. I suspect that it will get fairly complex because of the possible interrelationships between different configuration requirements and that we&#39;ll also employ some amount of &nbsp;inheritance to encapsulate broader behavior differences. What we&#39;re trying to avoid is using only OO to handle these things; it has seemed to be a bottomless pit of complexity to do things this way.</p>
<p>&nbsp;</p>
<p>Thanks again for your input.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
