<html><header><title>Question on Parent-Child Business Obejct design</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Question on Parent-Child Business Obejct design</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2778.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>GPhillips posted on Wednesday, April 25, 2007</h2><P>Is there a recommended method to set up Parent Child Business object relationships when there are A LOT of children.&nbsp; I would like a collection of children in the parent, but if there are 500-600 children, I don't want to load them when I get the parent and then cart them around, especially if I don't need them.&nbsp; Specifically, I have an Order-Detail scenerio but most orders can have several hundred details. The optimal solution would be to have the collection property but not populate it unless we needed something from it, but I don't see an easy way to do that without losing CSLA functionality</P>
<P>Also, it&nbsp;would be nice to have a collection of Orders within each Customer.&nbsp; Yikes..</P>
<P>Any suggestions would be appreciated.&nbsp; This is my first project with CSLA so if I'm asking something that is covered in the book, a point in the right direction would be appreciated.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, April 26, 2007</h2>Are you hitting performance issues with loading 500 child objects?&nbsp; Normally, I would say you likely would make the children root objects themselves, but in an order-detail, that doesn't make sense.&nbsp; I'm assuming by detail you mean the line items on the order.<br><br>You can lazy load the collection and not lose functionality, but if you bind a gird to the items, that will cause a load.&nbsp; <br><br>I don't think you'd want a collection of orders with each customer.&nbsp; I would think you have an OrderInfo object, which is contained in a CustomerOrders ROL object.&nbsp; The OrderInfo wouldn't load all the line items, but may provide summary information.&nbsp; If you need the details of an order, you could at that point load the full order object.&nbsp; I assume your use case doesn't allow for viewing the details of all orders for a customer all at the same time, correct?<br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>GPhillips replied on Thursday, April 26, 2007</h2><P>Andy,</P>
<P>Thanks for the reply.&nbsp; I'm not sure what you mean by "lazy load".&nbsp; I have considered having the&nbsp;detail collection&nbsp;property in the Order, but not popluating it until it was needed and maybe pulling down a count of them from the DB when the Order is loaded.&nbsp; I would have to fiddle with the dirty properties and add code so a Save of the order would not need the details.&nbsp; The idea of creating Info objects in addition to the full object doesn't appeal.</P>
<P>The performance issue is a concern considering that&nbsp;if the&nbsp;order were passed to a server and back it would have to serialize and deserialize all the details every time.</P>
<P>Is "ROL" RootObjectList?&nbsp; Sort of like a pick list for the Orders filtered by Customer?</P>
<P>Thanks</P>
<P>Gary</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, April 26, 2007</h2>By lazy load, I mean that details won't be loaded until the first time the details property on order is accessed. <br><br>public OrderDetails Details { get { if ( details == null ) { details = OrderDetails.Get(); } return details; }<br><br>The reason I suggested readonly objects is because they would be supporting a different use case; displaying order line details, not editing them.&nbsp; ROL is read only list, something that inherits ReadOnlyListBase.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
