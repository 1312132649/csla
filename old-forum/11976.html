<html><header><title>DataPortal_Create method</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DataPortal_Create method</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11976.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tom posted on Friday, May 10, 2013</h2><p>I am using the CSLA 3.x framework.</p>
<p>This is my Unit Test method for the DataProtal Create method for one of our business objects.&nbsp; Should I add anymore to it? </p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /// &lt;summary&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ///A test for DataPortal_Create<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ///&lt;/summary&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [TestMethod()]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [DeploymentItem(&quot;Cit.Library.dll&quot;)]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void DataPortal_CreateTest()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Person person = Person.GetPerson(false, 1);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Cit_Accessor target = new Cit_Accessor();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; object criteria = new Cit_Accessor.Criteria(1, Person);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; target.DataPortal_Create(criteria);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //Assert.Inconclusive(&quot;A method that does not return a value cannot be verified.&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, May 10, 2013</h2><p>To create a valid unit test one must understand the purpose of the method being tested.</p>
<p>DataPortal_Create has a singular purpose: initialize the values of a new object graph.</p>
<p>As a result, I would expect your &quot;Inconclusive&quot; assertion to be replaced with asserts that establish that the new object graph was properly initialized based on your business requirements.</p>
<p>Please note that because you have bypassed the entire data portal infrastructure your test is only somewhat valid. Many DataPortal_XYZ methods rely on the context provided by the data portal (such as being in a transaction, etc.) and so your tests must take into account that the way you are calling the method is not the same as if it were invoked via the data portal pipeline.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
