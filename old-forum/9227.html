<html><header><title>SimpleApp PropertyStatus binding syntax</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>SimpleApp PropertyStatus binding syntax</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9227.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>nhwilly posted on Monday, July 19, 2010</h2><p>It seems the SimpleApp that comes with the v4.0 Samples has syntax that isn&#39;t right.&nbsp; Specifically, it doesn&#39;t like &quot;TargetControl&quot;.&nbsp; I&#39;ve seen discussions about deprecating that.</p>
<p>For those of us that learn best through samples, can someone tell me what the latest is for the sample code below?</p>
<p>&lt;StackPanel Orientation=&quot;Horizontal&quot; Margin=&quot;5,5,5,5&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;TextBlock Width=&quot;100&quot; Foreground=&quot;White&quot; Text=&quot;Name&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;TextBox x:Name=&quot;NameTextBox&quot; Width=&quot;150&quot; Text=&quot;{Binding Name, Mode=TwoWay}&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<strong>csla:PropertyStatus TargetControl=&quot;{Binding ElementName=NameTextBox}&quot; Property=&quot;{Binding Name}&quot; Margin=&quot;5,0,0,0&quot; Style=&quot;{StaticResource PropertyStatusStyle1}&quot; Foreground=&quot;#FF69ED12&quot; /&gt;<br /></strong>&lt;/StackPanel&gt;</p>
<p>Thanks.</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Monday, July 19, 2010</h2><p>TargetControl is gone in CSLA 4.</p>
<p>The replacement technique is to have the UI control bind to the PropertyStatus control. So give the PropertyStatus control a name, and then bind the IsEnabled property (or whatever you want) on the TextBox <i>to a property on PropertyStatus</i>.</p>
<p>PropertyStatus exposes several properties that provide information about the property&#39;s status, enabling you to control some or all of your UI as you desire.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>marthac replied on Wednesday, August 25, 2010</h2><p>Is there any way you can give me a simple code snippet that shows&nbsp;how to do this.<br />I&#39;m new to xaml as well as CSLA. <br />I&#39;m specifically trying to figure our how to hide a ctrl when CanReadProperty returns false<br />Any help would be greatly appreciated. <img src="http://forums.lhotka.net/emoticons/emotion-2.gif" alt="Big Smile" /></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, August 25, 2010</h2><p>SimpleApp has a VisibilityConverter in the codebase, and it is used (through data binding) to turn on/off the Canvas overlay. You can use the same binding syntax to make other controls visible/hidden.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Wednesday, August 25, 2010</h2><p>Somehow the PropertyStatus control in my code&nbsp;is not behaving as flawlessly as it did in 3.8.4</p>
<p>Here is the code from <strong>SimpleApp</strong> which appears to work most of the time:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;TextBox x:Name=&quot;NameTextBox&quot; Width=&quot;150&quot; <br />&nbsp;Text=&quot;{Binding Mode=TwoWay, Path=Name, ValidatesOnNotifyDataErrors=False}&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;csla:PropertyStatus Property=&quot;{Binding Name}&quot; Margin=&quot;5,0,0,0&quot; Foreground=&quot;#FF69ED12&quot; /&gt;</p>
<p>Here is the code from one of my pages - Mine is an AutocompleteBox, not a TextBox. The field is Required. The control only shows up if I type a character and then remove it with a backspace:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Text=&quot;{Binding Path=Character, Mode=TwoWay, ValidatesOnNotifyDataErrors=False}&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Csla:PropertyStatus Property=&quot;{Binding Character}&quot; Margin=&quot;5,0,0,0&quot;&nbsp; Foreground=&quot;#FF69ED12&quot;/&gt;&nbsp;&nbsp; </p>
<p>On the same page, I have a set of CheckBoxes, one of which must be checked or a rule is broken.&nbsp; It was working just fine in 3.8.4, but in 4.0.1, the PropertyStatus does not even show up.&nbsp; I know that the object is invalid because there is a checkbox bound to IsValid which is behaving as expected. Here the PropertyStatus control never lights up no matter what I do.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, August 25, 2010</h2><p>And you are running 4.0.1? There&#39;s a bug in PropertyStatus dealing with the control disappearing, and that is fixed in 4.0.1.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>marthac replied on Wednesday, August 25, 2010</h2><p>OK I got it to work by setting the visibility of the StackPanel using the VisibilityConverter (from SimpleApp).<br />Here is the code snippet for anyone who needs to do a similar thing.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;StackPanel Orientation=&quot;Horizontal&quot; Margin=&quot;5,5,5,5&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Visibility=&quot;{Binding ElementName=SSNPropertyStatus, Path=CanRead, Converter={StaticResource VisibilityConverter}}&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;TextBlock Width=&quot;100&quot; Foreground=&quot;Blue&quot; Text=&quot;Birth Date Status: &quot; TextAlignment=&quot;Right&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;TextBox x:Name=&quot;SSNStatusTextBox&quot; Width=&quot;150&quot; Text=&quot;{Binding SsnStatusMoniker, Mode=TwoWay}&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;csla:PropertyStatus x:Name=&quot;SSNPropertyStatus&quot; Property=&quot;{Binding SsnStatusMoniker}&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/StackPanel&gt;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Wednesday, August 25, 2010</h2><p>Yes I am running 4.0.1<br />It is strange - it makes no sense.&nbsp; So far I have two pages on which&nbsp;I have installed the PropertyStatus Control.&nbsp; On both pages it is added to AutocompleBoxes.&nbsp; In both I use StringRequired DataAnnotation.&nbsp; In one, it works like clockwork.&nbsp; In the other it doesn&#39;t.&nbsp; It only appears (almost reluctantly :)) after I type something and then remove the text.&nbsp;The AutoCompleteBoxes are monotonously similar - both have ItemSource set to different MobileList&lt; BusinessBase &gt;.</p>
<p>The checkboxes (there are 18 of them)&nbsp;I mentioned earlier - I have changed the implementation. In the Property Set of each chechbox, I call a method which ORs all checkbox fields to set a single property which has a DataAnnotation requiring that the value must be 1.&nbsp; It is working just fine, but the PropertyStatus bound to&nbsp;that single property does not even show up.</p>
<p>If there is some test I can perform to help solve this riddle, I&#39;ll be happy to do it.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Wednesday, August 25, 2010</h2><p><div style='padding-left: 50px;background-color:silver'><b>Jav<br></b>PropertyStatus bound to&nbsp;that single property does not even show up</div></p>
<p>&nbsp;</p>
<p>Sorry - a correction.&nbsp; The above&nbsp;statement about the CheckBox connected Propertystatus&nbsp;is not correct.&nbsp; The PropertyStatus does not show up originally.&nbsp;But if I check one checkbox and then uncheck it, the PropertyStaus does show up.&nbsp; In other words, the behavior in both, the AutocompleteBox and the checkbox group is the same. Beside this PropertyStatus Control I placed a checkbox attached to the same exact property as the PS control.&nbsp; That checkbox shows the red margin indicating SL error diplay correctly.</p>
<p>Also I am not implying that AutCompleteness of textbox has anything to do with it.&nbsp; I just haven&#39;t tested it with an ordinary TextBox yet.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
