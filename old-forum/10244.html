<html><header><title>DataPortalException with LinqPad</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DataPortalException with LinqPad</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10244.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JasminK posted on Thursday, April 07, 2011</h2><p>I&#39;ve referenced my business objects assembly within LinqPad. Of course, I&#39;ve also referenced DAL assembly (LINQ to SQL) and Csla.dll as well. Apropriate namespaces are also included. Added a connection using typed data context from DAL assembly. So everything should work just fine, right?</p>
<p>Querying against DAL assembly&#39;s Linq to Sql classes works great, but querying against my business objects throws<i><b> &#39;DataPortalException: DataPortal.Fetch failed (Database name not found in config file (MyDatabase))&#39; </b></i></p>
<p>I have to mention that these assemblies work within my application.</p>
<p>I&#39;m a newbie to LinqPad. Any hints?</p>
<p>Post edit:</p>
<p>I&#39;ve just investigated... do I need some sort of <i>CSLA</i> <i>Data Context Driver</i> in order to query CSLA business objects and can it be downloaded somewhere?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, April 07, 2011</h2><p>I don&#39;t know much about LinqPad - too many tools, too little time...</p>
<p>But this sounds like a simple .NET config issue. The CSLA data helpers use the standard .NET config API from System.Configuration to get values. That means the values come from the config file for the current AppDomain, and that is determined by the program you are running, not by the CSLA assemblies.</p>
<p>If you are running LinqPad, then it owns the AppDomain, and it supplies the config file. So you&#39;ll need to find the linqpad.exe.config file in the directory with linqpad.exe - that&#39;s what the .NET runtime is looking for.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JasminK replied on Thursday, April 07, 2011</h2><p>I got it. The bummer with LinqPad is that it&#39;s just a simple .exe file so it has no instalation folder or config file. I&#39;ve added my database connection string in the machine.config file and now it works like a charm :)</p>
<p>&nbsp;</p>
<p>Thanx Rocky!</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, April 07, 2011</h2><p>You can probably just create a linqpad.exe.config file in the same folder that contains linqpad.exe to make it work.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Joe Albahari replied on Friday, April 08, 2011</h2><p>&gt; You can probably just create a linqpad.exe.config file in the same folder that contains linqpad.exe to make it work</p>
<p>Name the file <b>linqpad.config</b> rather than linqpad.exe.config and LINQPad will pick it up for your queries.</p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
