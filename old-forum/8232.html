<html><header><title>Should &quot;DataPortal_Delete&quot; be a static method?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Should &quot;DataPortal_Delete&quot; be a static method?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8232.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rxelizondo posted on Tuesday, December 29, 2009</h2>Hello<br /><br />I was messing around with the CSLA this afternoon and could not help noticing that the “DataPortal_Delete” method‏ is expected to be implemented as an instance method and not a static method.<br /><br />This is somewhat awkward to me because “DataPortal_Delete” is there to allow for immediate deletion and not deferred deletion. And unless I am completely missing something, immediate deletion will not load the object so you can’t count on object state.<br /><br />I think “DataPortal_Delete” should be changed to be a static method, why? Well, for one, because this will formalize the fact that “DataPortal_Delete” is a stateless method. Another benefit is that it could make the application one or two whole millisecond faster since we would not have to create an instance of the class in order to run “DataPortal_Delete”. We also can give garbage collection a break sicne we are creating less instances of the class.<br /><br />Anywaym in reality, I think the most important point (to me at least) is that it would formalize the fact that “DataPortal_Delete” is a stateless method.<br /><br />Just a call out.<br /><br />Thanks.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, December 29, 2009</h2><P>I doubt you'll save 1-2 ms :)&nbsp; Maybe 1-2 nanoseconds, and even that is being a little silly since .NET can create/dispose many thousands of objects in that time.</P>
<P>The problem with static methods is that you can't override them, extend them, or otherwise use standard OOP techniques to work with them. While they have some very real advantages, static methods also have some very real disadvantages.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rxelizondo replied on Wednesday, December 30, 2009</h2><br />Thanks for answering Rocky,<br /><br />Just one last thing I would like to mention, if you look at the standard implementation for an immediately deletion method it would look something like this (lower and greater than characters replaced by { and } to avoid markup issues with the post):<br /><br />    public class FooBar : BusinessBase<br />    {<br />        public static void DeleteImmediately(.........)<br />        {<br />            DataPortal.Delete{FooBar}(........);<br />        }<br />    }<br /><br />Notice that "DataPortal.Delete" method includes the type of the object (FooBar in this case). <br /><br />I believe that behind the scenes, the CSLA will create a FooBar instance and call DataPortal_Delete there. So basically, there is no chance for the DataPortal_Delete to behave in a polymorphic way. <br /><br />In other words, if you specify a FooBar type, the DataPortal_Delete of FooBar will be executed, if you specify a Xyz type, then the DataPortal_Delete method of Xyz will be executed. So there will never be polymorphic behavours and therefore never a need for the override or extension need.<br /><br />Perhaps DataPortal_Delete will truly never need to resort to standard OOP techniques!<br /><br />Any way, I am sure I am wrong, just having a difficult time trying to stay out of trouble :)<br /><br />Thanks.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, December 30, 2009</h2><P>There's no doubt that making it static is possible. Maybe even desirable - your arguments are very valid.</P>
<P>There's a backward compat question, in that a change like this would break a lot of objects. Though personally I know I don't use immediate delete all that often - but my templates include this code, and a lot of people follow the templates, and thus have this method.</P>
<P>It is also the case that, today, a base class could provide the implementation. So if someone hooked their DAL into their object model through a set of base classes (and I know people do this) then this change could force them to implement a static method in every business type, where today they just have it implemented in the base type, and only override when necessary.</P>
<P>It is the loss of overriding the method that concerns me - because that would essentially block the creation of base classes that implement or hook into a DAL.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
