<html><header><title>DataGridViewTextBoxColumn initially showing Csla.Validation.CommonRules.StringRequired is broken</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DataGridViewTextBoxColumn initially showing Csla.Validation.CommonRules.StringRequired is broken</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3983.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dlabar posted on Tuesday, December 04, 2007</h2><P>I've bound two properties of a CSLA.<FONT size=2>BusinessListBase</FONT> BO to a DataGridView.&nbsp; When the form loads, the data is displayed, but it is showing that Csla.Validation.CommonRules.StringRequired&nbsp;has been&nbsp;broken, even though those properties of the object have values.&nbsp; </P>
<P>If I select a different value from the DataGridViewTextBox, the&nbsp;broken rule&nbsp;goes away, never to return, even if I select the original value.&nbsp; What am I doing wrong?</P>
<P>It must be something with the validation rules being performed on an object other than the one that is databound to the grid.&nbsp; Anyone have any ideas?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Wednesday, December 05, 2007</h2><P>When you fetch the BO your last line of code is usually:</P><FONT size=2>
<P>ValidationRules.CheckRules()</P></FONT>
<P>This way the BO is returned to you in its correct state initially.</P>
<P>As you set each property you should call PropertyHasChanged("PropName") to re-evaluate the rules.</P>
<P>Sounds like you night have things out of sequence and that setting the property in the grid unbreaks the rule correctly.</P>
<P>Joe</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dlabar replied on Wednesday, December 05, 2007</h2><P>Thanks so much, I just assumed that the Datagridview was causing my propblem, but after your post, I checked for any broken rules directly after my fetch, and sure enough before I even bound it to anything, I had broken rules.</P>
<P>Therefore I knew, somewhere ValidationRules.CheckRules&nbsp;wasn't being called.&nbsp; I checked the Fetch&nbsp;statement, and&nbsp;it was being called there.&nbsp; Then I remembered that I make a copy of&nbsp;the object after I fetch it.&nbsp; When I copied the object, I didn't use the properties, I used the&nbsp;private variables, and therefore needed to call ValidationRules.CheckRules after the copy was made.&nbsp; Once I added this, everything worked great.</P>
<P>&nbsp;</P>
<P>Thanks!</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
