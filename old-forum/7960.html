<html><header><title>WCFDataPortal - Child Fetching problems</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>WCFDataPortal - Child Fetching problems</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7960.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Dr. Funkenstein posted on Friday, November 06, 2009</h2><P>I am primarily a mainframe programmer, but I have to do some mid-tier to mainframe integration.&nbsp; I have used the old VB6 Business Objects model successfully and I am trying to "upgrade" my knowledge to the .NET CSLA framework.</P>
<P>I am trying to shakedown the ProjectTracker using the 3.7.1 downloads.&nbsp; I am using the WCFDataPortal as a remote portal (like what we would have to do in production) and it is configured to connect to a SQLServer2005 database that I created by running the scripts included in the download.&nbsp; I have virtual webs in IIS for PTWeb, PTWcfService and PTWebService</P>
<P>I am using PTWin to make things more straightforward.&nbsp; It's using the same port in app.config that WcfHost is running on.&nbsp; I am able to add Projects and ProjectResources without issue.&nbsp; However, when I try to edit a displayed project (or a resource), I get the error:</P>
<P><SPAN>&nbsp;</SPAN>"CSLA.DataPortalException:<SPAN>&nbsp; </SPAN>ChildDataPortal.Fetch failed on the server -<SPAN><SPAN>à</SPAN></SPAN> CSLA.Reflection.CallMethodException:<SPAN>&nbsp; </SPAN>Child_Fetch method call failed <SPAN><SPAN>à</SPAN></SPAN> System.NullReferenceException:<SPAN>&nbsp; </SPAN>Object reference not set to an instance of an object.<SPAN>&nbsp; </SPAN>At ProjectTracker.Library.ProjectResources.Child_Fetch(Assignment[] data)</P>
<P>I can see by setting breakpoints that in CSLA.DataPortalClient.Wcfproxy that the correct criteria (i.e. the proper Guid that corresponds to the Project that I am trying to edit) is being sent to DataPortalResult Fetch. Things seem to go poorly from there.&nbsp; In CSLA.Server.Hosts.WcfChannel.NetDataContractOperationBehavior, the namespace it seems to be using is <A href="http://ws.lhotka.net/WcfDataPortal">http://ws.lhotka.net/WcfDataPortal</A> which seems somewhat odd but I could see no customization instructions in the download related to this.&nbsp; Then it goes directly into CSLA.Reflection.CallMethodException</P>
<P class=MsoNormal><SPAN>Same sort of thing happens if I try to edit an assignment.<SPAN>&nbsp; </SPAN>Any ideas as to what is awry would be greatly appreciated !</SPAN></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>shawndewet replied on Thursday, November 26, 2009</h2>Do you get the same problem when using the LocalDataPortal?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, November 26, 2009</h2>There is&nbsp;a bug in ProjectTracker where it can't load a project with no assigned resources (or a resource with no assigned projects?). It is a relatively simple bug in the DataPortal_Fetch() method, I just haven't gotten around to fixing it...</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
