<html><header><title>OT: White Box testing service and command classes</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>OT: White Box testing service and command classes</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7637.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate posted on Wednesday, September 16, 2009</h2><P>I've tried posting this question/issue elsewhere but, as usual, I fall back to this community for real answers...</P>
<P>I have an application that I need to develop code-based "unit" tests for and could use some guidance on techniques, tools and best practices.&nbsp; Here's my situation:<BR><BR>The application has a "service" class which constitutes the public API or main entry point for the application's purpose.&nbsp; The service class delegates each method call to a command object that carries out that specific function, typically using other commands, business objects, etc.&nbsp; This is somewhat analogous to&nbsp;the service starting a workflow with various activities executing the individual steps.&nbsp;(In fact, our next iteration may actually do just that.)</P>
<P>At its most basic, we map the service method parameters to properties on the command object and call Execute to carry out the operation which returns a boolean pass/fail indicator.&nbsp; When applicable, we can&nbsp;then inspect the command's Results property for data to return to the caller.&nbsp; I want to unit test each piece but am having trouble determining the best approach.<BR><BR>We use Spring.NET factories to instantiate our objects, so when the service class needs a command, it goes to Spring for the instance.&nbsp; This allows me to create a mock command object for testing purposes.&nbsp; However, at this point, my test simply consists of the method call into the service with known parameters and a test that the return value is true, indicating that the method was successful.&nbsp; It certainly doesn't give me any glimpse into what's going on inside the service method and whether it is actually executing correctly.&nbsp; In fact, right now, my mock command object simply returns true from the Execute method.<BR><BR>What can I do to improve my test(s)?&nbsp; I'd like to know that the service method is passing the parameters properly to the command and that the service method handles various situations, such as command failure, an excepton occurring during execution, etc.<BR><BR>Thanks in advance!<BR></P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
