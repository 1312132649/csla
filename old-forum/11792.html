<html><header><title>Confusion regarding EditableRootParent template</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Confusion regarding EditableRootParent template</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11792.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>pegesaka posted on Wednesday, January 16, 2013</h2><p>Can someone please give me some advice on the correct template to use. I have CSLA 4.3.12 and using the templates that came in that source.<br /><br />I need to have an EditableRootList have some properties about the list it contains. According to the 4.3 literature, this list should be &quot;parented&quot; by an editable parent that can have managed properties. The editable children of the editable List already have an EditableChildList property that loads fine. (Havent tried saving or undo-ing, but assuming it will work).<br /><br />My question is, should the root list&#39;s parent be an EditableRoot or an EditableRootParent? I notice there was a thread title &quot;Lists and Root/Child Objects&quot; back in 2006, which gave some reasoning in what to use. But it was referring to code that didnt exist in my templates and consider that CSLA has moved on a bit since &#39;O6.<br /><br />EditableRootParent already contains a list property -<br /><br />&nbsp;&nbsp;&nbsp; // example with Editable Child list <br />&nbsp;&nbsp;&nbsp; public static readonly PropertyInfo&lt;EditableChildList&gt; ChildListProperty = RegisterProperty&lt;EditableChildList&gt;(p =&gt; p.ChildList, &quot;Child list&quot;, RelationshipTypes.Child);<br />&nbsp;&nbsp;&nbsp; public EditableChildList ChildList<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get { return GetProperty&lt;EditableChildList&gt;(ChildListProperty); }<br />&nbsp;&nbsp;&nbsp; }<br /><br />which appears to be the reason for the template differentiation, but I dont understand the &quot;Child list&quot; parameter and cant find any doco on this method overload. Can anyone give me some clues?<br /><br />But then the DataPortal code is completely different. Rather than relying on just getting the server dataportal to get the (now) child list property (as the EditableChild does for an EditableChildList), the Fetch in an EditableRootParent calls -<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LoadProperty(ChildListProperty, EditableChildList.GetEditableChildList(null));<br /><br />The code I am using in my EditableChild, to get my EditableChildList, is -<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Assignments = JobAssignments.GetJobAssignments(param1, param2, ...);<br /><br />ie. I am instantiating a BO using its static method to assign to a property in my EditableChild, which I considered was correct. Is it? Why wouldnt I use the same approach to set the ChildListProperty in my EditableRootParent?<br /><br />Also the DataPortal Insert/Update/Delete methods call -<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FieldManager.UpdateChildren(this);<br /><br />Am I meant to do this in my EditableChild to update my EditableChildList? Or can I assume that CSLA will know that it is a child list and Save it correctly?<br /><br />I&#39;m confused. Hope someone can help.<br /><br />Cheers,<br /><br />Perry</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>pegesaka replied on Wednesday, January 16, 2013</h2><p>OK, been fiddling and found a few answers. The &quot;Child List&quot; parameter is just a friendly name for display purposes.</p>
<p>The LoadProperty() in the dataportal fetch is required as there is no setter in the ChildListProperty declaration, whereas I have a private set() in the parent of my child list.</p>
<p>But I dont get the DataPortal Insert/Update/Delete methods implementation. Is this required on all Child Lists?</p>
<p>Cheers,</p>
<p>Perry</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JonnyBee replied on Sunday, January 20, 2013</h2><p>Only the &quot;root&quot; object has DataPortal_XYZ methods. </p>
<p>Assuming that you use DataPortal.UpdateChild or FieldManager.UpdateChildren in your parent &quot;parent&quot; object the Child_XYZ methods will be called in your child editable objects. You will then NOT need to implement any Insert/Update/Delete method on the child lit objects. </p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
