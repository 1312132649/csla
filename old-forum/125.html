<html><header><title>DataBinding, IDataErrorInfo and datatype validation</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DataBinding, IDataErrorInfo and datatype validation</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/125.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>SoftwareArchitect posted on Wednesday, May 17, 2006</h2>I have a windows form with a textbox bound to a decimal property (registration cost) of my business object.&nbsp; If I set the text to "abc", control gets locked onto the textbox and I do NOT get an error from my errorprovider control.<br><br>I realize that since BusinessBase implements IDataErrorInfo and is returning the string in the Item property based on the validation rules...that somehow the native error of "input is in an invalid format" is getting lost.&nbsp; <br><br>This has got to be simple...someone tell me I can get the original databinding error.&nbsp; I don't know how I can check the datatype when the property set procedure is never even being entered.<br><br>Thanks much,<br>Mike<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>razorkai replied on Wednesday, May 17, 2006</h2><P>Hi Mike.</P>
<P>Sounds like the following article may help you....</P>
<P><A href="http://www.lhotka.net/Articles.aspx?id=54b7097e-2eb5-476d-842b-98fde95c2006">http://www.lhotka.net/Articles.aspx?id=54b7097e-2eb5-476d-842b-98fde95c2006</A></P>
<P>HTH</P>
<P>John.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SoftwareArchitect replied on Thursday, May 18, 2006</h2>Thanks John.&nbsp; That is exactly what I needed.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>esteban404 replied on Thursday, May 18, 2006</h2><P>I sent that article to my Third Party control developer in regard to databinding a CSLA 1.52 object's&nbsp;field of type byte[] (image in the MS SQL database). Everything works, but the fix Rocky lists won't work with my DevExpress&nbsp; pictureEdit control. I've worked around it, but I imagine it'd be the same for some other controls.</P>
<P>What I had to do was catch an invalid cast exception and not do anything in the EditValueChanged event rather than handle it in the databinding. Really not good, but it does work. Same problem for null SmartDates using one of their controls, but that one is handled by the object set accessor instead of the Winform.</P>
<P>_E</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SoftwareArchitect replied on Thursday, May 18, 2006</h2>Here is a problem related to the solution in the article - <br><br>if you use the BindingSourceRefresh control then the Me.ValidateChildren will NOT be set to false indicating that the controls are valid.&nbsp; I am not sure why this is...I just know when I disable that control the solution in the article works.<br><br>Rocky - didn't know if you wanted to make a note of this in the article (in your spare time..ha ha).<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SoftwareArchitect replied on Thursday, May 18, 2006</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>esteban404:</strong></div><div><p>I sent that article to my Third Party control developer in regard to databinding a CSLA 1.52 object's&nbsp;field of type byte[] (image in the MS SQL database). Everything works, but the fix Rocky lists won't work with my DevExpress&nbsp; pictureEdit control. I've worked around it, but I imagine it'd be the same for some other controls.</p>
<p>What I had to do was catch an invalid cast exception and not do anything in the EditValueChanged event rather than handle it in the databinding. Really not good, but it does work. Same problem for null SmartDates using one of their controls, but that one is handled by the object set accessor instead of the Winform.</p>
<p>_E</p></div></BLOCKQUOTE><br><br>I am not sure I understand....where is the EditValueChanged event?&nbsp; I am assuming on the winform side?&nbsp; So, that specific control is not using databinding at all? <br><br>Thanks,<br>Mike<br><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
