<html><header><title>ObjectContextManager.GetManager method used with the Entity Framework</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>ObjectContextManager.GetManager method used with the Entity Framework</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7687.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>russelle posted on Sunday, September 27, 2009</h2>I have a question about the syntax of the ObjectContextManager.GetManager method used with the Entity Framework.<br />When I declare the object context using the name of an EF context like this: <br /><br />using (var ctx = new FBAEntities()) <br />the statement <br /><br />var listTypes = from lt in ctx.GetListType(_criteria.LanguageID, _criteria.ListType) select lt;<br /><br />works fine (GetListType is a stored procedure that has been mapped into my EF as a function that returns an entity). When I try to use Csla’s ObjectContextManager.GetManager method to set the context like this: <br /><br />using (var ctx = ObjectContextManager <br />    .GetManager(FoodBankAdmin.DAL.EntityFramework.Database.FoodBankAdmin)) <br /><br />passing the name of the database as a parameter, the LINQ statement then will not compile and I get the error:<br /><br />‘Csla.Data.ObjectContextManager' does not contain a definition for 'GetListType' and no extension method 'GetListType' accepting a first argument of type 'Csla.Data.ObjectContextManager' could be found (are you missing a using directive or an assembly reference?) <br /><br />I don't see any missing reference or USING statement, and browsing the EF classes shows that GetListType does exist.  Am I missing something? Any idea what is going on? <br /><br />Thanks, <br />Russell<br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, September 28, 2009</h2>Well, with the DataContextManager, there's a property called DataContext.. so if you were using that,  you'd have to do ctx.DataContext.GetListType.<br /><br />I suspect there's something similar here... you're trying to call GetListType on the ObjectContextManager, not your ObjectContext.  If that is the problem, I recommend renaming your variable to something like mgr, because you're dealing with a manager now, not the context.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>russelle replied on Monday, September 28, 2009</h2>You were right. ctx.ObjectContext.GetListType worked fine. Thanks a lot.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
