<html><header><title>Does IsDirty take into account original state of properties?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Does IsDirty take into account original state of properties?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2714.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>damo posted on Tuesday, April 17, 2007</h2><font size="2"><font face="Tahoma">Hi Rocky and people,<br><br>quicky on IsDirty.. Say my Business Object has a single boolean property, and through databinding (checkbox), the user changes it from true to false, IsDirty will be true. Say the user then changes the checkbox again the property is back to true again.&nbsp; Does IsDirty take into account the original state? i.e. will it now return false?<br><br>Thx,<br><br>Damo<br></font></font></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, April 17, 2007</h2>No, it does not.&nbsp; If you need this, you'll have to code it yourself.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>damo replied on Tuesday, March 04, 2008</h2>To answer my own question, no. Though it would be nice ...<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Tuesday, March 04, 2008</h2><P>It's not at all hard to implement if you have a code generator.</P>
<P>We do this in our application for other reasons (our database concurrency model tests the previous values of changed fields, so we have to have the original value of anything that is changed). </P>
<P>Basically all we do is maintain a dictionary of the original fields and values. If one is changing and the field isn't already in the dictionary, then we add it. </P>
<P>It has come in very handy of other tasks. For example, if you change a property from A to B and then back to A, the property really isn't dirty anymore even though CSLA thinks the object itself is.&nbsp;We have some business rules that take advantage of this (e.g. if you broke a rule by changing a property, then you can unbreak the rule by changing it back to the original value without any further testing). </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>damo replied on Tuesday, March 04, 2008</h2>Did you have to make modifications to the CSLA library or was it easy to implement by inheriting BusinessBase?<br><br>Also how do you handle child lists? User removes item 1 &amp; 2, then re-adds them. The list order may be different but it contains the same objects.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Wednesday, March 05, 2008</h2><P>No, I haven't made any changes to CSLA. All my BO's derive from a common class between BusinessBase and the actual BO. </P>
<P>I can post&nbsp;sample property setter if it would help, but the idea is that there is&nbsp;"property changing" (versus "property changed") call&nbsp;in the setter. The property changing notification allows the base class to cache the previous value.</P>
<P>I haven't done anything similar with lists of BO's.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>damo replied on Wednesday, March 05, 2008</h2>It's ok, I can figure out that, but thx anyway. <br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
