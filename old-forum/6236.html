<html><header><title>Datagridview - New Rows Editable, Old Rows Read Only</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Datagridview - New Rows Editable, Old Rows Read Only</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6236.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>MadGerbil posted on Thursday, January 22, 2009</h2><P>I'd like to know a good strategy for making each row in a datagridview editable/non-editable based upon the underlying object's IsNew property.&nbsp;&nbsp; </P>
<P>The thinking behind this is that I'm writing an accounting application and once a payment is "saved" to the database it shouldn't be possible to edit it whereas if it has not been saved the editing of the payment is acceptable.</P>
<P>So in the datagrid view I may have some rows that should never be edited (they are old) but the new rows may be edited until they are persisted to the database at which point they become read-only.</P>
<P>Thanks in advance.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Fintanv replied on Thursday, January 22, 2009</h2>I have had similar situations and have simply used the CanWriteProperty override for this on a per-property basis.&nbsp; I then protect the property sets with an if(CanWriteProperty(MyProperty.Name)).<br>If all the editable properties are protected in this way, then you have essentially made the 'row' uneditable when it is not new.<br><br>I have taken the authorizer control concept from Csla and made my own version that works with the Infragistics grid (inherit from DataDecoratorBase).&nbsp; It queries the underlying bound data item using the Csla.Security.IAuthorizeReadWrite to determine whether or not the cell should enter edit mode.&nbsp; Works a treat.<br><br>-- Fintan<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
