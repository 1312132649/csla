<html><header><title>child.isDirty</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>child.isDirty</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3426.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>culprit posted on Saturday, August 25, 2007</h2><P>Okay, I know it must be something simple I am doing wrong. I have several dozen classes now and child lists are working good informing the parent thru the overriden IsDirty/IsValid properties, ie-</P><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>Public</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Overrides</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>ReadOnly</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Property</FONT><FONT size=2> IsValid() </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Boolean</FONT></P>
<P><FONT color=#0000ff size=2>Get</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>Return</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>MyBase</FONT><FONT size=2>.IsValid </FONT><FONT color=#0000ff size=2>AndAlso</FONT><FONT size=2> _claimFields.IsValid</P>
<P></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Get</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Property</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>Public</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Overrides</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>ReadOnly</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Property</FONT><FONT size=2> IsDirty() </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Boolean</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>Get</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>Return</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>MyBase</FONT><FONT size=2>.IsDirty </FONT><FONT color=#0000ff size=2>OrElse</FONT><FONT size=2> _claimFields.IsDirty</P>
<P></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Get</FONT></P>
<P><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Property</FONT></P>
<P><FONT face=Arial color=#000000 size=2><FONT face="Times New Roman" color=#000000><FONT>But&nbsp; I have this new class with a child list _claimFields and when I only make a change to the child list the Data_Update is not fired, but if i make a change to parent data the Update is fired and if I check the dirty state of the child in the update event it is dirty. I dont think i am doing anything different except that this child is not drawn from the DB but I am creating the child objects by parsing a string in the parent class. </FONT></FONT></FONT></P>
<P><FONT size=2>Thanks in advance,</FONT></P>
<P><FONT size=2>Rob</FONT></P>
<P><FONT color=#0000ff size=2>&nbsp;</P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>culprit replied on Tuesday, August 28, 2007</h2><P>I am still struggling and am baffled why the dirty child ListBase is not causing the parent Data_Update routine to fire. As I mentioned when I force the Data_Update routine to run by changing something in the parent the child listbase is definitely flagged as dirty.</P>
<P>Thank You,</P>
<P>Rob</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>richardb replied on Friday, August 31, 2007</h2><P>It may be dirty but might it also be NOT Valid thus NOT firing the Update (Either the Parent or the Child or another child in the collection / list?</P>
<P>Are you binding to a Windows forms control?&nbsp; You could try writing some test code just setting the properties on the object and seeing what's valid/invalid dirty/not dirty without doing any binding.</P>
<P>In the past I've had some "funnies" where I ended up touching the child collection to force it to be dirty so the code would then go through the children checking those, but that's CSLA1.x days, and probably demonstrates that I couldn't solve the problem correctly.&nbsp; </P>
<P>Hope my limited response helps a bit.&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dean replied on Friday, September 14, 2007</h2>Just checking - have you tried overriding the save function in your parent object and checking the state of the listbase to make sure it is dirty (using a breakpoint or debug.write statement)? <br><br>Dean<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
