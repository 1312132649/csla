<html><header><title>Is it possible to define authorization rules to non BO types in CSLA 4, like it was possible in CSLA 3.8?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Is it possible to define authorization rules to non BO types in CSLA 4, like it was possible in CSLA 3.8?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9041.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>markell posted on Sunday, June 06, 2010</h2><p>Dear ladies and sirs.</p>
<p>In CSLA 3.8 one could invoke the AuthorizationRules.AllowGet method passing in the type of some object. This could be done at any level and the object does not have to be a BO.</p>
<p>For instance, we have something called EntityManager. In its static constructor we have a line like this:</p>
<p><b>&nbsp;&nbsp;&nbsp; static EntityManager()<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AuthorizationRules.AllowGet(typeof(SomeNonBOType), Roles.Authenticated, Roles.Guest);<br />&nbsp;&nbsp;&nbsp; }</b></p>
<p>Is it possilbe in CSLA 4? Or Csla 4 demands that authorization rules be applied to BO only?</p>
<p>Thanks.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Sunday, June 06, 2010</h2><p>The same thing should work. The per-type authorization rules in CSLA 4 don&#39;t restrict the object type to any CSLA type, so you should be able to define and check authorization rules for any type.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>markell replied on Sunday, June 06, 2010</h2><p>Thanks Rocky for the prompt reply. </p>
<p>I get it. I was confused by the fact that there is BusinessRules static class and BusinessRules property in a BO.</p>
<p>So, I just replace the old code with this:</p>
<p><b>BusinessRules.AddRule(typeof(SomeNonBOType), new IsInRole(AuthorizationActions.GetObject, Roles.Authenticated, Roles.Guest));</b><br /></p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
