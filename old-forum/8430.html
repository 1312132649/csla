<html><header><title>Csla 3.8 SortedBindingList</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Csla 3.8 SortedBindingList</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8430.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Fele posted on Thursday, January 28, 2010</h2>Hi,<br><br>I try to modify below property to return sorted list of XX objects.<br><font size="2">&nbsp;private static PropertyInfo&lt;XXListBLB&gt; XXsProperty =&nbsp;&nbsp; RegisterProperty&lt;XXListBLB&gt;(c =&gt; c.XXs);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public XXListBLB XXs<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get { return GetProperty(XXsProperty); }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</font><br><br>This is my version:<br>&nbsp;<font size="2">private static PropertyInfo&lt;XXListBLB&gt; XXsProperty =&nbsp;&nbsp; RegisterProperty&lt;XXListBLB&gt;(c =&gt; c.XXs);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public XXListBLB XXs<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get { <br>1) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SortedBindingList&lt;XX&gt; sortedList = new SortedBindingList&lt;XX&gt;( GetProperty(XXsProperty)); <br>2) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sortedList.ApplySort("OrdNo", ListSortDirection.Ascending);<br>3) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return (XXListBLB)sortedList;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</font><br><br>Above code generates the following errors:<br>Line #1 - The type or namespace name 'SortedBindingList" could not be found<br>Line #2 - "Cannot convert type 'void' to 'Csla.SortedBindingList&lt;XX&gt;'" (if I try to select OrdNo property, it is not in the list)<br>Line #3 - Cannot convert type SortedBindingList&lt;XX&gt; to XXListBB<br><br>What am I doing wrong?<br><br><br>Thx for help<br>Fele<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, January 28, 2010</h2><P>A SortedBindingList is&nbsp;a wrapper around a list; it is NOT a subclass though, so you'll never be able to cast it as your XXListBLB class.</P>
<P>Also it doesn't look like any of this code belongs in your business layer at all.&nbsp; The UI cares about sorting, the SortedBindingList provides a sortable view over your list.</P>
<P>If your list DOES require ordering, it probably needs to be built in as part of the XXListBLB class, and you'll probably have to do things like not allow SetItem.&nbsp; Only add, and then an ability to ask to move items up or down (if their position is important).</P>
<P>HTH</P>
<P>Andy</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Thursday, January 28, 2010</h2>Hi, <br><br>Are you using WindowsForms? <br><br>The #1 indicates that you are missing a using statement or simply not able to locate the class SortedBindingList in the Csla namespace. <br><br>At #3 - You should not try to cast the SortedBindingList into another explicit type. You may use IList&lt;xx&gt; as property type and BusinessListBase, SortedBindingList and FilteredBindingList all implement IList&lt;T&gt;. <br><br>xx should be the "child object type " and not the "list type" (I can't read that from your code). <br><br>My basic recommendation would be to consider the ortedBindingList to be part of the UI - ie not a part your BO that should (imo) just expose the list and leave sorting to the UI technology chosen.&nbsp; <br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Fele replied on Thursday, January 28, 2010</h2>I'm using Silverlight with MVVM. And your are completely right that I should put sort into UI (in my situation my Model class). <br><br>Thanks guys.<br><br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Friday, January 29, 2010</h2>Hi, <br><br>I'd recommend LINQ and LinqBindingList resultset over FilteredBindingList in Silverlight and WPF. SortedBindingList and FilteredBindingList is primarily for WindowsForms DataBinding while LINQ and LinqBindingList is the preferred solution for SL, WPF as it wraps an ObservableCollection rather than BindingList.&nbsp; <br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Fele replied on Friday, January 29, 2010</h2>Thanks Jonny.<br><br>I forgot to mention that I would like to sort data in 2nd level child list (Parent --&gt; child --&gt; child list). This is why I tried to implement sorting in BO instead UI.<br><br>What should I do in this situation?<br>Implementing sorting in UI will be at least a little messy. <br><br><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
