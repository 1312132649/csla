<html><header><title>ReadOnly Collection _indexSet.ClearIndexes(); Null Reference Exception</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>ReadOnly Collection _indexSet.ClearIndexes(); Null Reference Exception</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4515.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ShawnCamp posted on Tuesday, March 18, 2008</h2><FONT size=2>
<P>The line <FONT color=#ff0000><STRONG>_indexSet.ClearIndexes(); </STRONG><FONT color=#000000>fails in a ReadOnly collection when the Clear() method is called because the _indexSet member has not been initialized. The collection i am trying this in has the IsReadOnly flag set to false. I've pasted the actual method that's failing for reference.</FONT></FONT></P>
<P>Thanks,</P>
<P>Shawn Camp</P>
<P></FONT><FONT color=#808080 size=2>///</FONT><FONT color=#008000 size=2> </FONT><FONT color=#808080 size=2>&lt;summary&gt;<BR></FONT><FONT color=#808080 size=2>///</FONT><FONT color=#008000 size=2> Prevents clearing the collection.<BR></FONT><FONT color=#808080 size=2>///</FONT><FONT color=#008000 size=2> </FONT><FONT color=#808080 size=2>&lt;/summary&gt;</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>protected</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>override</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>void</FONT><FONT size=2> ClearItems()<BR>{<BR></FONT><FONT color=#0000ff size=2>if</FONT><FONT size=2> (!IsReadOnly)<BR>{<BR></FONT><FONT color=#0000ff size=2>bool</FONT><FONT size=2> oldValue = AllowRemove;<BR>AllowRemove = </FONT><FONT color=#0000ff size=2>true</FONT><FONT size=2>;<BR></FONT><FONT color=#0000ff size=2>base</FONT><FONT size=2>.ClearItems();<BR><STRONG><FONT color=#ff0000>_indexSet.ClearIndexes();<BR></FONT></STRONG>AllowRemove = oldValue;<BR>}<BR></FONT><FONT color=#0000ff size=2>else<BR></FONT><FONT color=#0000ff size=2>throw</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>new</FONT><FONT size=2> </FONT><FONT color=#2b91af size=2>NotSupportedException</FONT><FONT size=2>(Resources.ClearInvalidException);<BR>}</P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, March 19, 2008</h2>Thanks! I'll forward this to Aaron so he can take a look at it.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
