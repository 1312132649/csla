<html><header><title>Simple column sorting example to use with GridView, CslaDataSource and ReadOnlyListBase</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Simple column sorting example to use with GridView, CslaDataSource and ReadOnlyListBase</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7964.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>j055 posted on Monday, November 09, 2009</h2>Hi<br /><br />Does anyone have a simple example to enable sorting when using ASP.NET GridView, CslaDataSource and a ReadOnlyListBase derived class without modifing the ReadOnlyListBase class?<br /><br />Many thanks<br />Andrew<br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, November 09, 2009</h2><P>The <EM>CSLA .NET Version 2.1 Handbook </EM>covers all the sort/filter options pretty thoroughly.</P>
<P>If you can't modify the ROLB, then you eliminate 3 of the 4 options, and must do the sort in the CslaDataSource event handler - get the ROLB and then probably use a LINQ query or SortedBindingList to sort it.</P>
<P>That's the least efficient solution btw, but it is the only one that works without modifying at least the factory and DataPortal_Fetch() method of your collection class.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>j055 replied on Tuesday, November 10, 2009</h2>Thanks for that<br /><br />I put the logic in the CslaDataSource event handler and used the SortedBindingList<br /><br />        protected void RecipientsDataSource_SelectObject(object sender, SelectObjectArgs e)<br />        {<br />            var logDetail = GetLogDetail();<br />           <br />            if (!string.IsNullOrEmpty(RecipientsGridView.SortBLOCKED EXPRESSION<br />            {<br />                var sortedList = new SortedBindingList(logDetail.LogRecipients);<br />                var direction = RecipientsGridView.SortDirection == SortDirection.Descending<br />                                    ? ListSortDirection.Descending<br />                                    : ListSortDirection.Ascending;<br />                sortedList.ApplySort(RecipientsGridView.SortExpression, direction);<br />                e.BusinessObject = sortedList;<br />            }<br />            else<br />                e.BusinessObject = logDetail.LogRecipients;<br />        }<br /><br />For this particular solution it's fine performance wise.<br /><br />Cheers<br />Andrew<br /><br /></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
