<html><header><title>Getting &quot;Invalid for root objects - use Delete instead for &quot; while Remove for Root BusinessListBase</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Getting &quot;Invalid for root objects - use Delete instead for &quot; while Remove for Root BusinessListBase</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2271.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>GeorgeG posted on Friday, February 02, 2007</h2><P>I have a Root BusinessListBase. I add a&nbsp;root BusListBase with a button with this code&nbsp;</P>
<P>sodCustomersBindingSource.AddNew();<BR>and have this overide<BR>&nbsp;protected override object AddNewCore() {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SODCustomer item = SODCustomer.NewSODCustomer();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Add( item );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return item;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</P>
<P>when I try to remove it<BR>this.sodCustomersBindingSource.RemoveCurrent();</P>
<P>get the error Invalid for root objects - use Delete instead for<BR>the current row is IsNew state</P>
<P>What am I missing?</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, February 05, 2007</h2>Is SODCustomer calling MarkAsChild in its constructor?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>GeorgeG replied on Monday, February 05, 2007</h2><P>No, it is not MarkedAsChild since it is a root BusinessListBase. Have changed it from BusinessListBase to EditableRootListBase and evrything looks to be ok. Of course every row needs to be saved in the db but that is fine with us. </P>
<P>Thanks</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, February 05, 2007</h2>Hmm... I think there's some confusion.<br><br>The collection you say is a root object.&nbsp; By definition, the objects contained within the collection are child objects (which is a different relationship than the parent child relationship).<br><br>If you have whatever class is stored in the collection call the markaschild method, you can save the entire collection within a transaction.<br><br>Now if the objects in the collection are root objects (that is, they can be saved, updated and deleted in their own transaction), then you made the correct choice in use ERLB to hold those objects.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>GeorgeG replied on Tuesday, February 06, 2007</h2><P>This clears things up for me.&nbsp;Thanks</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
