<html><header><title>Csla 3.0.x - Csla.ApplicationContext.LocalContext question</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Csla 3.0.x - Csla.ApplicationContext.LocalContext question</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7050.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>glenntoy posted on Thursday, June 04, 2009</h2>Hi guys,<br><br>I'v read the Csla 2.1 handbook, one of the additions is the LocalContext. In the example, it passes the connection and transaction object. I was wondering, if we could store other sorts of data (e.g. a readonlylist) that will be shared in both U.I. and B.O. code?<br><br>My scenario is when the application starts, it tries to retrieved the list of countries through a read-only list. I was thinking would it be okay to store the readonlylist in the LocalContext for storing lookup data ?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Friday, June 05, 2009</h2>LocalContext is available on the client OR on the server (but they are different).<br /><br />GlobalContext is transferred between both and is the same on both.<br /><br />You mention sharing with the UI so that is why you should choose the right context.<br /><br />I don't see why you can't store a read only list in it.<br /><br />Joe<br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, June 05, 2009</h2>Well, you could use the LocalContext, but it won't travel between client and server.<br /><br />But if you're caching data, I'd argue you wouldn't want to have that cached list shared automatically between both.. because that means the list goes from client to server and back with EVERY dataportal call.  That will bog things down.  A better approach would be to simply cache on the client, and on the server, which is what you'd do if you stored the list in the LocalContext.  Both places have the cached list, and you're not transfering it back and forth each time.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>glenntoy replied on Sunday, June 07, 2009</h2>thanks for the replies. I preferred to store on one of the Context in ApplicationContext depending on my needs. </div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Sunday, June 07, 2009</h2>Hi, <br><br>Or you could use the same singelton pattern as NameValueList does. Whether you want cache the list in LocalContext or a member variable in the singelton instance is up to you. <br><br>Forms and other Business classes would the use the static getter on your ReadOnly class as usual and not be bothered whether it is cached or not.&nbsp; <br><br>/jonny<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Sunday, June 07, 2009</h2><P>The short answer is that, in a smart client scenario, you can use LocalContext as a cache, yes. It is basically a place to store any global data.</P>
<P>Now whether you <EM>should</EM> do that is a different matter. Using LocalContext in this manner is much like creating global variables, and any FORTRAN programmer will tell you about the evils of such a thing. Worse than GOTO statements imo.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
