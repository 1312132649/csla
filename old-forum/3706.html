<html><header><title>Searching a product catalog</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Searching a product catalog</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3706.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>webjedi posted on Friday, October 12, 2007</h2><P>Does anyone have advice about how to tackle a multiple field search such as searching a product database by like a combination of&nbsp;category, description, price, a date field etc...from a CSLA perspective?&nbsp; Is it a mere matter of having the data access method from the object be a TSQL string as opposed to using a stored procedure?&nbsp; I've always cringed when it comes to putting that type of search in a stored procedure.</P>
<P>And in the same vain, is there any example out there of using efficient paging methods with CSLA?</P>
<P>Cheers!</P>
<P>Webjedi</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Saturday, October 13, 2007</h2><P>This has been discussed many times.</P>
<P>Try searching the forum for old messages.</P>
<P>The approach I take is to create a special Root BO to store all the values on the Search screen. Say there are 10 things you can search by. Then the screen has 10 rows and the first control in each row is a checkbox. When the user fills in a value for a given row the checkbox is checked. Based on this the BO will "know" which rows have been checked and can build an appropriate WHERE clause filter using a method called GetFilter. The BO also can rules like make sure at least on checkbox is checked, etc. </P>
<P>This search screen BO is passed to a ROC as the sole criteria (as a Parameter to the factory Fetch method.)</P>
<P>Once the DataPortal_Fetch method is invoked, the criteria is extracted and you call GteFilter on the Root BO that was passed in. Then you can add it to your SQL Statement to retrieve the data.</P>
<P>Joe</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
