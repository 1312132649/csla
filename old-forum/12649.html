<html><header><title>CSLA </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12649.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>mayurimalgave posted on Wednesday, May 28, 2014</h2><p>How to share information between multiple instances of Silverlight application in CSLA?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>skagen00 replied on Wednesday, May 28, 2014</h2><p>We do this quite heavily.</p>
<p>We maintain an isolated storage file containing the listener IDs of all instances, each of whom &quot;register&quot; themselves to the isolated storage file. </p>
<p>When it comes time to broadcast a message, we do something like the following.&nbsp; (IntraApplicationMessage is just a class that contains information about the command that we created, and ToString() gets a string representation of it (like a serialization)).&nbsp; </p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><a name="_GoBack"></a><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;background:white;color:gray;font-size:9.5pt;mso-highlight:white;">///</span><span style="font-family:Consolas;background:white;color:green;font-size:9.5pt;mso-highlight:white;"> </span><span style="font-family:Consolas;background:white;color:gray;font-size:9.5pt;mso-highlight:white;">&lt;summary&gt;</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"></span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;background:white;color:gray;font-size:9.5pt;mso-highlight:white;">///</span><span style="font-family:Consolas;background:white;color:green;font-size:9.5pt;mso-highlight:white;"> Broadcasts the indicated message to all listeners.</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"></span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;background:white;color:gray;font-size:9.5pt;mso-highlight:white;">///</span><span style="font-family:Consolas;background:white;color:green;font-size:9.5pt;mso-highlight:white;"> </span><span style="font-family:Consolas;background:white;color:gray;font-size:9.5pt;mso-highlight:white;">&lt;/summary&gt;</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"></span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;background:white;color:gray;font-size:9.5pt;mso-highlight:white;">///</span><span style="font-family:Consolas;background:white;color:green;font-size:9.5pt;mso-highlight:white;"> </span><span style="font-family:Consolas;background:white;color:gray;font-size:9.5pt;mso-highlight:white;">&lt;param name=&quot;message&quot;&gt;</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"></span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;background:white;color:gray;font-size:9.5pt;mso-highlight:white;">///</span><span style="font-family:Consolas;background:white;color:green;font-size:9.5pt;mso-highlight:white;"> Message to broadcast.</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"></span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;background:white;color:gray;font-size:9.5pt;mso-highlight:white;">///</span><span style="font-family:Consolas;background:white;color:green;font-size:9.5pt;mso-highlight:white;"> </span><span style="font-family:Consolas;background:white;color:gray;font-size:9.5pt;mso-highlight:white;">&lt;/param&gt;</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"></span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;background:white;color:blue;font-size:9.5pt;mso-highlight:white;">internal</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"> </span><span style="font-family:Consolas;background:white;color:blue;font-size:9.5pt;mso-highlight:white;">static</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"> </span><span style="font-family:Consolas;background:white;color:blue;font-size:9.5pt;mso-highlight:white;">void</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"> BroadcastMessage(</span><span style="font-family:Consolas;background:white;color:#2b91af;font-size:9.5pt;mso-highlight:white;">IntraApplicationMessage</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"> message)</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;background:white;color:blue;font-size:9.5pt;mso-highlight:white;">var</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"> info = GetIsolatedStorageFile();</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;">&nbsp;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;background:white;color:blue;font-size:9.5pt;mso-highlight:white;">foreach</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"> (</span><span style="font-family:Consolas;background:white;color:blue;font-size:9.5pt;mso-highlight:white;">string</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"> listener </span><span style="font-family:Consolas;background:white;color:blue;font-size:9.5pt;mso-highlight:white;">in</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"> info.ListenersList)</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;background:white;color:#2b91af;font-size:9.5pt;mso-highlight:white;">LocalMessageSender</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"> messageSender = </span><span style="font-family:Consolas;background:white;color:blue;font-size:9.5pt;mso-highlight:white;">new</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"> </span><span style="font-family:Consolas;background:white;color:#2b91af;font-size:9.5pt;mso-highlight:white;">LocalMessageSender</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;">(listener, </span><span style="font-family:Consolas;background:white;color:#2b91af;font-size:9.5pt;mso-highlight:white;">LocalMessageSender</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;">.Global);</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;">&nbsp;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>messageSender.SendCompleted += (o, e) =&gt;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;background:white;color:blue;font-size:9.5pt;mso-highlight:white;">if</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"> (e.Error != </span><span style="font-family:Consolas;background:white;color:blue;font-size:9.5pt;mso-highlight:white;">null</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;">)</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;background:white;color:green;font-size:9.5pt;mso-highlight:white;">// The message did not sent successfully - remove the listener.</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"></span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>UnregisterListener(e.ReceiverName);</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>};</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;">&nbsp;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;background:white;color:green;font-size:9.5pt;mso-highlight:white;">// Fire off the message.</span><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"></span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>messageSender.SendAsync(message.ToString());</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="line-height:115%;font-family:Consolas;background:white;color:black;font-size:9.5pt;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p>Fundamentally though LocalMessageReceiver/LocalMessageSender is a good way to have SL instances talk back and forth with each other.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>mayurimalgave replied on Thursday, May 29, 2014</h2><p>Thank you.. We will try this out &amp; get back with query if any..</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
