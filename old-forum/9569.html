<html><header><title>DataContractSerializer does not accept generic list of guids when serializing a mobileobject</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DataContractSerializer does not accept generic list of guids when serializing a mobileobject</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9569.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>mliceaga posted on Thursday, September 23, 2010</h2><p>I&acute;m working in a project using SL4, BXF, Csla.Silverlight, Csla, Csla.Xaml, Csla.Xaml.Silverlight and unitdriven for the unit tests.</p>
<p>Many of the objects (if not all) of the business layer have properties like this:</p>
<p>public static PropertyInfo&lt;List&lt;Guid&gt;&gt; BLAHListProperty = RegisterProperty&lt;List&lt;Guid&gt;&gt;(new PropertyInfo&lt;List&lt;Guid&gt;&gt;(&quot;BLAH&quot;, &quot;BLAH&quot;));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public List&lt;Guid&gt; BLAHList<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get { return GetProperty(BLAHListProperty); }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set { SetProperty(BLAHListProperty, value); }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>When trying to save the objects that had these kind of properties (basically a generic List of Guids) I got an error that said that the DataContractSerializer couldn&acute;t serialize it.</p>
<p>We&acute;re using CslaSource-4.0.1-100828</p>
<p>In the file: Csla\Serialization\Mobile\MobileFormatter.cs</p>
<p>from lines 148 to 153 we had to make the following change in order to allow this.</p>
<p>&nbsp;&nbsp;&nbsp; private DataContractSerializer GetDataContractSerializer()<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return new DataContractSerializer(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; typeof(List&lt;SerializationInfo&gt;),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new Type[] { typeof(List&lt;int&gt;), typeof(byte[]), typeof(DateTimeOffset), typeof(List&lt;Guid&gt;) });<br />&nbsp;&nbsp;&nbsp; }</p>
<p>What do you think about this? I know I shouldn&acute;t be modifying the very core of CSLA, but I couldn&acute;t figure out another workaround. Can you think of something else? Or otherwise, include in the next version? ;)</p>
<p>Regards,</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>cds replied on Thursday, September 23, 2010</h2><p>Just off the top of my head, try using MobileList&lt;T&gt; instead of List&lt;T&gt;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
