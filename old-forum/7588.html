<html><header><title>Many-To-Many Relationships.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Many-To-Many Relationships.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7588.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>bniemyjski posted on Tuesday, September 08, 2009</h2>Hello,<br><br>I'm wondering what the best practices for implementing the lazy loading / deletes of many to many relationships in CSLA. I've done some reading in the book and in the forums (<a HREF="/forums/thread/14870.aspx">here </a>and <a HREF="/forums/thread/14865.aspx">here</a>) and am coming up short.<br><br>Does anyone have some sample code / docs that demonstrates the best way to go about this. Do you guys have an BO for the intermediate table? Where does the look up occur in? The BO that the property exists in or in the intermediate class?<br><br>Thanks<br>-Blake Niemyjski<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, September 08, 2009</h2><P>Rarely do M:M relationships exist at the object level.</P>
<P>The ProjectTracker sample covered in the book has a M:M relationship between projects and resources. But in reality, the <EM>edit a project</EM> use case has projects and "assigned resources", and the <EM>edit a resource</EM> use case has resources and "assigned projects".</P>
<P>This is one of the best examples where relational modeling and object modeling result in different models 99.999% of the time.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bniemyjski replied on Tuesday, September 08, 2009</h2>Hello,<br><br>Thanks, I'll take a look at this. I've done some talking / research and a lot of what I'm hearing is that dealing with M:M in CSLA is a pain point. Dealing with it myself has been a pain point too. I'd like to remove this for anyone using our templates. I'm sure everyone has a different use case on how they use CSLA and M:M doesn't come up much if your just dealing with objects that don't deal with a RDBMS... But then again not every RDBMS has a M:M.<br><br>Thanks again<br>-Blake Niemyjski<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, September 08, 2009</h2><P>The pain usually comes because people try to use CSLA to be like an ORM, or try to make business domain objects act like entity objects. But that's a mismatch at a deeper level than just code, so it shouldn't be surprising that it causes pain.</P>
<P>Good relational models and good object models just don't look the same. Trying to make objects look like the database ignores the meaning of the word 'mapping' in ORM, and of course causes pain.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, September 08, 2009</h2><P>I guess more pragmatically (or usefully), you can usually consider a database M:M as&nbsp;two object 1:N relationships.</P>
<P>That's a bit simplistic, but it generally works.</P>
<P>In a data centric world doctors have patients and patients have doctors.</P>
<P>But in a behavioral world, the relationships are more complex. A doctor may have current patients, or future patients or today's patients. A patient may have in-network doctors and out-of-network doctors and preferred doctors.</P>
<P>The object model flows from the use case, while the data model flows from static data relationships.</P>
<P>Or to put it another way, objects represent a <EM>contextual and behavioral view</EM> of data, while the database doesn't provide context - it is a static construct. So the odds of having multiple types of object over a single table or set of tables is <EM>very</EM> high, since most data is used in more than one contextual setting (use case).</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bniemyjski replied on Tuesday, September 08, 2009</h2>Hello,<br><br>I couldn't agree more. In this case I need to deal with the intermediate for the 1:N<br><br>Thanks again<br>-Blake Niemyjski</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
