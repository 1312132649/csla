<html><header><title>Security Question</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Security Question</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9192.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>brannos posted on Friday, July 09, 2010</h2><p>In my security protocol, when a user accesses a record, I have to check if they can read/write the fields based on the record. For example if a user accesses their company account some users are allowed to change the company name, some are not based on the company account.&nbsp;</p>
<p>So I have in the following check:</p>
<p>CMI.Library.Security.CanReadfield(&quot;MasterAccounts&quot;, GetProperty(Of Guid)(IdProperty), propertyname)</p>
<p>The problem I am having is the IDProperty, the system keeps checking the read authorization on the IDProperty causing an overstack overflow.</p>
<p>How do I bypass the IDProperty read authorization?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, July 09, 2010</h2><p>So this line of code is in your property getter? You can see the infinite loop right there - you are calling GetProperty(), which calls the getter, which calls GetProperty(), which calls the getter, ...</p>
<p>What you should do is override CanReadProperty() and alter the authorization behavior for that property.</p>
<p>Or if you are using CSLA 4 you can create a custom authorization rule, which would be an even more elegant (and simpler) approach.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
