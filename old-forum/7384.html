<html><header><title>Using BusinessListBase and BusinessBase and choosing Child or Parent</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Using BusinessListBase and BusinessBase and choosing Child or Parent</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7384.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>nhwilly posted on Saturday, August 01, 2009</h2><P>I am writing a scorekeeping system as my first CSLA project.&nbsp; </P>
<P>I&nbsp;believe I am interpreting the parent vs child decision correctly by using a general rule of thumb whereby a collection contained in a parent is a child collection if the items in it are saved only when the parent is saved.&nbsp; Like saving a line item when the invoice is saved.</P>
<P>Am I on the right track here?</P>
<P>I have the following scenario:</P>
<P>Event<BR>&nbsp; |--&gt;Tournaments (read only list base)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|--&gt;Tournament (parent)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |--&gt;Competitions (read only list base)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|--&gt;Competition (parent)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|--&gt;Rounds (read only list base)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|--&gt;Round (parent)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|--&gt;Matches (read only list base)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|--&gt;Match (parent)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|--&gt;CompetitorsScores (child list)</P>
<P>The reason the stereo types were chosen this way is that the competitors scores are contained within a match and match exists as a transaction that exists only to contain competitors scores.&nbsp; In other words, the scores are all entered and then the match is saved.</P>
<P>The parent of Matches is a Round, but a Match is saved by itself and while it belongs in the context of a Round, we wouldn't save modified matches in a collection when we save a round.</P>
<P>Each of these objects has a few other properties, and some of those properties would be calculated based on the collections they contain (competition winning competitor, for example).</P>
<P>So that means that a change in a Match that is saved will ripple up to the tournament level to effectively change the winner.</P>
<P>So I can see it both ways.</P>
<P>Any suggestions (still shaking off that relational fever)?</P>
<P>Thanks in advance.</P>
<P>Bill</P>
<P>p.s. BTW, a tournament does not have to exist for a competition to exist.&nbsp; Ditto for Event and tournament.&nbsp;&nbsp;&nbsp; Those only exist for more complex situations (multiple games over multiple days with sub competitions within them).&nbsp; So a competition can stand on it's own.<BR></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Saturday, August 01, 2009</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>nhwilly:</strong></div><div>
<P>p.s. BTW, a tournament does not have to exist for a competition to exist.&nbsp; Ditto for Event and tournament.&nbsp;&nbsp;&nbsp; Those only exist for more complex situations (multiple games over multiple days with sub competitions within them).&nbsp; So a competition can stand on it's own.<BR></div></BLOCKQUOTE></P>
<P>That's the key point. These are all top-level concepts then.</P>
<P>Does your employer own you? No? Then Employer-&gt;Employees-&gt;Employee isn't a valid object model, because that implies ownership.</P>
<P>Your objects will often represent <EM>relationships</EM> between entities, not the entities themselves.</P>
<P>If a Competition is a thing, that's good. If a Tournament is a grouping of Competitions, that implies a relationship, but not necessarily ownership.</P>
<P>So Tournament-&gt;Competitions-&gt;TournamentCompetition might make more sense, where TournamentCompetition represents the fact that a Competition has been associated with the Tournament, but isn't the Competition itself.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jasonlaw replied on Monday, August 03, 2009</h2>May I know how to reflect the ownership &amp; relation in object model?<br /><br />Thanks in advance.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Saturday, August 01, 2009</h2><P>I should point out that all of this is predicated on the user's expectations.</P>
<P>What is the usage scenario you are trying to meet here? Creating an object model in the absense of a usage scenario is a pointless exercise.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nhwilly replied on Saturday, August 01, 2009</h2><P>And I thought a "useless exercise" was what I did at the gym.&nbsp; :)&nbsp;&nbsp; </P>
<P>I didn't want to burden you with the whole involved design; you're generous enough just to share your ideas and the framework in general.</P>
<P>We are a gaming center (my life after running a software company) and we often stage large group events.&nbsp; Sometimes they last an evening or a day and other times span several weeks.</P>
<P>A one night/day affair would be a Competition.&nbsp; Single game, single scoring mechanism.&nbsp; Often impromptu, so no tournament and no event in sight.&nbsp; Setup is quick; customers join (perhaps forming teams or solo) and are dropped into matches, they compete, scores are recorded and then presented on a large screen (hence the project name: ScoreBoard, and the interest in SilverLight).</P>
<P>OR - Last month we attended a fair and planned competitions for different age groups in a single game (making for different competitions in a single tournament - 1 vs 1 Guitar Hero, actually).&nbsp; Furthermore, more than one game was involved (we added PGR4 racing where ranking points are scored).&nbsp; Everyone would expect that to be a different tournament, hence there would be an Event object (the entire weekend at the fair for all games).&nbsp; The event serves to present a collection of tournaments and their winners.</P>
<P><STRONG>So the most prevalent use case</STRONG> is one where a staff member quickly creates a competition, enters the names of the competitors and assigns them into matches.&nbsp; When a match completes, the staff notes the scored values for each competitor (a race might have 8, whereas Guitar Hero would have 2) and enters them in and then *saves the match*.&nbsp; When the last match completes, the scoredboard determines the rankings and everyone knows who won or lost (and most importantly - how close it was :)).</P>
<P>So a match "owns" the scores, that's a really good metaphor that will stick for me.&nbsp; Thanks for that.&nbsp; And by the same reasoning, a competition *owns*&nbsp;a collection of matches since they don't exist outside of a competition.</P>
<P>The only thorn is that in working with a crowd, we often have multiple staff updating the matches at once to keep the event moving.&nbsp; And while there won't be any collisions at the match level, if we have to update the competition object because it's the parent, then the likelihood of collisions goes up substantially - in fact, you could bet on it.</P>
<P>And now that I think about it, your suggestion&nbsp;of&nbsp;the object as a relationship fits the PTracker example.&nbsp; (Whenever I start moving too fast, the relational thinking takes over and I miss the obvious connections between your example and what I'm doing.)</P>
<P>But to the original question, a Tournament would then "own" the TournamentCompetitions collection but not the competitions so the collection would be a child and a competition would still be a parent.</P>
<P>Right?</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
