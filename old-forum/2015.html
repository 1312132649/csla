<html><header><title>Newbie ? - why DataPortal_Update not called on save?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Newbie ? - why DataPortal_Update not called on save?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2015.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>NeedCSLAHelp posted on Thursday, December 21, 2006</h2><P>This is CSLA 1.5? (I think 1.51)</P>
<P>My experience with CSLA is mostly around working with some objects created by another developer that inherited and override a good deal of CSLA functionality (some good, some not so good, some I think stricly for the purpose of being confusing).&nbsp; </P>
<P>At any rate, I'm creating a new class inherited directly from BusinessBase.&nbsp; The object creates, gets populated etc. just fine.&nbsp; For some reason when I call the .save method, the Protected Overrides Sub DataPortal_Update() method does not get called.&nbsp; Sorry if this is such a simple question - just really at a loss here.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Q Johnson replied on Thursday, December 21, 2006</h2><P>You should be able to step through this if you are using the Debug versions of the CSLA library in your app.&nbsp; But Save calls the DataPortal's method (CSLA's code) that checks to make sure the object IsDirty before going through the hassle of using reflection to get a reference to your object so it can call the object's DataPortal_Update (your code) method.</P>
<P>Are you sure your object IsDirty?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>NeedCSLAHelp replied on Thursday, December 21, 2006</h2><P>Thanks Q and Shawn --- No, the object wasn't dirty, yes it's working fine now, yes, I'll apply a bandage to my forehead from injury that occurs when banging head on desk.</P>
<P>And yes, part of the confusion was migrating this class over from the inherited stuff done by someone else.&nbsp; </P>
<P>I'm going to be moving over to V2 of CSLA soon, and hopefully will get away from all of the "Subclassed CSLA - The confused edition" stuff that I have to deal with now.&nbsp; (Yes, sometimes it's like a bad horror flick)</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>shawndewet replied on Thursday, December 21, 2006</h2>Nah I remember in CSLA 1.5 the very first line in our DataPortal_Update methods was "If Not IsDirty&nbsp;Then Exit Sub".&nbsp; It is only in v2 that I found that this check for IsDirty is now done within the CSLA code.&nbsp; I guess your only option&nbsp;here is to step through the CSLA code.&nbsp; I suspect the "override a good deal of CSLA functionality" you mentioned is the cause of this issue.&nbsp; Good luck.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
