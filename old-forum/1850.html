<html><header><title>How do I do a details class the CSLA (not a child item)</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How do I do a details class the CSLA (not a child item)</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1850.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>jspurlin posted on Monday, November 27, 2006</h2>I would like to manage details for an item, as I normally do, by formatting a NavigateUrl based on the PrimaryKey datakey that redirects the user to a details page.<br><br>In this scenario I have a read only List that returns minimal user data<br><br>[Serializable()]<br>&nbsp;&nbsp;&nbsp; public class ResourceList :<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ReadOnlyListBase&lt;ResourceList, BasicResource&gt;<br><br>When the grid is loaded, each item row has a link to a details page based on the primary key (the syntax may seem strange to one not yet familiar with Telerik controls):<br><br><font size="2">if (!e.Item.IsInEditMode)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (e.Item is GridDataItem)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string IdString = e.Item.OwnerTableView.DataKeyValues[e.Item.ItemIndex]["PersonId"].ToString();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StringBuilder sb = new StringBuilder();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sb.Append("?PersonId=");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sb.Append(IdString);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.Web.UI.WebControls.HyperLink link = e.Item.FindControl("DetailLink") as System.Web.UI.WebControls.HyperLink;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (link != null)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link.NavigateUrl = SecureQuery("ResourceDetail.aspx", sb.ToString());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<font size="3"><br><br>When the details link is clicked, the user goes to a details page. This is nothing new. I would like to know if any have suggestions on the best way to handle details, and how they would handle a details class in this case.<br><br>My rationale is that since you can load hundreds of users (this Grid is for administrative searching), it makes sense only to load&nbsp; a read-only list&lt;T&gt; and go ahead and may the round trip to fetch details on a need to know basis, and not have that extra overhead of details not relevant to my search.<br><br>What is recommended for the details class?&nbsp; For example, I could create a details class with read and write properties, public access modifiers and do this (pseudo-code)<br><br>On Update<br><br>MyDetail.PersonId = txtPersonId.Text;<br>MyDetail.FirstName = txtFirstName.Text;<br><br>I would prefer to databind via the CSLA:DataSource control and map the values instead.<br><br>Any suggestions would be appreciated.<br>Thank you.<br></font></font></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, November 28, 2006</h2><P>The details object should almost certainly inherit from BusinessBase, and would be a normal editable root object.</P>
<P>I do something quite similar to what you describe in the book. Check out the ProjectEdit.aspx page as discussed in Chapter 10.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
