<html><header><title>generic child factory with CSLA 4.1.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>generic child factory with CSLA 4.1.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10209.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>menzel2911 posted on Monday, March 28, 2011</h2><p>Hi folks,</p>
<p>does anybody know a way to implement an abstract child-object factory using DataPortal.FetchChild(of T) to get different types of child-objects depending on parent object state using Csla 4.1. and the encapsulated invocation model?</p>
<p>I have a root object which does have a managed &quot;data&quot; property (of data type object), which can be assigned to different child object types, depending on the situation (can be a child list, or a child). When retreiving the parent object, the decision will be made, of what type the data property will actually be and the Child-Factory is responsible to get the appropriate child object.</p>
<p>I tried to use an abstract function to return a child-object of T, but the child dataportal throws an exception, that abstract types cannot be fetched. Is it possible at all? I&#39;m using the encapsulated invocation to retreive data, according to &quot;Using Csla4 - Data Access&quot; ebook.</p>
<p>Thanks for your help.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Monday, March 28, 2011</h2><p>The data portal isn&#39;t designed to do this in the encapsulated invoke model. In other words, you can&#39;t directly use FetchChild to do this.</p>
<p>There are some alternatives.</p>
<ol>
<li>You could use a factory implementation model - entirely abandon the DataPortal_XYZ and Child_XYZ methods in favor of object factories. This directly solves your problem, but is a completely different data access model.</li>
<li>You could create a factory object for your child objects, with a factory method that invokes the appropriate FetchChild method for the child type. No matter how you approach this, somewhere in your app you&#39;ll have some method (or code implementing a pattern) to select the concrete type of each child. In this solution, just put that code into a child factory object, and have it invoke FetchChild for each concrete type.</li>
</ol>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>menzel2911 replied on Monday, March 28, 2011</h2><p>Thank you very much for the quick reply, that does help me very much.</p>
<p>Sascha</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
