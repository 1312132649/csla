<html><header><title>CslaDataProvider differences between WPF &amp; Silverlight</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CslaDataProvider differences between WPF &amp; Silverlight</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10245.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>MichaelMaddox posted on Thursday, April 07, 2011</h2><p>I just spent many hours trying to figure out why data binding was working in a (CSLA) WPF app, but the same data binding failed (at runtime) in a (CSLA) Silverlight app. &nbsp;There is a subtle difference that I couldn&#39;t find documented anywhere that I will document here for other people to hopefully find in the future.</p>
<p>The SilverlightSOA sample contains the following binding statement against a CslaDataProvider:</p>
<p>&lt;Grid x:Name=&quot;LayoutRoot&quot; DataContext=&quot;{Binding Source={StaticResource MyData}, Path=Data}&quot; Background=&quot;Beige&quot;&gt;</p>
<p>In WPF, this same binding statement would *not* include the &quot;, Path=Data&quot; portion of the statement. &nbsp;So, when porting code in either direction, that is a critical change to make as there doesn&#39;t appear to be a way to do it that works across both that I could find (the ObjectInstance property is a close cousin of the Data property so I want to at least mention that property here).</p>
<p>This discussion is based on CSLA 4.1.</p>
<p>I&#39;m sure there are other meaningful differences between the&nbsp;CslaDataProvider between WPF &amp; Silverlight as the code base appears fairly different between the two, but the Path=Data seems to be one of the most critical. &nbsp;One of the other significant differences is the syntax of the ObjectType property.</p>
<p>Here it is for WPF:</p>
<p>&lt;UserControl ... xmlns:SilverlightSOA=&quot;clr-namespace:SilverlightSOA;assembly=SilverlightSOA&quot; ...&gt;</p>
<p>&lt;csla:CslaDataProvider ... ObjectType=&quot;{x:Type&nbsp;SilverlightSOA:Person}&quot; ... /&gt;</p>
<p>Here it is for Silverlight:</p>
<p>&lt;csla:CslaDataProvider ...&nbsp;ObjectType=&quot;SilverlightSOA.Person, SilverlightSOA, Version=..., Culture=neutral, PublicKeyToken=null&quot;&nbsp;&nbsp;... /&gt;</p>
<p>(The Version attribute is really set to &quot;...&quot;, the other ..&#39;s. I used were to make the code more brief.)</p>
<p>In general, it would be helpful to have at least one CSLA sample that exists for both WPF and Silverlight (and possibly Windows Phone as well if it&#39;s reasonable) that shows these subtle differences in an easy to diff code base to make porting code between platforms more cost effective.</p>
<p>I can tell a tremendous amount of effort has been made to share code between the platforms and make porting as trivial as possible and I appreciate that effort greatly.</p>
<p>This post is primarily intended to be informative, but it could also be used as a place to document other differences in the&nbsp;CslaDataProvider between WPF &amp; Silverlight.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, April 07, 2011</h2><p>I strongly recommend against using the data provider model. Microsoft introduced this in WPF 3 (the first version of WPF). Since that time they&#39;ve consistently moved away from the data provider model.</p>
<p>When we created CSLA .NET 3.x to support Silverlight, the data provider model still seemed like a valid approach, so we recreated it on SL. In retrospect, the fact that Microsoft didn&#39;t implement it in SL should have been an early clue that they didn&#39;t like the model anymore...</p>
<p>In any case, the only reason CslaDataProvider is still in the framework is for backward compatibility. Nearly everyone uses MVVM or MVP now. Even Expression Blend doesn&#39;t use data providers anymore.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
