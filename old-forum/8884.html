<html><header><title>Another question about object hierarchy</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Another question about object hierarchy</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8884.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>chrisdot posted on Wednesday, May 05, 2010</h2><p>Hi all,<br /><br />I was trying to set up a kind of object hierarchy, and thinking about having a hierarchy of business objects.<br /><br />Let&#39;s take my concrete example, a screen to display the user and its dedicated field. Basically a user can have many different data fields defined and of many different types (like int, bool, strings which will result in different display control on UI side like updowns, checkboxes,etc... in a container control like listbox or datagrid). I give the readonly example, but my question remains the same with an editable object hierarchy.<br /><br /><br />So what I was first trying to do first was:<br /><br />//the user BO<br />public class CreadOnlyUser : ReadOnlyBase&lt;CreadOnlyUser&gt; <br /><br /><br />//the collection of data fields available for a parent CreadOnlyUser<br />public class CReadOnlyUserFieldList: ReadOnlyListBase&lt;CReadOnlyUserFieldList, CReadOnlyUserField&gt; <br /><br /><br />//The abstract base<br />public abstract class CReadOnlyUserFieldBase: ReadOnlyBase&lt;CReadOnlyUserField&gt;<br />{<br />&nbsp;&nbsp; &nbsp;public int UserFieldID<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;get { return GetProperty(...); }<br />&nbsp;&nbsp; &nbsp;}<br /><br />&nbsp;&nbsp; &nbsp;public string UserFieldLabel<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;get { return GetProperty(...); }<br />&nbsp;&nbsp; &nbsp;}<br />}<br /><br />//The concrete int container<br />public class CReadOnlyIntUserField : CReadOnlyUserField<br />{<br />&nbsp;&nbsp; &nbsp;public int IntValue<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;get { return GetProperty(...); }<br />&nbsp;&nbsp; &nbsp;}<br />}<br /><br />//The concrete string container<br />public class CReadOnlyStringUserField : CReadOnlyUserField<br />{<br />&nbsp;&nbsp; &nbsp;public int StringValue<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;get { return GetProperty(...); }<br />&nbsp;&nbsp; &nbsp;}<br />}<br /><br /><br />And of course this didn&#39;t work, I had a few problems with the RegisterProperty&lt;&gt; methods and so on... (like a PropertyRegisterNotAllowed exception)<br /><br />So I searched round the forum and found <a href="http://forums.lhotka.net/forums/t/1258.aspx">this discussion</a> and also <a href="http://forums.lhotka.net/forums/t/7863.aspx">this one</a>. So the conclusion should be, &quot;I should rather use composition and use interfaces to manage common behavior&quot;. </p>
<p>But I can not really imagine how to do that properly. Should the specific data (int./string,etc...) be another child BO of a concrete CReadOnlyUserField container? Something in this mood?</p>
<p>Am I completely wrong? Should I have another approach of those data fields?</p>
<p>Is there somewhere an code example of that case? (or similar)&nbsp; Any thread I have missed in this forum?</p>
<p>(Im using CSLA 3.8, latest beta)</p>
<p>Thank you,</p>
<p>Christophe</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
