<html><header><title>Csla.DataPortalException - Can the InnerException be populated with the root exception?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Csla.DataPortalException - Can the InnerException be populated with the root exception?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7127.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jaans posted on Wednesday, June 17, 2009</h2>Using Silverlight and WCF Data Portal to server the async result contains a Error property of type DataPortalException. My question is whether it is possible to have the inner exception populated accordingly?<br /><br />My issue is that currently the exception (correctly) identifies that (for example) the DataPortal.Create/Fetch/etc. has failed. It embeds the inner/source exception text within its own message text. <br /><br />I'm interested in that inner exception information alone in certain cases and need to strip away the surrounding dataportal exception detail.<br /><br />I realise we're serializing here and that the exception information is now withing the client realm so I'm not sure what the best way is here. I do know however that I would like to choose what display and what not, but for that I need the inner exception stack.<br /><br />Suggestions?<br /><br />Regards,<br />Jaans</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, June 18, 2009</h2><P>This was discussed on a thread perhaps 2 weeks ago.</P>
<P>The answer is that we can't serialize arbitrary .NET exceptions to Silverlight. These are two different platforms, and it just isn't possible. Things like SqlException just don't exist on Silverlight, and CSLA can't spoof every exception in .NET (and every other library - I'm sure there is an OracleException too).</P>
<P>So instead, we have the server run through the exception stack and we pull out all the data we can. That goes into the Error property of the client-side exception, so you get as much data as we can provide about the original exception stack.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jaans replied on Thursday, June 18, 2009</h2>A bit of self loathing it due here... I didn't pickup on the fact that the Exception is of type CslaDataPortalException which has the ErrorInfo that has chain/stack of the coveted information.<br /><br />I stumbled accross it on the Silverlight FAQ:<br />http://www.lhotka.net/cslanet/faq/SilverlightFaq.ashx<br /><br />That's all I needed, in order to show the user the failure (outermost ErrorInfo) and the root cause (innermost ErrorInfo). <br /><br />Regarding the inner exception on the exception object, I agree, the client side shouldn't and cannot be the same exception stack. These exceptions technically also didn't happen on the client. My initial thoughts were to wrap them in generic exceptions and and maintain the stack, but this is already available on the DataPortalException class.<br /><br />Thanks Rocky!!</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
