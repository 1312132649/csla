<html><header><title>Child record ApplyEdit fails for split partial class.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Child record ApplyEdit fails for split partial class.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1959.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Tommybouy posted on Tuesday, December 12, 2006</h2><P>We use the CodeSmith generator and the VB templates and although everything appears correct, when we try to update a child record we get the "Can not directly save a child&nbsp;object" error.&nbsp;It seems the </P><FONT color=#0000ff size=2>
<P>Protected</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Overrides</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</FONT><FONT size=2> AcceptChangesComplete()</P>
<P></FONT><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;If</FONT><FONT size=2> Parent </FONT><FONT color=#0000ff size=2>IsNot</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Nothing</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Then</P></FONT><FONT size=2>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parent.ApplyEditChild(</FONT><FONT color=#0000ff size=2>Me</FONT><FONT size=2>)</P>
<P></FONT><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>If</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;MyBase</FONT><FONT size=2>.AcceptChangesComplete()</P>
<P></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000 size=3>causes the error because Parent is nothing even though Setparent is being called when objects are being created. I'm not sure if this is a split partial issue or not. Any ideas?</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000 size=3>Thanks</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000 size=3>Tom</FONT></P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Tuesday, December 12, 2006</h2>Definitely not a partial class issue.<br>You're sure you have a parent collection defined? What's the type of the parent collection?<br><br>This error is typically raised when calling Save on a child item. Is it possible that you're using the new EditableRootListBase as your collection? Are you calling save directly on the child?<br><br>Andr√©s<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Tommybouy replied on Wednesday, December 13, 2006</h2>I am using BusinessListBase as my parent collection and it does call MarkAsChild in the New methods. From Chapter 9 Rocky creates a clone of his object then calls applyedit, then save on that clone. Prior to the cloning process the Parent property contains a value, after the clone it does not. Either the saving process should be different for a child, I am doing it wrong, or the cloning process is flawed. Am I at fault?</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
