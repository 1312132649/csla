<html><header><title>PropertyHasChanged() on a Structure</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>PropertyHasChanged() on a Structure</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4022.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ataylorm posted on Tuesday, December 11, 2007</h2><P>Good Morning,</P>
<P>Making much progress here, but have a question...&nbsp; I have a struct called Address, this struct has several properties, Address1, Address2, City, State, and so on.&nbsp; When I try and have:</P><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>public</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>string</FONT><FONT size=2> Address1<BR>{&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;</FONT><FONT color=#0000ff size=2>get</FONT><FONT size=2> {</FONT><FONT color=#0000ff size=2>return</FONT><FONT size=2> _Address1;}<BR></FONT><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;set<BR></FONT><FONT size=2>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_Address1 = </FONT><FONT color=#0000ff size=2>value</FONT><FONT size=2>;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PropertyHasChanged(</FONT><FONT color=#a31515 size=2>"Address1"</FONT><FONT size=2>);<BR>&nbsp;&nbsp;&nbsp;}<BR>}</FONT></P>
<P><FONT size=2>I get the following error:</FONT></P>
<P><FONT size=2>Error&nbsp;1&nbsp;Cannot access protected member 'Csla.Core.BusinessBase.PropertyHasChanged(string)' via a qualifier of type 'ProjectUnicorn.Library.UMUser.UMUserAccount.Address'; the qualifier must be of type 'ProjectUnicorn.Library.UMUser.UMUserAccount.Address' (or derived from it)&nbsp;C:\Code\Project Unicorn\ProjectUnicorn.Library\UMUser.cs&nbsp;77&nbsp;25&nbsp;ProjectUnicorn.Library<BR></FONT></P>
<P><FONT size=2>Any ideas?</P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, December 11, 2007</h2>I would re-evaluate your design.&nbsp; You can do lazy loading of properties (if you want Address to be lazy loaded) without using a struct or embedding the struct into a class. <br><br>It seems that you're doing "data driven design," which can work with Csla, but you'll be happier and have an easier time with "behavior driven design."&nbsp; Check out (read, and memorize) chapter 8 to see what I mean.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ataylorm replied on Tuesday, December 11, 2007</h2>The struct actually would be loaded with the class, the idea was to create a cleaner open api and allow for collections of addresses.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, December 11, 2007</h2>But the struct can't behave like a business object, and it either probably should, or it should be absorbed into the user class.<br><br>Is there a requirement now for a collection of addresses?&nbsp; I just ask because I try to follow YAGNI design philosophy.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
