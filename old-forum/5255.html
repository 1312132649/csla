<html><header><title>child object and updated id upon insert and expected result</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>child object and updated id upon insert and expected result</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5255.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Harry_Seldon posted on Sunday, August 17, 2008</h2>Hi everyone,<br><br>I'm not clear on the following expected behaviour.<br>RootObjectList---&gt;child object<br>items---&gt;item<br><br>I do the following for a new item<br>Items items = Items.NewItems();<br>Item item = Item.NewItem();<br>/*&nbsp; populate some properties etc.&nbsp; */<br><br>items.Add(item);<br>// at this point item.ItemId has a value of zero, which is what I expect<br><br>items.Save();&nbsp; <br>// items gets saved, in item object insert there is the following code<br>// itemId = (int)cm.Parameters["@NewitemId"].Value; <br>// which works correctly, if I put a break point here, I will see itemId have the correct value<br>// that matches the database value<br><br>int temp = item.ItemId;<br>// at this point I expect temp to have the database value.<br>// but it does not it is still zero.<br><br><br>My question is: is the zero expected behavior or have I gummed something up and the value should be the new value?<br><br>Thanks in advance<br>harry<br><br><br><br><br><br><br><br><br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Sunday, August 17, 2008</h2><P>The answer is almost always this one:</P>
<P>When you saved the BO you just called .Save on it like this:</P>
<P>MyBO.Save</P>
<P>What you need to do to see the returned value is this:</P>
<P>MyBO = MyBo.Save </P>
<P>You have to update your reference in the UI.</P>
<P>Joe</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Harry_Seldon replied on Monday, August 18, 2008</h2>Thank you! <br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
