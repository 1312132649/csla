<html><header><title>How to implement a BO that on create has some properties that MIGHT?? already be present</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to implement a BO that on create has some properties that MIGHT?? already be present</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3984.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>SethSpearman posted on Tuesday, December 04, 2007</h2><P>Hello,</P>
<P>I have a business object MEETING with child DOCUMENTS.&nbsp; These&nbsp;Documents &nbsp;can be used at more than one meeting &nbsp;(A policy document being developed and that will be discussed at more than one meeting, for example).&nbsp; </P>
<P>In the DB I have handled this with 3 tables:&nbsp; Meetings, Documents, and MeetingDocuments.&nbsp; Documents is the master list of documents.&nbsp; MeetingDocuments is the table that stores the assignment of particular&nbsp;Documents to particular meetings.&nbsp; So it&nbsp;stores the KEY from the documents table.&nbsp; So MeetingDocuments is a junction table in a many to many relationship.&nbsp; &nbsp; </P>
<P>I have created an&nbsp;Document BO that is contained in&nbsp;Documents List BO which has meeting as the parent.&nbsp; So I use syntax like this.&nbsp; Meeting.Documents.AddNew.</P>
<P>I have been wondering about best practice for setting this up.&nbsp; When setting up the meeting I want to add a document to a meeting.&nbsp; The new document may or may not exist in the master Documents table.&nbsp; So I create a new document object like this.&nbsp; </P>
<P>doc=Meeting.Documents.AddNew</P>
<P>Then I link the document to the key of the master documents table like this:<BR>doc.DocumentID=myGuidKey&nbsp; 'where my guid key was&nbsp;EITHER a new(dummy) key for a new document that I want to&nbsp;add to the master table.&nbsp; OR the key was looked up in&nbsp; the master table&nbsp;from a list in the&nbsp;UI.&nbsp; </P>
<P>One sticking point is that my Document BO will need to fetch a couple of fields from the master table OR supply new values.&nbsp; The properties are Name and Description.&nbsp; So the situation is that for existing documents in the master table, I want to supply a document ID and FETCH the corresponding Name and Description.&nbsp; In this case the Meeting.Document would be READONLY on these properties.&nbsp; </P>
<P>For NEW documents the properties will be settable UNTIL the first save.&nbsp; After that you would have to open the standalone Documents root list to edit the Name and Description or other values.&nbsp; </P>
<P>I am not really asking a CODING question with one exception I will get to below.&nbsp; I mostly want to know if this approach is correct.&nbsp; This is a best practices (what did you do in a similar situation) question.&nbsp; Is this approach correct or should I keep those&nbsp;properties in another BO&nbsp;that would be a one-to-one child of&nbsp;Meeting.Documents(x) or some other approach.&nbsp; </P>
<P>About the coding question...I think that I need to disable the AddNewCore&nbsp;that I have implemented in the DocumentList object.&nbsp; Because I suppose I should REQUIRE that the&nbsp;DocumentID (be supplied when the &nbsp;Meeting.Document is created.&nbsp; All of my list object have implemented AddNewCore and I am not sure how to create the object and all the while REQUIRE that a documentID be supplied.</P>
<P>Sorry for the long question.&nbsp; In summary I am only asking two questions:</P>
<P>Is this approach the best?<BR>How do I supply a docID at create time for Meeting.Document?</P>
<P>Thanks for all you guys do to help us newbies.</P>
<P>Seth B Spearman</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
