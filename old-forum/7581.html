<html><header><title>Invalid Child_XXX call</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Invalid Child_XXX call</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7581.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>jureleskovec posted on Monday, September 07, 2009</h2>Test case:<br><br>1) Parent calls UpdateChildren(this) in the DataPortal_Update method.<br>2) The call is SUCCESSFULLY dispatched to the child's method Child_Update(ISomeInterface parent).<br><br>The problem is that the parent object is not of type 'ISomeInterface', so I assume csla doesn't check that.<br><br>Another interesting thing here is that runtime does not check the parameter type compatibily when calling methods and passing params using .NET reflection.<br><br><br>-- Jure<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, September 07, 2009</h2><P>You are more than welcome to take a look at MethodCaller and help to improve the code used to simulate method overload resolution. It is really complex, and gives a person a great deal of respect for compiler authors (since normally compilers do this for you).</P>
<P>No, CSLA doesn't do everything the compiler does. I'm not entirely sure that's realistic, since the compiler does it at build time, and MethodCaller does this at runtime - so doing everything the compiler does would almost certainly have a serious performance impact (and not a good one).</P>
<P>Of course there's nothing I can do about the fact that the compiler can't do parameter type checking when the call routes through the data portal.</P>
<P>If you really need compiler type checking, then you should not use the child data portal, and instead should use the old style of having the parent object explicitly call methods on the child objects. That gives you strong typing and compile-time checking, at the cost of you having to do the plumbing work the data portal does for you (calling MarkAsChild/MarkNew/MarkOld/etc).</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
