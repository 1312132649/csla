<html><header><title>SmartDate to DB2 Conversion</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>SmartDate to DB2 Conversion</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1085.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>A.Finney posted on Thursday, August 31, 2006</h2><P>I'm having an issue converting dates. The following is the sequence of events.</P>
<P>1.&nbsp;Retrieve the timestamp from DB2 using a SafeDataReader, <BR>2. Assign it to a variable,<BR>3. Modify the value,<BR>4. Save it back to DB2 using a ODBC connection object as a SQL string.</P>
<P>My problem is this... DB2 expects the date to be formatted as: <FONT face="Courier New" size=2></P>
<P>(</FONT><FONT face="Courier New" color=#ff0000 size=2>'2002-10-20-12.00.00.000000'</FONT><FONT face="Courier New" size=2>)</FONT></P>
<P><FONT face="Courier New" size=2>My question is simple. How do I get it formatted properly?</FONT></P>
<P><FONT face="Courier New" size=2>This is as close as I have gotten:</FONT></P><FONT face="Courier New" size=2><FONT size=2>
<P></FONT><FONT color=#008080 size=2>SmartDate</FONT><FONT size=2> MyDate = </FONT><FONT color=#008080 size=2>SmartDate</FONT><FONT size=2>.Parse(</FONT><FONT color=#008080 size=2>DateTime</FONT><FONT size=2>.Now.ToLongTimeString()).FormatString (</FONT><FONT color=#800000 size=2>"yyyy-MM-ddTHH:mm:ss"</FONT><FONT size=2>);</P>
<P></FONT><FONT color=#008080 size=2>Console</FONT><FONT size=2>.WriteLine(MyDate);</FONT></P>
<P><FONT size=2>Any help would be greatly appreciated.</FONT></P>
<P><FONT size=2>&nbsp;</P></FONT></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Thursday, August 31, 2006</h2>You can set the text output format used by the SmartDate by setting the format string property.<br><br>So your example would look like:<br><br>SmartDate myDate = new SmartDate(DateTime.Now);<br>myDate.FormatString = <font face="Courier New" size="2"><font size="2"><font color="#800000" size="2">"yyyy-MM-ddTHH:mm:ss"</font>;<br>Console.WriteLine(myDate);<br><br>or something to that effect.<br></font></font></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>A.Finney replied on Thursday, August 31, 2006</h2><P>Very Close!&nbsp; Close enough for me to figure it out.</P><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>public</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>static</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>string</FONT><FONT size=2> db2TimeStamp(</FONT><FONT color=#008080 size=2>SmartDate</FONT><FONT size=2> dt)<BR>{<BR></FONT><FONT color=#008000 size=2>//For Testing Use the current date time<BR></FONT><FONT color=#008000 size=2>//dt = SmartDate.Parse(DateTime.Now.ToString(), true);<BR></FONT><FONT color=#008000 size=2>//otherwise....<BR></FONT><FONT size=2>dt.FormatString = </FONT><FONT color=#800000 size=2>"yyyy-MM-dd-HH.mm.ss"</FONT><FONT size=2>;<BR></FONT><FONT color=#0000ff size=2>string</FONT><FONT size=2> x = </FONT><FONT color=#800000 size=2>"TimeStamp('"</FONT><FONT size=2> + dt + </FONT><FONT color=#800000 size=2>"')"</FONT><FONT size=2>;<BR></FONT><FONT color=#0000ff size=2>return</FONT><FONT size=2> x;<BR>}</FONT></P>
<P><STRONG>THANKS ! <img src="/emoticons/emotion-2.gif" alt="Big Smile [:D]" /></STRONG></P>
<P><FONT size=2>&nbsp;</P></FONT></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
