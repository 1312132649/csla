<html><header><title>ReadOnlyBase implementation of IAuthorizeReadWrite</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>ReadOnlyBase implementation of IAuthorizeReadWrite</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9213.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>DanB posted on Thursday, July 15, 2010</h2><p>I know the easy answer is that this question doesn&#39;t make sense...</p>
<p>but how does ReadOnlyBase&lt;&gt; implement IAuthorizeReadWrite without having any CanWriteProperty method?&nbsp; Doesn&#39;t the compiler choke on the missing method?</p>
<p>Now, to my problem, if you must know:</p>
<p>I&#39;m displaying a read-only object.&nbsp; I have a button on the page to allow the user to toggle a property on the object being viewed.&nbsp; In order to accomplish that, I load the editable object for making the change.</p>
<p>However, I&nbsp;want to hide the button if the user can&#39;t change that property, and&nbsp;I don&#39;t want to have to instantiate the editable object just to make this check.&nbsp; </p>
<p>Yes, I understand it doesn&#39;t make sense to check if a property can be changed in a read-only object, but now I&#39;m just confused / curious how this code is working.&nbsp; </p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, July 15, 2010</h2><p>ReadOnlyBase has an implementation of all the interface methods. The interface implementation delegates to the &quot;real&quot; implementation for the methods that exist (CanReadProperty()), but just returns false for those that have no &quot;real&quot; implementation.</p>
<p>As long as your UI code uses IAuthorizeReadWrite, it should get the correct answer from any BB or ROB object.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DanB replied on Friday, July 16, 2010</h2><p>Ah, I see the problem.</p>
<p>The CanWriteProperty implementation in ROB is explicit, so it wasn&#39;t showing up in intellisense.&nbsp; </p>
<p>Interestingly, it also doesn&#39;t show up when you F12 / Go To Definition just using the object explorer (CSLA project is not included in solution, only referenced).&nbsp; That&#39;s what <em>really</em> had me scratching my head.</p>
<p>Bu it&#39;s not virtual, and will always return false, so&nbsp;I think I&#39;m at a dead end.</p>
<p>To be clear, I think all that is the &quot;right&quot; thing given it is a read-only object.&nbsp;&nbsp;But for what I&#39;d want to do I&#39;d have to add my own member to my class.&nbsp; Upon further consideration yesterday I concluded that&nbsp; having essentially that same code in my UI isn&#39;t really any more of a business rule leak than adding it to the ROB, since the&nbsp; ROB couldn&#39;t really be considered authoritative regarding the rule anyway.&nbsp; I could&nbsp;even make the argument that&#39;s a cleaner separation between a true rule and just some UI helper.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
