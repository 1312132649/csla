<html><header><title>New to CLSA</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>New to CLSA</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/345.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>qwerty123 posted on Monday, June 12, 2006</h2>Hi group,<br><br>I am new to CLSA.NET. I would like to adopt it in a new application I am developing. I saw the sample application from Lhotka. Is there any another sample applications with the CSLA platform. I have some issues which I need to resolve before starting.<br><br>Thanks<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, June 12, 2006</h2>What issues do you need to resolve exactly?<br><br>We all have working applications built on top of Csla, but I'm not sure any of us could post the entire application. <br><br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>qwerty123 replied on Monday, June 12, 2006</h2>Let me give you an example<br><b>Tables<br></b><blockquote><b>Items: </b>a list of inventory items with ItemID as the PK<br><b>Invoice: </b>The invoice header which has a field InvoiceID as the PK<br><b>InvoiceItems</b>: has a list of items on a invoice with ItemID and InvoiceID as the PK. InvoiceID is a FK for Invoice and ItemID is a FK for Items.<br><br>Now I have another table <b>ItemsDetails </b>which is basically the same as the InvoiceItems, but I have more information in this table so there is one to one relationship between InvoiceItems and <b>ItemDetails.<br>&nbsp;&nbsp;&nbsp; <br></b>How do I setup my classes.<br>Items: BusinessBase<br>Invoice: BusinessBase<br>InvoiceItems: ???<br>ItemDetails: ???<br><br>Where do i write the SQL Insert and Update Code???<br></blockquote><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, June 12, 2006</h2>Well,<br><br>First, you ignore your database tables and go get your requirements or use cases.<br><br>Design the classes around what you need to do with an invoice.&nbsp; You'll likely have an Invoice class which supports editing, and another who's purpose is just to display data.&nbsp; You may need other classes for other, completely different behaviors for the Invoice.<br><br>To answer your database code question; these belong within the DataPortal_ZZZ methods, depending on the data operation.&nbsp; But worry about getting data into and out of the database after you defined your objects.<br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>qwerty123 replied on Monday, June 12, 2006</h2>Thanks for replying.<br><br>What I am refering now is for an invoice class to hold information about the invoice and allow to update the invoice and it's details.<br><br>What I am not clear is if one class can update more than 1 table. Example when saving a invoice item can the class update to more than 1 table or I would need to create a new class for each table??? <br>For the example above I know what type of classes I need to create<br><ul><li>Invoice = BusinessBase</li><li>Item = BusinessBase</li><li>InvoiceItem:<font color="#ff1493"> <b>??? Is this also a BusinessBase</b></font></li><li>InvoiceItems: BusinessCollectionBase</li><li><b>ItemDetails: ??? Is this a child of InvoiceItem even if it's a one to one relationship or this is another </b>BusinessCollectionBase on Invoice or can I ignore this and combine with InvoiceItem. However for updating the database I would need 2 seperate update and fetch statements in the InvoiceItem Class</li></ul>???????<br>Please help I am not sure if I am clear enough<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, June 12, 2006</h2>Yes, one class can do whatever it wants to in the database, although the LineItems should probably be responsible for persisting themselves.<br><br>The DataPortal code doesn't make any assumptions about what you might do for data access.&nbsp; <br><br><br>Your invoiceitem would likely inherit from BusinessBase.&nbsp; I'm not sure what ItemDetails would do.&nbsp; Could you describe its behavior?&nbsp; I doubt you need such a class for the purpose of editing an invoice.&nbsp; You may need it for keeping the product data up to data though.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>qwerty123 replied on Monday, June 12, 2006</h2>Thanks.<br><br>The Invoiceitems and the ItemDetails tables are basically a one to one relationship and both have a InvoiceID and ItemID which are FK to Invoice and Items table. However the InvoiceItems has only the junction information and the rest of data is in the ItemDetails. Every record in InvoiceItems would have a record in ItemDetails (I KNOW I CAN COMBINE BOTH TABLES, HOWEVER THIS IS THE WAY I NEED IT NOW) so it's basically one object InvoiceItem but in the database it's split so do I need a new object for each table or I can combine into one, and in the database layer i would execute 2 update statements for each InvoiceItem in the collection.<br><br>Thanks for Helping<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, June 12, 2006</h2><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>qwerty123:</strong></div><div>The Invoiceitems and the ItemDetails tables are basically a one to one relationship and both have a InvoiceID and ItemID which are FK to Invoice and Items table. However the InvoiceItems has only the junction information and the rest of data is in the ItemDetails. Every record in InvoiceItems would have a record in ItemDetails (I KNOW I CAN COMBINE BOTH TABLES, HOWEVER THIS IS THE WAY I NEED IT NOW) so it's basically one object InvoiceItem but in the database it's split so do I need a new object for each table or I can combine into one, and in the database layer i would execute 2 update statements for each InvoiceItem in the collection.</div></BLOCKQUOTE><br><br>It sounds like you're still building your business objects based on what the underlying tables look like.&nbsp; Your InvoiceItem class should hide the fact that they are in two seperate tables.&nbsp; I assume when you add a new item to your invoice, you'll do so by selecting a part number or other piece of information.&nbsp; So I'd think that the InvoiceItem would have some read only properties as well, such as description and perhaps price (it depends on what your business requirements are).<br><br>Just remember, that you DON'T create a business object to represent a table.&nbsp; Thats not what Csla is meant to support (or OO design, for that matter).<br><br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>qwerty123 replied on Monday, June 12, 2006</h2>Thanks I got it<br><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
