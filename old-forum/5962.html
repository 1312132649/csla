<html><header><title>Request - make IFieldData values accessible to BusinessBase derived class</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Request - make IFieldData values accessible to BusinessBase derived class</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5962.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 posted on Tuesday, December 09, 2008</h2><P>Most of the implementation of FieldDataManager is marked as internal. Could you please (please, please, please... ;)&nbsp; make a reasonable subset of this public so derived classes could access the current IFieldData associated with a managed property? </P>
<P>Maybe you changed this in CSLA 3.6, but in particular I would like to see at least FieldDataManager.GetFieldData(IPropertyInfo. prop) be public rather&nbsp;than internal. </P>
<P>You evidently allow derived PropertyInfo classes, which can even construct their own custom IFieldData class when CSLA is loading the property data, but I don't see how I could can access&nbsp;the custom IFieldData object directly&nbsp;once I created it. </P>
<P>I could discard some entire classes if I could just store an additional value in a custom IFieldData object that I could get to using the corresponding PropertyInfo object. </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Andreas replied on Wednesday, December 10, 2008</h2><P><SPAN>Yes, yes. Great request. See my post: <o:p></o:p></SPAN></P>
<P><A HREF="/forums/thread/28129.aspx"><SPAN>http://forums.lhotka.net/forums/thread/28129.aspx</SPAN></A><SPAN><o:p></o:p></SPAN></P>
<P><SPAN>To implement an&nbsp;original/new value management you have to&nbsp;call FieldDataManager.GetFieldData() somewhere. Currently the&nbsp;only way to access it&nbsp;is through an ugly and slow reflection call:<o:p></o:p></SPAN></P>
<P><SPAN>this.FieldManager.GetType().GetMethod("GetFieldData", System.Reflection.BindingFlags.FlattenHierarchy | <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.Reflection.BindingFlags.NonPublic | <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.Reflection.BindingFlags.Instance, <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; null, new Type[] { typeof(IPropertyInfo) }, null ).Invoke(this,&nbsp; new object[] { info} );<o:p></o:p></SPAN></P>
<P class=MsoNormal><SPAN><o:p><FONT face=Calibri>&nbsp;</FONT></o:p></SPAN></P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
