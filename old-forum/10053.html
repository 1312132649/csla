<html><header><title>Having a problem with CanSave</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Having a problem with CanSave</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10053.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Hamchuck posted on Wednesday, February 09, 2011</h2><p>I&#39;m using Csla 4.1 along with Bxf, and a ViewModel based on a DynamicBindingListBase. For some reason that I don&#39;t understand the CanSave is always false. When I debug the code in ViewModelBase.ca, in the method <strong>SetProperties</strong> the first line is</p>
<p>
<p><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;">ITrackStatus</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"> targetObject = Model </span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">as</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"> </span></span><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;">ITrackStatus</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">;</span></span></p>
<p>If I look at the value of Model is not NULL but equals the number of records in the DBLB, I&#39;ll step to the next line and inspect targetObject and its Null, its always NULL and because of that the following lines of code never get executed and the CanSave is always False.&nbsp; Is this happening because I&#39;m using a DBLB business object ?</p>
<p>// Does Model instance implement ITrackStatus</p>
<p>if (targetObject !=null)</p>
<p>{</p>
<p>&nbsp; CanSave = CanEditObject &amp;&amp; targetObject.IsSavable &amp;&amp; !isObjectBusy;</p>
<p>...</p>
<p>&nbsp;</p>
</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Hamchuck replied on Wednesday, February 09, 2011</h2><p>I have since changed the BO to a Editable Root List and now the CanSave works as expected.</p>
<p>Does a DBLB support CanSave ?</p>
<p>Or is this a bug of somekind ?</p>
<p>Or is there something I&#39;m missing in reguards to a DBLB object ?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JonnyBee replied on Wednesday, February 09, 2011</h2><p>DynamicListBase will save changes immediately to each row when another object is selected.<br />(ie - Nether you or the ViewModel can control the Save method).</p>
<p>So
 the ViewModel is created for BusinessListBase lists - not 
DynamicListBase lists and will not work well with DynamicListBase .</p>
<p>Read the preveious threads about VievModelBase and DynamicListBase: </p>
<p><a href="http://forums.lhotka.net/forums/p/10021/47022.aspx#47022">http://forums.lhotka.net/forums/p/10021/47022.aspx#47022</a> </p>
<p>and <a>http://forums.lhotka.net/forums/p/9978/46789.aspx#46789 </a></p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
