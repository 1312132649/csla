<html><header><title>Lookup Table Collection Design</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Lookup Table Collection Design</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1045.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>RealQuiet posted on Monday, August 28, 2006</h2><P>I am working on an application with quite a few "lookup" tables.&nbsp; I am building a LookupTableCollection class that holds LookupTable objects that are name value lists.&nbsp; The LookupTableCollection class handles the caching and expiring for the members in the collection.&nbsp; </P>
<P>The problem for me is that some of lookup table keys are integers and some are strings (not my database design).&nbsp; I was going for something like:</P><FONT color=#0000ff size=2>
<P>class</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>LookupTable</FONT><FONT size=2>&lt;T&gt; : </FONT><FONT color=#008080 size=2>NameValueListBase</FONT><FONT size=2>&lt;T, </FONT><FONT color=#0000ff size=2>string</FONT><FONT size=2>&gt;</FONT></P>
<P><FONT size=2><FONT size=3>The problem with this is that I can't (or don't think I can) have a collection of LookupTable&lt;T&gt;.&nbsp; I can have a collection of LookupTable&lt;int&gt; or LookupTable&lt;string&gt;, but the collection wouldn't be able to hold both.&nbsp; As far as I can tell, I have two options (neither of which I like that much).&nbsp; </FONT></FONT></P>
<P><FONT size=2><FONT size=3>I want to avoid&nbsp;creating a separate class for each lookup table.&nbsp; The other option is to do this:</FONT></FONT></P><FONT color=#0000ff size=2>
<P>class</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>LookupTable</FONT><FONT size=2> : </FONT><FONT color=#008080 size=2>NameValueListBase</FONT><FONT size=2>&lt;</FONT><FONT color=#0000ff size=2>object</FONT><FONT size=2>, </FONT><FONT color=#0000ff size=2>string</FONT><FONT size=2>&gt;</FONT></P>
<P><FONT size=2><FONT size=3>I don't really like this because I'm losing the advantage of the generics by having an object as the key to the name value list.</FONT></P></FONT>
<P><FONT size=2><FONT size=3>I would appreciate any guidance in the right direction on this.</FONT></FONT></P>
<P><FONT size=2><FONT size=3>Thanks!</FONT></P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>figuerres replied on Monday, August 28, 2006</h2><P>I don't have my Generics book handy -- it's at the office :-(</P>
<P>but I think if you do a bit of implimentation work you can have multiple generic's as parmaeters to form a complex type.</P>
<P>think "List of &lt;T1,T2&gt;"</P>
<P>where T1 is the Key Type and T2 is the Value Type</P>
<P>if you can't find the right example I'll look for the book at my office tomrow.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RealQuiet replied on Tuesday, August 29, 2006</h2><P>I'm not sure that I am following you.&nbsp; In my situation, I know that T2 will be a string, so I can specify that.&nbsp; I think I may be trying to do something that I just can't do.&nbsp; I would like to do something like this:</P>
<P>class<FONT size=2> </FONT><FONT color=#008080 size=2>LookupTable</FONT><FONT size=2>&lt;T&gt; : </FONT><FONT color=#008080 size=2>NameValueListBase</FONT><FONT size=2>&lt;T, </FONT><FONT color=#0000ff size=2>string</FONT><FONT size=2>&gt;</FONT></P>
<P>class<FONT size=2> </FONT><FONT color=#008080 size=2>LookupTableList</FONT><FONT size=2> : </FONT><FONT color=#008080 size=2>NameValueListBase</FONT><FONT size=2>&lt;string, </FONT><FONT color=#008080 size=2>LookupTable<FONT color=#000000>&lt;<STRONG>string</STRONG> <EM>or </EM><STRONG>int</STRONG>&gt;</FONT></FONT><FONT size=2>&gt;</FONT></P>
<P>But I think I have to specify string or int string or int and can't have both.&nbsp; For now I have gone with:</P>
<P>class<FONT size=2> </FONT><FONT color=#008080 size=2>LookupTable</FONT><FONT size=2> : </FONT><FONT color=#008080 size=2>NameValueListBase</FONT><FONT size=2>&lt;<FONT color=#0000ff>object</FONT>, </FONT><FONT color=#0000ff size=2>string</FONT><FONT size=2>&gt;</FONT></P>
<P>class<FONT size=2> </FONT><FONT color=#008080 size=2>LookupTableList</FONT><FONT size=2> : </FONT><FONT color=#008080 size=2>NameValueListBase</FONT><FONT size=2>&lt;string, </FONT><FONT color=#008080 size=2>LookupTable</FONT><FONT size=2>&gt;</FONT></P>
<P>This is working, but I was hoping there was a better way to do this to take advantage of generics and not use object.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Tuesday, August 29, 2006</h2>You could make it:<br><br>class<font size="2"> </font><font color="#008080" size="2">LookupTableList</font><font size="2"> : </font><font color="#008080" size="2">NameValueListBase</font><font size="2">&lt;string, </font><font color="#008080" size="2">IBindingList</font><font size="2">&gt;<br><br></font>That will work, but you loose strong typing.<br>The other possibility is to have it like:<br><br>class<font size="2"> </font><font color="#008080" size="2">LookupTableList</font><font size="2"> &lt;T&gt; : </font><font color="#008080" size="2">NameValueListBase</font><font size="2">&lt;string, </font><font color="#008080" size="2">LookupTable<font color="#000000">&lt;T&gt;</font></font><font size="2">&gt;<br><br><br></font>But then you will need different lists for different types.<br><br>Lastly, you could just have a standard collection to hold your lists. Since they don't use generics, you can add whatever you want there...<br><br><br>Andr√©s<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
