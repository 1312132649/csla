<html><header><title>Checking DB aliveness</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Checking DB aliveness</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/725.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Michael Hildner posted on Tuesday, July 25, 2006</h2><P>Hello,</P>
<P>Is there a CSLA-compliant way to check if the database is accessible?</P>
<P>I need to poll and make sure that the database is currently up. Would like to make sure that whatever I do fits in with CSLA. My initial thought is to have a read only root, probably with a single property, that might return GETDATE() or similar. If Fetch fails, I'll know that the DB is not available at that time.</P>
<P>I realize of course (as does the client), that this is no guarantee that the network/db will be up and running immediately after, but it's a requirement.</P>
<P>Thanks,</P>
<P>Mike</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, July 26, 2006</h2>Yes, I do this currently in my application.<br><br>You do this the same way you would anything; write a use case and start from there.&nbsp; That will guide you with a 'business object' that has the functionality.&nbsp; Instead of Save though you may want to have a Check() method (which could just call save, much like calling Close on a DataReader just calls Dispose behind the scenes).&nbsp; <br><br>Alternately, you can just create a static class which a factory method, the result returns either an instance you can query, or a simple boolean (depending on what you want to do).<br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, July 26, 2006</h2><P>Yes Mike, your answer is a good one. But Andy is right too - this should be a logical part of your object model based on a "See if database is available" use case.</P>
<P>So while I too would use a ROB-derived object, I'd make sure to name it and its factory method appropriately so it is very clear what it is doing:</P>
<P>If DataBase.IsAvailable Then</P>
<P>or something like that. Your factory method doesn't have to return the object - it can just return a boolean.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
