<html><header><title>Click Once with Oracle and CSLA.NET</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Click Once with Oracle and CSLA.NET</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4862.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ejames posted on Monday, May 19, 2008</h2><P><FONT face=Georgia>I've just taken on a WinForms project with a Click Once deployment requirement.</FONT></P>
<P><FONT face=Georgia>Data access uses <FONT face="Courier New">Oracle.DataAccess.dll</FONT> (ODP.NET) which depends on a full client-side&nbsp;install of the Oracle Client.</FONT></P>
<P><FONT face="Courier New"><FONT color=#000000 size=2>My.CSLA.Library.dll </FONT>-&gt; <FONT size=2>Oracle.DataAccess.dll </FONT>-&gt; <FONT color=#000000 size=2>Oracle Client</FONT></FONT></P>
<P><FONT face=Georgia>The Oracle Client cannot be installed via Click Once.&nbsp; If Click Once is to be used to deploy my application I will need to remove my application's client-side dependency on the Oracle Client.</FONT></P>
<P><FONT face=Georgia>I've been thinking a CSLA.NET server-side DataPortal may be able to help.</FONT></P>
<P><FONT face=Georgia>My question is:</FONT></P>
<P><FONT face=Georgia>If <U>all</U> calls to Oracle.DataAccess.dll are executed server-side within CSLA.NET Data Portal, will my application still be dependent on client-side installations of the Oracle Client?</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Monday, May 19, 2008</h2>









 

 
  
 




<div class=Section1>

<p class=MsoNormal><span>I believe it will still need that unless you move ALL data
access code outside of client project.&nbsp; The reason being, your data access
code is still using Oracle client and&nbsp; is still in the same CSLA
class.&nbsp; So, click once will see this as a dependency and will attempt to
distribute DLL.&nbsp; AN option is to distribute DLL, but not use it.&nbsp; This
may work.<o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b><span>Sergey Barskiy<o:p></o:p></span></b></p>

<p class=MsoNormal><b><i><span>Senior Consultant<o:p></o:p></span></i></b></p>

<p class=MsoNormal><span>office: 678.405.0687 |
mobile:&nbsp;404.388.1899</span><span><o:p></o:p></span></p>

<p class=MsoNormal><span><img width=119 height=26 id="Picture_x0020_1" alt="cid:_2_0648EA840648E85C001BBCB886257279"><br>
</span><b><span>Microsoft Worldwide Partner of the Year |</span></b><span> </span><b><span>Custom
Development Solutions, Technical Innovation</span></b><span><o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<div>

<p class=MsoNormal><b><span>From:</span></b><span> ejames
[mailto:cslanet@lhotka.net] <br>
<b>Sent:</b> Monday, May 19, 2008 9:45 AM<br>
<b>To:</b> Sergey Barskiy<br>
<b>Subject:</b> [CSLA .NET] Click Once with Oracle and CSLA.NET<o:p></o:p></span></p>

</div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p><span>I've just taken on a WinForms
project with a Click Once deployment requirement.</span><o:p></o:p></p>

<p><span>Data access uses </span><span>Oracle.DataAccess.dll</span><span> (ODP.NET) which depends on a full
client-side&nbsp;install of the Oracle Client.</span><o:p></o:p></p>

<p><span>My.CSLA.Library.dll</span><span>-&gt;</span><span>Oracle.DataAccess.dll</span><span>-&gt;</span><span>Oracle Client</span><o:p></o:p></p>

<p><span>The Oracle Client cannot be
installed via Click Once.&nbsp; If Click Once is to be used to deploy my
application I will need to remove my application's client-side dependency on
the Oracle Client.</span><o:p></o:p></p>

<p><span>I've been thinking a CSLA.NET
server-side DataPortal may be able to help.</span><o:p></o:p></p>

<p><span>My question is:</span><o:p></o:p></p>

<p><span>If <u>all</u> calls to
Oracle.DataAccess.dll are executed server-side within CSLA.NET Data Portal,
will my application still be dependent on client-side installations of the
Oracle Client?</span><o:p></o:p></p>

<p><span>My.CSLA.Library.dll</span><span>-</span><em><span>server-side only</span></em><em><span>-</span></em><span>&gt;</span><span>Oracle.DataAccess.dll</span><span>-&gt;</span><span>Oracle Client</span><o:p></o:p></p>

<p class=MsoNormal><br>
<br>
<o:p></o:p></p>

</div>



</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, May 19, 2008</h2>
 

 
  
 <BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>sergeyb:</strong></div><div>

I believe it will still need that unless you move ALL data
access code outside of client project.&nbsp; The reason being, your data access
code is still using Oracle client and&nbsp; is still in the same CSLA
class.&nbsp; So, click once will see this as a dependency and will attempt to
distribute DLL.&nbsp; AN option is to distribute DLL, but not use it.&nbsp; This
may work.</div></BLOCKQUOTE><br><br>Hi,<br><br>Just want to point out there's no need to remove the data access code at all.&nbsp; If the OP sets up remoting, as long as none of the code which depends on the Oracle client actually runs, all will be well because .Net lazy loads referenced assemblies.&nbsp; So the OP can just install the client on the remoting target and all should be well.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Monday, May 19, 2008</h2>









 

 
  
 




<div class=Section1>

<p class=MsoNormal><span>I could be totally wrong, but I thought that click once
applications have to have all referenced assemblies to verify the install.<o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b><span>Sergey Barskiy<o:p></o:p></span></b></p>

<p class=MsoNormal><b><i><span>Senior Consultant<o:p></o:p></span></i></b></p>

<p class=MsoNormal><span>office: 678.405.0687 |
mobile:&nbsp;404.388.1899</span><span><o:p></o:p></span></p>

<p class=MsoNormal><span><img width=119 height=26 id="Picture_x0020_1" alt="cid:_2_0648EA840648E85C001BBCB886257279"><br>
</span><b><span>Microsoft Worldwide Partner of the Year |</span></b><span> </span><b><span>Custom
Development Solutions, Technical Innovation</span></b><span><o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<div>

<p class=MsoNormal><b><span>From:</span></b><span> ajj3085
[mailto:cslanet@lhotka.net] <br>
<b>Sent:</b> Monday, May 19, 2008 10:16 AM<br>
<b>To:</b> Sergey Barskiy<br>
<b>Subject:</b> Re: [CSLA .NET] RE: Click Once with Oracle and CSLA.NET<o:p></o:p></span></p>

</div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<blockquote>

<div>

<p class=MsoNormal><img id="_x0000_i1025" src="/Themes/basicblue/images/icon-quote.gif"><strong>sergeyb:</strong><o:p></o:p></p>

</div>

<div>

<p class=MsoNormal>I believe it will still need that unless you move ALL data
access code outside of client project.&nbsp; The reason being, your data access
code is still using Oracle client and&nbsp; is still in the same CSLA
class.&nbsp; So, click once will see this as a dependency and will attempt to
distribute DLL.&nbsp; AN option is to distribute DLL, but not use it.&nbsp;
This may work.<o:p></o:p></p>

</div>

</blockquote>

<p class=MsoNormal><br>
<br>
Hi,<br>
<br>
Just want to point out there's no need to remove the data access code at
all.&nbsp; If the OP sets up remoting, as long as none of the code which
depends on the Oracle client actually runs, all will be well because .Net lazy
loads referenced assemblies.&nbsp; So the OP can just install the client on the
remoting target and all should be well.<br>
<br>
<br>
<o:p></o:p></p>

</div>



</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, May 19, 2008</h2>Hmm, that's a good point.&nbsp; I would think though that as long as the assembly isn't in the ClickOnce manifest, it should be ok.&nbsp; I did try something like this and it "worked," except that I actually used some of the Data assembly client side (a Command object returned a List&lt;Data.MyDataObject&gt;).&nbsp; But the application itself started, IIRC.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ejames replied on Monday, May 19, 2008</h2><P class=MsoNormal><SPAN><O:P><FONT face=Georgia>My&nbsp;idea is to distribute the Oracle.DataAccess.dll via Click Once but not make any data access calls until DataPortal takes my objects server-side.&nbsp;</FONT></O:P></SPAN></P>
<P class=MsoNormal><SPAN><O:P><FONT face=Georgia>Has anyone tried this?</FONT></O:P></SPAN></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Monday, May 19, 2008</h2>









 

 
  
 




<div class=Section1>

<p class=MsoNormal><span>Nope, but I think this should work.<o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b><span>Sergey Barskiy<o:p></o:p></span></b></p>

<p class=MsoNormal><b><i><span>Senior Consultant<o:p></o:p></span></i></b></p>

<p class=MsoNormal><span>office: 678.405.0687 |
mobile:&nbsp;404.388.1899</span><span><o:p></o:p></span></p>

<p class=MsoNormal><span><img width=119 height=26 id="Picture_x0020_1" alt="cid:_2_0648EA840648E85C001BBCB886257279"><br>
</span><b><span>Microsoft Worldwide Partner of the Year |</span></b><span> </span><b><span>Custom
Development Solutions, Technical Innovation</span></b><span><o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<div>

<p class=MsoNormal><b><span>From:</span></b><span> ejames
[mailto:cslanet@lhotka.net] <br>
<b>Sent:</b> Monday, May 19, 2008 10:23 AM<br>
<b>To:</b> Sergey Barskiy<br>
<b>Subject:</b> Re: [CSLA .NET] RE: Click Once with Oracle and CSLA.NET<o:p></o:p></span></p>

</div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span>My&nbsp;idea is to distribute the
Oracle.DataAccess.dll via Click Once but not make any data access calls until
DataPortal takes my objects server-side.&nbsp;</span><o:p></o:p></p>

<p class=MsoNormal><span>Has anyone tried this?</span><o:p></o:p></p>

<p class=MsoNormal><br>
<br>
<o:p></o:p></p>

</div>



</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RikGarner replied on Monday, May 19, 2008</h2><P>I haven't done this with clickonce, but I have an application which uses remoting where Oracle is only installed on the application server, not on the client. Obviously the client code references the OracleDataAccess dll but never uses it, but it doesn't cause a problem. If you can get ClickOnce to deploy the Oracle.DataAccess dll you should find you don't need a full client-side Oracle install.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>McManus replied on Monday, May 19, 2008</h2><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>ejames:</strong></div><div>
<P class=MsoNormal><SPAN><O:P><FONT face=Georgia>My&nbsp;idea is to distribute the Oracle.DataAccess.dll via Click Once but not make any data access calls until DataPortal takes my objects server-side.&nbsp;</FONT></O:P></SPAN></P>
<P class=MsoNormal><SPAN><O:P><FONT face=Georgia>Has anyone tried this?</FONT></O:P></SPAN></P>
<P></div></BLOCKQUOTE></P>
<P>In several projects at our current customer, we use ClickOnce deployment without the need for an Oracle client installation. We've included the Oracle.DataAccess.dll in the ClickOnce distribution. The only reason we do this, is to be able to deserialize&nbsp;OracleExceptions at the client side. </P>
<P>Cheers,<BR>Herman</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ejames replied on Tuesday, May 20, 2008</h2><FONT face=Georgia>Thank you all for your replies.&nbsp; I'm happy to think this technique works as it should.</FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>andy replied on Monday, May 19, 2008</h2><P>It works perfectly fine if you using Click Once with CSLA.NET server-side and only reference classes&nbsp;under Oracle.DataAccess.dll&nbsp;in your DataPortal_XYZ&nbsp;methods for your "CRUD" operations.<BR>It gets routed to the server-side for execution.</P>
<P>Andy</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
