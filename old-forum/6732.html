<html><header><title>blog about enhanced ComboBox; propertystatus interaction</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>blog about enhanced ComboBox; propertystatus interaction</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6732.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>davido_xml posted on Friday, April 03, 2009</h2><P>Ricky,</P>
<P>I am trying out the comboBox code from your blog post.</P>
<P>I used to have:</P><FONT color=#0000ff size=2><FONT color=#0000ff size=2>
<P>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Grid </FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>DataContext</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>StaticResource</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> ExpenseData</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>}"&gt;....</FONT></FONT></P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#0000ff size=2>
<P>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>ComboBox</FONT></FONT>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2></P></FONT></FONT><FONT size=2></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>x</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Name</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="cboClassification"</FONT></FONT>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2></P></FONT></FONT><FONT size=2></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>ItemsSource</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Binding</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Source</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>={</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>StaticResource</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> ClassificationsData</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>},</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Path</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>=Data}"</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>SelectedItem</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Binding</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Path</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>=Data.ClassificationId,</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Converter</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>={</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>StaticResource</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> ClassificationsConverter</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>},</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> ConverterParameter</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>={</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>StaticResource</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> ClassificationsData</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>},</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Mode</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>=TwoWay}"&gt;</P></FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>
<P></FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>ComboBox</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT></P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#0000ff size=2>
<P>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>csla</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>PropertyStatus</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>RelativeTargetName</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="cboClassification"</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Property</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="ClassificationId"</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Source</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Binding</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Path</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>=Data}"</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>HorizontalAlignment</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="Left" /&gt;</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2>And that worked. I tried </FONT></FONT></P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#008000 size=2><FONT color=#008000 size=2>
<P>&lt;enhanced:ComboBox</P>
<P>x:Name="cboClassification"</P>
<P>Style="{StaticResource ComboBoxStyle}"</P>
<P>ItemsSource="{Binding Source={StaticResource ClassificationsData},Path=Data}"</P>
<P>SelectedValue="{Binding Path=ClassificationId, Mode=TwoWay}"</P>
<P>ValueMemberPath="Key"</P>
<P>DisplayMemberPath="Value"/&gt;</P>
<P><FONT color=#000000>But the PropertyStatus control stopped working. Any ideas?</FONT></P></FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, April 03, 2009</h2><P>I don't know&nbsp;- what do you mean "stopped working"? The authz parts, or the validation parts?</P>
<P>In any case, your binding expressions seem out of sync. From the PropertyStatus control it appears that your container control is bound to the CslaDataProvider, but not to its Data property:</P>
<P><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Source</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Binding</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Path</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>=Data}"</P></FONT></FONT>
<P>Then in your extended:ComboBox your SelectedValue binding expression seems to assume that the container has already handled the Data property indirection:</P>
<P>SelectedValue="{Binding Path=ClassificationId, Mode=TwoWay}"</P>
<P>Personally, I try to have the container do the indirection on the Data property, so my actual controls just interact with the business object. This is more comparable to the normal WPF behavior, and makes my XAML more portable between SL and WPF.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>davido_xml replied on Friday, April 03, 2009</h2><P>Thanks. No problem with your code just me. I bet you get that alot:) </P>
<P>Great not to have to write lots of converters.</P>
<P>For others</P><FONT color=#0000ff size=2><FONT color=#0000ff size=2>
<P>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Grid </FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>DataContext</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Binding</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Source</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>={</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>StaticResource</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> ExpenseData</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>},</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Path</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>=Data}"&gt;....</FONT></FONT></P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#0000ff size=2>
<P>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>enhanced</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>ComboBox </FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>x</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Name</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="cboClassification" </FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Style</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>StaticResource</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> ComboBoxStyle</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>}"</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>ItemsSource</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Binding</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Source</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>={</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>StaticResource</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> ClassificationsData</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>},</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Path</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>=Data}"</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>SelectedValue</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Binding</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Path</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>=ClassificationId,</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2> Mode</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>=TwoWay}"</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>ValueMemberPath</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="Key"</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>DisplayMemberPath</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="Value"/&gt;</FONT></FONT></P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#0000ff size=2>
<P>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>csla</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>PropertyStatus </FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>RelativeTargetName</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="cboClassification" </FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Property</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="ClassificationId"</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Source</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="{</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Binding</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>}" </FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>HorizontalAlignment</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="Left" /&gt;</P></FONT></FONT></FONT></FONT></FONT></FONT></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
