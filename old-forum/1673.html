<html><header><title>CodeSmith Templates for Oracle</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CodeSmith Templates for Oracle</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1673.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>mr_lasseter posted on Friday, November 03, 2006</h2><P>Anyone know if these exist?&nbsp; I am looking for CSLA 2.1, but any version will do.&nbsp; </P>
<P>&nbsp;</P>
<P>Thanks,</P>
<P>Mike</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rhoeting replied on Friday, November 03, 2006</h2><P>Just today, we are currently working on extending the 2.1 C# templates to work with either Oracle and SQL, since our backend will be Oracle.&nbsp;&nbsp;It may be several days.&nbsp;&nbsp; The existing&nbsp;team has done&nbsp;such a good job&nbsp;"refactoring" out the&nbsp;data access segments, we believe it can be done in a&nbsp;clear, non-intrusive way.&nbsp; Once complete, we plan to post them out to the CodePlex site for others to use.</P>
<P>Rob&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>EaglePower replied on Friday, November 03, 2006</h2><P>Where are you guys at with the Oracle CSLA 2.1 C# templates?&nbsp; I am starting to work on it too and PL/SQL templates and converting the C# to VB.NET.&nbsp; I would appreciate any help and what to do regarding using stored procs to generate business classes.&nbsp; I am troubleshooting the way it determines Identity or Primary Key fields from the stored procs using the Extended Properties table.</P>
<P>Thanks,<BR>JT</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rhoeting replied on Saturday, November 04, 2006</h2>JT, we just started so we're not very far.&nbsp; One of my team members has taken ownership of the problem and is working thru the issues associated with discovering schema object thru an oracle connnection.&nbsp; Why don't you shoot me an email and we can discuss this further offline: rhoeting@gmail.com.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Saturday, November 04, 2006</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>EaglePower:</strong></div><div>
<P>Where are you guys at with the Oracle CSLA 2.1 C# templates?&nbsp; I am starting to work on it too and PL/SQL templates and converting the C# to VB.NET.&nbsp; I would appreciate any help and what to do regarding using stored procs to generate business classes.&nbsp; I am troubleshooting the way it determines Identity or Primary Key fields from the stored procs using the Extended Properties table.</P>
<P></div></BLOCKQUOTE></P>
<P>If you are trying to generate to Oracle and use the Oracle database to supply data, "Extended Properties" in the Sql Server sense does not exist.&nbsp; There are a huge set of well defined and very complete&nbsp;views to pull schema info from (unlike Sql Server, which has poorly defined and incomplete views).</P>
<P>Don't have Oracle installed at the moment, but the views have names like "All_Tables", "All_Constraints", etc.&nbsp;&nbsp;&nbsp; To get the equivalent of the Sql Server Select statement returning a result set, I think you will have to use a Ref Cursor.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bobhagan replied on Sunday, November 05, 2006</h2>Nonetheless, to use Codesmith you need to create a table called Extended Properties in your schema.<br>If I remember, there is a script to create this in the OracleSchemaProvider on Eric's site.<br><br>On Ref Cursors - I asked about this some time ago here and on asp.net.&nbsp; http://forums.asp.net/thread/1304557.aspx<br>It appears that they do work in VS2003 but don't with 2005 if you use the MS OracleClient.&nbsp; You seem to have to use the Oracle version.&nbsp; I'm just messing around (prototyping) in 2005 and switched to dynamic queries and haven't explored this further.<br><br>Bob Hagan<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Sunday, November 05, 2006</h2><P>I know that oracle released a free "Oracle for .Net" set of classes.&nbsp; Haven't worked with them, but have heard good things about them from my oracle set of friends.</P>
<P>Oracle (<A href="http://www.oracle.com">www.oracle.com</A>) has a Technology Network section on on its website&nbsp;where you can pretty much download all their tools to use at home to learn with for free.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bobhagan replied on Sunday, November 05, 2006</h2><font size="3">They have an Oracle Express that parallels SQL Server Express, that is supposed to also be able to be copied from one machine to another.&nbsp; Aimed at small businesses.&nbsp;&nbsp; I just downloaded the Oracle for Net tools.&nbsp; Runs as Oracle Explorer inside VS 03 and 05.&nbsp; So far so good.<br><br><br></font></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Kahn replied on Sunday, November 05, 2006</h2>Personally I would suggest the data access code be removed from the BO classes and put into a separate class i.e. Data Provider with methods for all of the Data Providers (ODBC,SQL,Oracle etc.) and changing from one database to another shouldn't be too difficult. On generating Stored Procs, I have little experience in Oracle so I cant give too much incite but probably a next few months when I have time i will attempt this.<br><br>Please post your feedback for the rest of us to learn from.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>mr_lasseter replied on Monday, November 06, 2006</h2><P>I looked at using CodeSmith at first, but opted to use MyGeneration (since I have already written templates for it before and its free).&nbsp; Using MyGeneration there is no need to create&nbsp;an ExtendedProperties table.&nbsp; MyGeneration allows you to create your own meta data that is stored in a file for each table, field, etc...</P>
<P>Also I am generating my procedures as such and I am using the System.Data.OracleClient.dll with a 9i database and everything seems to be working just fine. </P>
<P>-- Create the Package if it hasn't been already<BR>DECLARE n VARCHAR(256);<BR>BEGIN<BR>SELECT OBJECT_NAME INTO n FROM SYS.ALL_OBJECTS WHERE OBJECT_NAME = 'MYGEN' AND OWNER = 'TIMS';<BR>EXCEPTION<BR>WHEN NO_DATA_FOUND THEN<BR>EXECUTE IMMEDIATE 'CREATE PACKAGE TIMS.MYGEN IS TYPE sqlcur IS REF CURSOR; END MYGEN;';<BR>END;<BR>/</P>
<P>CREATE OR REPLACE PROCEDURE "TIMS"."SP_T_BILL_SUMMARY_DETAIL_TYPES_GET"<BR>(<BR>&nbsp;&nbsp;&nbsp;&nbsp; outCursor OUT TIMS.MYGEN.sqlcur<BR>)<BR>IS<BR>BEGIN<BR>&nbsp;&nbsp;&nbsp; OPEN outCursor FOR<BR>&nbsp;SELECT<BR>&nbsp;&nbsp;DETAIL_TYPE,<BR>&nbsp;&nbsp;DESCRIPTION<BR>&nbsp;FROM T_BILL_SUMMARY_DETAIL_TYPES<BR>;<BR>END;<BR>/</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
