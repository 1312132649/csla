<html><header><title>Multiple DataAnnotation's attribute bug</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Multiple DataAnnotation's attribute bug</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7789.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Regent posted on Thursday, October 15, 2009</h2>A have a property called CatalogNumber defined as:<br /><br /><font face="Lucida Console" size="2"><br />        private static PropertyInfo&amp;lt;string&amp;gt; CatalogNumberProperty = RegisterProperty&amp;lt;string&amp;gt;(p =&amp;gt; p.CatalogNumber);<br />        [Required, StringLength(50)]<br />        [Indexable]<br />        public string CatalogNumber<br />        {<br />            get { return GetProperty(CatalogNumberProperty); }<br />            set { SetProperty(CatalogNumberProperty, value); }<br />        }<br /></font><br /><br />Later I found that validation work wrong when the same property have more than one <font face="Lucida Console" size="2">ValidationAttribute</font>.<br /><br />Specifically in this case when I assign p.CatalogNumber = new string('t', 100) it checks according to ValidationRules.CheckRules(List&amp;lt;IRuleMethod&amp;gt; list)<br />1. StringLengthAttribute - will add broken rule named 'rule://Csla.Validation.CommonRules/DataAnnotation/CatalogNumber';<br />2. RequiredAttribute - will clear broken rule named 'rule://Csla.Validation.CommonRules/DataAnnotation/CatalogNumber'<br /><br />So the problem is that all DataAnnotation rules have the same name for the same property.<br /><br />I recommend to add attribute's type name, like 'rule://Csla.Validation.CommonRules/DataAnnotation/CatalogNumber?RequiredAttribute'</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
