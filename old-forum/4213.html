<html><header><title>EditableRootListBase losing its parent reference</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>EditableRootListBase losing its parent reference</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4213.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tetranz posted on Tuesday, January 22, 2008</h2>Hi Rocky<br><br>I've jumped from 3.0.0 to 3.0.3 and I have a EditableRootListBase where I make use of the Parent property in the item's DataPortal_Update. This has been working fine but now the parent is null.<br><br>It seems to be related to the cloning change introduced in 3.0.2. I haven't done anything with autoclone so I guess its off by default. I think it loses the parent reference on clone. If I comment out the cloning code around line 90 of ERLB then it works again.<br><br>Ross<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, January 23, 2008</h2><P>It isn't actually valid to use the Parent reference in a DataPortal_XYZ method when the parent is an ERLB. The reason is because it would fail with a remote data portal. The ERLB doesn't transfer to the server in that case - only the root object being saved moves to the server, and so any parent reference would be referencing the ERLB back on the client.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, January 23, 2008</h2><P>I suppose I should offer an alternative solution though <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" /></P>
<P>I recommend that you change your code to do any sort of parent-related checks in a Save() override. </P>
<P>And if your DataPortal_Update() method needs some parent information (or sibling information) then in your Save() override needs to copy that data into some temporary state store <EM>inside the root object that's being saved</EM>.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tetranz replied on Wednesday, January 23, 2008</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>RockfordLhotka:</strong></div><div>It isn't actually valid to use the Parent reference in a DataPortal_XYZ method when the parent is an ERLB. The reason is because it would fail with a remote data portal.</div></BLOCKQUOTE><br>Ahh ... yes that makes sense, Thanks.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
