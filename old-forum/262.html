<html><header><title>Validation Messages Based on the property name</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Validation Messages Based on the property name</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/262.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>nermin posted on Saturday, June 03, 2006</h2>Hello everybody,<br>My problem is a validation message like "EmailAddress required." (notice no space between Email and Address - it is an actual property name).&nbsp; I was hoping to see past posts on&nbsp; this issue, but have not found anything yet.<br><br>I would like to solve this by creating an Attribute like, for example ValidationNameAttribute that can be assigned to class properties and hold the "user&nbsp; friendly" description of a property name.<br><br>Then the only way I see to implement this is by replacing common rules methods with one my own.&nbsp; For example if you take a look at the StringRequiredRule, I would replace the line that states:<br><br>e.Description = e.PropertyName + " required";<br><br>with following lines:<br>ValidationNameAttribute valName = GetValidationNameAttr(target, e.PropertyName);<br>if(valName == null)<br>&nbsp;&nbsp;&nbsp; e.Description = e.PropertyName + " required";<br>else<br>&nbsp;&nbsp;&nbsp; e.Description = valName.PropertyName + " required";<br><br>Where GetValidationNameAttr() would be a method that uses a reflection to check whether specified property has ValidationNameAttribute assigned, and if it does passes back a reference to it.<br><br>The reason I am asking if this is correct approach is that this&nbsp; looks like too common problem not to be solved by someone else, and therefore I would like to compare other approeches to mine, and also I do not want to reinvent the wheel if someone else has already implemented this.<br><br>I am also hoping that if Rocky happens to read this post, to hear his opinion, and if the solution could be "compatible" name wise and such with future direction of CSLA 2.0.x that would be even better.<br><br>Another idea that I would like to propose is if this web site could also hold a libraries of proposed extensions to the CSLA, and then we as user's could either contribute or vote, having the most popular ones being the most likely to be built in the future&nbsp; versions of CSLA core.&nbsp; I believe that is what NAnt community does with their extensions.<br><br>Thanks,<br><br>Nermin<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Sunday, June 04, 2006</h2>Why not use the resources instead?&nbsp; You can use the property name to point to an entry in the resources file that contains the name of the property and use that instead.&nbsp; Something like this could work:<br><br>ResourceManager.GetString(e.PropertyName + "Required", System.Globalization.CultureInfo.CurrentUICulture);<br><br>could return "Property Name required" and have the bonus of being localizable.&nbsp; This could then default to e.PropertyName + " required" if it could not find the resource string.<br><br>Edit: The downside of this is that the rule definitions have to be in your assembly along with the resource strings.<br><br>I personally think it would be easier if everyone posts their modifications to CSLA as groups of files.&nbsp; Otherwise we might have too many versions of assemblies running around.&nbsp; Maybe this could be in a separate section of the forum to help keep them together.&nbsp; Which reminds me, I need to post my updated FilterableListBase and SafeDataRowReader one of these days...<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nermin replied on Sunday, June 04, 2006</h2>

<p class="MsoNormal">Thanks Brian, <br>
<br>
I really like your idea, especially because it takes localization into account.&nbsp;
Like you said the problem would be down the road if I want to create a shared
library of Custom rules that would be moved into a separate assembly.&nbsp; <br>
<br>
I am sure we could account for that by creating a config file entry that
designates in&nbsp;which assembly we should look for the resource strings
besides the assembly where rules are defined.&nbsp; Another solution is to
always look for resource strings in two places: <br>
1. main assembly<br>
2. assembly that contains the rules<br>
<br>
As far as the extensions to the CSLA,&nbsp; I was thinking that any proposed
solution would not delve into main CSLA source but rather define overrides in
separate assemblies that could be shared amongst us.&nbsp; Then the ideas from
those libraries, if they are popular could be considered in future versions of
CSLA, and merged back into the main assembly.&nbsp; Just an idea, I am not sure
whether this is feasible.</p>

<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>AaronEngel replied on Thursday, November 16, 2006</h2>I am using the approach found under post <A HREF="/forums/post/6566.aspx">http://forums.lhotka.net/forums/post/6566.aspx</A>&nbsp;with success.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Thursday, November 16, 2006</h2><P>Take a look at PublicRuleInfo in the CslaSrd sub-project within the Csla Contrib project.</P>
<P>I've gotten&nbsp;good part of what you wnat working there, using a resources file.</P>
<P>I'm planning to add support for "property user-names" to the code over the next week.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, November 17, 2006</h2>fwiw, this topic is on my <a href="http://www.lhotka.net/Article.aspx?area=4&amp;id=42066ed8-ea65-44a3-b7fd-035c9d8bfa36">to-do list</a> for future versions of the framework, so the ability to pass a human-friendly property name would exist directly in RuleArgs.<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, November 17, 2006</h2>I'm also considering using the decorator pattern to create another standard variation on RuleArgs (or perhaps in RuleArgs itself) so it would be possible to pass arbitrary name/value pairs through to the rule method.<br><br>Right now the only way to pass extra data is to create subclasses of RuleArgs - which is elegant, but makes some common code-gen scenarios much harder than they could be. If RuleArgs has an associated dictionary for arbitrary values, it would be easier to pass simple parameter values in a standardized manner, without a code-gen tool needing to somehow know, or infer, the type of the args parameter coming into the rule method.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
