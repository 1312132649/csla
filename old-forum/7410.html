<html><header><title>ValidationRules</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>ValidationRules</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7410.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>greengumby posted on Thursday, August 06, 2009</h2>Could be a very simple problem but I added a <br />ValidationRules.AddRule(Csla.Validation.CommonRules.StringRequired, StkeyProperty);<br /><br />and found that the only way I could get this rule to be run was as follows<br /><br />set { <br />                SetProperty(StkeyProperty, value);<br />                ValidationRules.CheckRules(StkeyProperty);<br />            }<br /><br />Shouldn't SetProperty run the rules by default?<br /><br />Thanks<br />Jeremy</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Thursday, August 06, 2009</h2>Hi,<br><br>ValidationRules are checked only if the new value is different from old value. <br><br>And if you are not using BypassPropertyChecks properly you may also never return to the norpam property handling in SetProperty. BypassPropertyChecks should always have a using, ie<br><br>using (BypassPropertyChecks()) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // set properties og Fetch or default values <br>}<br>// when leaving the using BO return to normal property handling <br><br>Maybe you could post your class code for inspection? <br><br>/jonnybee<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>greengumby replied on Thursday, August 06, 2009</h2>Ahh yes I missed a CheckRules() on Create to set the broken rules up immediately so my new value of null was not different to the old value of null.<br /><br />Thanks jonnybee</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
