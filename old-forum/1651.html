<html><header><title>Serialization problem on custom event handler</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Serialization problem on custom event handler</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1651.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dean posted on Tuesday, October 31, 2006</h2>Have a situation where a custom eventhandler and serialization is not playing nicely together.<br><br>this is my object structure:<br><br>Root (Order)<br>&nbsp;&nbsp; ChildCollection (OrderDetails)<br>&nbsp;&nbsp; &nbsp;Child (OrderDetail)<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ChildChild (OrderPrice) <br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Childchild (OrderSize)<br><br>In both the childChild objects and in the OrderDetail object I have custom events that communicate price changes between the three objects and up to the root object. I declared these as outlined in the book with the nonserialized attribute on the mNonSerializableHandlers variable and then the Public Custom Event... code. <br><br>Now when beginEdit is called on the child and a copystate occurs this cascades down to the ChildChild objects. But these serializations of the childchild are both putting a huge amount of data on the stack (and eventually out of memory exceptions). Note: this is not happening on the child - it serializes just fine.<br><br>I added NotUndoable to the NonSerialized attribute on the mNonSerializeHandler declaration and that seems to fix the problem. But I of course don't really understand why the serialization of the child is working fine but the serialization of the childchild is not working. I think it has something to do with the undoablebase code.<br><br>Any thoughts?<br><br>Dean</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
