<html><header><title>How to handle calculation and saving of a huge data</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to handle calculation and saving of a huge data</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11314.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>sutono posted on Wednesday, April 18, 2012</h2><p>Hi Experts,</p>
<p>Currently i&#39;m building a web application which will be used by a lot of users around countries.</p>
<p>I have a feature in my application which is &quot;Data Simulation&quot; of specifications of a Finish Goods Materials. In this feature, users allow to filtering or changing the parameters before doing the simulation so that they can get the final cost to do planning and analysis of their business. Simulation is being done by a quite complicated calculation flow within BO and usually 1 speq record take around 1-2 mins to be done.</p>
<p>Now my customer got 700++ records needs to be simulated, imagine 1 record take 2mins, so 700 records means 1400mins, i&#39;m going crazy handling this huge data on my application and also i can&#39;t imagine if there&#39;re more than 1 user doing simulation at the same time. Is there any suggestion from you guys which have more experience than me handling such a huge data coming in and perform calculation + saving data?</p>
<p>fyi: I&#39;m using .Net Framework 3.5, with CSLA Framework as the Business Object and MVC 2.0 Framework as the User Interface layer.</p>
<p>Thank you so much in advance for your &nbsp;suggestion</p>
<p>Stone</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bniemyjski replied on Wednesday, April 18, 2012</h2><p>Do you have to immediately have to show the results? Have you considered moving this to a background service and then show the user any completed calculations (via a db query)? I think this would be the most&nbsp;reliable&nbsp;approach. What happens if your application pool crashes right in the middle of the sims (lets say 200).</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, April 18, 2012</h2><p>I&#39;d definitely look into what can be optimized. </p>
<ol>
<li>Dataaccess with inserts of many records is always best handled by the SqlBulkCopy class.<br />Inserting 10.000 rows as an example shouldn&#39;t take more than a couple of seconds. </li>
<li>Hugeamounts of data coming in may be optimzed on the wire with compression. </li>
<li>For long running jobs I&#39;d prefer to just save and start an asyncronous process to do the calculation.<br />And let the user/application do some polling to get the result. </li>
<li>Quite often you can get better perfomance thoru SQL and/or Index optimization. </li>
</ol>
<p>Using a good .NET profiler and SQL Profiler is key to finding out what takes time in the application. </p>
<p>Here&#39;s a a nice articles on SqlbulkCopy: <br /><a title="http://www.adathedev.co.uk/2010/02/sqlbulkcopy-bulk-load-to-sql-server.html" href="http://www.adathedev.co.uk/2010/02/sqlbulkcopy-bulk-load-to-sql-server.html">http://www.adathedev.co.uk/2010/02/sqlbulkcopy-bulk-load-to-sql-server.html</a></p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
