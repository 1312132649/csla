<html><header><title>Server code updating UI, what is proper way to do this?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Server code updating UI, what is proper way to do this?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9673.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Savij posted on Monday, October 25, 2010</h2><p>Hello,</p>
<p>I am using Csla with Silverlight 4. To make things simple, think of an order screen on a POS system, you add items to an order and you can click on items in the order and edit them. Assume that editing a line item can affect other line items. For instance buying a related item in another line affects the price of the first line, etc. The important thing is that line items can affect other line items.</p>
<p>I have an order object which has a child itemsCollection. When an item is added/edited it&#39;s handled on the server side via dataportal. So far so good. What&nbsp;I want to do is create a queue collection to handle line item changes. So adding an item, or editing an item is just an object I drop in a queue (just a Csla collection itself). On the server side, I can just loop the queue and process that add&#39;s or edits one at a time. The thing is, as I process these edits they can cause other line items to change.</p>
<p>I need a way to tell my Silverlight UI elements in&nbsp;the view to show the line as currently updating. </p>
<p>Even if I iterated the queue on the client and marked the line as busy while they processed, I still wold not see affected lines updating so that doesnt work either.</p>
<p>&nbsp;How can I update my UI rows, when the items on the server are&nbsp;being processed? &nbsp;</p>
<p>&nbsp;</p>
<p>Thanks for any suggestions!</p>
<p>-Jeff</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, October 27, 2010</h2><p>Hi,</p>
<p>This is not a supported scenario within Csla DataPortal. </p>
<p>See this thread for more details: <a target="_blank" title="http://forums.lhotka.net/forums/t/7369.aspx" href="http://forums.lhotka.net/forums/t/7369.aspx">http://forums.lhotka.net/forums/t/7369.aspx</a> &nbsp; </p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, October 27, 2010</h2><p>Jonny is right.</p>
<p><i>However</i>, maybe this would work:</p>
<p>Use the dual http channel (Silverlight has one - it uses efficient polling from client to server) for the data portal configuration. I think the data portal will work fine with it, though I&#39;ve never tried.</p>
<p>If the data portal works with the dual channel, then you can pass a callback reference to the server code, so it could do callbacks to the client. You&#39;ll have to read through how to use the dual channel to actually do this - I&#39;ve never looked into it.</p>
<p>So it might not be easy, but it might be possible - at least from Silverlight.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
