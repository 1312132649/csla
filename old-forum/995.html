<html><header><title>DataPortal_Fetch method call failed - null reference. </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DataPortal_Fetch method call failed - null reference. </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/995.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>garevalo posted on Wednesday, August 23, 2006</h2>Hi, <br>I'm hoping I can get some useful tips to troubleshoot my install of CSLA 2.0.3 ProjectTracker Demo (trying to get the PTWeb to run). <br>I followed the setup instructions in the PDF. PTWin works fine. I know PTWeb uses EnterpriseServices and maybe that's where I missed something. I'm on CH4 almost at page 200 :P <br><br>So when I start the web app, it starts running ok until i click on project list, resource list, or project roles. <br><br>I get this page error:<br><br>==============================================&lt;Page Error<br>Server Error in '/PTWebCs' Application.<br><br>Object reference not set to an instance of an object. <br><br>Line 20:&nbsp;&nbsp;&nbsp;&nbsp; public static ProjectList GetProjectList()<br>Line 21:&nbsp;&nbsp;&nbsp;&nbsp; {<br>Line 22:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return DataPortal.Fetch&lt;ProjectList&gt;(new Criteria());<br>Line 23:&nbsp;&nbsp;&nbsp;&nbsp; }<br>Line 24: <br><br>Source File: C:\ProjectTrackerCSLA\ProjectTracker20cs\ProjectTracker.Library\ProjectList.cs&nbsp;&nbsp;&nbsp; Line: 22 <br><br>Stack Trace: <br><br>[NullReferenceException: Object reference not set to an instance of an object.]<br><br>[CallMethodException: DataPortal_Fetch method call failed]<br><br>[DataPortalException: DataPortal.Fetch failed]<br>&nbsp;&nbsp; Csla.DataPortal.Fetch(Type objectType, Object criteria) in C:\Documents and Settings\G-\My Documents\Visual Studio 2005\Projects\ProjectTrackerCSLA\csla20cs\Csla\DataPortal\Client\DataPortal.cs:191<br>&nbsp;&nbsp; Csla.DataPortal.Fetch(Object criteria) in C:\Documents and Settings\G-\My Documents\Visual Studio 2005\Projects\ProjectTrackerCSLA\csla20cs\Csla\DataPortal\Client\DataPortal.cs:138<br>&nbsp;&nbsp; ProjectTracker.Library.ProjectList.GetProjectList() in C:\ProjectTrackerCSLA\ProjectTracker20cs\ProjectTracker.Library\ProjectList.cs:22<br>&nbsp;&nbsp; ProjectList.GetProjectList() in c:\ProjectTrackerCSLA\ProjectTracker20cs\www\PTWeb\ProjectList.aspx.cs:88<br>&nbsp;&nbsp; ProjectList.ProjectListDataSource_SelectObject(Object sender, SelectObjectArgs e) in c:\ProjectTrackerCSLA\ProjectTracker20cs\www\PTWeb\ProjectList.aspx.cs:77<br>&nbsp;&nbsp; Csla.Web.CslaDataSource.OnSelectObject(SelectObjectArgs e) in C:\Documents and Settings\G-\My Documents\Visual Studio 2005\Projects\ProjectTrackerCSLA\csla20cs\Csla\Web\CslaDataSource.cs:123<br>&nbsp;&nbsp; Csla.Web.CslaDataSourceView.ExecuteSelect(DataSourceSelectArguments arguments) in C:\Documents and Settings\G-\My Documents\Visual Studio 2005\Projects\ProjectTrackerCSLA\csla20cs\Csla\Web\CslaDataSourceView.cs:60<br>&nbsp;&nbsp; System.Web.UI.DataSourceView.Select(DataSourceSelectArguments arguments, DataSourceViewSelectCallback callback) +17<br>&nbsp;&nbsp; System.Web.UI.WebControls.DataBoundControl.PerformSelect() +149<br>&nbsp;&nbsp; System.Web.UI.WebControls.BaseDataBoundControl.DataBind() +70<br>&nbsp;&nbsp; System.Web.UI.WebControls.GridView.DataBind() +4<br>&nbsp;&nbsp; System.Web.UI.WebControls.BaseDataBoundControl.EnsureDataBound() +82<br>&nbsp;&nbsp; System.Web.UI.WebControls.CompositeDataBoundControl.CreateChildControls() +69<br>&nbsp;&nbsp; System.Web.UI.Control.EnsureChildControls() +87<br>&nbsp;&nbsp; System.Web.UI.Control.PreRenderRecursiveInternal() +41<br>&nbsp;&nbsp; System.Web.UI.Control.PreRenderRecursiveInternal() +161<br>&nbsp;&nbsp; System.Web.UI.Control.PreRenderRecursiveInternal() +161<br>&nbsp;&nbsp; System.Web.UI.Control.PreRenderRecursiveInternal() +161<br>&nbsp;&nbsp; System.Web.UI.Control.PreRenderRecursiveInternal() +161<br>&nbsp;&nbsp; System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +1360<br><br>==================================================&lt;END Page Error<br><br><br>VS2005 says:<br><br>An exception of type 'Csla.DataPortalException' occurred in Csla.DLL but was not handled in user code<br>Additional information: DataPortal.Fetch failed<br><br>and it breaks at line 191 in DataPortal.cs in the ProjectTracker.Library project. <br><br>I tweaked a couple of things to get up an running. Namely my dbconnection strings in all projects after attaching the databases to SQLEXPRESS 2005 and also the &lt;pages&gt; element to include parameter for enableSessionState="true" because that was the very first error i experienced upon fresh install and run. <br><br>thanks all, thanks Lhotka<br><br>G-</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>garevalo replied on Wednesday, August 23, 2006</h2>i can get the local, webService, and remoting configs to run fine except for the EnterpriseServices. I regsvcs.exe the EnterpriseServicesHostCs.dll - <br>i'll bother with that config when i get to chapter 12, i guess, unless somebody can help me with the COM+ config. thanks<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, August 23, 2006</h2>There's more to it than just running regsvcs. You have to configure the COM+ application as well. This is discussed in Chapter 12, and isn't overly complex.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
