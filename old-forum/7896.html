<html><header><title>Question About CslaDataProvider ob Page.xaml</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Question About CslaDataProvider ob Page.xaml</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7896.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav posted on Wednesday, October 28, 2009</h2>Now that my object graph is being fetched just fine, I am not seeing the data being displayed in my page.<br /><br />I know for sure that the data is being fetched when the page opens, and also when I call Refresh from a Button_Click.<br /><br />I have a StackPanel with two TextBlocks and the DataContext set up thus:<br />DataContext="{Binding Source={StaticResource frameData}, Path=Data}"<br /><br />The Text property of one of the TextBlocks is:<br />="{Binding DefaultSpecialtyName, Mode=OneWay}"<br /><br />DefaultSpecialtyName field is in the Root object. I know that this field is populated by examining it as it is leaving DataAccess module. But the TextBlock shows empty.<br /><br />I assume the Data in CslaDataProvider points to the root object.  I will need to access the entire object graph which is about 5 deep.  Do I use:<br /><br />RootObject.Category.Subcategory etc. when {Binding } to controls<br /><br />Thanks<br />Javed<br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, October 28, 2009</h2><P>It sounds like you are doing the right thing, but clearly something isn't set up right.</P>
<P>Yes, in Silverlight you should set the datacontext to the Data property of the data provider control. That gets you to the root object.</P>
<P>To get to child objects, I typically change the datacontext of sub-regions (Grid or StackPanel controls) to point to the child property off the current datacontext.</P>
<P>Suppose my root is a SalesOrder object, and my form is bound to it like this:</P>
<P>&lt;Grid DataContext="{Binding Source={StaticResource OrderProvider}, Path=Data}"&gt;</P>
<P>Then <EM>inside that grid</EM> I could have another container control like this:</P>
<P>&lt;Grid DataContext="{Binding Path=LineItems}"&gt;</P>
<P>Now everything in this second Grid has a datacontext of the LineItems collection off the sales order.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Wednesday, October 28, 2009</h2>Thanks Rocky.<br /><br />Since posting the above message, I have taken a look at the InventoryDemo, specifically to see how the child objects were handled.  <br /><br />The object graph that I am working with is to be used to actually create the UI, not to display/edit the data. I can't say that I can see my way clear to the end, but InventoryDemo example looked interesting.  <br /><br />Right now I am reading all the tables into a dataset and using DataRelations to populate all the objects in the object graph. With the heirarchy right now being 5 deep, likely to get deeper quickly, using DataReaders will be cumbersome. Ultimately I will probably cache the dataset and create just the objects that I need based on user interaction.<br /><br />Javed<br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Saturday, October 31, 2009</h2>I have now attached a complete zipped Solution that illustrates the problem.  I am posting it here because I don't know if it is a bug or just me.<br /><br />javed<br /><br />I tried uploading the zipped file (size: 6.41 MB) three time, but i didn't work.<br />Can be downloaded from above url.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Friday, October 30, 2009</h2>I have now whittled my MainPage.xaml code down to a couple of TextBlocks, the code of entire page is attached. One TextBlock has static text ("Test Page"), the other should show the value of DefaultName field.<br /><br />The code in DataPortal_Fetch is:<br /><br />private void DataPortal_Fetch()<br />        {<br />            this.DefaultName = "MyDefaultName";<br />        }<br /><br />The breakpoint in this method shows that the code is being executed, but nothing shows up in the MainPage.<br /><br />What could I be doing wrong?<br /><br />Javed</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Saturday, October 31, 2009</h2><P>You have a couple basic problems.</P>
<P>First, you aren't using a managed backing field. You must either use a managed backing field or you must override OnGetState() and OnSetState() to manually serialize your private backing field values.</P>
<P>Second, you didn't link the core class implementation to the Silverlight class library. So your property is only declared on the .NET side, not the SL side.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Saturday, October 31, 2009</h2>Thank you.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
