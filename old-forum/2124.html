<html><header><title>DataGridView and IEditableObject_CancelEdit</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DataGridView and IEditableObject_CancelEdit</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2124.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JZuerlein posted on Thursday, January 11, 2007</h2><P>I'm stuck on a problem that I'm sure someone has run into before, so I'm looking for advice.</P>
<P>I have a parent object with a collection of children.&nbsp; The parent gets bound to a winform, and the child collection gets bound to a DataGridView.&nbsp; I can add items and save fine.&nbsp; The problem comes into play when I ....</P>
<P>1)&nbsp; Add a row to the DGV(DataGridView) using the DGV functionality, and enter valid data.</P>
<P>2) Add a second row to the DGV, and I do not do any data entry.</P>
<P>3) Click on a cell in the first row I added.</P>
<P>The DGV will remove the second row that I added.&nbsp; Clear the values from the first row that I added, and the bound object will no longer have the data from the data entry.</P>
<P>Why is this?&nbsp; I have no validation checks on the business objects.&nbsp; The only thing I can think of is that the field I use as a unique identifier for the object doesn't get assigned until it is persisted to the database. (Identity column in the table.)&nbsp; Could the DGV be getting confused about which row to remove when the cancel edit occurs?</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, January 11, 2007</h2><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>JZuerlein:</strong></div><div>(Identity column in the table.)&nbsp; Could the DGV be getting confused about which row to remove when the cancel edit occurs?</div></BLOCKQUOTE><br><br>That's exactly the case.&nbsp; The best solution is to create a private static int field starting at 0 or -1, and on every new object creation, decrement that value.&nbsp; Check out the FAQ for more detail.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
