<html><header><title>user Logout</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>user Logout</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1403.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>yh_ink posted on Thursday, October 05, 2006</h2><P>I would like to know the best way to implement logout.In my logout.aspx i clear all the session variables.but when i click my browser back button i can view the pages.when i try to click anyhting with in those&nbsp;it takes to default.but my question is why does back button takes me to the last viewed page.</P>
<P>&nbsp;</P>
<P>Is there a way to handle it.???</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, October 05, 2006</h2>The best you can do is add various no cache directives to each page.&nbsp; The user can click back because the page is cached locally on the client's workstation.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>yh_ink replied on Thursday, October 05, 2006</h2>if i use no cache then users will not have a ability to go back.Any one have any more views on this.Is there a way to remove the cache data of all pages at one particular point.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>figuerres replied on Thursday, October 05, 2006</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>yh_ink:</strong></div><div>
<P>I would like to know the best way to implement logout.In my logout.aspx i clear all the session variables.but when i click my browser back button i can view the pages.when i try to click anyhting with in those&nbsp;it takes to default.but my question is why does back button takes me to the last viewed page.</P>
<P>&nbsp;</P>
<P>Is there a way to handle it.???</P>
<P></div></BLOCKQUOTE></P>
<P>&nbsp;</P>
<P>are you doing a clear or a Session.Abandon() ??</P>
<P>also your logout page should (IMHO) re-dir the user to the /default.aspx or /default.html page </P>
<P>I am not 100% sure but I think if you do an abandon and toss them to a defualt page that you will be in good shape.&nbsp; make sure that the app requires a login and the default does not.</P>
<P>session.clear just kills the session vars. Abandon invalidates the session.</P>
<P>and as you note even if they go back they get prompted for a logon.</P>
<P>remember:&nbsp; the client can request a page, we can not force to much.... just make sure the server does the "right thing" with the request.</P>
<P>I've seen devs spend way to much time trying to hack that back button in apps! </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, October 06, 2006</h2><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>figuerres:</strong></div><div>are you doing a clear or a Session.Abandon() ??</div></BLOCKQUOTE><br><br>This won't clear the cache, and the browser will load the page to the cache.<br><br>The only option to prevent back button clicking is to add nocache directives.&nbsp; You can't have it both ways; either you add the nocache, whcih means the user loses back all together, or you leave it as is, and the user can 'back' to pages after logout.<br><br>You have no control over the client; technically the nocache is a best effort, since browsers don't even have to honor such directives.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>yh_ink replied on Friday, October 06, 2006</h2><P>ok i agree with you.But how does the big sites like yahoo,hotmail etc handle this.I noticed that after logout.no matter how much i try to click back it&nbsp;directs to the login page in these sites.Just curious to know what they do???</P>
<P>How do they handle this???Any ideas please let me know</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Friday, October 06, 2006</h2>I am by no means a web developer, but could you not just remove the principal from session?&nbsp; Then when each page loads, you could check at the start of your page load for a custom principal in session and redirect to the login page if no principal was found?&nbsp; Would this work?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>yh_ink replied on Friday, October 06, 2006</h2><P>when a browser back button is clicked it does not come to the server instead gets the page from its own cache.once it comes to the server it will work fine.what i want to know is how to handle back button.</P>
<P>For example now login in to this csla&nbsp;forums and hit logout.then click browser back button.the page viewed will be displayed.click anything with in that it will take to login page.</P>
<P>do the same login in to some site like yahoo.u can find&nbsp;the difference</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
