<html><header><title>DataAnnotations IsValid not working</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DataAnnotations IsValid not working</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9166.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>AaronH posted on Friday, July 02, 2010</h2><p>I&#39;m using CSLA SL 4.0 beta 3.&nbsp; Today I tried applying data annotation attributes to a few properties of a class.&nbsp; I am <span style="text-decoration:underline;">not</span> overriding AddBusinessRules().&nbsp; When I create a new instance of the object on the SL side, the object.IsValid property is still true, when it should be false.&nbsp; </p>
<p>I see that AddBusinessRules() in the base is calling BusinessRules.AddDataAnnotations(), but for some reason, it&#39;s not finding the attributes on my properties.</p>
<p>Here is one of my properties:</p>
<pre style="font-family:consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">private</span>&nbsp;<span style="color:blue;">static</span>&nbsp;<span style="color:blue;">readonly</span>&nbsp;<span style="color:#2b91af;">PropertyInfo</span>&lt;<span style="color:blue;">string</span>&gt;&nbsp;_notesProperty&nbsp;=&nbsp;RegisterProperty&lt;<span style="color:blue;">string</span>&gt;(p&nbsp;=&gt;&nbsp;p.Notes);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span style="color:#2b91af;">Required</span>]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;<span style="color:blue;">string</span>&nbsp;Notes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">get</span>&nbsp;{&nbsp;<span style="color:blue;">return</span>&nbsp;GetProperty(_notesProperty);&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">set</span>&nbsp;{&nbsp;SetProperty(_notesProperty,&nbsp;<span style="color:blue;">value</span>);&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre>
<p>Any thoughts?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>AaronH replied on Friday, July 02, 2010</h2><p>Nevermind, for some reason it is now working.&nbsp; Not sure why, the code hasn&#39;t changed.&nbsp; I&#39;ll report back if I see this behavior again.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>marthac replied on Wednesday, January 26, 2011</h2><p>Try making the PropertyInfo public. There are problems with SL when this is private.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
