<html><header><title>Set Transaction Scope on DP_Fetch</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Set Transaction Scope on DP_Fetch</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4043.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>SethSpearman posted on Friday, December 14, 2007</h2><P>Do you guys decorate your DataPortal_Fetch with a transaction scope?&nbsp; What is the reason for that (since it a read)?&nbsp; Are there dangers to not doing it?</P>
<P>Seth</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Friday, December 14, 2007</h2><P>No.</P>
<P>I rarely read using a transaction.</P>
<P>I think there might be rare cases where it is useful though.</P>
<P>Joe</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, December 17, 2007</h2><P>I've had a couple people (when I'm speaking at conferences) insist that all reads must be transactionall protected.</P>
<P>And without transactional protection they are correct, in that there's a tiny chance that you'd break isolation and get some data that is in the middle of an update. Though even that isn't as bad as it sounds, because each <EM>row</EM> is always going to be consistent - it is just that you might retrieve a list of rows and row 1 is pre-update and row 2 is post-update. Odds are that neither you nor your user would ever be aware of this issue.</P>
<P>Using a transaction on read has a performance impact, and most people simply aren't willing to suffer a full-time perf penalty for a rare edge case that is likely to have no impact on the app in any meaningful sense.</P>
<P>Ultimately of course, the choice is yours <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" /></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SethSpearman replied on Monday, December 17, 2007</h2><P>Thanks for the reply Rocky.&nbsp; I am going to be removing the transaction scope from the fetch soon.</P>
<P>I love CSLA.&nbsp; </P>
<P>Seth</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>amselem replied on Tuesday, December 18, 2007</h2><P>If you're using Sql Server 2005 you can use the Snapshot isolation level for reads. This way reading won't create any locks on tables, &nbsp;and any concurrency issues would resolve using row versioning.<BR><BR>However I don't see a way to specify isolation level with the current implementation of TransactionalAttribute, you should use the "Manual" option and handle the transactions yourself specifying the isolation level ...</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
