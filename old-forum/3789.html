<html><header><title>Can a bug in EditableRootParent</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Can a bug in EditableRootParent</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3789.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>phucphlq posted on Friday, October 26, 2007</h2><DIV class=Section1>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>Hi all,<o:p></o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>I use <B><SPAN>CSLA 3.0.2 070928</SPAN></B>, not use remote data host<B><SPAN>.</SPAN></B> I wrote EditableRootParent class, I tried to catch ListChangeEvent when childrenList is changed and call OnPropertyChanged<o:p></o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>Ex:<o:p></o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>private Project()<o:p></o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>&nbsp;&nbsp;&nbsp; {<o:p></o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _resources = ProjectResources.NewProjectResources();<o:p></o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _resources.ListChanged += new System.ComponentModel.ListChangedEventHandler(_resources_ListChanged);<o:p></o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>&nbsp;&nbsp;&nbsp; }<o:p></o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN><o:p>&nbsp;</o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>&nbsp;&nbsp;&nbsp; void _resources_ListChanged(object sender, System.ComponentModel.ListChangedEventArgs e)<o:p></o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>&nbsp;&nbsp;&nbsp; {<o:p></o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OnPropertyChanged(null);<o:p></o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>&nbsp;&nbsp;&nbsp; }<o:p></o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN><o:p>&nbsp;</o:p></SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>At the first time fetch, _nonSerializableHandlers(member&nbsp;of BindableBase class) is not null. But when fetch EditableRootParent again, _nonSerializableHandlers is null and donâ€™t raise event.</SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN>&nbsp;[EditorBrowsable(EditorBrowsableState.Advanced)]<BR>&nbsp;&nbsp;&nbsp; protected virtual void OnPropertyChanged(string propertyName)<BR>&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (_nonSerializableHandlers != null) //Null at the second time fetch<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _nonSerializableHandlers.Invoke(this,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new PropertyChangedEventArgs(propertyName));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (_serializableHandlers != null)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _serializableHandlers.Invoke(this,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new PropertyChangedEventArgs(propertyName));<BR>&nbsp;&nbsp;&nbsp; }</SPAN></FONT></P>
<P class=MsoNormal><FONT face=Arial color=navy size=2><SPAN><o:p>&nbsp;</o:p></SPAN></FONT></P></DIV></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, October 29, 2007</h2>Are you overriding OnDeserialized?&nbsp; You'll need to do this to rehook any event handlers.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
