<html><header><title>EditableRoot Object</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>EditableRoot Object</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2547.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>gdk9am posted on Sunday, March 18, 2007</h2><P>Is it correct that EditableRoot can contain the following&nbsp; collections ?</P>
<P>1. EditableRootListBase </P>
<P>2. BusinessListBase</P>
<P>3. ReadOnlyListBase</P>
<P>I am using a tree view of business objects in UI</P>
<P>For example</P>
<P>Company (EditableRoot object)</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;Branch (EditableRoot)</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resource (EditableRoot)</P>
<P>Company will contain a list of Branches in EditableRootListBase collection</P>
<P>Branch will contain a list of resources in EditableRootListBase collection</P>
<P>Company, Branch, Resource are all EditableRoot objects since they can be saved independently.</P>
<P>Is this valid ?</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Sunday, March 18, 2007</h2>Remember that root objects are typically not contained in other root
objects.&nbsp; A root object is the single object that is sent to the
DataPortal (along with all of its contained child objects),
representing a single "transaction."&nbsp; You also do not want to load all
the root objects at once as that loads more data over the wire than a
user will edit.<br><br>It sounds like the objects for the TreeView are used to then load objects for editing.&nbsp; If that is the case, I would recommend getting the list of objects for the TreeView  as read-only.&nbsp; So your objects would only have an id and a display name. Like this:<br>CompanyInfo<br>&nbsp;&nbsp;&nbsp; BranchInfoList contains a list of BranchInfo objects<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  ResourceInfoList contains a list of ResourceInfo objects<br><br>Clicking on one of those nodes in the tree would use the id and object type to load the corresponding Company, Branch or Resource object for editing.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Monday, March 19, 2007</h2>Hi,<br><br>I think Brian already indicated a key design decision. In addition I would like to share some of my experience with working with trees:<br><br>- following Brian you would arrive at the following:<br>&nbsp;&nbsp;&nbsp; - lean data structure for loading the whole tree model, which is good<br>&nbsp;&nbsp;&nbsp; - per-object editing of properties of particular 'nodes', which is also good<br><br>But I guess you chose for editable lists since you also want to enable the user to alter the \structure\ of the tree, i.e. by dragging branches/resources from one parent to the next. For this purpose I also once made my tree fully editable&nbsp; by using all editable roots and lists. Performance was terribly slow, so we reconsidered it. We felt we were pretty much designing after behavior, but soon we realized that actually we were still too data-centric. See, the behavior here is JUST a change of parent-ids. You don't need a tree full of editable objects for that!<br><br>Hence the following:<br>- we created an empty (!) editable root list TreeUpdateList that contains editable roots of type TreeUpdate<br>- in the drag-drop event handler we append the corresponding structure-update to this list<br>- we used an enum to indicate which kind of object was moved (Company/Brand/Resource)<br>- depending on this the dp_method executed the right SQL (or stored proc, don't remember) that reflects the changed parent-id in the DB<br>- it is important to note that the ordering of TreeUpdates should be preserved to make it work correctly, so TreeUpdateList is append-only (a queue if you will)<br><br>This way all 'behaviors' were supported while still having a performant UI.<br><br>Regards,<br>Bayu<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
