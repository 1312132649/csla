<html><header><title>MVC4 - Csla.ApplicationContext.User.IsAuthenticated = true but HttpContext.User.Identity.IsAuthenticated = false</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>MVC4 - Csla.ApplicationContext.User.IsAuthenticated = true but HttpContext.User.Identity.IsAuthenticated = false</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11896.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Dane posted on Saturday, March 23, 2013</h2><p>This has the feel of some type of configuration issue but I&#39;m not seeing it.&nbsp;My MVC AccountController&nbsp;Login method shows the&nbsp;Csla.ApplicaionContext.User&nbsp;is authenticating correctly&nbsp;but authentication&nbsp;is not propagating to the ASP.NET pipe. I&#39;m obviously missing something here.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Dane replied on Saturday, March 23, 2013</h2><p>I think I&#39;ve answered my own question. I was missing a reference due to an oversight using nuget.</p>
<p>A couple weeks back I updated my project to utilize nuget instead of relative path references. I&#39;d installed CSLA-MVC4 but failed to install CSLA-ASP so I only have a reference to Csla.Mvc and not&nbsp;Csla.Web in my MVC application. Without a reference to Csla.Web the authentication abstractions were not being propoaged. As soon as I added the ASP package authentication flowed through.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
