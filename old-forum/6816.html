<html><header><title>Help /w implementing Interfaces</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Help /w implementing Interfaces</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6816.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jack posted on Friday, April 17, 2009</h2>I seem to have gotten myself into a bit of a bind and was looking for some confirmation that the approach I'm taking makes sense - it has to do with implementing PRISM and CSLA.<br><br>Anyhow I have created a standard interface for a view / presenter.&nbsp; In my view I have some standard events that I need/want.&nbsp; My interface for the view is passed to the constructor of my presenter and I can subscribe to the events I want.&nbsp; I have a set of standard events that I need to manage for all the different views in a single master view /w a controller.<br><br>Everything works great and I can delegate the events as needed up the chain.<br><br>My problem is that a couple of my views need some additional events and properties.&nbsp; So I started to create another layer of view/presenter and ran into a few issues.<br><br>so I started with IView1 &amp; IPresenter1<br><br>IPresenter1 has a property<br>IView1 View {get;set}<br><br>and then I create my Presenter Object: <br><blockquote>public SomePresenter(IView1 view)<br>{<br>&nbsp;&nbsp;&nbsp; View = view;<br>&nbsp;&nbsp;&nbsp; View.Event1 += ...<br>&nbsp;&nbsp;&nbsp; View.Event2 += ...<br>}<br></blockquote><br>Now I have a more complicated view that I need an additional event so I created another set<br><br>IView2 : IView1<br>&nbsp;&nbsp;&nbsp; event EvemttHandler &lt;...&gt; Event3<br><br>I also created a new presenter IPresenter2 : IPresenter1 <br><br>I started to put in <br>new IView2 View {get;set}<br><br>so as to 'hide' the prior implemenation ... that didn't work.&nbsp; When I actually create my real view from IView2 I have to implement both View Properties which I can't do.<br><br>I then decided that in my Presenter2 I would just cast my IView to an IView2 and subscribe to the events.&nbsp; This seems to work and seems okay in my mind but is it asking for trouble down the road?&nbsp; Sort of seems a bit like I almost tried to merge inheritance /w two interfaces.<br><br><blockquote>public Presenter2(IView2 view)<br>{<br>&nbsp;&nbsp;&nbsp; View = view;<br><br>&nbsp;&nbsp;&nbsp; View.Event1 += ...<br>&nbsp;&nbsp;&nbsp; View.Event2 += ...<br><b>&nbsp;&nbsp;&nbsp; (View as IView2).Event3 +=</b><br>}<br></blockquote><br>Thanks<br><br>jack<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rfcdejong replied on Friday, April 17, 2009</h2>Your last peace of code is a bit strange, as u get a view of IView2 passed into the constructor, but then u still have to cast it.<br /><br />Anyway, in my opinion u should always have only 1 view with his presenter. Never try to do cross binding them somehow. Show a view in a region and it constructs always the same presenter. Don't use the presenter for 2 differend views.<br /><br />I also think that u should post this at the codeplex forum for Composite Application Guidance, that team has more knowledge about the Model-View-Presenter pattern.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jack replied on Friday, April 17, 2009</h2>The reason I was casting it was because I had made the assignment to the<br />local View property first which is of type IView1.<br /><br />I am only having one view associated with one presenter.  It's just that I<br />started with a common view/presenter interface and I'm trying 'enhance' this<br />particular one.  I'm doing that because I have 5 views displayed at once<br />that share many common features.  I'm using a controller to manage the<br />interaction between them all.<br /><br />This particular view happens to have a list on it so I need to handle the<br />change in list items where the other views don't have that.<br /><br />Really my question boils down to the best way to 'extend' an interface that<br />is used in more than one place.  The other option would be to add a generic<br />'listItemChanged' event to my IView1 interface and not use it anywhere else.<br />That seemed a little annoying since I had to implement it in each object but<br />I'm not that opposed to it.<br /><br /><br />I will try posting over there as well but to me this was more an interface<br />question than a CAL question and I really respect the knowledge here and<br />CSLA is full of interface implementations.<br /><br />Thanks<br /><br />jack<br /><br />-----Original Message-----<br />From: rfcdejong [mailto:cslanet@lhotka.net] <br />Sent: April-17-09 2:09 PM<br />To: jaddington@alexandergracie.com<br />Subject: Re: [CSLA .NET] Help /w implementing Interfaces<br /><br />Your last peace of code is a bit strange, as u get a view of IView2 passed<br />into the constructor, but then u still have to cast it.<br /><br />Anyway, in my opinion u should always have only 1 view with his presenter.<br />Never try to do cross binding them somehow. Show a view in a region and it<br />constructs always the same presenter. Don't use the presenter for 2<br />differend views.<br /><br />I also think that u should post this at the codeplex forum for Composite<br />Application Guidance, that team has more knowledge about the<br />Model-View-Presenter pattern.<br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rfcdejong replied on Sunday, April 19, 2009</h2>Sorry for not responding anymore, i was hoping someone else did, since i don't see the problem or i'm not understanding your real problem. U could explisitly impliment the interface to hide it from the outer world. It isn't really an CSLA nor CAG problem ;)<br /><br />Did u get any help on another forum?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ozitraveller replied on Sunday, April 19, 2009</h2>I think I'm following the problem. So hopefully this will help. :)<br /><br />public class SomePresenter : IView1<br />{<br />}<br /><br />public class Presenter2: IView1, IView2<br />{<br />}<br /><br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rfcdejong replied on Tuesday, April 21, 2009</h2>That isn't according CAG rules ;)<br />It's more about using generics<br /><br />public class Presenter1<br />{<br />    public Presenter1(IView1 view)<br />    {<br />    }<br />}<br /><br />However it's possible to create a PresenterBase and a internal interface and impliment that interface explicit<br /><br />public PresenterBase where T is IViewBase<br />... do generic stuff</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
