<html><header><title>Status and Recommendations on CLSA, MVVM and Universal Apps</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Status and Recommendations on CLSA, MVVM and Universal Apps</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12621.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>nhwilly posted on Sunday, May 11, 2014</h2><p>Getting back into it all from some time away and trying to match all the proper bits together to get started.&nbsp; Universal App templates seem like a good idea and I know CSLA is something I want.&nbsp; MVVM makes a ton of sense.</p>
<p>Not really sure if there is a recommended MVVM toolkit or framework, though.&nbsp; I see lots of activity on MVVM Light.</p>
<p>I haven&#39;t investigated fully, but it seems like there might be some overlapping functionality between CSLA and MVVM Light when it comes to properties and their changed events.</p>
<p>Primary target is WP8.1 and ASP.NET MVC.</p>
<p>Any guidance or recommendations?</p>
<p>Any giant bear traps I have to look out for?</p>
<p>TIA</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago replied on Monday, May 12, 2014</h2><p>Hi,</p>
<p>&nbsp;</p>
<p>Have a look at <a href="http://cslacontrib.codeplex.com/">CSLA .NET Contrib</a>. It includes a library to use&nbsp;<a href="http://github.com/Caliburn-Micro/caliburn-micro.github.io">Caliburn.Micro</a>&nbsp;with CSLA .NET</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nhwilly replied on Monday, May 12, 2014</h2><p>Tiago,</p>
<p>I think MVVM Light gets more press, but I&#39;m not sure which is the better framework.&nbsp; </p>
<p>Checking out CM now.</p>
<p>Thanks.&nbsp; </p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, May 12, 2014</h2><p>Regarding Csla and property changed events, you&#39;ll likely bind your view directly to the Csla model, or the Csla model will be a property of your view model and so the property changes would be needed only from the new properties of the view model.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nhwilly replied on Tuesday, May 13, 2014</h2><p>Thanks for the reply.</p>
<p>OK, but doesn&#39;t that mean my View and my Model are more coupled than I want them to be?&nbsp; I mean, if I followed MVVM to the letter, wouldn&#39;t my View Model subscribe to my model notifications and my View subscribe to my View Model notifications?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, May 13, 2014</h2><p><div style='padding-left: 50px;background-color:silver'><b>nhwilly<br></b>
<p>Thanks for the reply.</p>
<p>OK, but doesn&#39;t that mean my View and my Model are more coupled than I want them to be?&nbsp; I mean, if I followed MVVM to the letter, wouldn&#39;t my View Model subscribe to my model notifications and my View subscribe to my View Model notifications?</p>
<div style="CLEAR:both;"></div>
</div></p>
<p>Yes, but I&#39;d have to ask why you&#39;d want to write all that code that listens for events from your model just so your VM can re-raise them?&nbsp; The VM is meant to supplement what your model can do, not replace it.&nbsp; </p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nhwilly replied on Tuesday, May 13, 2014</h2><p>I can see that would technically work, but doesn&#39;t that link the View a little too closely with the Model?</p>
<p>Wouldn&#39;t properties that changed in the model bubble up through the view model and on to the view?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, May 14, 2014</h2><p>Have you checked the Mvvm sample that comes with Csla?&nbsp; I think that will answer a lot of your questions.&nbsp; Your view and model are tied pretty closely anyway though; the view is how the user interacts with your application to execute the use case, and your model&#39;s job is to implement the behaviors for that use case.&nbsp; A VM can supplement by taking care of things that really are UI concerns, but most of the behavior you want is already in your model.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Wednesday, May 21, 2014</h2><p>There are two primary reasons for creating a viewmodel in the first place:</p>
<ol>
<li>Reshape the model to match the view because the model wasn&#39;t designed for the user scenario</li>
<li>Add verbs (methods) unique to the UI that don&#39;t make sense in a business context</li>
</ol>
<p>If you are using CSLA correctly, your objects will be designed to match the user scenario, so the first reason for having a viewmodel no longer makes any sense. </p>
<p>The second reason often makes sense, because it is quite common to handle various UI events, but it wouldn&#39;t make sense for those methods to be in the business classes.</p>
<p>Of course it is an anti-pattern to use a design pattern just for the sake of the pattern - you should always use patterns because they provide value.</p>
<p>So the question is how (or if) you should use MVVM to get value without incurring extra coding/testing effort.</p>
<p>Replicating all your model&#39;s properties in a viewmodel is totally pointless if the model is already in the right shape, and if the model already supports data binding. As I say, if you are using CSLA correctly then your model will be in the right shape, and will support data binding. As a result your viewmodel shouldn&#39;t replicate all the properties - that&#39;s just extra cost and code and mess for no value at all.</p>
<p>However, having a viewmodel for your verbs probably still makes sense. So then the question is how to let the view bind to the business object, and also add verbs to a viewmodel.</p>
<p>The examples in the &#39;Using CSLA 4&#39; book show how to do this, as do a number of the samples in the CSLA download. In short, your viewmodel has a Model property that exposes the business object for binding to the view, and the viewmodel also implements any verbs necessary to work with the UI.</p>
<p>Easy, effective, and this approach doesn&#39;t increase the cost/coding/testing/maintenance burden by making you write a bunch of useless code just for the sake of blindly following a pattern.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nhwilly replied on Thursday, May 22, 2014</h2><p>It&#39;s been a while since I&#39;ve been <em>in it</em> and I&#39;ve already read the books twice.&nbsp; Doesn&#39;t do me much good unless I apply it all right away.&nbsp; Senior moments.</p>
<p>Thanks for the review.&nbsp; Didn&#39;t mean to make you go through that.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
