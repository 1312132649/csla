<html><header><title>Validation Rules that update a property</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Validation Rules that update a property</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9714.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Lazaro posted on Thursday, November 04, 2010</h2><p><span style="font-size:small;font-family:Calibri;">
<p style="margin:0in 0in 10pt;" class="MsoNormal">Hello,</p>
<p style="margin:0in 0in 0pt;line-height:normal;" class="MsoNormal">I have a doubt about validation rules that modify other property of another object/instance. As the video recommends it would look like this, but modifying another property in the same object:</p>
<p style="margin:0in 0in 0pt;line-height:normal;" class="MsoNormal">&nbsp;</p>
<p style="margin:0in 0in 0pt;line-height:normal;" class="MsoNormal"><span style="font-size:10pt;color:blue;font-family:Consolas;">private</span><span style="font-size:10pt;font-family:Consolas;">&nbsp;<span style="color:blue;">static</span>&nbsp;<span style="color:blue;">bool</span>&nbsp;SetLoanNumber&lt;T&gt;(T&nbsp;target,&nbsp;Csla.Validation.<span style="color:#2b91af;">RuleArgs</span>&nbsp;e)&nbsp;<span style="color:blue;">where</span>&nbsp;T&nbsp;:&nbsp;<span style="color:#2b91af;">LoanSetup</span><br />{<br />&nbsp;&nbsp;&nbsp;<span style="color:blue;">using</span>&nbsp;(target.BypassPropertyChecks)<br />&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target.LoanNumber&nbsp;=&nbsp;target.GenerateNewLoanNumber();<br />&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;<span style="color:blue;">return</span>&nbsp;<span style="color:blue;">true</span>;<br />}</span></p>
<p style="margin:0in 0in 0pt;line-height:normal;" class="MsoNormal"><span style="font-size:10pt;font-family:Consolas;">&nbsp;</span></p>
<p style="margin:0in 0in 0pt;line-height:normal;" class="MsoNormal">My question is: What is the recommended way to modify a property of parent (or another other) object, for which the object in question has a reference (or way to reference it)?</p>
<p style="margin:0in 0in 0pt;line-height:normal;" class="MsoNormal">&nbsp;</p>
<p style="margin:0in 0in 0pt;line-height:normal;" class="MsoNormal">I have created an internal method that modifies the property in the parent object, so that it can be called by the child object. Is there a better way to achieve this? It looks like this:</p>
<p style="margin:0in 0in 10pt;" class="MsoNormal">&nbsp;</p>
<pre><span style="color:blue;font-family:Consolas;"><span style="font-size:x-small;">internal</span></span><span style="font-family:Consolas;"><span style="font-size:x-small;">&nbsp;<span style="color:blue;">void</span>&nbsp;SetComplianceReviewed(<span style="color:blue;">bool</span>&nbsp;value)<br />{<br />&nbsp;&nbsp;<span style="color:blue;">using</span>&nbsp;(BypassPropertyChecks)<br />&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;ComplianceReviewed&nbsp;=&nbsp;value;<br />&nbsp;&nbsp;}<br />}</span></span></pre>
</span></p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, November 04, 2010</h2><p>I think your solution is correct, you need to ask the other object to safely change its property value, and using a method on that object is a fine solution.</p>
<p>In CSLA 4 we&#39;ve added an interface to BusinessBase that you could use to temporarily suspend rule processing on another object. This really isn&#39;t the reason we added that feature, but it might work for this purpose.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Sunday, November 07, 2010</h2><p>You might also consider adding a rule in the &quot;parent&quot; object that is called when the ChildChanged event is raised on the parent object. </p>
<p>BusinessRules.CheckRules(ComplianceReviewedProperty);</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
