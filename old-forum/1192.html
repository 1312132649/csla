<html><header><title>IsActive and CanActivate, CanDeactivate</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>IsActive and CanActivate, CanDeactivate</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1192.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>DeHaynes posted on Tuesday, September 12, 2006</h2><P>&nbsp;&nbsp;&nbsp;I asked this before but I didn't get much of a response, so I will ask again to see if maybe everyone was on vacation.&nbsp; :)</P>
<P>&nbsp;</P>
<P>&nbsp;&nbsp;&nbsp;I want to add some functionality to the base framework.&nbsp; Specifically the ability to remove records from showing up without deleting them.&nbsp; My thoughts are that I add a bit field to every table in my SQL 2005 datbase that is called IsActive.&nbsp; Then I go modify all my stored procedures to take in a parameter to define which records to retrieve, Active only, Inactive only or both.&nbsp; The default condition would be Active only.</P>
<P>&nbsp;&nbsp;&nbsp;In addition I want to add authorization methods of CanActivate() and CanDeactivate.&nbsp; So I can use the existing authorization system to control this.</P>
<P>&nbsp;&nbsp;&nbsp;What I am looking for is&nbsp;has anyone else done anything like this?&nbsp; If so, can you give me some direction on where to go?</P>
<P>&nbsp;</P>
<P>Thanks you.</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tim</P>
<P>&nbsp;&nbsp;&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Tuesday, September 12, 2006</h2>&nbsp;Hi Tim,<br><br>There is no need to modify CSLA to do what you are describing.&nbsp; This can all be done through the existing framework by modifying your tables, stored procedures and objects.<br><br>In your application, should separate roles be able to activate vs. deactivate an object?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DeHaynes replied on Tuesday, September 12, 2006</h2>Yes.&nbsp; I want to allow users the ability to de-activate but only admin can re-activate and actually delete objects.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Tuesday, September 12, 2006</h2>Then I would suggest using the built in permissions system with two permissions call CanActivate and CanDeactivate.&nbsp; Have your methods call CanWriteProperty("CanActivate", true); to throw an exception if the UI tries to allow the user to do something they are not allowed to do.<br><br>For retrieving groups of objects, I would suggest overloading your factory methods.&nbsp; ObjectList.GetObjectList() would get all objects and ObjectList.GetObjectList(bool active) would get only active or inactive ones.&nbsp; This is only one way you could set up your factory methods to tell the stored procedure which objects you want; there are several other ways you could communicate that information from the UI, through your factory methods and on to your stored procedures.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DeHaynes replied on Tuesday, September 12, 2006</h2>Thanks very much Brian</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DeHaynes replied on Tuesday, September 12, 2006</h2><P>&nbsp;&nbsp;&nbsp;When you typed that up to me, I was halfway through modifying the framework.&nbsp; So I went ahead and finished it.&nbsp; It works, the only thing I have to do now is figure out some mechanism so that objects see Active Only, Inactive Only or All Records.</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
