<html><header><title>Need help with breaking change when moving from 2.x to 3.8.1</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Need help with breaking change when moving from 2.x to 3.8.1</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8220.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonM posted on Thursday, December 24, 2009</h2>When I call the ApplyEdit() I get a "Edit level mismatch in AcceptChanges" error.  I've search the forum but the answers are confusing.  Has the model changed?  Should I still be calling AppyEdit() before saving?<br /><br />Example Code:<br /><br />            if (m_Machines.IsDirty)<br />            {<br />                if (m_Machines.IsValid)<br />                {<br />                    m_Machines.ApplyEdit();<br />                    m_Machines.Save();<br />                    btnSave.Enabled = false;<br />                }<br />                else<br />                {<br />                    MessageBox.Show(m_Machines.BrokenRules, "Cannot save changes", MessageBoxButtons.OK, MessageBoxIcon.Error);<br />                }<br />            }<br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, December 24, 2009</h2><P>There were some substantial changes to the way n-level undo interacts with Windows Forms data binding in 3.0. The <EM>Using CSLA .NET 3.0</EM> ebook has a chapter on that topic.</P>
<P>Additionally, 3.0 added exceptions to help you identify mis-matched BeginEdit calls that don't have corresponding ApplyEdit/CancelEdit calls. These exceptions are designed to help identify bugs in UI code - usually bugs that were unnoticed, but often caused very hard to track down issues.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, December 29, 2009</h2><P>Just want to add that its critical you fix this, and not just try to work around it.&nbsp; It means your data binding won't work correctly in some cases.</P>
<P>If possible, just use the BindingSourceNode.. it will make everything so much easier.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
