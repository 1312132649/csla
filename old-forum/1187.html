<html><header><title>Clone/Copy?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Clone/Copy?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1187.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>kids_pro posted on Tuesday, September 12, 2006</h2>I want to copy object and save it a seperate row (ofcause make change a litle to the properties before save). However when I use Clone() method I can't archive this purpose. I need to manual create copy method for my object and copy field by field.<br>Is it the way it works?<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, September 12, 2006</h2>Kids,<br><br>Yes, I created a method called Duplicate, because I had a use case which was to copy most of the information, but not all.&nbsp; My implementation was to use Clone and then blank out any properties which should be set to empty or the default value.<br><br>Here's what mine looks like.&nbsp; This duplicates a Contact business object.<br><br><font color="#0000ff">public</font><font color="#000080"> </font><font color="#000080">Contact </font>Duplicate() {<br>&nbsp;&nbsp;&nbsp; <font color="#000080">Contact</font> result;<br>&nbsp;&nbsp;&nbsp; <font color="#000080">SmartDate</font> date;<br><br>&nbsp;&nbsp;&nbsp; result = Clone();<br><br>&nbsp;&nbsp;&nbsp; result.ContactId = GetNextNewId();<br>&nbsp;&nbsp;&nbsp; result.FirstName = <font color="#ff0000">""</font>;<br>&nbsp;&nbsp;&nbsp; result.LastName =<font color="#ff0000"> ""</font>;<br>&nbsp;&nbsp;&nbsp; result.Email = <font color="#ff0000">""</font>;<br>&nbsp;&nbsp;&nbsp; result.Title = <font color="#ff0000">""</font>;<br>&nbsp;&nbsp;&nbsp; result.Salutation = <font color="#ff0000">""</font>;<br><br>&nbsp;&nbsp;&nbsp; result.CreatedUser = <font color="#000080">ApplicationContext</font>.User.Identity.Name;<br>&nbsp; &nbsp; date = new <font color="#000080">SmartDate</font>( <font color="#0000ff">DateTime</font>.Now );<br>&nbsp;&nbsp;&nbsp; date.FormatString = <font color="#ff0000">"G"</font>;<br>&nbsp; &nbsp; result.CreatedDate = date;<br>&nbsp; &nbsp; result.ModifiedUser = <font color="#ff0000">""</font>;<br>&nbsp;&nbsp;&nbsp; result.ModifiedDate = <font color="#0000ff">new</font> <font color="#000080">SmartDate</font>();<br><br>&nbsp;&nbsp;&nbsp; result.PhoneNumbers = <font color="#000080">PhoneNumbers</font>.NewPhoneNumbers();<br>&nbsp;&nbsp;&nbsp; result.Address = result.Address.Duplicate();<br><br>&nbsp;&nbsp;&nbsp; result.MarkNew();<br><br>&nbsp;&nbsp;&nbsp; <font color="#0000ff">return</font> result;<br>}<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, September 12, 2006</h2><P><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>kids_pro:</strong></div><div>I want to copy object and save it a seperate row (ofcause make change a litle to the properties before save). However when I use Clone() method I can't archive this purpose. I need to manual create copy method for my object and copy field by field.<BR>Is it the way it works?<BR><BR></div></BLOCKQUOTE></P>
<P>In 2.0 the Clone() method is Overridable/virtual, so you can swap out my implementation for your own if you choose.</P>
<P>That would allow you to implement the Duplicate() idea, but directly in the Clone() method.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
