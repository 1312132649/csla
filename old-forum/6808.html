<html><header><title>Database connection read from DB</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Database connection read from DB</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6808.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>drinoh posted on Friday, April 17, 2009</h2><P>I am trying to create a set of CSLA business objects that use a db connection that is not hard coded, i.e. read from an administrative database (whose connection string will be hard coded).&nbsp; This will allow me to publish the same code for all customers without having to manually update the dbconnection string for each. </P>
<P>Any thoughts on the best way to accomplish this?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dlambert replied on Friday, April 17, 2009</h2>Are you talking about centralized config management?&nbsp; Like, you'd push a button on your admin app and it would barf out a bunch of config files, or are you fishing for something that cuts out the config files altogether?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>drinoh replied on Friday, April 17, 2009</h2><P>Thanks for your question / response!</P>
<P>I have a package software product that I publish to a number of different customers.&nbsp; Each customer has their own database which I house and maintain on our servers (ASP model), so when I publish updates, I have to go in an manually update the business classes to connect to the correct customer database.&nbsp; Today, I do that by creating a number of 'named' database connections in the config file (using MS Enterprise Library for data access), each with their own connection string and I hard code the named database connection into the business objects.</P>
<P>I want to be able to have the user connect to an 'admin' database and log in there.&nbsp; From there, it will pull the correct named database string for that customer and use that for all business object datbase connections.&nbsp; </P>
<P>Since these objects are mobile and running on the database server when data access is done, the only way I see to do this now is to just pass the named database connection to each object during its creation.&nbsp; That will work but seems awkward to me.&nbsp; I am wondering if there is a more elegant way this is typically handled.&nbsp; I assume many others have had to do something similar.</P>
<P>Thanks.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dlambert replied on Friday, April 17, 2009</h2>If I understand your comment correctly, I'd consider wrapping the specific implementation in a connection factory and just grab a connection from the factory in the business objects.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
