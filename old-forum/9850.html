<html><header><title>CSLA 4 Authorization</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA 4 Authorization</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9850.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jaans posted on Friday, December 10, 2010</h2><p>Quick question.</p>
<p>In CSLA 3.x we had InstanceDenyRead /&nbsp;InstanceDenyWrite.&nbsp;What&#39;s the equivalent for that in CSLA 4.0?</p>
<p>Thanks</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, December 10, 2010</h2><p>In CSLA 4 there are only per-type rules.</p>
<p>But a per-instance rule is really a per-type rule that takes into account various elements of state about the current instance. And since CSLA 4 authorization rules can look at the entire object (and any other ambient state), it is quite realistic to think that you can create an authorization rule that grants/denies access based on the overall state of the object.</p>
<p>Then just attach that rule to your property&#39;s read or write action and you should be good to go.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jaans replied on Friday, December 10, 2010</h2><p>Thanks Rocky</p>
<p>What I actually meant is, what is the equivalent of the &quot;Deny&quot; part? </p>
<p>We have the CommonRules.IsInRole which is equivalent for for CSLA 3.8&#39;s &quot;Allow&quot;, but what about &quot;Deny&quot; - I&#39;m not sure whether the IsNotInRole is semantically the same.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, December 10, 2010</h2><p>Inside the framework there&#39;s now just a HasPermission concept, that ends up being true/false. So HasPermission(read), HasPermission(write), etc.</p>
<p>The IsInRole rule returns true if the user has the role. The IsNotInRole returns true if the user is not in the role.</p>
<p>So yes, IsNotInRole is basically a deny.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
