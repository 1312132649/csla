<html><header><title>CSLA 3.8.2 Linq to CSLA OrderBy Extension method not using Comparer</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA 3.8.2 Linq to CSLA OrderBy Extension method not using Comparer</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9487.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>justin.fisher posted on Thursday, September 09, 2010</h2><p>I am trying to filter and sort the entries stored in an Editable Child List class using the following code:<br /><br />return<br />(from entry in ((MessageSubqueueList) Parent).Entries<br />&nbsp;where entry.SubqueueId == this.ID<br />&nbsp;select entry).OrderBy(e =&gt; e, new EntryComparer());</p>
<p>I have put a break point in the EntryComparer code and it is never being called.&nbsp; I can do simply sorting by specifying a different key such as ...OrderBy(e =&gt; e.DeliveryOrder); and that works fine.&nbsp; I had the entries implemented IComparable and that too seems to work fine but any attempt to pass in a comparer seem to be ignored by Linq To CSLA.&nbsp; </p>
<p>I put the entries in a List&lt;Entry&gt; instance and called an OrderBy(e =&gt; e, new EntryComparer) and that works as expected.&nbsp; So it would appear to be something going on with Linq To CSLA.</p>
<p><br />We were hoping that we could write the code so that the comparer could be swapped out based on the situation but right now with Linq To CSLA ignoring the comparer that is not possible.&nbsp; I attempted to debug into the Linq To CSLA code but there is a lot of plumbing in there that I don&#39;t quite understand.<br /><br />Does anyone have any ideas as to why this is not working?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, September 09, 2010</h2><p>This sort of issue is a reason why all this functionality was removed in CSLA 4. The level of complexity involved in what amounted to reimplementing LINQ to Objects is ridiculous, and the benefits don&#39;t match the cost.</p>
<p>The workaround for any 3.8 issues is to use a ToList() on the source collection, thereby bypassing the old LINQ to CSLA functionality, so you get pure LINQ to Objects behaviors.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
