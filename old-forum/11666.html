<html><header><title>WebDev.WebServer40.exe - can't start because api-ms-win-core-heap-l1-2-0.dll is missing.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>WebDev.WebServer40.exe - can't start because api-ms-win-core-heap-l1-2-0.dll is missing.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11666.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>j0552 posted on Tuesday, October 30, 2012</h2><p>Hi</p>
<p>I started a thread on MSDN because I couldn&#39;t work out why I was getting the following error in Visual Studio 2010/2012 (Windows 7 x64) when working with all types of projects and .NET 4.0.</p>
<p><a href="http://social.msdn.microsoft.com/Forums/en-US/vsdebug/thread/9b8782c9-8fd4-484c-929f-9c8820765bc0/">http://social.msdn.microsoft.com/Forums/en-US/vsdebug/thread/9b8782c9-8fd4-484c-929f-9c8820765bc0/</a></p>
<p>It turns out to be caused by installing: <span style="line-height:21px;font-family:&#39;Segoe UI&#39;,Helvetica,Garuda,Arial,sans-serif;color:#666666;font-size:14px;">CSLA.NET 4.5.10</span></p>
<p>Is there anything I should know about using this version on Windows 7 and with VS?</p>
<p>Many&nbsp;thanks<br />Andrew&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Tuesday, October 30, 2012</h2><p>You probably need to install Microsoft.CompilerServices.AsyncTargetingPack package from NuGet to enable async/await in .NET 4 and SL5 projects.</p>
<p>We have only used VS2012 for development so I would suggest you stay with VS2012 and target .NET 4 projects from this version. </p>
<p>Did you install the CSLA packages from NuGet?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>j0552 replied on Tuesday, October 30, 2012</h2><p>Hi JonnyBee</p>
<p>Just to be clear - after installing CSLA 4.5, any new .NET v4.0 project in VS 2010 and VS2012, without references to any CSLA assemblies, will display the error dialog mentioned. One wouldn&#39;t expect CSLA to have an effect on the VS environment without at least being referenced in the projects.</p>
<p>I would probably only want to use CSLA 4.5 in a .NET Framework 4.5 project so wouldn&#39;t expect to need the Microsoft.CompilerServices.AsyncTargetingPack.</p>
<p>Also, according to the web site the pack cannot be used in VS2010 which probably means we&#39;d still get the error even if we install the pack.</p>
<p>Can you explain why the CSLA installer affects the VS environment?</p>
<p>Thanks</p>
<p>Andrew</p>
<p><span style="font-family:Segoe Print;font-size:small;"><span style="font-family:Segoe Print;font-size:small;"><font face="Segoe Print" size="3"><font face="Segoe Print" size="3"><span></span></font></font></span><font face="Segoe Print" size="3"><span></span></font></span><span></span></p>
<p><span></span></p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Tuesday, October 30, 2012</h2><p>Did you install CSLA 4.5 using the installer from the download page? </p>
<p>(I have only used the NuGet installer to install into the solution only - and have not looked into the CSLA Installer code so I don&#39;t know what is installed and how) .</p>
<p>So what I can do is to create an issue in the CSLA Bugtracker and have someone look into it.<br /><a href="http://www.lhotka.net/cslabugs/edit_bug.aspx?id=1121">http://www.lhotka.net/cslabugs/edit_bug.aspx?id=1121 </a></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>j0552 replied on Tuesday, October 30, 2012</h2><p>Hi </p>
<p>Yes I downloaded from here:</p>
<p><a href="http://www.lhotka.net/files/csla40/Csla-4.5.10.exe">http://www.lhotka.net/files/csla40/Csla-4.5.10.exe</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>simon replied on Tuesday, October 30, 2012</h2><p>I also meet the same problem. when uninstall the Csla. the problem disappear.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>g.beraudo@castsoftware.com replied on Wednesday, November 14, 2012</h2><p>According to:&nbsp;http://msdn.microsoft.com/en-us/library/windows/desktop/hh802935(v=vs.85).aspx</p>
<p>This library is windows 8 specific / does not exists in windows 7.</p>
<p>&nbsp;</p>
<p>I uninstalled CSLA 4.5.10 from my Add/Remove programs. This fixed the problem for me.</p>
<p>Thanks Simon for the suggestion.</p>
<p>Gilles</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Peran replied on Wednesday, November 14, 2012</h2><p>I can also confirm this issue is caused by the CSLA 4.5.10 installer, with same fix to uninstall via Add/remove programs. &nbsp;I&#39;m using Windows 7/VS2012</p>
<p>I just copied the files from the Program Files directory before uninstalling.</p>
<p>&nbsp;</p>
<p>Peran</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, November 14, 2012</h2><p>This must be a bug in InstallShield. CSLA doesn&#39;t install anything outside its own folder, but you are saying this is a global issue on your machine right? That makes me think InstallShield must be putting something into some global location - presumably something it needs, and not part of CSLA itself.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>emathias replied on Tuesday, November 20, 2012</h2><p>I&#39;m experiencing the same error when I run console&nbsp;F#&nbsp; in VS2012 with csla 4.5.4.&nbsp; It happens when aimed at Net Framework 4.5, but I can get rid of the error&nbsp;by using NET 4 and referencing&nbsp;the appropriate CSLA dll.&nbsp; I don&#39;t need to uninstall 4.5.4.</p>
<p>VS2012 will not error if using .NET 4.0</p>
<p>VS2010 will error if using .NET&nbsp;4.0</p>
<p>In both versions of VS, the program continues after the error.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>emathias replied on Tuesday, November 20, 2012</h2><p>I used Gilles&#39; approach copying the CSLA.NET directory,&nbsp;uninstalled CSLA.NET and then recopied the directories back to the Program Files.&nbsp; I am now running without error on 4.5.&nbsp; NuGet seems to work also so it does appear to be Installshield related.</p>
<p>Weird!</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago replied on Tuesday, October 30, 2012</h2><p><div style='padding-left: 50px;background-color:silver'><b>j0552<br></b>
<p>Also, according to the web site the pack cannot be used in VS2010 which probably means we&#39;d still get the error even if we install the pack.</p>
</div></p>
<p>I also read on MS web site that the AsyncTargetPack is for VS 2012 only. That&#39;s not true. It runs on VS2010 without any issue. There are several CSLA samples for VS2010 that target .NET 4.0 and use the AsyncTargetPack.</p>
<p>&lt;edit&gt;</p>
<p>Just to make it clear, the referred samples target Csla 4.5 and .NET 4.0.</p>
<p>&lt;/edit&gt;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Wednesday, October 31, 2012</h2><p>You know, I&#39;m pretty sure this heap dll is mentioned in this&nbsp;occasional dialog that pops up, like you say, on all types of projects.&nbsp; If it&#39;s different (when I see it next time) I&#39;ll edit my post.&nbsp; But this started happening to me when I upgraded SL, CSLA, etc.</p>
<p>I&#39;m not sure it&#39;s b/c of CSLA though, but I saw your other post on another forum where you say uninstalling CSLA 4.5 makes it go away.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>thaehn replied on Tuesday, December 11, 2012</h2><p>I had the same issue.&nbsp; I installed CSLA.NET which I downloaded from lhotka.net.&nbsp; I uninstalled it and the problem went away.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>BeyondNet replied on Saturday, December 29, 2012</h2><p>Hi</p>
<p>&nbsp;</p>
<p>I had the same issue, did you solve the problem?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, January 01, 2013</h2><p>Fwiw, I have a colleague who is working on a WiX based replacement for the current InatallShield installer. Hopefully that will eliminate this issue. The only thing I can think of is that the InstallShield setup program installs some system dll that it shouldn&#39;t. The actual Csla installation is completely contained in its own Program Files folder,, so I can&#39;t see how that would affect general VS behavior... With luck WiX won&#39;t behave like InstallShield.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jradxl replied on Friday, February 01, 2013</h2><p>Hi just got this error too.<br />Windows 7 64 bit.<br />Once CSLA 4.5 is installed the error occurs on many programs that I try to run.<br /><br />If it is Installshield, by now there must be some updates. Could you rebuild 4.5 so I can try again.<br /><br />thanks</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Saturday, February 02, 2013</h2><p>In the short term I recommend installing via nuget because that doesn&#39;t have the issue.</p>
<p>The plan is to abandon InstallShield and switch to WiX. A colleague from Magenic has a preliminary WiX installer, I just need to get time to test it and get it worked into my release build process.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
