<html><header><title>How to create business objects against a &quot;wrong&quot; datamodel?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to create business objects against a &quot;wrong&quot; datamodel?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6136.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rfcdejong posted on Tuesday, January 13, 2009</h2>Our datamodel is very restricted as it isn't using the normal forms, i bump into problems designing my business objects because they must know how to go back into the database, some keys must be available (as a private property)<br /><br />We have the following tables:<br /><br />Person Personadres  <br />I was thinking about a Person business object and an adres business object. The Person business object with public factory methods. And the adres business object without any factory method.<br /><br />Then an PersonAdresList containing an PersonAdres businessobject with a specific role for the adres.<br /><br />The real problem is that we need to continue on this "wrong" datamodel with ALOT more combined primairy keys. Reading the book i found nothing about this</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rfcdejong replied on Tuesday, January 13, 2009</h2>Btw.. we don't have 'usecases', i must make them myself.<br /><br />Some adres (Address) roles are 'livingadres', 'postadres', 'old adres', 'business adres', 'future adres', etc..<br /><br />And yes... double records in the database, resulting into multiple adresses.<br /><br /><br />The question is more:<br /><br />Is it smart to split up the business objects as i was thinking in this topic? Normally an address could be assigned to multiple persons, but in our datamodel it can't..<br /><br />Or just place the 2 common roles as properties in the person object?<br />Or just make 2 childs for the 2 common roles and a 3rd child for the other roles.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Wednesday, January 14, 2009</h2><P>Remember that your business objects are modeling behavior.&nbsp; The data model that you use should not be a controlling factor.</P>
<P>I think you are on the right track.&nbsp; If it were me, I would have a Person class (BusinessBase) with an Addresses property of type PersonAddressList (BusinessListBase) which contains my PersonAddress (BusinessBase) objects.&nbsp; Each PersonAddress contains the address information as well as the role.</P>
<P>The PersonAddress class would be a child object, so you'd override all of the applicable Child_XYZ methods, etc.&nbsp; Your Person class would be the root/parent.</P>
<P>If your Roles are defined in a list somewhere else, then this doesn't change.&nbsp; You'll simply have your Role property in the PersonAddress class reference the appropriate primary key in your Roles table (or whatever).&nbsp; A separate RoleList class is used to load the values and bind your UI controls.</P>
<P>Hope that helps...</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rfcdejong replied on Friday, January 16, 2009</h2>It's just the information which'll be needed when going back into the database. Primairy key fields, combined or not, are just important information.<br /><br />And we are using the ObjectFactory model which make things more complicated :)</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>TerryCincy replied on Tuesday, January 25, 2011</h2><p>Completely agree.&nbsp; Business objects define &quot;BUSINESS&quot; tangibles (that should be identifiable by non-techies), </p>
<p>and do <b>not </b>innately relate to database design.&nbsp; It&#39;s a very common misunderstanding. &nbsp; So if your data model or current database</p>
<p> is flawed, now is a great time to analyze business processes and their objects.&nbsp; Then go back and </p>
<p>clean up and normalize the data.</p>
<p>&nbsp;</p>
<p>All the best .....</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
