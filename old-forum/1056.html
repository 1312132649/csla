<html><header><title>Csla.Validation.BrokenRule cannot be serialized because it does not have a parameterless constructor.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Csla.Validation.BrokenRule cannot be serialized because it does not have a parameterless constructor.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1056.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>virendra posted on Monday, August 28, 2006</h2>Hi All,<br><br>I am serializing my object from xml but i am getting followng error.<br><br>{"Csla.Validation.BrokenRule cannot be serialized because it does not have a parameterless constructor."}<br><br>My Business Object derives from CSLA.BusinessBase.<br><br>I just want to create my object from XML. The xml does not contan any kind of BorkenRule collection.<br><br>Is there any way by which I can ignore this property during serialization.<br><br>Regards,<br>Virendra<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>hurcane replied on Tuesday, August 29, 2006</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>virendra:</strong></div><div>Hi All,<br>I just want to create my object from XML. The xml does not contan any kind of BrokenRule collection.<br></div></BLOCKQUOTE><br><br>As Rocky discusses on page 211, the XMLSerializer object has lots of limitations that prevent it from being useful for mobile business objects. However, you can implement custom serialization of your business objects. Custom serialization allows you to specify exactly which fields you want included.This is a lot of work, and it has to be coded by hand for each business object, but it's probably the best way for you to get your object to XML. You might consider implementing this in a "ToXML" method.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Rajat replied on Monday, November 20, 2006</h2><P>Hi,</P>
<P>I am relatively new the CSLA framework. I got the same problem as yours in the inner exception.</P>
<P>In the outer exception, I got something like ..</P>
<P>"There was error reflecting type ListAbc."</P>
<P>This class is derived from BusinessListBase&lt;&gt;. In the innerexception, I got the following error...</P>
<P>"Can not serialize member CSLA.Core.BusinessBase.BrokenRulesCollections of type CSLA.Validation.BrokenRulesCollection can not be serialized." Now on checking the innerexception property of this, I got the same error message as yours "CSLA.Validation.BrokenRule can not be serialized because it does not have a parameterless constructor".</P>
<P><STRONG>For now, I have changed in the original code of CSLA framework without knowing the repurcutions.&nbsp;I have included a parameterless internal overloaded constructor (besides the one which is already there with few parameters).</STRONG></P>
<P>When I referenced the new dll, and tried to serialize using the XMLSerializer, I was able to serialize the object. <STRONG>So I have the answer of the problem but still need to know the cause of this issue.</STRONG> </P>
<P>Regards,</P>
<P>Rajat.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, November 20, 2006</h2>Well the cause is just what the exception says; there's no parameterless constructor, so the XmlSerializer can't deserialize.<br><br>There's other limitations as well.&nbsp; All properties must have a public setter, or the fields must be publically settable.&nbsp; Neither of those are great for business objects.<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, November 21, 2006</h2><P>DO NOT implement ISerializable for this purpose!!</P>
<P>ISerializable allows you to control how the BinaryFormatter serializes your object - it DOES NOT affect how the XmlSerializer works. All you'd do by implementing ISerializable is mess up cloning and the data portal.</P>
<P>There's a different interface you need to implement to control the XmlSerializer (I don't remember the interface name). It didn't used to be documented, as it was for internal use in the DataSet only, but I think in .NET 2.0 Microsoft documented the interface, so it is probably OK to use.</P>
<P>I don't know if that interface is honored by WCF though, so you might want to check on that ahead of time. Somehow I doubt they support it, because WCF has a new mechanism for serialization. However, they do support &lt;Serializable()&gt; and ISerializable, so it is hard to say for sure.</P>
<P>My recommendation, as always, is that if you want to expose your objects as XML, you should define a formal DTO (data transfer object) and write code to put your data into/out of that DTO - then let the XmlSerializer (or WCF) serialize the DTO into/out of XML.</P>
<P>That approach gives you much better control over the process, and decouples your object from the XML contract you are defining - making your code more maintainable in the long term.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, November 21, 2006</h2>Sorry, I removed my awful suggestion.<br><br>The ISerializable interface documentation doesn't seem to indicate that XmlSerializer ignores it completely, but I guess that makes sense since it doesn't seem to implement IFormatter.<br><br><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
