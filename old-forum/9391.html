<html><header><title>Moving 3.6 -&gt; 4.0 child object changes not causing business rules to fire in list's parent.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Moving 3.6 -&gt; 4.0 child object changes not causing business rules to fire in list's parent.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9391.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jeff Flowerday posted on Tuesday, August 17, 2010</h2><p>I have a business list as a property of a parent object.&nbsp; I have a couple business rules that fire on changes to this list.&nbsp; All was fine in 3.6 they fired but now that I&#39;ve moved to 4.0 changes to children object in these lists don&#39;t cause the rule(s) to fire.</p>
<p>Any idea where to start looking?</p>
<p>My rules are firing for my simple properties, just not child changes in my list property.</p>
<p>I&#39;ve removed my AddNewCore implementation all togethor from the BusinessListBase implementation allowing the default one to fire.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, August 17, 2010</h2><p>How were you listening for events?&nbsp; Are you overridding OnChildChanged?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jeff Flowerday replied on Wednesday, August 18, 2010</h2><p>I&#39;m not listening to events.&nbsp;&nbsp;&nbsp;Nor am&nbsp;overriding OnChildChanged.</p>
<p>I&#39;m simply attaching a business rule to a businesslist managed&nbsp;property.&nbsp; Expecting the rule to fire if I change a property of a child in that list.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jeff Flowerday replied on Wednesday, August 18, 2010</h2><p>ChildChanged isn&#39;t firing when I change a property of&nbsp;a child object which explains why the business rule isn&#39;t firing.&nbsp;</p>
<p>I&#39;ve confirmed I&#39;m using SetProperty.&nbsp; Not sure what I&#39;m missing but it is getting frustrating...</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, August 18, 2010</h2><p>Are you using a managed backing field for the child object reference?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jeff Flowerday replied on Thursday, August 19, 2010</h2><p>Yes managed.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Saturday, August 21, 2010</h2><p>I&#39;m not sure what you are missing either. I have specific unit tests that establish that ChildChanged is raised when a child object&#39;s property changes, so I&#39;m pretty sure it works in general. There must be some quirk to your specific scenario that&#39;s causing an issue.</p>
<p>Try simplifying the scenario to replace the issue and see if you can identify the specific cause.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jeff Flowerday replied on Wednesday, August 25, 2010</h2><p>If I override the OnChildChanged in the parent, I can then force a BusinessRules.CheckRules(ChildListProperty).&nbsp; Both list and actual child object change events happen in OnChildChanged and I can easily catch only the actual child changes.</p>
<p>But if I don&#39;t override OnChildChanged in the parent and force a checkrules&nbsp;the business rules that have the ChildListProperty as the PrimaryProperty won&#39;t fire when a child of the ChildList is changed?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Wednesday, August 25, 2010</h2><p>That is correct.</p>
<p>It is funny, this has never really come up quite this way - and here we have two threads (there was another one just a couple weeks ago) where someone expected rules to run based on ChildChanged.</p>
<p>And it is a good idea. As I said in the other thread, I&#39;m not entirely convinced that this is the majority scenario - which is why I&#39;ve never automated the behavior. But now I&#39;m starting to rethink my position - to the point that I&#39;ve added this to the wish list anyway.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
