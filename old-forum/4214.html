<html><header><title>MarkOld &amp; Transaction rollback</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>MarkOld &amp; Transaction rollback</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4214.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>RalphTime posted on Tuesday, January 22, 2008</h2><P><FONT face=Tahoma>Since it is the responsibility of child objects to call MarkOld in there update and/or insert routines, what happens to the IsNew &amp; IsDirty properties if the transaction is rolled back? In other words,&nbsp;&nbsp;if the parent transaction is rolled back after one of the children has successfully executed its insert or update, and would have therefore called "MarkOld",&nbsp;the&nbsp;database action is rolled back but what about the state of&nbsp; IsNew = false and IsDirty = false on the children that were updated prior to the error?</FONT></P>
<P><FONT face=Tahoma>Just curious,</FONT></P>
<P><FONT face=Tahoma>Thanks in advance!</FONT></P>
<P><FONT face=Tahoma>Ralph</FONT></P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>amselem replied on Wednesday, January 23, 2008</h2><P>Normally you save a clone of the object, not the original. If save fails you can discard the clone and keep the original. </P>
<P>In Csla 2.x you do&nbsp;this manually, in Csla 3.0 you can set&nbsp;the config setting "CslaAutoCloneOnUpdate" to do it automatically. I think that in Csla 3.5 this setting defaults to True.<FONT color=#a31515 size=2></P></FONT></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
