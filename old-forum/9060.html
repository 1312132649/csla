<html><header><title>How to add aditional information or properties to Csla 4.0 BrokenRules instances</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to add aditional information or properties to Csla 4.0 BrokenRules instances</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9060.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Andreas posted on Thursday, June 10, 2010</h2><p>Hi,</p>
<p>in Csla 3.x we were able to add aditional infomation to BrokenRules by using&nbsp;DecoratedRuleArgs&nbsp;in the BusinessRule definition. How can I do this in Csla4.x?&nbsp;<br />For example,&nbsp;the&nbsp;Description Property is not sufficient for us. We need additional infos like &quot;ShortDescription&quot;, &quot;LongDesciption&quot;,&nbsp;&quot;HelpText&quot;&nbsp;&quot;HelpLink&quot; etc. In Csla3.x we than used the RuleDescription class to&nbsp;get back&nbsp;the&nbsp;information, when the rule was broken.<br /><br />Regards,<br />Andreas</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, June 10, 2010</h2><p>In CSLA 3.x you could provide extra information to the rule, but you couldn&#39;t extend the BrokenRule type that is contained in BrokenRulesCollection. To provide extra information to the rule you would create a subclass of RuleArgs or use DecoratedRuleArgs.</p>
<p>In CSLA 4 you provide extra information to the rule by adding properties to the rule class. In CSLA 4 a rule is a type, not a method. And it is <em>your type</em>, so you get to define the properties on that type - which means you can have properties like ShortDescription directly on your rule.</p>
<p>Or am I misunderstanding your question? Or misremembering some detail from 3.x?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Andreas replied on Friday, June 11, 2010</h2><p><span lang="EN-US" style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-ansi-language:EN-US;">In Csla 4.x and Csla 3.x the &quot;only thing&quot;&nbsp;we get when&nbsp;rules are broken is a collection for&nbsp;BrokenRules instances.&nbsp;So&nbsp;how can I access the&nbsp;coresponding&nbsp;BusinessRule instance to&nbsp;get to my custom properties? <br /></span><span lang="EN-US" style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-ansi-language:EN-US;">In&nbsp;Csla 3.x&nbsp;the dictionary&nbsp;(Key, Value) of DecoratedRulesArgs were appended as&nbsp;arguments to the RuleName (uri argument syntax) so I was able to get my&nbsp;additional information by parsing the&nbsp;BrokenRule name, using the helper class RuleDescription.</span><span lang="EN-US" style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-ansi-language:EN-US;"></span></p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, June 11, 2010</h2><p>The BusinessRule base class has a protected RuleUri property, which you can use to add extra values to the RuleName - very much like in 3.8, but I think more flexible.</p>
<p>Specifically, you can use the AddQueryParameter() method to add property values to the URI.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
