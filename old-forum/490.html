<html><header><title>What's The Impact of Bye Passing the Data Portal?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>What's The Impact of Bye Passing the Data Portal?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/490.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Smeat posted on Wednesday, June 28, 2006</h2><P>Hi</P>
<P>I am about to start developing a new web based app where remoting will not be used and wonder if I can gain performance by bye passing the data portal.</P>
<P>For instance, in my <FONT color=#0000ff size=2>public</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>static</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>Enquiry</FONT><FONT size=2> GetEnquiry(</FONT><FONT color=#0000ff size=2>int</FONT><FONT size=2> ID) method, i</FONT>nstead of having <FONT color=#0000ff size=2></P>
<P>&nbsp;&nbsp;&nbsp;return</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>DataPortal</FONT><FONT size=2>.Fetch&lt;</FONT><FONT color=#008080 size=2>Enquiry</FONT><FONT size=2>&gt;(</FONT><FONT color=#0000ff size=2>new</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>Criteria</FONT><FONT size=2>(ID));</FONT></P>
<P><FONT size=2>I was thinking of having <FONT size=2></P>
<P></FONT><FONT color=#008080 size=2>&nbsp;&nbsp;&nbsp;Enquiry</FONT><FONT size=2> o = </FONT><FONT color=#0000ff size=2>new</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>Enquiry</FONT><FONT size=2>();</P>
<P>&nbsp;&nbsp;&nbsp;o.DataPortal_Fetch(</FONT><FONT color=#0000ff size=2>new</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>Criteria</FONT><FONT size=2>(ID));</FONT></P>
<P><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;return</FONT><FONT size=2> o;</FONT></P>
<P><FONT size=2>Am I right in thinking that this will have no impact other than to prevent me switching to remoting?</FONT></P>
<P>TIA</P>
<P>Smeat</P>
<P><FONT size=2>&nbsp;</P></FONT></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, June 28, 2006</h2>I believe you are right; you'll lose the ability to switch to remoting if you need to later.<br><br>That can actually be a pretty big deal, if the time comes where you NEED remoting now to provide better scalability.<br><br>The peformance hit of the DataPortal is negligiable,&nbsp; you won't be gaining much peformance at all by bypassing it, so I'd recommend against it. <br><br>As Rocky points out in the book, reflection is much much quicker when compared to the peformance of the data access code round-tripping to the database. <br><br>Are you having peformance problems now, or are you trying to optimize?&nbsp; If you're having problems now, I suggest looking at your queries for optimization.&nbsp; If you're not, I wouldn't worry about it just yet.&nbsp; <br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Smeat replied on Wednesday, June 28, 2006</h2><P>I'm not really having any performance issues with the framework at the moment though any improvement would be a bonus.</P>
<P>The main reason for wanting to bye pass the data portal is that I am trying to persuade my collegues to buy into the CSLA framework though i'm hitting my head against a brick wall as they have briefly played with version 1.0 where they were running against the CSLA source code and expressed concerns about the amount of processing that goes on under the hood.</P>
<P>Personnaly, I don't see any issue here though if&nbsp;bye passing&nbsp;the data portal will help them to buy into the framework then it will be worth doing.</P>
<P>As far as being able to switch to remoting at a later date, I believe it would be a fairly simple task to bring the data portal back into my objects at a later date as all calls are nicely situated withint he factory methods.</P>
<P>Regards</P>
<P>Smeat</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, June 28, 2006</h2><P>You can read through chapter 5 to see how the data portal is implemented. The local proxy incurs as little overhead as possible, and the data portal itself detects when the "server-side" code runs in-process and bypasses pretty much all the expensive work (serialization, passing context, impersonation, security checks, etc). In short, you gain very little by bypassing the data portal when running in local mode.</P>
<P>What you gain by using it is enforced consistency of code. ("enforced" might be a bit strong...) The reason is that the data portal forces a high level of consistency in how your object interacts with the data source - providing a logical "layer" for your data access code. Without the data portal, or some equivalent, you run the risk of having decentralized data acess code - a developer could write data access code anywhere in the object, bypassing good OO design entirely and destroying any benefit you might hope to gain from using CSLA at all.</P>
<P>Not that the data portal is the only way to get this level of structure. A formal DAL can help, as can code reviews. But the real danger, even with a DAL, is that a developer might start directly accessing the database behind properties, or in arbitrary methods in an object - places where a Command object or some equivalent should probably be used.</P>
<P>Without some enforcement of the logical concept of "client-side" and "server-side" processing, most developers just cheat. It is a byproduct of human nature...</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
