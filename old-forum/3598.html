<html><header><title>Design question - handling record not found in BO.GetBO </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Design question - handling record not found in BO.GetBO </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3598.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>griff posted on Wednesday, September 26, 2007</h2><P><FONT face=Arial>Hi</FONT></P>
<P><FONT face=Arial>I am new to CSLA so please&nbsp;bear with me.</FONT></P>
<P><FONT face=Arial>I know how to use editable BO and my understanding is in general you have a valid primary key&nbsp;(say&nbsp; taken from a grid listing valid records) with which to pass into BO.GetBO(myID).</FONT></P>
<P><FONT face=Arial>I am having a brain block of how to implement CSLA best when most times you don't expect to find a value in the db each time e.g. scanning in an ISBN into a text box....sometimes the ISBN exists in the db othertimes its a new entry.</FONT></P>
<P><FONT face=Arial>So would I do a..... if BO.Exists(ISBN) then......&nbsp;first to see if&nbsp;the ISBN&nbsp;exists then use either BO.NewBO or BO.GetBO(ISBN) accordingly</FONT></P>
<P><FONT face=Arial>or </FONT></P>
<P><FONT face=Arial>would I use the BO.GetBO(ISBN) each time and handle inside the DataPortal_Fetch(crit.ISBN) the scenario of not finding a record.....but if I do this how do I implement the DataPortal_Create..can/do I call from within DataPortal_Fetch.</FONT></P>
<P><FONT face=Arial>Or is there another way.....Any advice would be welcome.</FONT></P>
<P><FONT face=Arial>Richard</FONT></P>
<P><FONT face=Arial></FONT>&nbsp;</P>
<P><FONT face=Arial></FONT>&nbsp;</P>
<P><FONT face=Arial></FONT><FONT size=2>&nbsp;</P>
<P><FONT face=Arial></FONT>&nbsp;</P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jhw replied on Wednesday, September 26, 2007</h2><P>I would use a command obect to see if the isbn exists, then fetch or create as required.</P>
<P>Heath</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Wednesday, September 26, 2007</h2><P>Richard,</P>
<P>I had this exact question 4 years ago when I first started with CSLA. At the time a partial consensus was formed to go ahead and do the check for existence and branch accordingly.</P>
<P>In the intervening years, Rocky decided to change CSLA to automatically call MarkOld() on root BOs as they return through the DataPortal from a Fetch. I discussed my objections with him at the time since it broke my code. This call "saved" the developer one line of code in each root BO. But it&nbsp;does not change the child behavior where the developer still needs to add it. I thought this was inconsistent and would lead to problems. But the CSLA community did not object as strenuously and the change was made. Therefore I have to comment out the calls for MarkOld and MarkNew in the framework. </P>
<P>Interestingly, Rocky got bitten by this implementation while working on WPF in the most recent version.&nbsp;It turns out his problem is identical to my original objection - there are times as a developer when I want the object to be New and other times I want it to be Old. And I need this to happen before returning through the DataPortal - e.g. when calling ValidationRules.CheckRules after a fetch - some rules may depend on if the BO is New or Old. So I have the code for MarkOld() in all my root BOs, just like I always used to. And if I happen to branch and return a New root BO then the framework code which I commented out does not burn me by changing it back to Old.</P>
<P>I think the current community consensus is to throw an Exception from DP_Fetch and handle it in the UI. e.g. the UI asks for a fetch of an ISBN, an exception is thrown because it is not in the DB and the UI catches it and then asks for a New BO&nbsp;by calling DP_Create.</P>
<P>4 years ago we decided to do the check in the BO layer and return a New object if it was not in the DB.</P>
<P>Here is how my Data Access region is currently&nbsp;laid out:</P><FONT size=2>
<P>#</FONT><FONT color=#0000ff size=2>Region</FONT><FONT size=2> </FONT><FONT color=#ff00ff size=2>" Data Access "</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>Protected</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Overridable</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</FONT><FONT size=2> SetDefaults()<BR>&nbsp; IsOwner = </FONT><FONT color=#0000ff size=2>False<BR>&nbsp; </FONT><FONT size=2>Table = </FONT><FONT color=#ff00ff size=2>"SomeBO"<BR>&nbsp; </FONT><FONT size=2>mTstamp.Date = </FONT><FONT color=#0000ff size=2>Date</FONT><FONT size=2>.Now<BR></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</P></FONT><FONT size=2>
<P>#</FONT><FONT color=#0000ff size=2>Region</FONT><FONT size=2> </FONT><FONT color=#ff00ff size=2>"DataPortal_Create"</P></FONT><FONT size=2>
<P>&lt;RunLocal()&gt; _<BR></FONT><FONT color=#0000ff size=2>Protected</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Overridable</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Overloads</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</FONT><FONT size=2> DataPortal_Create(</FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> criteria </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Object</FONT><FONT size=2>)<BR>&nbsp; </FONT><FONT color=#0000ff size=2>If</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>TypeOf</FONT><FONT size=2> criteria </FONT><FONT color=#0000ff size=2>Is</FONT><FONT size=2> CriteriaCode </FONT><FONT color=#0000ff size=2>Then<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>Dim</FONT><FONT size=2> crit </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> CriteriaCode = </FONT><FONT color=#0000ff size=2>DirectCast</FONT><FONT size=2>(criteria, CriteriaCode)<BR>&nbsp;&nbsp;&nbsp; mCostcode = crit.Code<BR>&nbsp; </FONT><FONT color=#0000ff size=2>Else<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>Throw</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>New</FONT><FONT size=2> ApplicationException(</FONT><FONT color=#ff00ff size=2>"Invalid criteria passed to DataPortal_Create method."</FONT><FONT size=2>)<BR>&nbsp; </FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>If</P></FONT><FONT size=2>
<P>&nbsp; SetDefaults()<BR>&nbsp; MarkNew()<BR>&nbsp; ValidationRules.CheckRules()<BR></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</P></FONT><FONT size=2>
<P>#</FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Region</P></FONT><FONT size=2>
<P>#</FONT><FONT color=#0000ff size=2>Region</FONT><FONT size=2> </FONT><FONT color=#ff00ff size=2>" DataPortal_Fetch "</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>Protected</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Overrides</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</FONT><FONT size=2> DataPortal_Fetch(</FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> criteria </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Object</FONT><FONT size=2>)<BR>&nbsp; </FONT><FONT color=#0000ff size=2>If</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>TypeOf</FONT><FONT size=2> criteria </FONT><FONT color=#0000ff size=2>Is</FONT><FONT size=2> CriteriaCode </FONT><FONT color=#0000ff size=2>Then<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>Dim</FONT><FONT size=2> crit </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> CriteriaCode = </FONT><FONT color=#0000ff size=2>DirectCast</FONT><FONT size=2>(criteria, CriteriaCode)<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>If</FONT><FONT size=2> SomeDAO.RecordDoesNotExist(crit.Code) </FONT><FONT color=#0000ff size=2>Then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>Me</FONT><FONT size=2>.DataPortal_Create(criteria)<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>Else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </FONT><FONT size=2>DoFetch(criteria)<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>If<BR>&nbsp; </FONT><FONT color=#0000ff size=2>Else<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>Throw</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>New</FONT><FONT size=2> ApplicationException(</FONT><FONT color=#ff00ff size=2>"Invalid criteria passed to DataPortal_Fetch method."</FONT><FONT size=2>)<BR>&nbsp; </FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>If<BR></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>Protected</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Overridable</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</FONT><FONT size=2> DoFetch(</FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> criteria </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Object</FONT><FONT size=2>)<BR>&nbsp; SetDefaults()<BR>&nbsp; </FONT><FONT color=#0000ff size=2>Dim</FONT><FONT size=2> cn </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> IDbConnection = </FONT><FONT color=#0000ff size=2>Nothing<BR>&nbsp; </FONT><FONT color=#0000ff size=2>Try<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT size=2>cn = DAL.CreateConnection<BR>&nbsp;&nbsp;&nbsp; cn.Open()<BR>&nbsp;&nbsp;&nbsp; FetchData(criteria, cn)<BR>&nbsp;&nbsp;&nbsp; PostFetchData(criteria, cn)<BR>&nbsp;&nbsp;&nbsp; FetchChildren(criteria, cn)<BR>&nbsp; </FONT><FONT color=#0000ff size=2>Finally<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT size=2>cn.Close()<BR>&nbsp; </FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Try</P></FONT><FONT size=2>
<P>&nbsp; MarkOld()<BR>&nbsp; ValidationRules.CheckRules()<BR></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>Protected</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Overridable</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</FONT><FONT size=2> FetchData(</FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> criteria </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Object</FONT><FONT size=2>, </FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> cn </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> IDbConnection)<BR>&nbsp;&nbsp;</FONT><FONT color=#0000ff size=2>Dim</FONT><FONT size=2> dr </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> SafeDataReader<BR>&nbsp; </FONT><FONT color=#0000ff size=2>If</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>TypeOf</FONT><FONT size=2> criteria </FONT><FONT color=#0000ff size=2>Is</FONT><FONT size=2> CriteriaCode </FONT><FONT color=#0000ff size=2>Then<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>Dim</FONT><FONT size=2> crit </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> CriteriaCode = </FONT><FONT color=#0000ff size=2>DirectCast</FONT><FONT size=2>(criteria, CriteriaCode)<BR>&nbsp;&nbsp;&nbsp; dr = </FONT><FONT color=#0000ff size=2>New</FONT><FONT size=2> SafeDataReader(DAL.ExecuteReader(cn, CommandType.Text, SomeDAO.Select(crit.Code)))</FONT><FONT color=#0000ff size=2>&nbsp; <BR>&nbsp; </FONT><FONT color=#0000ff size=2>Else<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>Throw</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>New</FONT><FONT size=2> ApplicationException(</FONT><FONT color=#ff00ff size=2>"Invalid criteria passed to FetchData method."</FONT><FONT size=2>)<BR>&nbsp; </FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>If<BR><BR>&nbsp; </FONT><FONT color=#0000ff size=2>Try<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>With</FONT><FONT size=2> dr<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>If</FONT><FONT size=2> .Read() </FONT><FONT color=#0000ff size=2>Then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </FONT><FONT size=2>mVar1 = Trim(.GetString(</FONT><FONT color=#ff00ff size=2>"var1"</FONT><FONT size=2>))<BR></FONT><FONT size=2><FONT color=#0000ff>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </FONT><FONT size=2>mVar2 = Trim(.GetString(</FONT><FONT color=#ff00ff size=2>"var2"</FONT><FONT size=2>))<BR></FONT></FONT><FONT size=2><FONT color=#0000ff>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </FONT><FONT size=2>mVar3 = Trim(.GetString(</FONT><FONT color=#ff00ff size=2>"var3"</FONT><FONT size=2>))<BR></FONT></FONT><FONT size=2><FONT color=#0000ff>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </FONT><FONT size=2>mVar4 = Trim(.GetString(</FONT><FONT color=#ff00ff size=2>"var4"</FONT><FONT size=2>))<BR></FONT></FONT><FONT size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>If<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>With<BR>&nbsp; </FONT><FONT color=#0000ff size=2>Finally<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT size=2>dr.Close()<BR>&nbsp; </FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Try</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>Protected</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Overridable</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</FONT><FONT size=2> PostFetchData(</FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> criteria </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Object</FONT><FONT size=2>, </FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> cn </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> IDbConnection)<BR>&nbsp;&nbsp;<FONT color=#008000>'marker method that can be overridden in child class<BR></FONT></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>Protected</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Overridable</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</FONT><FONT size=2> FetchChildren(</FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> criteria </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Object</FONT><FONT size=2>, </FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> cn </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> IDbConnection)<BR>&nbsp; </FONT><FONT color=#008000 size=2>'marker method that can be overridden in child class<BR></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</P></FONT><FONT size=2>
<P>#</FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Region</P></FONT>
<P>Note: I store all of my Criteria classes in a separate file and re-use them across all BOs that need them.</P>
<P>e.g.</P><FONT size=2>
<P>&lt;Serializable()&gt; _<BR></FONT><FONT color=#0000ff size=2>Public</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Class</FONT><FONT size=2> CriteriaCode<BR>&nbsp; </FONT><FONT color=#0000ff size=2>Inherits</FONT><FONT size=2> Csla.CriteriaBase<BR><BR>&nbsp; </FONT><FONT color=#0000ff size=2>Public</FONT><FONT size=2> MethodName </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>String</FONT><FONT size=2> = </FONT><FONT color=#ff00ff size=2>""<BR>&nbsp; </FONT><FONT color=#0000ff size=2>Public</FONT><FONT size=2> Code </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>String</FONT><FONT size=2> = </FONT><FONT color=#ff00ff size=2>""<BR><BR>&nbsp; </FONT><FONT color=#0000ff size=2>Public</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>New</FONT><FONT size=2>(</FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> BOtype </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> Type, </FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> methodName </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>String</FONT><FONT size=2>, </FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> code </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>String</FONT><FONT size=2>)<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>MyBase</FONT><FONT size=2>.New(BOtype)<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>Me</FONT><FONT size=2>.MethodName = methodName<BR>&nbsp;&nbsp;&nbsp; </FONT><FONT color=#0000ff size=2>Me</FONT><FONT size=2>.Code = code<BR>&nbsp; </FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Sub</P></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Class</P></FONT>
<P>Note: I use the methodName parameter to branch in the DP&nbsp;if I have many factory methods fetching data and they use the same Criteria class. (If they use different Criteria clsases I can branch on TypeOf criteria.)</P>
<P>e.g.</P><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>Public</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Shared</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Function</FONT><FONT size=2> GetMyBO(</FONT><FONT color=#0000ff size=2>ByVal</FONT><FONT size=2> mycode </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>String</FONT><FONT size=2>) </FONT><FONT color=#0000ff size=2>As</FONT><FONT size=2> MyBO<BR>&nbsp; </FONT><FONT color=#0000ff size=2>Return</FONT><FONT size=2> DataPortal.Fetch(</FONT><FONT color=#0000ff size=2>Of</FONT><FONT size=2> MyBO)(</FONT><FONT color=#0000ff size=2>New</FONT><FONT size=2> CriteriaCode(</FONT><FONT color=#0000ff size=2>GetType</FONT><FONT size=2>(MyBO), </FONT><FONT color=#ff00ff size=2>"GetMyBO"</FONT><FONT size=2>, mycode))<BR></FONT><FONT color=#0000ff size=2>End</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>Function</P></FONT>
<P>Joe</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, September 26, 2007</h2>Just keep in mind though that this isn't a supported scenario, and as Csla does more "pluming" (like calling MarkClean, MarkOld, etc) this may introduce more pain.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>griff replied on Wednesday, September 26, 2007</h2><P>&lt;Just keep in mind though that this isn't a supported scenario&gt;&nbsp; </P>
<P>which scenario do you mean, ajj3085?</P>
<P>1. BO.Exists and branch</P>
<P>2. Raise error in DP_Fetch and handle in UI</P>
<P>3. Handle branching in DP_Fetch as per Joe</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, September 26, 2007</h2>Sorry.&nbsp; I meant Joe's implementation.&nbsp; You'll notice that he said he had to modify the framework to remove calls to MarkOld, etc. so that DP_F would return a new object if one didn't exist.<br><br>You can do #1, but if the object in question does exist, you end up doing two database (and DataPortal) calls per load.&nbsp; So #2 is the option most recommend.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
