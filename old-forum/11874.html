<html><header><title>System.ComponentModel.DataAnnotations.DisplayAttribute vs. CSLA RegisterProperty friendlyName argument</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>System.ComponentModel.DataAnnotations.DisplayAttribute vs. CSLA RegisterProperty friendlyName argument</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11874.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Dane posted on Saturday, March 09, 2013</h2><p>Are these two ways of setting the display name for a property interchangeable?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JonnyBee replied on Saturday, March 09, 2013</h2><p>Hi, </p>
<p>Assuming you use this property syntax:</p>
<pre style="font-family:Consolas;font-size:13;color:black;background:white;"><span style="color:blue;">public</span>&nbsp;<span style="color:blue;">static</span>&nbsp;<span style="color:blue;">readonly</span>&nbsp;<span style="color:#2b91af;">PropertyInfo</span>&lt;<span style="color:blue;">string</span>&gt;&nbsp;NameProperty&nbsp;=&nbsp;RegisterProperty&lt;<span style="color:blue;">string</span>&gt;(c&nbsp;=&gt;&nbsp;c.Name);
</pre>
<p>The you will use the DefaultPropertyInfoFactory and this is the code:</p>
<pre style="font-family:Consolas;font-size:13;color:black;background:white;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">public</span>&nbsp;Csla.<span style="color:#2b91af;">PropertyInfo</span>&lt;T&gt;&nbsp;Create&lt;T&gt;(<span style="color:#2b91af;">Type</span>&nbsp;containingType,&nbsp;<span style="color:blue;">string</span>&nbsp;name,&nbsp;<span style="color:blue;">string</span>&nbsp;friendlyName)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">if</span>&nbsp;(<span style="color:blue;">string</span>.IsNullOrWhiteSpace(friendlyName))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;friendlyName&nbsp;=&nbsp;GetFriendlyNameFromAttributes(containingType,&nbsp;name);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">return</span>&nbsp;<span style="color:blue;">new</span>&nbsp;Csla.<span style="color:#2b91af;">PropertyInfo</span>&lt;T&gt;(name,&nbsp;friendlyName);
&nbsp;&nbsp;&nbsp;&nbsp;}</pre>
<p>And the GetFriendlyNameFromAttribute will look for </p>
<pre style="font-family:Consolas;font-size:13;color:black;background:white;"><span style="color:#2b91af;">DisplayAttribute  (or)<br /></span><span style="color:#2b91af;">DisplayNameAttribute</span>
</pre>
<p>So essentially - yes if you leave FriendlyName as non-specified, null or string.Empty then the DefaultPropertyInfoFactory will look for the Attributes.&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Dane replied on Monday, March 11, 2013</h2><p>I&#39;d been using RegisterProperty&lt;string&gt;(c =&gt; c.UserName, &quot;User Name&quot;) for quite some time. My UI was in Silverlight and it was honoring the friendly name. However, I just started working on an MVC4 UI and I found that MVC is not honoring the friendly name setting. Html.LabelFor was simply returning a label with the property name, i.e. &quot;UserName&quot;. I implemented a DisplayAttribute on the property set to &quot;User Name&quot; and that, of course, resolved the issue in the MVC UI. I&#39;m now wondering if there are more places that one method will work and the other won&#39;t.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>TSF replied on Tuesday, March 12, 2013</h2><p>Not sure about where one method works or doesn&#39;t work, but I saw this example in Rocky&#39;s Using CSLA e-book a few times. Perhaps this is the preferred method?</p>
<p style="padding-left:30px;">public static readonly PropertyInfo&lt;string&gt; NameProperty = RegisterProperty&lt;string&gt;(c =&gt; c.Name);<br /><b>[Display(Name = &quot;Project name&quot;)]</b><br />[Required]<br />[StringLength(50)]<br />public string Name<br />{ &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp;get { return GetProperty(NameProperty); } &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp;set { SetProperty(NameProperty, value); }<br />}</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, March 13, 2013</h2><p>Hi,</p>
<p>DisplayAttribute and DisplayNameAttribute is standard attributes from Microsoft and may be used in multiple UI-frameworks, including ASP.NET MVC. For more details on usage you should search the MSDN documentation and UI frameworks.&nbsp;</p>
<p>Csla has it&#39;s own PropertyInfo that holds a FriendlyName to be used for ex in messages in the rule engine. &nbsp;So we have added support in CSLA to set the FriendlyName from DisplayName or DisplayAttribute if no value was provided explicitly in code. This is because we want CSLA to not be tied a specific feature or attribute in .NET yet provide support for these as good as possible.&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Wednesday, March 13, 2013</h2><p>Jonny is correct.</p>
<p>It is simply a matter of timing. CSLA was handling friendly names for years before the DataAnnotations namespace came along with formal support for the concept. CSLA integrates Microsoft&#39;s attributes, and I&#39;d recommend using their technology now that it exists, because you get the automatic support from MVC (and other technologies), plus smooth integration into CSLA.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
