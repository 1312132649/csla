<html><header><title>SmartDate - A great Asset</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>SmartDate - A great Asset</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10422.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav posted on Tuesday, June 07, 2011</h2><p>I have been using SmartDate since Csla 1.0 and I have found it to be a great asset.&nbsp; With the latest version I had to struggle a little bit but now finally have it doing whatever I need.</p>
<p>My main&nbsp;property preserves the fileld as a Csla.SmartDate.&nbsp; </p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static PropertyInfo&lt;SmartDate&gt; BirthdateProperty = <br />&nbsp;RegisterProperty(new PropertyInfo&lt;SmartDate&gt;(&quot;Birthdate&quot;, &quot;Birthdate&quot;, new SmartDate(SmartDate.EmptyValue.MinDate)));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public SmartDate Birthdate<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get { return GetProperty(BirthdateProperty); }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set { SetProperty(BirthdateProperty, value); }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>This allows me to use all of the functionality like, Birthdate.Date, BirthDate.Add, or Subtract, BirthDate.ToDateTimeOffset() etc.</p>
<p>Then I have a second property. I Got this from the CodeSmith Templates which add the following for DataBinding:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public string BirthdateString<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get { return GetPropertyConvert&lt;SmartDate, string&gt;(BirthdateProperty); }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set { SetPropertyConvert(BirthdateProperty, value);}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>But in this form the property does not work correctly for DataBinding. The following modification appears to take care of that.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public string BirthdateString<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get { return GetPropertyConvert&lt;SmartDate, string&gt;(BirthdateProperty); }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set { SetPropertyConvert&lt;SmartDate, string&gt;(BirthdateProperty, value);&nbsp; <strong>OnPropertyChanged(&quot;BirthdateString</strong>&quot;); }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>As a computer user I find the easiest way to enter a date is without any slashes or dashes : 09232011.&nbsp; This does mandate that the string is exactly 8 digits and the format be mmddyyyy.&nbsp; In the Property Set, I call one of my methods to basically check the value and then insert a couple of slashes.&nbsp; So instead of value it is FormatDate(value)</p>
<p>If one&nbsp;keeps the primary Property as SmartDate, I believe there is nothing that you cannot do with your data in terms date math etc.</p>
<p>Jav</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
