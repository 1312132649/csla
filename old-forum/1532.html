<html><header><title>Grid binding and add row with csla 2.0.3</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Grid binding and add row with csla 2.0.3</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1532.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>figuerres posted on Wednesday, October 18, 2006</h2><P>Hi, can anyone tell me if the 2.0.3 source has a problem with gridviews?</P>
<P>I found a note and a downbload from 2003 that talks about chnages -- seems like they would be in the 2.0.3 code by now.</P>
<P>I am trying to use the Developer Express XtraGrid to allow users to edit and add rows.</P>
<P>if I add a row in code that row seems to edit ok.</P>
<P>but a GUI attempt at an add fails W/o any error messages.</P>
<P>? anyone know the way to fix this ?</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>figuerres replied on Wednesday, October 18, 2006</h2><P>more info:&nbsp; after reading some posts I am trying a few chnages,</P><FONT size=2>
<P>CurrentSale = MCS.FitPro.Library.Invoice.NewInvoice(0, </FONT><FONT color=#0000ff size=2>True</FONT><FONT size=2>)<BR>CurrentSale.Invoicelineitem.AllowEdit = </FONT><FONT color=#0000ff size=2>True<BR></FONT><FONT size=2>CurrentSale.Invoicelineitem.AllowNew = </FONT><FONT color=#0000ff size=2>True<BR></FONT><FONT size=2>CurrentSale.Invoicelineitem.AllowRemove = </FONT><FONT color=#0000ff size=2>True<BR></FONT><FONT size=2>CurrentSale.BeginEdit()<BR>CurrentSale.Invoicelineitem.Add(</FONT><FONT color=#0000ff size=2>Me</FONT><FONT size=2>.CurrentSale.Invoicelineitem.NewLineItem())</FONT><FONT color=#0000ff size=2>Me</FONT><FONT size=2>.InvoiceBindingSource.DataSource = </FONT><FONT color=#0000ff size=2>Nothing<BR></FONT><FONT color=#0000ff size=2>Me</FONT><FONT size=2>.InvoicelineitemBindingSource.DataSource = </FONT><FONT color=#0000ff size=2>Me</FONT><FONT size=2>.CurrentSale.Invoicelineitem<BR></FONT><FONT color=#0000ff size=2>Me</FONT><FONT size=2>.InvoiceBindingSource.DataSource = CurrentSale</FONT></P>
<P><FONT size=2>this all runs but now when I start to edit I get an exeption. Here is part of the trace:</FONT></P>
<P><FONT size=2>System.MissingMethodException was unhandled<BR>&nbsp; Message="Constructor on type 'MCS.FitPro.Library.InvoiceLineItem' not found."<BR>&nbsp; Source="mscorlib"<BR>&nbsp; StackTrace:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.RuntimeType.CreateInstanceImpl(BindingFlags bindingAttr, Binder binder, Object[] args, CultureInfo culture, Object[] activationAttributes)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Activator.CreateInstance(Type type, BindingFlags bindingAttr, Binder binder, Object[] args, CultureInfo culture, Object[] activationAttributes)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Activator.CreateInstance(Type type, Object[] args)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.SecurityUtils.SecureCreateInstance(Type type, Object[] args)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.ComponentModel.BindingList`1.AddNewCore()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.ComponentModel.BindingList`1.System.ComponentModel.IBindingList.AddNew()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Windows.Forms.BindingSource.AddNew()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Windows.Forms.CurrencyManager.AddNew()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at DevExpress.Data.CurrencyDataController.AddNewRow()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at DevExpress.XtraGrid.Views.Grid.GridView.OnActiveEditor_ValueModified(Object sender, EventArgs e)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at DevExpress.XtraEditors.Repository.RepositoryItem.RaiseModified(EventArgs e)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at DevExpress.XtraEditors.BaseEdit.RaiseModified()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at DevExpress.XtraEditors.BaseEdit.set_IsModified(Boolean value)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at DevExpress.XtraEditors.BaseEdit.OnEditValueChanging(ChangingEventArgs e)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at DevExpress.XtraEditors.BaseEdit.set_EditValue(Object value)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at DevExpress.XtraEditors.TextEdit.OnMaskBox_ValueChanged(Object sender, EventArgs e)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at DevExpress.XtraEditors.Mask.MaskBox.RaiseEditTextChanged()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at DevExpress.XtraEditors.Mask.MaskBox.MaskStrategy.SimpleStrategy.DoAfterTextChanged(EventArgs e)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at DevExpress.XtraEditors.Mask.MaskBox.OnTextChanged(EventArgs e)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Windows.Forms.TextBoxBase.WmReflectCommand(Message&amp; m)<BR></FONT></P>
<P><FONT size=2></FONT>&nbsp;</P>
<P><FONT size=2>So ither I used the wrong template and .AddNew() is not there or ????</FONT></P>
<P><FONT size=2>&nbsp;</P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>figuerres replied on Wednesday, October 18, 2006</h2><P>I think when I used codesmith I generated<BR>Invoice - EditableRoot<BR>InvoiceLineItems - EditableChildList<BR>InvoiceDetails - EditableChild</P>
<P>does that sound right??</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>figuerres replied on Thursday, October 19, 2006</h2><P>Ok found and fixed!</P>
<P>&nbsp;</P>
<P>notes:&nbsp; the Codesmith templates from codeplex download are not adding an override that was needed.&nbsp; the template has the code, but it's not added.</P>
<P>override CoreAddNew() was missing and the contructor needed .AllowAdd = True</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Martin SÃ¸rensen replied on Friday, November 24, 2006</h2><P><SPAN>Hi. I have the same problem... can you help me correct the template... where do I chance this ???</SPAN></P>
<P><SPAN>Regards Martin</SPAN></P>
<P><SPAN></SPAN>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
