<html><header><title>Confusion over Editable collections - Source + screenshots provided</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Confusion over Editable collections - Source + screenshots provided</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6528.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>sroberts posted on Friday, February 27, 2009</h2>I must admit I've just hit pretty much the same problem and I think the books don't quite give a full enough example on how to impliment a certain type of editable root list, it's either that or I can't see the wood for the tree's.<br><br>My situation is that I need to be able to retrieve and then save a collection of 'note' objects, but as a batch, I don't want the instant save that an EditableRootListBase offer.<br><br>So I'm using a BusinessListBase class (<span>Notes</span>) and a <span></span>BusinessBase class (<span>Note</span>)<br><br>Below are links to the source code for these two classes <font size="1"><span>(couldn't see how to attach more than 1 file to a post here, hence they're hosted on my website)</span></font><br><br><a href="http://www.businessdrivensolutions.co.uk/csla/notes.txt">Notes.vb</a><br><a href="http://www.businessdrivensolutions.co.uk/csla/note.txt">Note.vb</a><br><br>And <a href="http://www.businessdrivensolutions.co.uk/csla/screenshot.jpg">here</a> is a screenshot of my application with an error I recieve when attempting to call Notes.Save<br><br>I'm sure I'm missing some simple update/insert methods on either Notes or Note, but I've gone round in circles trying different combinations of DataPortal_xxx and Child_xxx methods and just can't seem to get it to work.<br><br>I also currently get an error about edit level mismatch when I call .Cancel changes to the Notes BO (via a bound CSLA Binding Source Node helper object)<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, February 27, 2009</h2>In your Notes class you need to override DataPortal_Update.&nbsp; In your DP_U, using the ConnectionManager to open a single connection, then call MyBase.Child_Update.&nbsp; <br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sroberts replied on Saturday, February 28, 2009</h2>Thanks for your help ajj, that's sorted it. I can't believe I missed such a simple thing, I should have known that the parent needed to initialise the update of it's children, but I assumed the framework would just handle it, given that I didn't actually have a managed field for the children and hence no fieldmanager.<br><br>Just out of morbid curiousity, do you know where in the pdf/paper books this technique is mentioned ?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, March 02, 2009</h2>Well I thought this as well.. but if you really think about it, there's no way it could work.&nbsp; The root has to open the connection... and as Rocky explained it can't possible know how to do that in this case.&nbsp; So you need to override something.&nbsp;&nbsp; <br><br>It's in the book somewhere, I can't remember.&nbsp; If you search the forums though I think Joe found it for me, because I asked the same question.&nbsp;&nbsp; <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" /><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
