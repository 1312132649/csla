<html><header><title>Help with design of Class(s) / Table(s)</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Help with design of Class(s) / Table(s)</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10465.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>RaulLozano posted on Saturday, June 25, 2011</h2><p>Hello.</p>
<p>Suppose you had a class called &ldquo;FunVacation&rdquo; and that the class contained a collection of &ldquo;Steps&rdquo;, this steps are what make your vacation a fun vacation. Now suppose each step can be any of the following options:</p>
<p>Payment<br />&nbsp;&nbsp;&nbsp;&nbsp; SortOrder<br />&nbsp;&nbsp;&nbsp;&nbsp; PaymentType<br />&nbsp;&nbsp;&nbsp;&nbsp; Amount</p>
<p>Activity<br />&nbsp;&nbsp;&nbsp;&nbsp; SortOrder<br />&nbsp;&nbsp;&nbsp;&nbsp; Description<br />&nbsp;&nbsp;&nbsp;&nbsp; ScheduleTime</p>
<p>Feeding<br />&nbsp;&nbsp;&nbsp;&nbsp; SortOrder<br />&nbsp;&nbsp;&nbsp;&nbsp; FoodType<br />&nbsp;&nbsp;&nbsp;&nbsp; TotalCalories</p>
<p>As you can see, all &ldquo;Steps&rdquo; have one property in common and the rest of the properties are unique to each step. The common property called &ldquo;SortOrder&rdquo; is used to determine the order of each step&nbsp;(when it should take place). So a typical &ldquo;FunVacation&rdquo; would look something like:</p>
<p><br />FunVacation<br />&nbsp;&nbsp;&nbsp;&nbsp; Payment (Visa, $500)<br />&nbsp;&nbsp;&nbsp;&nbsp; Activity (Play Golf, 1 hour)<br />&nbsp;&nbsp;&nbsp;&nbsp; Activity (Swim at the pool, 30 minutes)<br />&nbsp;&nbsp;&nbsp;&nbsp; Feeding (Eat hamburger, 500 calories)<br />&nbsp;&nbsp;&nbsp; &nbsp;Activity (Go fishing, 4 hours)<br />&nbsp;&nbsp;&nbsp;&nbsp; Activity (Get a massage, 1 hour)<br />&nbsp;&nbsp;&nbsp;&nbsp; etc.</p>
<p><br />So here are my questions, assuming that the FunVacations you schedule always have the same type of steps, either a Payment, an Activity or a Feeding step:</p>
<p><br />How would you design this?</p>
<p><br />1.&nbsp;Would you create one distinct class to represent each type of Step and have Steps inherit from some base class or some interface that implements the SortOrder common property?<br />2.&nbsp;Would you create one class to represent all Steps and add some kind of dynamic properties mechanism to be able to add or remove any number of custom properties on the fly for that single step?</p>
<p>And how would you store the information in the database?</p>
<p><br />1.&nbsp;Would you create one data table with a bunch of columns so that all Steps can be stored in the same table? Basically, you would end up with a bunch of null columns that are not used because the particular Step you are storing only uses certain columns?<br />2.&nbsp;Would you create a single table with some kind of key/value storage mechanism? Basically, one column would represent the property name and the other the property value.<br />3.&nbsp;Would you create one table to store Payment steps, one table to store Activity steps and one for Feeding step?</p>
<p>Thanks for your feedback.</p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
