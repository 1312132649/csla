<html><header><title>OT: How to re-trigger or bubble an event</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>OT: How to re-trigger or bubble an event</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6586.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jack posted on Monday, March 09, 2009</h2>I have a Views/Presenters/Controller type implementation for one use case that I basically need to respond to a slew of button clicks such that I wanted to consolidate all the logic in a single place.<br><br>Is there a shorthand notation to declare an eventhandler that basically will retrigger the event?<br><br>I'm trying to do:<br><br>Controller += Presenter.Event<br>Presenter += View.Event<br><br>View.Click.Invoke Event<br><br>Presenter --&gt; Controller.DoProcessing<br><br>Thus the presenter can do something if it wants but most cases does nothing but bubble it up.<br><br>I've ended up adding another method in the Presenter to pass it along.<br><br><blockquote>void&nbsp; View_MyEpmActionRequested(object sender, DataEventArgs&lt;MyEpmViewActionData&gt; e)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MyEpmActionRequested(sender, e);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br></blockquote>I thought there was a shortcut to avoid this method.&nbsp; I'm planning down the road to use some commanding but that is for another day.<br><br>Thanks<br><br>jack<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Tuesday, March 10, 2009</h2><P>So, if I understand you correctly, your Presenter is handling events from the View and you want to bubble them to the Controller?</P>
<P>It looks like you have the right idea.&nbsp; I'm really not sure of any other way to do it other than adding an event handler in your presenter, wiring it up as you are and triggering the event that you've defined in your presenter from the handler.&nbsp; For example:</P>
<P><CODE>public class View<BR>{<BR>&nbsp; &nbsp; public event EventHandler ButtonClicked;<BR>}<BR>&nbsp;<BR>public class Presenter<BR>{<BR>&nbsp; &nbsp; public Presenter(View view)<BR>&nbsp; &nbsp; {<BR>&nbsp; &nbsp; &nbsp; &nbsp; view.ButtonClicked += new EventHandler(View_ButtonClicked);<BR>&nbsp; &nbsp; }<BR><BR>&nbsp; &nbsp; private void View_ButtonClicked(object sender, EventArgs e)<BR>&nbsp; &nbsp; {<BR>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OnButtonClicked(e);<BR>&nbsp; &nbsp; }<BR>&nbsp;<BR>&nbsp; &nbsp; public event EventHandler ButtonClicked;<BR>&nbsp;<BR>&nbsp; &nbsp; protected virtual void OnButtonClicked(EventArgs e)<BR>&nbsp; &nbsp; {<BR>&nbsp; &nbsp; &nbsp; &nbsp; if (ButtonClicked != null)<BR>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ButtonClicked(this, e);<BR>&nbsp; &nbsp; }<BR>}<BR>&nbsp;<BR>public class Controller<BR>{<BR>&nbsp; &nbsp; public Controller(Presenter presenter)<BR>&nbsp; &nbsp; {<BR>&nbsp; &nbsp; &nbsp; &nbsp; presenter.ButtonClicked += new EventHandler(Presenter_ButtonClicked);<BR>&nbsp; &nbsp; }<BR>&nbsp;<BR>&nbsp; &nbsp; private void Presenter_ButtonClicked(object sender, EventArgs e)<BR>&nbsp; &nbsp; {<BR>&nbsp; &nbsp; &nbsp; &nbsp; // Do something<BR>&nbsp; &nbsp; }<BR>} </CODE></P>
<P>Hope that helps.</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
