<html><header><title>ConnectionManager for DAL in WinRT project??</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>ConnectionManager for DAL in WinRT project??</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11628.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>TSF posted on Friday, October 05, 2012</h2><p>I&#39;m trying to figure out how to create a DAL for SQLite.</p>
<p>I started by creating new DataAccess and DataAccess.SQLite projects, following the pattern I use for my normal SL projects.&nbsp; But when referencing the WinRT CSLA assembly, I don&#39;t have access to the ConnectionManager class.&nbsp; I&#39;m guessing that is because there is no System.Data available for WinRT.</p>
<p>Should I expect to be able to use the ConnectionManager class in my SQLite DAL, such as the following?&nbsp; Or does this concept not apply for what I&#39;m doing?&nbsp; Thanks.</p>
<p><span style="font-size:x-small;font-family:Consolas;">using (var ctx = ConnectionManager&lt;SqlConnection&gt;.GetManager(&quot;SQLiteDbName&quot;))</span><span style="font-size:x-small;font-family:Consolas;"><span style="font-size:x-small;font-family:Consolas;"></span></span></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>TSF replied on Friday, October 05, 2012</h2><p>Maybe I need to just read more in the DataPortal e-book about using&nbsp;a custom proxy.&nbsp; Although I&#39;m still not sure about whether I need to handle a &quot;connection&quot; to a SQLite database in a special way...entirely new to that.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, October 05, 2012</h2><p>Because there&#39;s no System.Data in WinRT, most (all?) of the Csla.Data functionality isn&#39;t there either.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>TSF replied on Saturday, October 06, 2012</h2><p>Related to this, I&#39;m trying to understand how to use a custom proxy following the code in your ProxyFactorySl example.&nbsp; In both my project and your example project, the compiler is having trouble with the following two&nbsp;highlighted lines:</p>
<p>&nbsp;&nbsp;&nbsp; protected override Csla.DataPortalClient.IDataPortalProxy&lt;T&gt; GetProxy&lt;T&gt;(Csla.DataPortal.ProxyModes proxyMode)<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var offline = (bool)Csla.ApplicationContext.LocalContext[&quot;Offline&quot;];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (proxyMode == DataPortal.ProxyModes.LocalOnly || offline)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="background-color:yellow;">return new LocalProxy&lt;T&gt;();</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="background-color:yellow;">return new WcfProxy&lt;T&gt;();</span><br />&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;The error is &quot;The type &#39;T&#39; cannot be used as type parameter &#39;T&#39; in the generic type or method &#39;Csla.DataPortalClient.LocalProxy&lt;T&gt;&#39;. There is no boxing conversion or type parameter conversion from &#39;T&#39; to &#39;Csla.Serialization.Mobile.IMobileObject&#39;.&quot;</p>
<p>&nbsp;Could you provide direction in what to do to resolve this?&nbsp; Thanks.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
