<html><header><title>OT: Guidance for new nUnit users?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>OT: Guidance for new nUnit users?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1106.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Q Johnson posted on Friday, September 01, 2006</h2><P>I've installed nUnit and written a test module successfully.&nbsp; But it doesn't do anything very useful and I'm ready to correct that.</P>
<P>So I'm curious to know what kinds of tests do CSLAers write to test their BOs?&nbsp; Is there a standard suite that you always do for the standard BOs?&nbsp; </P>
<P>And then you only write special test for Command objects' special behaviors and your non-CSLA objects in the application?</P>
<P>How does CodeGeneration affect your use?&nbsp; Do you test less because of it?&nbsp; Do you generate tests?</P>
<P>Sure, these are a lot of questions, but what a great resource this thread will be for so many!&nbsp; And it will be easy to find with this title, too!</P>
<P>Thanks for all your contributions here,</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Saturday, September 02, 2006</h2>I use CodeSmith to generate my objects and stored procedures.&nbsp; At the moment, I do not do much with NUnit.&nbsp; I write a test for each root object to test each crud operation (to make sure everything is wired up correctly and a stored procedure has not accidently been dropped) as well as some special cases.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Saturday, September 02, 2006</h2><P>Unit tests will vary depending on the complexity of your objects and will be more complex the deeper your heirarchy becomes.</P>
<P>Typically, you will want to 'actuate' each of your objects properties to make sure that everything is being set and retrieved properly.&nbsp; This may seem like a pain, but a true tester will tell you that snippets like:</P>
<P><CODE>myObject.PropertyA = someValue;<BR>Assert.AreEqual(myObject.PropertyA, someValue);</CODE></P>
<P>can really uncover some basic errors that could plague you if only testing higher level functionality.&nbsp; So, don't discount this type of testing.&nbsp; Plus, you only have to take the time to write the test once (before coding if you buy into a test-driven approach) and will be able to re-run the test over and over to make sure everything continues to work right as your efforts go on (regression, integration &amp; system testing).</P>
<P>Then, you will want to test that each of your operations do as expected.&nbsp; This will include method calls and evaluating any overloaded operators.&nbsp; Same rule here: may seem basic and like grunt work, but it pays off when the tests find a type-o or logic error.</P>
<P>As you get into higher level objects, such as BO's, you will add tests for things like CRUD operations.&nbsp; A typical test here is to create an object, save it to the DB, retrieve a copy of it and make sure that what you retrieved matches the original.&nbsp; As you can tell, this tests a whole lot of things including not only your data access code,&nbsp;stored procedures and&nbsp;DB schema&nbsp;but your property accessors, Equals implementation, etc.&nbsp; This is why it's good to perform your tests all the way down your heirarchy and to test everything because if the comparison to your retreived object fails, it sure would be nice to have an idea that it was&nbsp;something as simple as a cross-wired property get accessor before you spend hours and handfuls of hair troubleshooting your sprocs and data access code.</P>
<P>Nice thing about NUnit is that it really doesn't care what you are doing within your test methods, so you can use the tool beyond simple unit testing.&nbsp; Once you start dealing with communication and collaboration with other objects, you've actually stepped out of unit testing and into integration testing.&nbsp; But this isn't a problem with NUnit where a test is a test no matter what you are doing within it.</P>
<P>Just remember to keep your testing code organized with your class library so that it is there to re-use quickly and easily later.&nbsp; I know many people like to put there test fixtures (classes) in other assemblies (as Rocky did), but with a simple #if DEBUG compiler switch, you can keep them in the same library and make them disappear for production release.&nbsp; Having it there helps to make sure that you make use of the tests as your work continues.&nbsp; Out of site, out of mind, ya know?</P>
<P>I suggest you take a look at the source code that accompanies the book.&nbsp; Rocky has included his unit tests in the Csla.Test application.&nbsp; That may help give you an idea of the kind of things to do in your own tests.</P>
<P>Hope that helps.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Sunday, September 03, 2006</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>SonOfPirate:</strong></div><div><br>Just remember to keep your testing code organized with your class library so that it is there to re-use quickly and easily later.&nbsp; I know many people like to put there test fixtures (classes) in other assemblies (as Rocky did), but with a simple #if DEBUG compiler switch, you can keep them in the same library and make them disappear for production release.&nbsp; Having it there helps to make sure that you make use of the tests as your work continues.&nbsp; Out of site, out of mind, ya know?<br></div></BLOCKQUOTE><br><br>Do you have a means of not including nunit.framework.dll in the released build?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Sunday, September 03, 2006</h2><P>No, unfortunately MS hasn't given us the ability to distinguish references by configuration (yet?).&nbsp; So, if you have the test classes in the same assembly, you'd have to live with it being a part of the build.</P>
<P>Good point.&nbsp; I will reconsider this point-of-view/practice.</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
