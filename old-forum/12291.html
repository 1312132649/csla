<html><header><title>Problematically set property to be readonly in BusinessBase class</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Problematically set property to be readonly in BusinessBase class</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12291.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Tatjana posted on Friday, January 03, 2014</h2><p>I have a property created like this in a&nbsp;BusinessBase class:</p>
<p>&nbsp; &nbsp; private static PropertyInfo&lt;string&gt; ABCProperty =<span style="font-size:12px;">&nbsp;RegisterProperty(typeof(ObjectA), new PropertyInfo&lt;string&gt;(&quot;ABC&quot;));</span></p>
<p><span style="font-size:12px;">&nbsp; &nbsp; public string ABC<br /></span><span style="font-size:12px;">&nbsp; &nbsp; {<br /></span><span style="font-size:12px;">&nbsp; &nbsp; &nbsp; get { return GetProperty(ABCProperty); }<br /></span><span style="font-size:12px;">&nbsp; &nbsp; &nbsp; internal set { SetProperty(ABCProperty, value); }&nbsp;<br /></span><span style="font-size:12px;">&nbsp; &nbsp; }</span></p>
<p><span style="font-size:12px;">The above makes the property to be read-only in a form (cannot be changed by a user).</span></p>
<p><span style="font-size:12px;">Is it possible, based on some global setting&#39;s value that I&#39;d like to define in my application, to make this property writable? &nbsp;With other words, ABCProperty&#39;s value &nbsp;could be changed by a user, if setting&#39;s variable is True, otherwise this property should remain read-only. &nbsp;If it is not possible, what would be other alternative way to achieve this?</span></p>
<p>Thank you kindly,</p>
<p>Tanja.</p>
<p><span style="font-size:12px;">&nbsp;</span></p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JonnyBee replied on Saturday, January 04, 2014</h2><p>Hi,</p>
<p>The recommended solution is to use AuthorizationRules to determine wheter a user has acces to Read/Write property value. CSLA comes with standard authorization rules for IsInRole and IsNotInRole but you can easily create yourown rules and test whichever way YOU want to dermine whether user is allowed access or not.&nbsp;</p>
<p>Another possible alternative is to override CanWriteProperty and check whether a &quot;global&quot; flag is set or not. &nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Tatjana replied on Tuesday, January 07, 2014</h2><p>Thank you, JonnyBee. &nbsp;That did the trick. &nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Saturday, January 04, 2014</h2><p>Typically we would use canwriteproperty and return a true or false based on whether the current user, as identified by their role permissions .. should be able to edit the value.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
