<html><header><title>Gridview will not refresh</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Gridview will not refresh</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3514.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>checlark posted on Tuesday, September 11, 2007</h2><P>I have a gridview bound to a csladatasource. When a row is deleted the grid does not refresh. I am performing a databind on the gridview after the datasource deletes the item from the database. This is called in the gridview's row deleted event handler. Any one have any ideas why the grid is not refreshing? I have included the code I am using.</P><B><FONT color=#460046 size=2>
<P>protected</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#460046 size=2>void</FONT><FONT color=#0000ff size=2> </B></FONT><FONT color=#5105b7 size=2>CslaDataSourceCustomers_DeleteObject</FONT><B><FONT color=#0000ff size=2>(</FONT><FONT color=#460046 size=2>object</FONT><FONT color=#0000ff size=2> </B></FONT><FONT color=#5105b7 size=2>sender</FONT><B><FONT color=#0000ff size=2>, </B></FONT><FONT color=#5105b7 size=2>Csla</FONT><B><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>Web</FONT><B><FONT color=#ff0000 size=2>.</FONT><FONT color=#d306af size=2>DeleteObjectArgs</FONT><FONT color=#0000ff size=2> </B></FONT><FONT color=#5105b7 size=2>e</FONT><B><FONT color=#0000ff size=2>)</FONT></B></P>
<P><B><FONT color=#0000ff size=2>{</P>
<P></FONT><FONT color=#460046 size=2>try</P></FONT><FONT color=#0000ff size=2>
<P>{</P>
<P></FONT><FONT color=#d306af size=2>Customer</FONT><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>DeleteCustomer</FONT><B><FONT color=#0000ff size=2>( </FONT><FONT color=#460046 size=2>new</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#5555ff size=2>Guid</FONT><FONT color=#0000ff size=2>( </B></FONT><FONT color=#5105b7 size=2>e</FONT><B><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>Keys</FONT><B><FONT color=#0000ff size=2>[</FONT><FONT color=#00a452 size=2>"TableKey"</FONT><FONT color=#0000ff size=2>]</FONT><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>ToString</FONT><B><FONT color=#0000ff size=2>() ) );</P>
<P></B></FONT><FONT color=#5105b7 size=2>e</FONT><B><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>RowsAffected</FONT><B><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>=</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff8000 size=2>1</FONT><FONT color=#0000ff size=2>;</P>
<P>}</P>
<P></FONT><FONT color=#460046 size=2>catch</FONT><FONT color=#0000ff size=2> ( </B></FONT><FONT color=#5105b7 size=2>Csla</FONT><B><FONT color=#ff0000 size=2>.</FONT><FONT color=#d306af size=2>DataPortalException</FONT><FONT color=#0000ff size=2> </B></FONT><FONT color=#5105b7 size=2>ex</FONT><B><FONT color=#0000ff size=2> )</P>
<P>{</P>
<P></FONT><FONT color=#460046 size=2>this</FONT><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>ErrorLabel</FONT><B><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>Text</FONT><B><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>=</FONT><FONT color=#0000ff size=2> </B></FONT><FONT color=#5105b7 size=2>ex</FONT><B><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>BusinessException</FONT><B><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>Message</FONT><B><FONT color=#0000ff size=2>;</P>
<P></B></FONT><FONT color=#5105b7 size=2>e</FONT><B><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>RowsAffected</FONT><B><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>=</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff8000 size=2>0</FONT><FONT color=#0000ff size=2>;</P>
<P>}</P>
<P></FONT><FONT color=#460046 size=2>catch</FONT><FONT color=#0000ff size=2> ( </FONT><FONT color=#d306af size=2>Exception</FONT><FONT color=#0000ff size=2> </B></FONT><FONT color=#5105b7 size=2>ex</FONT><B><FONT color=#0000ff size=2> )</P>
<P>{</P>
<P></FONT><FONT color=#460046 size=2>this</FONT><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>ErrorLabel</FONT><B><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>Text</FONT><B><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>=</FONT><FONT color=#0000ff size=2> </B></FONT><FONT color=#5105b7 size=2>ex</FONT><B><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>Message</FONT><B><FONT color=#0000ff size=2>;</P>
<P></B></FONT><FONT color=#5105b7 size=2>e</FONT><B><FONT color=#ff0000 size=2>.</B></FONT><FONT color=#5105b7 size=2>RowsAffected</FONT><STRONG><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>=</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff8000 size=2>0</FONT></STRONG><FONT color=#0000ff size=2><STRONG>;</STRONG></P>
<P><STRONG>}</STRONG></P>
<P><STRONG>}</STRONG></P>
<P>&nbsp;</P><FONT color=#460046 size=2>
<P><STRONG>protected</STRONG></FONT><STRONG><FONT color=#0000ff size=2> </FONT><FONT color=#460046 size=2>void</FONT><FONT color=#0000ff size=2> </FONT></STRONG><FONT color=#5105b7 size=2>GridViewCustomerAccounts_RowDeleted</FONT><STRONG><FONT color=#0000ff size=2>(</FONT><FONT color=#460046 size=2>object</FONT><FONT color=#0000ff size=2> </FONT></STRONG><FONT color=#5105b7 size=2>sender</FONT><STRONG><FONT color=#0000ff size=2>, </FONT><FONT color=#d306af size=2>GridViewDeletedEventArgs</FONT><FONT color=#0000ff size=2> </FONT></STRONG><FONT color=#5105b7 size=2>e</FONT><FONT color=#0000ff size=2><STRONG>)</STRONG></P>
<P><STRONG>{</STRONG></P>
<P></FONT><FONT color=#5105b7 size=2>Session</FONT><STRONG><FONT color=#0000ff size=2>[</FONT><FONT color=#00a452 size=2>"currentObject"</FONT><FONT color=#0000ff size=2>] </FONT><FONT color=#ff0000 size=2>=</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#460046 size=2>null</FONT></STRONG><FONT color=#0000ff size=2><STRONG>;</STRONG></P>
<P></FONT><FONT color=#5105b7 size=2>GridViewCustomerAccounts</FONT><FONT color=#ff0000 size=2><STRONG>.</STRONG></FONT><FONT color=#5105b7 size=2>DataBind</FONT><FONT color=#0000ff size=2><STRONG>();</STRONG></P>
<P><STRONG>}</STRONG></P></FONT></FONT></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
