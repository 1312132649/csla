<html><header><title>WPF Save/Cancel </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>WPF Save/Cancel </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3399.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>jtnjtnjtn posted on Sunday, August 19, 2007</h2>The default behaviour of the Save and Cancel buttons enabling/disabling based on IsDirty etc is great but I want the form to close after the user hits Save or Cancel.&nbsp; Additionally I want the Close button enabled always so othat the form can be closed without changing the data.<br><br>The XAML is:<br>&nbsp;&lt;Button <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Command="ApplicationCommands.Save" <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CommandTarget="{Binding Source={StaticResource Country}, Path=CommandManager, BindsDirectlyToSource=True}"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HorizontalAlignment="Left" IsDefault="True"&gt;Save&lt;/Button&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Button <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Command="ApplicationCommands.Undo" <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CommandTarget="{Binding Source={StaticResource Country}, Path=CommandManager, BindsDirectlyToSource=True}"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HorizontalAlignment="Left" IsCancel="True"&gt;Cancel&lt;/Button&gt;<br><br>I tried adding a Click event as follows:<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Button <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Command="ApplicationCommands.Undo" <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CommandTarget="{Binding Source={StaticResource Country}, Path=CommandManager, BindsDirectlyToSource=True}"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Click="CancelButton_Click"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HorizontalAlignment="Left" IsCancel="True"&gt;Cancel&lt;/Button&gt;<br><br>but the Click event fires before the Command which is no good.<br><br>Is there a way of capturing the ApplicationCommand after it has completed, testing the result and then closing the form?<br>Is there a way of having all of the benefits of codeless updates and modifying the behaviour of the buttns so that they do not disable based on the data?<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
