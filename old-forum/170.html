<html><header><title>Children of one collection or many help</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Children of one collection or many help</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/170.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Wal972 posted on Tuesday, May 23, 2006</h2><P>Hi.</P>
<P>How do I set up a object for example an invoice which has a collection of line items which are different types.</P>
<P>ie. Serivce, products, payments etc. each with their own requirements and functions.</P>
<P>Do I have my root object contain one collection&nbsp;or multiple for the different types are all of LineItem Type.</P>
<P>Help</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>pfeds replied on Tuesday, May 23, 2006</h2><P>It seems to me like you want one collection of line items.&nbsp; A line item would contain basic information that you can display in your invoice.</P>
<P>If you opt for your former method of having a number of child collections for service, product, etc&nbsp;then that could get messy when you need to add yet another type of line item.</P>
<P>By the way, you would want three classes.&nbsp; Your Invoice would be an editable root, and you also want a read only&nbsp;LineItemList&nbsp;that contains read only&nbsp;LineItemInfo items.</P>
<P>You may also need to implement a way of navigating from a LineItemInfo object to what it actually represents, such as a full fat Service or Product.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DavidDilworth replied on Tuesday, May 23, 2006</h2><P>Is the relationship you're describing between Invoice and LineItem "An Invoice has a bunch of associated LineItems (of any type)".</P>
<P>If yes, then the answer is indeed a single child Collection of type LineItemList (say).&nbsp; In this scenario it is likely that LineItem itself is merely an abstract base class (ABC) from which your concrete line item classes inherit.</P>
<P>If no, then what you might be saying is that you need to know that an Invoice can have associated Payments.&nbsp; If this is the case then you need different child collections for each of the types you are ultimately really interested in.</P>
<P>It depends what requirement you are trying to meet with your Invoice object and your LineItem object.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, May 23, 2006</h2>This also may be a good case for inhertance.&nbsp; You have an Invoice, a LineItems collection, an abstract LineItem class.&nbsp; You would than have ServiceLineItem, ProductLineItem, PaymentLineItem, etc.&nbsp; each with their own rules.<br><br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Wal972 replied on Tuesday, May 23, 2006</h2><P>Thats exactly what i mean. My problem is creating it. It I have a collection Line items, do I have its transactions as&nbsp;the abstract LineItem Class. and will it accept that. If not what ? </P>
<P>Also&nbsp;when I create the collection how do I tell it to create the different items Service etc. Do I use a select case and determine it at the time of creation for display purposes.</P>
<P>Thanks for the help</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, May 23, 2006</h2><P>You are right - this is a problem due to the lack of polymorphic behavior in generics. Well, that and an oversight on my part...</P>
<P>So in version 2.0.1 you'll see an answer to this problem, where I've changed BusinessListBase and Core.BusinessBase to allow for polymorphic child types in a collection. The prototype code for this is in cvs right now, and involves a new interface (IEditableBusinessObject) and also a change to IEditableCollection.</P>
<P>The end result is that you can define a common (non-generic) interface that all your line item classes implement - then you declare your collection like this:</P>
<P>Public Class MyLineItems<BR>&nbsp; Inherits Csla.BusinessListBase(Of MyLineItems, ILineItem)</P>
<P>I'll have a beta 2 of 2.0.1 on my web site later this week so you can try this out. Also I'll be checking in some unit tests for this concept in the near future so you can see how it is used.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Wal972 replied on Sunday, June 11, 2006</h2><P>OK, I have created my collection with the interface.&nbsp; How do I reference the a fetch call for the collection.</P>
<P>Secondly how do I reference a particular line item type within the collection ?</P>
<P>Thanks</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
