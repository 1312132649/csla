<html><header><title>Is there a way to achieve non-stop applications, update the system?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Is there a way to achieve non-stop applications, update the system?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9198.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>BeansLiu posted on Sunday, July 11, 2010</h2><p>I was&nbsp;&nbsp; writting a production management program&nbsp; for a small business ,<br />However,&nbsp; there is a problem bothering me,<br />Application has been formally applied, but users also need to continue the revision process.<br />If we modify the program must stop the on-site application, <br />and then publish the new procedures (clickonce), update and restart the middle of the application layer<br />. Because the production is 24 hours, so the user&nbsp; is not very satisfactory for we stop the application when we update the application.<br />Is there a way to achieve non-stop applications, update the system?<br /><br />The following is the structure of our application:</p>
<p>Client : .net winform ( use csla business object)</p>
<p>Application Server : .net Remoting (use csla business object)</p>
<p>Database Server : Sql Server 2005</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>ajj3085 replied on Sunday, July 11, 2010</h2><p>Well, I think the only way you&#39;ll get away with this is if the client has failover servers.&nbsp; Take&nbsp;one&nbsp;of the db and web servers off line, apply your updates.&nbsp; Bring them back up.&nbsp; Repeat for the other server, but of course in the middle of this process they&#39;ll have to close and restart the application.</p>
<p>IMO though, the client is not being reasonable.&nbsp; There is no such thing as 100% uptime, and they should be realistically be scheduling in maintenance downtime.&nbsp; I&#39;m sure they don&#39;t run all of their machinery 100% of the time either; they take certain ones off line for planned (and probably unplanned) maintenance.&nbsp; </p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>rsbaker0 replied on Sunday, July 11, 2010</h2><p>We found for minor updates using the web service portal that we could seamless refresh the web service while clients were running.&nbsp; We could copy in the new .DLL&#39;s and recycle the application pool, and existing requests being serviced at the time we do this continue to finish up in the original process that was previously servicing the application pool, and no one was the wiser. </p>
<p>However, this works only if the client binaries are still compatible those on the server side of the data portal, so it&nbsp;doesn&#39;t work for major changes that require&nbsp;updates to the client also.&nbsp;So, it might work for you in some cases but not all. </p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>BeansLiu replied on Tuesday, July 13, 2010</h2><p>thanks a lot for all.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, July 13, 2010</h2><p>This is theoretically posslble, but as people have pointed out it is not easy.</p>
<p>The same problems exist with any sort of service-based or n-tier model - the client and server need to update in sync, and if you can&#39;t have <em>any</em> downtime that&#39;s really tough.</p>
<p>It is pretty common in service-based systems to use a different URL for each version of the service, and you can do that with the data portal. So as you prepare to release version 2, set up a new data portal URL for version 2. Then, as each client restarts the app, you&#39;d deploy (via clickonce?) version 2 of the client, with a new config file that points to the new version 2 data portal URL.</p>
<p>Of course that only works if your database is unchanged - so it is possible to have a window of time when some users are on v1 and some are on v2. If your v2 release requires database changes, then your challenge is greater, and it becomes extremely difficult to do a phased rollover with zero downtime...</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
