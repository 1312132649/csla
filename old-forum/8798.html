<html><header><title>Service Reference in VS2010 not working</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Service Reference in VS2010 not working</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8798.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav posted on Tuesday, April 13, 2010</h2><p>Just started to use VS2010.&nbsp;&nbsp; Opened my SL 3.8.2 project.&nbsp; Everything appears to have converted fine but the ServiceReferences are behaving badly.</p>
<p>The WcfPortal.svc file contains:</p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"><font face="Consolas" size="2"><font face="Consolas" size="2">
<p>&lt;%@</p>
</font></font></span><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></span>
<p><span style="font-family:Consolas;color:#800000;font-size:x-small;"><span style="font-family:Consolas;color:#800000;font-size:x-small;"><span style="font-family:Consolas;color:#800000;font-size:x-small;">ServiceHost</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"> </span></span><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;">Service</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">=&quot;Csla.Server.Hosts.Silverlight.WcfPortal&quot;</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"> %&gt;</span></span></p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">The WebConfig is also&nbsp;unchanged from VS2008 file where everything was working for months now.&nbsp; When I try to create a&nbsp;ServiceReference from a .Client project, clicking the Discover button does bring up the WcfPortal, but when I click OK, I get the following error:</span></span></p>
</p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"><em>There was an error downloading metadata from the address. Please verify that you have entered a valid address. <br />No service metadata was found at the address specified in the <span class="label">Address</span> field. Verify that the URL address was entered correctly and that there are no connectivity issues.</em> </span></span></p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">If, instead of clicking OK in that dialog, I click WcfPortal.svc entry, I get an error which provides the following detail:</span></span></p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">The HTML document does not contain Web service discovery information.<br />Metadata contains a reference that cannot be resolved: &#39;http://localhost/EMSilverlight.Web/WcfPortal.svc&#39;.<br />The content type text/html; charset=utf-8 of the response message does not match the content type of the binding (application/soap+xml; charset=utf-8). If using a custom encoder, be sure that the IsContentTypeSupported method is implemented properly. The first 1024 bytes of the response were: &#39;</span></span></p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</a>&quot;&gt;</span></span></p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">&lt;html xmlns=&quot;<a href="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</a>&quot; &gt;<br />&lt;head&gt;&lt;title&gt;</span></span></p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">&lt;/title&gt;&lt;/head&gt;<br />&lt;body&gt;<br />&nbsp;&nbsp;&nbsp; &lt;form name=&quot;form1&quot; method=&quot;post&quot; action=&quot;Login.aspx?ReturnUrl=%2fEMSilverlight.Web%2fWcfPortal.svc&quot; id=&quot;form1&quot;&gt;<br />&lt;input type=&quot;hidden&quot; name=&quot;__VIEWSTATE&quot; id=&quot;__VIEWSTATE&quot; value=&quot;/wEPDwUKMTQzMzQ5NDg2OQ9kFgICAw9kFgICAQ9kFgJmD2QWAgINDxAPFgIeB0NoZWNrZWRnZGRkZBgBBR5fX0NvbnRyb2xzUmVxdWlyZVBvc3RCYWNrS2V5X18WAQURTG9naW4xJFJlbWVtYmVyTWXh6KQQCFv8nPS87xkmfpERnLYEug==&quot; /&gt;</span></span></p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">&lt;input type=&quot;hidden&quot; name=&quot;__EVENTVALIDATION&quot; id=&quot;__EVENTVALIDATION&quot; value=&quot;/wEWBQLMyMPnBAKUvNa1DwL666vYDAKC0q+kBgKnz4ybCLpSppbUz4zQFzw/9wX7/JcdUQBA&quot; /&gt;<br />&nbsp;&nbsp;&nbsp; &lt;div&gt;<br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;table align=&quot;center&quot; style=&quot;width: 100%; height: 651px&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td align=&quot;center&quot; style=&quot;height: 30%&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;strong&gt;&lt;span style=&quot;font-size: 36pt&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;span style=&quot;font-family: Edwardian Script I&#39;.<br />If the service is defined in the current solution, try building the solution and adding the service reference again.</span></span></p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">Jav</span></span></p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, April 13, 2010</h2><p><a href="http://www.lhotka.net/weblog/RunningCSLANET382UnderNET4AndSilverlight4.aspx">http://www.lhotka.net/weblog/RunningCSLANET382UnderNET4AndSilverlight4.aspx</a></p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Tuesday, April 13, 2010</h2><p>I am still using Silverlight 3 and Framework 3.5</p>
<p>After posting that message, I simply re-copied the ServerReferences.ClientConfig file&nbsp;into every project that needed it.&nbsp; I was also going back and forth between VS2008 and 2010 while trying to see where the problem might be, but somehow, I can now run the application and it is working.&nbsp; Whether recopying those files did anything, I don&#39;t know&nbsp; (those files were there in the first place).&nbsp; </p>
<p>The error I reported in my post occured when I try to set up the server reference, and it still occures.&nbsp; Since the program runs fine, I haven&#39;t done anything else.</p>
<p>Jav</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
