<html><header><title>Calling one CSLA library from another app</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Calling one CSLA library from another app</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4338.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>mtagliaf posted on Tuesday, February 12, 2008</h2><font face="Verdana" size="2">I've got 2 large, independent CSLA-Architecture apps. Both have their own business library.<br><br>Now (of course) the users are asking if some of the reports in App 1 could be accessible from App 2.&nbsp; The reports in App 1 use business classes from App 1, so I need to somehow link over to the App1 CLSA library and use those classes.<br><br>The main problem, as I see it, is the BusinessIdentity/Principal classes are different/custom in each application - I cannot set the user's CurrentPrincipal to 2 different classes. The reports use some "application-level" settings that I'm storing in the BusinessPrincipal class.<br><br>I defintely do not want to merge these applications or CSLA libraries, either.&nbsp; El-nightmare-o.<br><br>Are there any other options?<br></font></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, February 12, 2008</h2>I have similar concerns.&nbsp; My current thinking is to move reporting to Reporting Services and get BOs out of the mix.&nbsp; Currently, my reporting BOs aren't doing a whole load... just loading data which is then displayed.&nbsp; Seems rather pointless.<br><br>Alternately, you could move select classes to some base shared assembly.&nbsp; A common base class for both principals, and the reports would go together.<br><br>HTH<br>andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>mtagliaf replied on Tuesday, February 12, 2008</h2><font face="Verdana" size="2">One thing - I never got on the ApplicationContext bandwagon.&nbsp; I have custom BusinesIdentity objects that have all my user-specific fields in them. <br><br>If I move these to the ApplicationContext, and make sure they're set from both CSLA apps, does this fix my problem?<br></font></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Tuesday, February 12, 2008</h2><P>We use active directory, so that may influence things a bit.</P>
<P>We put our custom principle extensions into the csla library, so all our business object libraries share the same user identity object.&nbsp; After all, I don't change who I am when I use a telephone or a pad and paper!&nbsp; </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Tuesday, February 12, 2008</h2><P><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>mtagliaf:</strong></div><div><FONT size=2><FONT face=Verdana>...</FONT><BR></FONT><FONT face=Verdana size=2>The main problem, as I see it, is the BusinessIdentity/Principal classes are different/custom in each application - I cannot set the user's CurrentPrincipal to 2 different classes. The reports use some "application-level" settings that I'm storing in the BusinessPrincipal class.<BR>...</FONT></div></BLOCKQUOTE></P>
<P>One possible solution is to extract a common interface from both classes (the minimum needed to generate your reports). This can be defined in a separate assembly to avoid dependency issues. (or alternatively, one of your libraries could own the interface -- it depends on the specific implementation). The reports would be refactored to access only the interface, not the specific BusinessPrincipal objects. </P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
