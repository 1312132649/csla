<html><header><title>FormView</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>FormView</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3495.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dantes1 posted on Thursday, September 06, 2007</h2>i have this formview with corresponding datasource (dsUser)<br>my BO is called User (EditableRoot)... <br><br>the defaultmode of the formview is insert...<br><br>inside the insertitemtemplate i have a telerik control(RadGrid)... i had it populated... then i set it up that when i selected an item... i created a new User Object then populated it with the values i got from the grid(does csladatasource have a current item property like in winforms???)... then i saved it in a session... then on the selectObject event handler i saved it on the e.BusinessObject... then i also saved a value on another session that indicates that the mode has change (its like this everytime i select an item)... coz i want to change the mode of the formview afer i selected an item...<br><br>then on the Page_Load i checked the session which indicates the change mode... then called the formview changemode method... then called the formview databind method to bind the csladatasource with the selected item...<br><br>when i run it... then selected an item... it changed to the edititemtemplate (edit mode)... but the controls (textbox) which are binded to the datasource dont have any values on them... but before that i checked the value passed to the e.BusinessObject on the selectObject eventhandler... the data i expected was there... <br><br>whats my mistake here???<br><br>heres the code when the selectedIndexChanged is called<br><br>Protected Sub RadGrid2_SelectedIndexChanged(ByVal sender As System.Object, ByVal e As System.EventArgs)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Dim grid As Telerik.WebControls.RadGrid = CType(sender, Telerik.WebControls.RadGrid)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Dim selectUser As Specs.User = Specs.User.NewUser<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; selectUser.UserId = CType(grid.MasterTableView.DataKeyValues(CType(grid.SelectedIndexes.Item(0), Integer)).Item("UserId"), String)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; selectUser.UserName = CType(grid.MasterTableView.DataKeyValues(CType(grid.SelectedIndexes.Item(0), Integer)).Item("UserName"), String)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; selectUser.UserGrpId = CType(grid.MasterTableView.DataKeyValues(CType(grid.SelectedIndexes.Item(0), Integer)).Item("UserGrpId"), String)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; selectUser.Status = CType(grid.MasterTableView.DataKeyValues(CType(grid.SelectedIndexes.Item(0), Integer)).Item("Status"), String)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; selectUser.Password = ""<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Session("User") = selectUser<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Session("ChangeMode") = True<br>&nbsp;&nbsp;&nbsp; End Sub<br><br>then heres the code inside the Page_Load when it checks for the session indicating the change mode:<br><br>If Not Session("ChangeMode") Is Nothing Then<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Try<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Me.FormView1.ChangeMode(FormViewMode.Edit)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Me.FormView1.DataBind()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Session("ChangeMode") = Nothing<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Catch ex As Exception<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End Try<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End If<br><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
