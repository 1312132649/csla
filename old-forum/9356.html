<html><header><title>MVVM Video Series - TriggerAction DataContext CurrentItem</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>MVVM Video Series - TriggerAction DataContext CurrentItem</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9356.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jaans posted on Tuesday, August 10, 2010</h2><p>Going through the MVVM Video series, I see Rocky use the &quot;CurrentItem&quot; property of the CollectionViewSource when binding the DataContext for the trigger action.</p>
<p>I&#39;ve generally used the implicit binding expression below when referencing the current bound to item:</p>
<p>&lt;my1:TriggerAction ... MethodName=&quot;Save&quot; <strong>DataContext=&quot;{Binding}&quot;</strong> /&gt;</p>
<p>instead of:</p>
<p>&lt;my1:TriggerAction ... MethodName=&quot;Save&quot; <strong>DataContext=&quot;{Binding Path=CurrentItem}&quot;</strong> /&gt;</p>
<p>I guess this has more to do with CollectionViewSource, but other binding sources could&nbsp;use different property names for their &quot;current item&quot; (other than CurrentItem). </p>
<p>So my thinking is that I&#39;m typing less and letting Silverlight do more heavy lifting this way, are there caveats here that could pose a problem? Are the two techniques&nbsp;truely the same thing?</p>
<p>Jaans</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, August 10, 2010</h2><p>TriggerAction needs to bind to the viewmodel object.</p>
<p>If the DataContext is a CollectionViewSource you need to set up the binding so the CVS isn&#39;t the target, but rather the current item is the target.</p>
<p>Sure, other resource/container/manager types may use different schemes - that&#39;s quite possible.</p>
<p>But if you use the drag-and-drop designer in VS10 you will have a CVS, because that&#39;s what it creates - and for the video series I specifically chose to use the designer.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jaans replied on Wednesday, August 11, 2010</h2><p>Makes sense.</p>
<p>Interesting thing is that it seems to work without specifying the &quot;CurrentItem&quot; property, and that&#39;s what you can do in the designer also.<br /><br />When you set the DataContext for a trigger action using the VS2010 Designer, the binding editor allows you to set Source to the CVS and then you can set the &quot;Path&quot; property to &lt;none&gt; (instead of CurrentItem).</p>
<p>It&#39;s a bit weird though... as it feels more instinctive to go with CurrentItem because this is clearly the CVS we&#39;ve bound to and that the method we are targetting is not on the CVS but on the currently bound item.</p>
<p>Thanks for the feedback.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, August 11, 2010</h2><p>I&#39;ve had trouble with TriggerAction sometimes not working unless I specify CurrentItem. Normally CurrentItem should be the default - a binding expression should transparently just use the current item - but since that hasn&#39;t been reliable for me, I use CurrentItem to be safe.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
