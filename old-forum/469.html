<html><header><title>CSLA Framework  NUnit test results - the cause to my failed Remoting Portal ?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA Framework  NUnit test results - the cause to my failed Remoting Portal ?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/469.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>brettswift posted on Monday, June 26, 2006</h2>Ok, if you've been reading these threads lately you will be aware of my issues with configuring remoting.&nbsp; I found the test project on Rocky's site, and have been trying to get rid of them.&nbsp; <br><br>Fixed - regional settings.&nbsp; I was getting some errors in the SafeDataReader tests because I'm Canadian, and for some reason our countries (CAN / US) can't agree on a date format.&nbsp;&nbsp; <br>IE<br>12/13/2006 vs&nbsp; 13/12/2006.&nbsp;&nbsp; <br><br>So I had to set my system to US regional settings to eliminate that error (I know I can do this via code as well). <br><br><br>Errors I still can't eliminate: <br><font size="4"><b>1)</b></font><b><font color="#0000ff"><br>Csla.Test.SafeDataReader.SafeDataReaderTests.RetrieveBinaryObjectFromDB :</font></b><br><br><font size="2">&nbsp;System.IO.FileLoadException : Could not load file or assembly 'Csla, Version=2.0.0.0, Culture=neutral, PublicKeyToken=93be5fdc093e4c30' or one of its dependencies. The located assembly's manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040)</font><br><br>I'm not sure why it can't find that file, its already using it in other places!&nbsp; This is a deserialization line of code that is running though, so I think this may have a lot to do with why my server side DataPortal isn't working. <br><br><br><br><font size="4"><b>2)</b></font><b><font color="#0000ff">Csla.Test.AppContext.AppContextTests.ClearContexts : Csla.ClientContext should not be null</font></b><br><br>This is the code at the spot that errors, line 200 - which is the last line of code here. <br><br><font size="2"><br>&nbsp;//put stuff into the application context<br>ApplicationContext.ClientContext.Add("Test", "Test");<br>ApplicationContext.GlobalContext.Add("Test", "Test");<br><br>//it should NOT be null<br>System.LocalDataStoreSlot slot = Thread.GetNamedDataSlot("Csla.ClientContext");<br>200-&nbsp;&nbsp; Assert.IsNotNull(Thread.GetData(slot), "Csla.ClientContext should not be null");</font><br><br><b><font size="4">3)<br><font size="3">&nbsp;</font><font color="#0000ff" size="3">Csla.Test.AppContext.AppContextTests.ClientContext : can't get named data slot</font></font></b><br>ClientContext() method, similar line as above<br>Assert.IsNotNull(Thread.GetData(Thread.GetNamedDataSlot("Csla.ClientContext"))&nbsp; fails. <br><br><br><b><font size="4">4)</font></b><br><b><font color="#0000ff">Csla.Test.AppContext.AppContextTests.NoContext : Csla.ClientContext should not be null</font></b><br><br><font size="4"><b>5)</b></font><br><b><font color="#0000ff">Csla.Test.AppContext.AppContextTests.TestOnDemandContexts : ClientContext should be null<br></font></b><br><br><br>SUMMARY -----&gt;&gt;&gt; <br>So,<br><font size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b> ApplicationContext.ClientContext.Add("Test", "Test");</b></font><br>That line is failing everywhere, and my deserialization: <br><font size="2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>object obj = formatter.Deserialize(stream);</b></font><b><br></b><br>methods are failing.&nbsp;&nbsp;&nbsp; <br><br>How can I fix this? <br><br><br><br><br><br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Monday, June 26, 2006</h2>For #1, try removing all of the references to Csla in all of the projects, then add Csla back to all of the projects, ensuring that they are all pointing at the same file.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>brettswift replied on Monday, June 26, 2006</h2>I tried that, and still get the same error... its looking for v. 2.0.0.0&nbsp; still, but in the designer properties of csla.dll its showing v.2. <br><br>I don't know why its still using the old reference, or where that is coming from?&nbsp; I deleted the entire contents of the BIN directory, and the references... its set to copy local, and use the specific version of the assembly.&nbsp;&nbsp; <br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
