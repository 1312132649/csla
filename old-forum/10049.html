<html><header><title>Custom base class on top of BusinessBase&lt;T&gt;</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Custom base class on top of BusinessBase&lt;T&gt;</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10049.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>phillipjohnson posted on Wednesday, February 09, 2011</h2><p>I have redundant code in a couple of my classes that inherit from BusinessBase&lt;T&gt;</p>
<p>I want to put this redundant code into a class that inherits from BusinessBase&lt;T&gt; then inherit that class in my subclasses but I am experiencing an issue with lmbda expressions... the issue makes sense but I&#39;m sure there must be a way around it/something I am doing wrong.</p>
<p>Basically if I create a custom base class like this... what should I be passing in to the business base generic type?</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>
<p><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><font face="Consolas" size="2" color="#0000ff"><font face="Consolas" size="2" color="#0000ff"><font face="Consolas" size="2" color="#0000ff">
<p>public</p>
</font></font></font></span><font face="Consolas" size="2" color="#0000ff"><font face="Consolas" size="2" color="#0000ff">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="2" color="#0000ff">
<p>&nbsp;</p>
</font></span>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"> </span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">class</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"> </span></span><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;">Line500BusinessBase</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">&lt;T&gt; : </span></span><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;">BusinessBase</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">&lt;</span></span><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;">T&gt;</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">{}</span></span></p>
</p>
</p>
<p>If I implement my custom base class like above then when I get an error on lambda expressions inside the class as follows:</p>
<p><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">private</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"> </span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">static</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"> </span></span><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;">PropertyInfo</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">&lt;</span></span><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;">Audits</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">&gt; AuditsProperty = RegisterProperty&lt;</span></span><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;"><span style="font-family:Consolas;color:#2b91af;font-size:x-small;">Audits</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">&gt;(p =&gt; p.Audits);</span></span></p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">The lambda expression gets a compile issue because &quot;it cannot be cast to type.... because it is not a delegate type&quot;.</span></span></p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">I get the issue that it doesn&#39;t know at this point what type T is, but if I pass an actual type into the BusinessBase at this point then the lambdas understandably don&#39;t work in my class that inherits from my custom business base.</span></span></p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;">How do I implement a custom base class that inherits from BusinessBase&lt;T&gt;</span></span></p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>Adalton4 replied on Wednesday, February 09, 2011</h2><p>Basicly, you should declare your derived class like this :</p>
<p>&nbsp;</p>
<p>public class BBase&lt;T&gt; : BusinessBase&lt;T&gt; where T : BBase&lt;T&gt;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>phillipjohnson replied on Wednesday, February 09, 2011</h2><p>Thanks Dominiek, that works a treat :-)</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rxelizondo replied on Thursday, February 10, 2011</h2><p><div style='padding-left: 50px;background-color:silver'><b>phillipjohnson<br></b></p>
<p>I have redundant code in a couple of my classes that inherit from BusinessBase&lt;T&gt;</p>
<p>I want to put this redundant code into a class that inherits from BusinessBase&lt;T&gt; then inherit that class in my subclasses .....</p>
<div style="clear:both;"></div>
<p></div></p>
<p>&nbsp;</p>
<p>Rocky,</p>
<p>I am actually kind of&nbsp;surprised&nbsp;you didn&#39;t jump in and post a little something about such technique not being a good&nbsp;practice&nbsp;and to favor composition,&nbsp;collaboration, containment an delegation etc :)</p>
<p>Unless&nbsp;of course&nbsp;you are&nbsp;OK&nbsp;with what the original poster is trying to do, which will indicate to me that I&nbsp;misunderstood some of the other posts you have written!</p>
<p>I find the extra information on your post to be very&nbsp;valuable, so don&#39;t hold back, plop your&nbsp;toughs in here, &nbsp;we all benefit from your&nbsp;knowledge&nbsp;and experience, even&nbsp;thou I&nbsp;realize it can get a little tiresome <img src="http://forums.lhotka.net/emoticons/emotion-1.gif" alt="Smile" /></p>
<p>So, do you support the use of inheritance for what the OP has in mind? I know its fine and it works, but do recommend this&nbsp;approach?</p>
<p>Thanks.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, February 10, 2011</h2><p>It depends on why you are subclassing.</p>
<p>One of the primary ways to customize CSLA default behaviors is to override key methods or properties in a custom base class like the one described in this thread. That is a good thing, because it is an intended mechanism by which framework behaviors can be enhanced or altered.</p>
<p>On the other hand, if the intent is to lump <em>business behaviors</em> into a base class - that&#39;s generally a bad idea. Putting properties into a base class is a horrible idea, because the resulting complexity will cost a lot more than any reuse benefit you might get. Putting methods (pure behavior) into a base class isn&#39;t quite so bad, but still isn&#39;t ideal due to the coupling that results.</p>
<p>So yes, for business behaviors it is far better to use collaboration or composition.</p>
<p>This is a well-known and widely noted&nbsp;OOP best practice: favor composition over inheritance.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
