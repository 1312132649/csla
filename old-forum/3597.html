<html><header><title>Error in AcceptChanges</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Error in AcceptChanges</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3597.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>casbornsen posted on Wednesday, September 26, 2007</h2><P>Hi there folks.&nbsp; I work with Dave Wendelken.&nbsp; We just upgraded from 2.0 to 3.01 and are now experiencing an Edit level Mismatch in AcceptChanges when I try to save.&nbsp; When I step through the code, it appears that AcceptChanges is called about 20 times and on the last call that is attempted, the EditLevel and parentEditLevel are both 0, so we get an exception.&nbsp; This wasn't happening before, so could it be caused somehow by 3.01, or do you think&nbsp;we made a&nbsp;mistake in the upgrade?&nbsp; </P>
<P>"An exception of type 'Csla.Core.UndoException' occurred in Csla.DLL but was not handled in user code.&nbsp; Additional information: Edit level mismatch in AcceptChanges"</P>
<P>Thanks</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, September 26, 2007</h2>First, upgrade to 3.0.2 beta.&nbsp; There is a fix in there IIRC regarding this.<br><br>Second, take a look at the project tracker sample; you have to do things in just the right order, including unbinding your datasource.&nbsp; Follow the formula exactly and you should be ok.<br><br>The exception is there to help you catch databinding errors.&nbsp; The way it has been don prior to 3.0.2 was always wrong, its just that nobody knew it. <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" /><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>casbornsen replied on Wednesday, September 26, 2007</h2>Oh gee whiz.&nbsp; Do you know when the beta is supposed to end by any chance?&nbsp; We can't put beta stuff in production.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>casbornsen replied on Wednesday, September 26, 2007</h2><P>Maybe I should read some of the upgrade stuff next time before I post:</P>
<P class=MsoNormal><B>"Csla â€“ N-Level Undo (numerous classes) (070525-C#/VB)<o:p></o:p></B></P>
<P class=MsoNormal>Add <SPAN class=CodeInline><SPAN><FONT face="Courier New" color=#008000>ISupportUndo</FONT></SPAN></SPAN> interface and rework the existing interfaces a bit so <SPAN class=CodeInline><SPAN><FONT face="Courier New" color=#008000>IUndoableObject</FONT></SPAN></SPAN> is no longer in the main inheritance tree for the public interfaces.</P>
<P class=MsoNormal><o:p>&nbsp;</o:p></P>
<P class=MsoNormal>This was done because the recent <SPAN class=CodeInline><SPAN><FONT face="Courier New" color=#008000>IUndoableObject</FONT></SPAN></SPAN> interface changes to error check edit levels made UI framework development overly difficult. Rearranging the interfaces this new way is both cleaner and resolves the complexity for UI frameworks."</P>
<P class=MsoNormal>&nbsp;</P>
<P class=MsoNormal>My GV was working fine before - was this supposed to be a breaking change, or did my overly difficult UI framework development take an unusual path that no one in their right mind would have imagined?&nbsp; :)</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, September 26, 2007</h2>I can't speak to the interface changes, but the new exception is supposed to be a breaking change.&nbsp; But its a change that alerts you that you are doing databinding incorrectly anyway... so..<br><br>I don't know when the 3.0.2 is supposed to "go live."&nbsp; Perhaps after Rocky releases the new ebook (by EOM I think)?<br><br>I've been using the beta for quite a while now, and haven't encountered any problems with it, if tha helps.<br><br>Search the forums for EditLevelMismatch.. you'll find many threads around this topic.<br><br>As far as putting beta code into production... is it better to ship code with a known defect? <img src="/emoticons/emotion-5.gif" alt="Wink [;)]" />&nbsp; Something to consider..<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>casbornsen replied on Wednesday, September 26, 2007</h2>I see your point, but we are not permitted to ship beta at all.&nbsp; So, we've been doing databinding incorrectly this whole time, eh?&nbsp; And yet the thing worked... maybe we should just roll back to 2.0 for now.&nbsp; It would mean we'd be losing the ability to change severity outside the rule, which is very near and dear to our hearts.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, September 26, 2007</h2>Well, it could seem like its working, when things really are out of sync.&nbsp; The exception now tells you things have gone wrong.&nbsp; It looks like the changes were intoroduced in 3.0, so you should be able to go back to 2.1.4.&nbsp; I think that one has the other changes you want to keep.&nbsp; Check the downloads page.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>casbornsen replied on Thursday, September 27, 2007</h2>OK, thanks for all your help.&nbsp; I'll go unscramble my app now.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
