<html><header><title>1.52 Get Value from List</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>1.52 Get Value from List</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/201.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>esteban404 posted on Thursday, May 25, 2006</h2><P>I'm building a history writer that needs a specific piece from a CSLA list. The nature of working with the BO that's generating the history entry is that it has been initialized by the user, so where I can, the lists are singletons to save chatter.</P>
<P>How can I use a CSLA list to return a specific value field (MaterialNumber) from the list? I didn't see a find method and since this is a library item so&nbsp;I can't use a existing,&nbsp;populated control in the GUI.</P>
<P>So what I'll have is this:<BR>MaterialList list = MaterialList.GetList(); //fully populated and what I'm working with now is below. I know I'm missing something. I thought I could use something like this for both values:<BR>originalValue = list[Original.MaterialID].MaterialNumber;<BR>but that isn't working.</P>
<P>Below is the method at this point.</P>
<P>internal void WriteHistory(RedZone source,&nbsp;RedZone changed)<BR>{<BR>&nbsp;string changedValue = string.Empty;<BR>&nbsp;string originalValue = string.Empty;<BR>&nbsp;if(ChangedItems.Contains("MaterialID"))<BR>&nbsp;{<BR>&nbsp;&nbsp;MaterialList listChanged, listOriginal;<BR>&nbsp;&nbsp;// if the material has never been set, ignore history creation<BR>&nbsp;&nbsp;if(Original.MaterialID != 0 &amp;&amp; Original.MaterialID != this.MaterialID)<BR>&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;listChanged = MaterialList.GetMaterial(this.MaterialID);<BR>&nbsp;&nbsp;&nbsp;listOriginal = MaterialList.GetMaterial(Original.MaterialID);<BR>&nbsp;// Here's where I need to use the list<BR>&nbsp;&nbsp;&nbsp;changedValue = listChanged[0].MaterialNumber;<BR>&nbsp;&nbsp;&nbsp;originalValue = listOriginal[0].MaterialNumber;<BR>&nbsp;&nbsp;}<BR>&nbsp;&nbsp;HistoryItem historyItem = HistoryItem.NewHistoryItem(this.Principal.ResourceID, changedValue, originalValue, "Material", sourceID);<BR>&nbsp;&nbsp;this.HistoryItems.Add(historyItem);<BR>&nbsp;}<BR>&nbsp;HistoryItems.Save(this.RedZoneID);<BR>&nbsp;ChangedItems.Clear();<BR>}</P>
<P>_E</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, May 26, 2006</h2><P>I'm not sure I understand the question - but I think you want a method on your collection to return a specific item based on a key value?</P>
<P>I'd just create this method in your collection class - kind of like this:</P>
<P>public string GetMaterialNumber(string id)<BR>{<BR>&nbsp; foreach (Material m in this.list)<BR>&nbsp;&nbsp;&nbsp; if (m.Id == id)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return m.MaterialNumber;<BR>&nbsp; return null;<BR>}</P>
<P>This encapsulates the process of finding the value, allowing the calling code to collapse to just a couple lines.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>esteban404 replied on Friday, May 26, 2006</h2><P>I'm just forgetting all the helper Utilities I've written already to do this. I did it just that way.</P>
<P>Sorry to bother...</P>
<P>_E</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
