<html><header><title>CSLA and MSMQ</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA and MSMQ</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5826.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JohnB posted on Tuesday, November 18, 2008</h2>Just curious if anyone out there has successfully implemented CSLA and MSMQ?<br><br>We are using CSLA 3.0.4 with remoting and it works great but were wondering if there was a potential "fit" between the two technologies.<br><br>We have access to an existing solid code base for MSMQ and the conversation came up about potentially using it in place of remoting.<br><br>At this point I am relatively new to MSMQ but would be interested in feedback from those who have been down this road.<br><br>Thanks,<br>John<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, November 18, 2008</h2><P>The data portal is designed around synchronous service calls. In other words, it can work with nearly any network protocol, as long as the calls are synchronous.</P>
<P>MSMQ is, by definition, asynchronous, and so the data portal can't use MSMQ - at least not easily.</P>
<P>You could create a data portal proxy/host channel using MSMQ, you'd just have to make the proxy be smart enough to simulate a synchronous call. There are well-established patterns for doing this sort of thing - blocking the calling thread until the async return message arrives on another thread - but it isn't clear to me what you'd gain by doing this?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JohnB replied on Wednesday, November 19, 2008</h2>I agree with you, I don't see what we would gain. Basically we have another development team who is not familiar with CSLA but started a discussion to see if there were any merits of "combining" the two. That this would somehow or potentially reduce the size of the object traveling across the wire by using MSMQ. Our application will run across our corporate WAN and the bandwidth is tight although so far our initial test have worked fine.<br /><br />I think I have enough information from your reply in addition to several post that I found here in the forum to remove this discussion from the table.<br /><br />Thanks,<br />John</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, November 19, 2008</h2>One thing to consider with MSMQ is a service-oriented architecture. In other<br />words, don't try to use it inside the data portal, but rather use it between<br />different applications.<br /><br />MSMQ is one way to build a "service bus" that allows different applications<br />to send messages to each other in a reliable and scalable manner. This is<br />why WCF uses MSMQ (behind the scenes) to implement reliable messaging.<br /><br />Just don't confuse n-tier with SOA - they are very different things. The<br />data portal helps enable n-tier. CSLA can be used to implement applications<br />in an SOA system, with or without asynchronous reliable messaging.<br /><br />Rocky</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tdrake replied on Thursday, November 20, 2008</h2>I too are using MSMQ with CSLA, but as Rocky suggesting as part of SOA. All tracnsaction creation (data and bus rules) are handled by CSLA via a MSMQ (or WCF tcpnet) end point servie which 'looks' like a client to CSLA's data portal. It allows me to use the same object plumming for user UI for the business to see the results of the tracsaction (BPM tool!!), as well as ensures my ESB business logic is in one place.<br><br>I've basically build a project that opens the MSMQ, see(or sends) the 'transaction' (Mostly a 'message notifier' - I also use WCF events for non MSMQ integration in a pub/sub pattern), which then runs up the transaction in core CSLA - it's got no UI as such, as it runs as a Windows Service.<br><br>I've also a ESB monitor using observable objects (CSLA or course) with a WPF Client to allow the IT Pros to know the health of integration.<br><br>I sold it to the business as 'Biztalk light'....<br><br>So, while you may not be able to use the MSMQ libraries between tiers in CSLA, they can be a great 'Entry point/End point'<br><br>Tony Drake<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
