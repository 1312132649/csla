<html><header><title>How to conditionally bypass a Custom Rule</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to conditionally bypass a Custom Rule</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9037.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>WISDev posted on Friday, June 04, 2010</h2><p>I have a situation where my Contact object as child to Customer object.&nbsp; The contact rule requires an email address.&nbsp; Everything is good and happy until a new rule is introduced in.&nbsp; The new rule: when we mass import customers, the email rule should be relaxed (ignored).</p>
<p>I looked at the possibility to add a validation, but this would not work--or should I say--I don&#39;t think it would work.&nbsp; Any suggestions???</p>
<p>Thanks!</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, June 04, 2010</h2><p>There are a couple options.
If you want to completely turn off all rules, you can use SuppressRuleChecks (a method on ValidationRules) to turn off rule processing. This is designed for batch operations - though usually people turn off rule checking, load the object with data, then call CheckRules() to run the rules.</p>
<p>The other option is to make your rule smarter. That implies you have some way for the business object and/or rule to know that you are doing a batch load, so the rule can detect that condition and therefore not run.</p>
<p>One way to do that is by having a property on your object - though that seems a little ugly. Another is to use Csla.ApplicationContextLocalContext to store a value indicating you are in batch mode.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>WISDev replied on Friday, June 04, 2010</h2><p>Thank you Rocky!</p>
<p>This is exactly what I needed.&nbsp; While trying to find an answer, I implemented the the second option you proposed.&nbsp; I created a flag and turned it on during the batch processing.</p>
<p>-mr</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
