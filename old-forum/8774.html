<html><header><title>Exception: AddNewCore must be overridden</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Exception: AddNewCore must be overridden</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8774.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Dane posted on Tuesday, April 06, 2010</h2><p>When I moved to the 4.0.0 preview 2 assemblies I&nbsp;started getting this exception in my FactoryObject class&#39; Fetch method when I call list.AddNew on a list which inherits ReadOnlyListBase.&nbsp; Can someone clarify what this is about?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>ajj3085 replied on Wednesday, April 07, 2010</h2><p>For AddNew to work, you need to implement AddNewCore.&nbsp; Normally AddNewCore uses the public parameterless constructor, but in Csla you almost never have that (except in SL, I think).</p>
<p>That said, I&#39;m not sure why you&#39;d be calling AddNew on a ROLB class.. AddNew is for grids to add a new row that the user can edit and commit or cancel... but you wouldn&#39;t usually want to do that in a ReadOnly scenario since ROLB doesn&#39;t provide Save functionality.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, April 07, 2010</h2><p>Hi, </p>
<p>A read only list is readonly until you set IsReadOnly = false. </p>
<p>So assuming this happens when you are adding rows from your datasource then&nbsp; in your factory class you must set IsReadOnly to false before you add rows and reset IsReadOnly before the list is returned. </p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Wednesday, April 07, 2010</h2><p>That&#39;s true Jonny, but normally when loading data from the database you wouldn&#39;t use AddNew(), you&#39;d just use Add().</p>
<p>I&#39;m not sure AddNew() is a supported scenario for a ROLB collection. In CSLA 4 that class now inherits from ObservableCollection&lt;T&gt;, which doesn&#39;t have the AddNew() concept normally - though CSLA does add the concept for backward compatibility and because I find it useful. But I only tested AddNew() in BLB and ERLB where it makes logical sense to use the method.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Dane replied on Wednesday, April 07, 2010</h2><p>I of course was setting the IsReadOnly property in the factory.&nbsp; I&#39;d originally used AddNew because it had the nice feature of returning a reference to the new item.&nbsp; I switched to Add instead and it works again I was just curious what caused the change because AddNew had been working for me for quite some time.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
