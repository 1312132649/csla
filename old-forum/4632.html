<html><header><title>Data Portal Error</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Data Portal Error</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4632.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>maqinfo posted on Tuesday, April 08, 2008</h2><P>Hi </P>
<P>I am using CSLA 3.5 in mine WPF project.</P>
<P>I am getting this error when I try to login.</P>
<P>I have added all the connection strings in my application config files.(WPF project, LINQ Project)</P>
<P>{"DataPortal.Fetch failed (System.NullReferenceException: Object reference not set to an instance of an object.&nbsp;&nbsp;&nbsp; at Csla.Data.ContextManager`1.GetManager(String database, Boolean isDatabaseName) in C:\Users\Muhammad Afzal\Documents\cslavb-3.5.0-Final\cslavb\Csla\Data\ContextManager.vb:line 62&nbsp;&nbsp;&nbsp; at Csla.Data.ContextManager`1.GetManager(String database) in C:\Users\Muhammad Afzal\Documents\cslavb-3.5.0-Final\cslavb\Csla\Data\ContextManager.vb:line 41&nbsp;&nbsp;&nbsp; at OTTest.BizLib.Security.PTIdentity.DataPortal_Fetch(CredentialsCriteria criteria) in C:\Users\Muhammad Afzal\Documents\Visual Studio 2008\Projects\OTTest\OTTest.BizLib\Security\PTIdentity.vb:line 135&nbsp;&nbsp;&nbsp; at dm(Object , Object[] )&nbsp;&nbsp;&nbsp; at Csla.Reflection.MethodCaller.CallMethod(Object obj, DynamicMethodHandle methodHandle, Object[] parameters) in C:\Users\Muhammad Afzal\Documents\cslavb-3.5.0-Final\cslavb\Csla\Reflection\MethodCaller.vb:line 203)"}</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Patrick.Roeper replied on Tuesday, April 08, 2008</h2>When you call GetManager(x), make sure "x" is the name of a database in your connectionStrings.<br><br>If you are calling GetManager(x) and "x" is already a connectionString, you need to call GetManager(x, false).<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static ConnectionManager&lt;C&gt; GetManager(string database)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return GetManager(database, true);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static ConnectionManager&lt;C&gt; GetManager(string database, bool isDatabaseName)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (isDatabaseName)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; database = ConfigurationManager.<u><b><font color="#000000">ConnectionStrings[database].ConnectionString</font></b></u>;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;  &nbsp; .....<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  }<br><br>You are most likely getting your error at the line above because you are supplying a connectionString without setting isDatabaseName to false.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nhwilly replied on Friday, April 18, 2008</h2><P>Helps if I could read.&nbsp; For once I thought I had a good answer for someone.</P>
<P>Oh, well.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
