<html><header><title>Mulitple DataPortal_XYZ</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Mulitple DataPortal_XYZ</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3980.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>griff posted on Tuesday, December 04, 2007</h2><P>Hi</P>
<P>I know you use an editable root object (ERO) for retrieving updating the database. what do people do in this scenario...</P>
<P>A table with many fields 30, 50, &gt;100 say.</P>
<P>One main user screen to do typical CRUD operations using the ERO</P>
<P>But another specific&nbsp;user screen (or process) that needs access to serveral/many of the table's/ERO data items for viewing purposes and in this instance only ever updates one (or two) of the data items.</P>
<P>It seems overkill to call the main ERO data_portal_xyx update stored proc updating 30, 50, &gt;100 fields.</P>
<P>So would I create a second data_portal_xyx and&nbsp;execute a simple stored proc updating that one field or create/use the <FONT size=2>CommandBase object within BO or what?</FONT></P>
<P><FONT size=2>Richard</FONT></P>
<P><FONT size=2></FONT>&nbsp;</P>
<P><FONT size=2>&nbsp;</P></FONT>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>richardb replied on Tuesday, December 04, 2007</h2><P>I wouldn't say it was overkill to do the update with just the one DataPortal_Update method and one stored procedure.&nbsp; In fact it's a good idea, generally.</P>
<P>If you start creating lots of different methods calling different stored procedures to update different columns in the table, you have increased your code maintenance effort.&nbsp; </P>
<P>Of course if that's what you want to do its your choice.</P>
<P>Richard B.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>griff replied on Tuesday, December 04, 2007</h2><P>I tend to agree.&nbsp; Just that&nbsp;I was challenged by someone who thought updating 130 fields in the table (thru stored proc) when in this instance the user will be only actually updating one field, and so suggested a simple "Update tblX set myfield='xyz' where .....".</P>
<P>Richard</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Tuesday, December 04, 2007</h2><P>Your first use case is the entire table and the ERO makes total sense.</P>
<P>But the 2nd use case is a subset of various BOs. It should probaly be its own BO and in its DataPortal you would run the "simple" update statement that was suggested to you.</P>
<P>Joe</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, December 04, 2007</h2>I agree with Joe.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>griff replied on Tuesday, December 04, 2007</h2>Thanks for the replies.&nbsp; I'm still not sure which way to go. Keep your thoughts coming.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, December 04, 2007</h2>Well remember, you have two use cases, so you should have two sets of objects to fulfill those use cases.&nbsp; This will make maintence much much easier, which is our goal.&nbsp; A large object that has switches to make it do only a subset can get messy quickly, especialy if you have other use cases which end up being similar, but not the same.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>griff replied on Tuesday, December 04, 2007</h2><P><FONT face=Arial>Hi</FONT></P>
<P><FONT face=Arial>So we have serveral use (very similar)&nbsp;cases each fetching and loading a full object but&nbsp;differing only in the data_portal_update method?</FONT></P>
<P><FONT face=Arial>So if it's acceptable for the BO to have serveral&nbsp; DataPortal_Fetch overload methods (using different criteria) then why not overload the DataPortal_Update method?</FONT></P>
<P><FONT face=Arial>Richard</FONT></P>
<P><FONT face=Arial></FONT>&nbsp;</P>
<P><FONT face=Arial></FONT>&nbsp;</P>
<P><FONT face=Arial>Richard</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, December 04, 2007</h2>You could, it will just make it more difficult to maintain.&nbsp; What if the switch that controls which update to do doesn't get set properly?&nbsp; Some of it depends though on how complicated that logic will be.&nbsp; some of it depends on how complicated it could be come if the use case is changed later..<br><br>You can create another internal class which will do the load and populate these BOs.&nbsp; That will allow you to re-use the fetch code and still have seperate BOs to do the update.&nbsp; The BOs can have a shared interface which is what your loader class will use to push values into them.&nbsp; <br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cliffordru replied on Tuesday, December 04, 2007</h2><P>If you look at it from a responsibility perspective, you should have one BO responsible for updating all fields and another BO for updating the few specific fields. This seems to be in line with your use cases and two BO will prevent them from being dependent upon one another.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
