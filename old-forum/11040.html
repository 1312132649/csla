<html><header><title>IRuleContext</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>IRuleContext</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11040.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 posted on Sunday, January 08, 2012</h2><p>Any way we could get an IRuleContext interface?&nbsp; This would make unit testing business rules a bit easier.</p>
<p>Instead of just looking at the Results collection, I could verify that the appropriate AddXYZRule was called.&nbsp; Also, I currently need to make my IPropertyInfo mocks return something or the RuleContext blows up with a NullRefException.&nbsp; Since the correctness of my rule doesn&#39;t depend on property names, its just more stuff you need to worry about to test that isn&#39;t relevent.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Sunday, January 08, 2012</h2><p>Hi Andy, </p>
<p>Look at the Net\cs\RuleTutorial sample in trunk and the sample unit tests. </p>
<p>This approach lets you test async and sync rules in the same way. </p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, January 09, 2012</h2><p>Jonny, I looked at the sample.&nbsp; I did already figure out what I need to do to make the rule context happy, the point is that it would be easier not having to make it happy by being able to mock an interface.&nbsp; Not having the interface forces test creators to write more code than they&#39;d really need to.&nbsp; Plus if the implementation changes in RuleContext in some future version the tests might break, even though my rule&#39;s interaction with the RuleContext doesn&#39;t change.&nbsp; IIRC, IPropertyInfo was added to help people unit test more easiler, this request is along the same lines.&nbsp; </p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
