<html><header><title>Csla doesn't support polimorfism via interfaces?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Csla doesn't support polimorfism via interfaces?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6625.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>jureleskovec posted on Wednesday, March 18, 2009</h2>The only way the csla supports polymorphism is via 'BusinessBase'. I tried to use interface type as a property type and I noticed the 'Parent' property of a child property returns null. This is not a crucial deficiency but I think this is a just a minor bug that can be fixed, or...?<br><br>I can post the test case code for clearance if requested.<br><br>-- Jure<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Wednesday, March 18, 2009</h2><P>I am confused by your claim. For years the statement has been the other way around!</P>
<P>In other words - Generic base classes are NOT polymorphic. So cast to a common interface to obtain polymorphic behavior.</P>
<P>Please explain what you really meant.</P>
<P>Joe</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jureleskovec replied on Wednesday, March 18, 2009</h2>Sorry for not being clear enough. I didn't say you can't cast BOs to any interface they implement and is actually not a big deal (In this case just use non-generic BusinessBase as a managed property type).<br><br>What I try to say is that you can't create managed csla properties of interface types (like 'IChild'). If you do so, everything looks good except the 'Parent' property of the referenced child object won't be set (there might be other issues also I haven't noticed).<br><br>To reproduce the issue:<br>- Create interface 'IChild'<br>- Create BO class 'Child' which implements 'IChild'<br>- Create BO class 'Root'. It has a managed property of type 'IChild' (NOT the 'Child') but references an instance of 'Child'.<br>- When you create the 'Root' instance check the 'root.Child.Parent' and you will notice its 'NULL'!<br><br>************************* Code **************************<br><br>public class Root : BusinessBase&lt;Root&gt;<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; private static PropertyInfo&lt;IChild&gt; ChildProperty = RegisterProperty(new PropertyInfo&lt;IChild&gt;("Child"));<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; public IChild Child<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; get { return GetProperty(ChildProperty); }<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; set { SetProperty(ChildProperty, value); }<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br><br><br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; protected override void DataPortal_Create()<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; using (BypassPropertyChecks)<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Child = DataPortal.CreateChild&lt;Child&gt;();<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; }<br><br><br>&nbsp;&nbsp;&nbsp; public interface IChild<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp; }<br><br><br>&nbsp;&nbsp;&nbsp; public class Child : BusinessBase&lt;Child&gt;, IChild<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp; }<br><br>********************************************************<br><br>After the BOs definition run the folowing:<br>Root r = DataPortal.Create&lt;Root&gt;();<br>and check the 'r.Child.Parent' through the debugger (Parent property is declared as protected).<br><br><br>-- Jure<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, March 18, 2009</h2>IChild simply needs to inherit from Csla.Core.IEditableBusinessObject (if I remember correctly).</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jureleskovec replied on Thursday, March 19, 2009</h2>True.<br><br>-- Jure<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
