<html><header><title>Anyone using AngularJS and CSLA</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Anyone using AngularJS and CSLA</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12663.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Blarm posted on Friday, June 13, 2014</h2><p>If so any help/pointers/example code as to the best way to go would be very much appreciated.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, June 13, 2014</h2><p>Obviously your C# business logic can&#39;t flow to the js client, so your business logic must run on the server and if you need it to also run on the client you&#39;ll need to reimplement it (and maintain it) a second time in js.</p>
<p>Given that backdrop, it is best to view the angular client as a separate app that is making service calls to a server app that exposes a service interface. Not n-tier, but service-oriented.</p>
<p>Following that train of thought, the solution is to define the service interface needed to support your angular app, then implement that service interface using something like Web API. The actual Web API service endpoints will consume/return JSON according to your public contract, and internally they will be implemented using your CSLA-based business objects.</p>
<p>This technique works very well in practice, and I recommend it.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Blarm replied on Sunday, June 15, 2014</h2><p>Thanks for the reply.</p>
<p>I have mostly used CSLA in the past in WinForms apps, but increasingly customers are asking for Web apps.</p>
<p>Are there any samples, examples or write ups in the e-books of a CSLA Web API service.</p>
<p>I have also seen quite a few examples where BreezeJS is used with Angular to provide the data However this mostly seems to be based around EF and it looks to me that the best way to get this to work with CSLA would be to write a Breeze ContextProvider for CSLA. Has anyone attempted this or &nbsp;would this be a non-starter.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Monday, June 16, 2014</h2><p>I am working on something similar to this. &nbsp;We opted to write a REST service layer using Web Api. &nbsp;We created new models with most, but certainly not all properties our CSLA objects have. &nbsp;We use AutoMapper when mapping from CSLA to these new models. &nbsp;We manually pump the data back to issues updates because we have complex rules and sometimes the order in which properties are set matter and some properties are maintained by business objects. &nbsp;We treat Web Api as a product on its own, thus layout groundwork for exposing our entire application as a service, which we could not do with raw CSLA because of proprietary communication format and because we would want to have isolation between business objects and external service consumers.</p>
<p>Hope this helps.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Monday, June 16, 2014</h2><p>We are working on a similar project. &nbsp;We opted to create new Web Api based service layer. &nbsp;We created a new set of models behind it instead of exposing CSLA objects. &nbsp;We have written some tools to help us generate those models, but this is work in progress. &nbsp;We are using AutoMapper to pump the data from CSLA objects into models, and we are manually pushing the data in the opposite direction because we have complex rules and some properties are not set and some are set in a specific order at time, to support specific UI. &nbsp;</p>
<p>Hope this helps.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Blarm replied on Monday, June 16, 2014</h2><p>Thanks sergeyb.</p>
<p>I have been looking at the Magenic MyVote app on GitHub and that seems to be working along similar lines to your app. Coming form writing CSLA WinForms apps it is a bit disconcerting to see the BusinessObject/model defined in 3 places : 1. As A CSLA Buisiness Object, 2 In the Web Api Server as a &nbsp;class and 3 In the WebUI as a typescript interface (auto generated with typelite).</p>
<p>I would like to investigate the BreezeJS route, but don&#39;t currently have time to do that.&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Monday, June 16, 2014</h2><p>Yes, it is in 3 places, but the TypeScript interface is generated from the model, so you are down to 2: CSLA BO and Service Model. &nbsp;In our case this decision is intentional - we do not want tight coupling between CSLA objects and models exposed through services and UI. &nbsp;Yes, there is some overhead in keeping them in synch when necessary.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Blarm replied on Tuesday, June 17, 2014</h2><p>Thanks, that does make good sense that you would not want to always expose the whole object through the service.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
