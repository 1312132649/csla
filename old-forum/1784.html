<html><header><title>what is the best way to load grandchildren?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>what is the best way to load grandchildren?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1784.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>MvdHoning posted on Friday, November 17, 2006</h2>For my current project i hava an root object with chidlren and those children also have children (grandchildren to the root object).
I want to initialize all from the root object. I have a SP that delivers all the data for that.
<br>What is the best way to load all. <br><br>Looking on the forum i see:
<br>Use a special SafeDataRowReader (i could not get it to work)
<br>Use a dataset (seem to overhead to me, besides i have to rewrite datareader accees to dataset access)<br>&nbsp;Load the grandchildren from the children( could cause a lot of SP trafic as for each child a SP is executed)
<br>Merge children and grandchildren and seperate them again (yuck)
<br>Are there even other ways of doing this? <br><br>Will the framework offer direct support for this (or does it already and i am unaware of that)?
<br>Thanks for your ansers in advance.

</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Friday, November 17, 2006</h2><P>Project.cs in the sample ProjectTracker.Library contains an example of how to populate an object and its children with one call to a stored procedure.&nbsp; Take a good look at the DataPortal_Fetch routine in it.</P>
<P>Once you understand that section of code, try extending it to handle grand-kids.&nbsp;</P>
<P>hth!</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>MvdHoning replied on Friday, November 17, 2006</h2>Loading children just goes fine, when trying to load grandchildren things do not anymore. I think the SafeDataReader cannot go back to the children level after reading a grandchild.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Friday, November 17, 2006</h2><P>SafeDataReader is an extension of DataReader, which if memory serves, is a one-way data access method.&nbsp; So, by definition, it can't "go back".</P>
<P>Why not create a static method in your grand-kids collection that accepts the collection of kids and the datareader contents for the grand-kids.&nbsp; It could parse out the data and add the grand-kids to the correct kid collection?</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RealQuiet replied on Friday, November 17, 2006</h2>You could retrieve your results into a dataset instead of a datareader and use that to populate your objects.&nbsp; That is an option we have used in some instances, and it seems to work well.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
