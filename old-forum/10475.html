<html><header><title>'cannot register property after containing type has been instantiated' message on client side</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>'cannot register property after containing type has been instantiated' message on client side</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10475.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Charleh posted on Wednesday, June 29, 2011</h2><p>Hi all,</p>
<p>&nbsp;I&nbsp;have SL4 app using a BO which has one fetch factory method and two properties. The props are declared on a single object (which derives directly from ReadOnlyBase&lt;&gt;) and are loaded during the DP fetch. </p>
<p>I have a very weird scenario going on when deploying the app - on my dev machine, it works fine - the BO renders a report to disk and sends back a string containing the report path and a success true/false flag. When deploying the app and invoking the fetch I get the &#39;cannot register property&#39; message - but this seems to happen after the fetch (as the fetch renders the report successfully). This appears to be happening on the client side (as far as I can tell)</p>
<p>I never get the error for the &#39;success&#39; property, only for the URL property - I&#39;ve made plenty of BOs and I&#39;ve seen this happen when the wrong type is specified in registerproperty or a property is registered on a subclass without type info - but this one has me stumped!</p>
<p>Any ideas?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Charleh replied on Wednesday, June 29, 2011</h2><p>After messing with the object putting debug messages in certain places for a couple of hours, I managed to get it working - it seems that putting a debug message write in the silverlight public constructor has fixed the issue...</p>
<p>I still can&#39;t work out why though...! Any ideas why the properties were not initialised on the client side after the DP sent the serialized object back?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Saturday, July 02, 2011</h2><p>What version of Csla are you using?&nbsp; Are all of your PropertyInfo&#39;s public?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Charleh replied on Wednesday, July 06, 2011</h2><p>Nope, some are private as most are generated - but I hand wrote a couple and they have private in - I changed these to public and it started working (using CSLA 4.1.0)</p>
<p>Is there a reason the propertyinfos need to be public for the silverlight client?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>Marjon1 replied on Monday, July 11, 2011</h2><p>I believe it has to do with the way reflection works within the Silverlight environment, same as public constructors are required.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
