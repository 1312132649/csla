<html><header><title>CommandBase Stopped Working When Moving From CSLA 3.7 to CSLA 4.1</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CommandBase Stopped Working When Moving From CSLA 3.7 to CSLA 4.1</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10772.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>grj posted on Thursday, October 13, 2011</h2><p>We use a few CommandBase derived objects in our project. We create them using reflection. When we upgraded our project from csla 3.7 to csla 4.1 they quit working.</p>
<p>When I step through the code the data table used to store retrieved rows gets populated as expected. But when I use the datatable through a property on the command object the rows are no longer there. The columns still exist but not the rows.</p>
<p>Thanks,</p>
<p>grj</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>vschaak replied on Friday, October 14, 2011</h2><p>Hi grj,</p>
<p>I don&#39;t know, whether it exactly fits your problem, but once I encountered a prob very similar:</p>
<p>If you use:<br /><span style="color:blue;">var</span>&nbsp;cmd&nbsp;=&nbsp;<span style="color:blue;">new</span>&nbsp;<span style="color:#2b91af;">ExistsCommand</span>(id);<br /><span style="color:#2b91af;">DataPortal</span>.Execute&lt;<span style="color:#2b91af;">ExistsCommand</span>&gt;(cmd);<br /><span style="color:blue;">return</span>&nbsp;cmd.ProjectExists;</p>
<p>In this case you&#39;ll miss all data retrieved or generated by your execute method, although your cmd-object has all that is generated by its constructor (the id property for example).</p>
<p>Using this, the world is just fine ;-):<br /><span style="color:blue;">var</span>&nbsp;cmd&nbsp;=&nbsp;<span style="color:blue;">new</span>&nbsp;<span style="color:#2b91af;">ExistsCommand</span>(id);<br />cmd&nbsp;=&nbsp;<span style="color:#2b91af;">DataPortal</span>.Execute&lt;<span style="color:#2b91af;">ExistsCommand</span>&gt;(cmd);<br /><span style="color:blue;">return</span>&nbsp;cmd.ProjectExists;</p>
<p>Does this help?</p>
<p>Regards</p>
<p>Volker</p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
