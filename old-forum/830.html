<html><header><title>Default to per-type rules??</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Default to per-type rules??</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/830.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka posted on Monday, August 07, 2006</h2>I am considering something and would like input.<br><br>Verison 2.1 will have per-type rules - added by calling AddSharedRule() (instead of AddRule()) from an AddSharedBusinessRules() method (rather than AddBusinessRules()). These methods have the same signature, they are just invoked and used by the framework a bit differently.<br><br>Now what I COULD do, is make AddBusinessRules() be called on a per-type basis. And AddRule() could add per-type rules. Then I could implement AddInstanceBusinessRules() where you'd call AddInstanceRule() to get today's behavior.<br><br>Obviously this could be a breaking change.<br><br>But I bet that for the vast majority of people it would NOT be a breaking change - they would just see a performance increase without changing their code.<br><br>The only people who'd see a breaking difference are those who really are using per-instance rules, where the rules for one instance of an object are different from another.<br><br>Though this does fly in the face of my goal of avoiding breaking changes, it also means that the "default" AddBusinessRules() and AddRules() concepts would do the "right" thing by using the per-type functionality. Only if you have the rare scenario where you need per-instance rules would you have to use AddInstanceBusinessRules() and call AddInstanceRule().<br><br>(the same concept would apply to authorization rules btw)<br><br>Thoughts?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Monday, August 07, 2006</h2>A lot of people create rule methods as private to their bo, and in that case they are not shared (or static).<br>Making that change will break a lot of code. You know I strongly belive in per type rules, but it's good that you ask for oppinions.<br>It is probably the right way to go in 99% of the cases, and now that we have them, I think instance rules should be avoided in any circumstance, but I'm not sure how the public will take that change, and I'm sure a lot of people will hold off upgrading because of time constraints.<br><br>The necessary changes in the BOs are trivial though, so I guess it's just a matter of figuring out how willing you are to break code (even though it's just a little).<br><br><br>Andrés</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, August 07, 2006</h2>I think this is one of those cases where risking breaking existing code is the right way to go.&nbsp; And better to do it now than later, when even more people may be relying on the existing behavior.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, August 07, 2006</h2>Hmm, 1 for, 1 against... <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" /><br><br>The thing is, Andrés point is very valid. It would break some code. And at the same time, a couple quick, project-wide, mass-subtitutions of AddBusinessRules() to AddInstanceBusinessRules() and AddRule() to AddInstanceRule(), would bring any existing code into the new model with very minimal pain.<br><br>I remain somewhat torn...<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ktweedy replied on Monday, August 07, 2006</h2><P>I guess I am curious why the rules would change per instance.&nbsp; Seems if the object is really a different object then an new object type should be derived or a polymorphic object created to support the reason it is different.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Monday, August 07, 2006</h2><P>Rocky,</P>
<P>&nbsp;</P>
<P>Perhaps a little clarification what you are trying to accomplish with this change would help garner more opinions.&nbsp; Are you simply trying to establish validation as a shared (per type) feature or looking to expand the existing framework with something new?</P>
<P>For what is it worth, in my implementation of CSLA, our business rules ARE implemented as static/shared methods. It was our opinion that validation rules are object/type-specific and not instance specific and it would serve no purpose having a ValidationRules collection for each and every instance of an object.&nbsp; So, to save on some memory and to maintain a logical, behavior-based approach, we have all of these methods marked static/shared.</P>
<P>What I am having a hard time grasping is what would be considered an 'instance' rule?&nbsp; If the rule was different from one instance to another wouldn't we really be dealing with separate objects?&nbsp; Especially if we are following a behavior-based model?&nbsp; Maybe an example of an 'instance' rule would help cuz all I can think of is a phrase like "if I am this, then validate this way; otherwise I must be this other thing, so validate this other way."&nbsp; Sounds like two different objects to me.</P>
<P>So, aside from a more tanglible example of an 'instance' rule, I would firmly agree that making&nbsp;methods such as the various validation methods (and authorization methods) static/shared is a logically sound thing.&nbsp; I believe they are already a per-type device.</P>
<P>As for breaking code, I think it is always acceptable to break code if you are enforcing an improvement in design, approach, technology, etc.&nbsp;(as opposed to a feature change or different way of doing something) - fixing bad practices, for example.&nbsp; I think this is a case of a positive change that breaking code would force users to make the necessary improvements to their code for the better.</P>
<P>Just my two cents.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Monday, August 07, 2006</h2>SonOfPirate:<br><br>The difference for instance rules is that in your AddBusinessRules you could (i'm not saying this is a good approach, just stating the problem) do something like this:<br><br>Protected Sub AddBusinessRules()<br>&nbsp;&nbsp;&nbsp; If mSomeValue = 1 Then<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  ValidationRules.AddRule (addressof x, ... )<br>&nbsp;&nbsp;&nbsp; Else<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  ValidationRules.AddRule (addressof y, ... )<br>&nbsp;&nbsp;&nbsp; End If<br>&nbsp;&nbsp;&nbsp;  ValidationRules.AddRule (...)<br>&nbsp;&nbsp;&nbsp;  ValidationRules.AddRule (...)<br>End Sub<br><br>In those situations you'd need to rework the way your rules work, provided that you want to change to type rules.<br><br>Andrés<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, August 07, 2006</h2>Per-instance rules are useful for two reasons. <br><br>First, you might have rules that are implemented as part of your class - as instance methods. This type of rule method avoids reflection, and has access to the full set of instance fields in your object, and so can very efficiently do complex rule processing.<br><br>Second, you might have rules that vary depending on the state of your object. You may only want to enforce a certain rule for domestic customers, or something like that. Now in this case I agree that there are other (and probably better) ways to approach the problem - either by making the rule itself context-aware, or by creating seperate objects to handle the different behaviors.<br><br>What I am doing in version 2.1 is adding a whole new capability - which is per-type rules. These are rules that are attached to all instances of a type, and the rule methods must be Shared/static - they can't be instance methods. These per-type rules consume far less resources (memory and CPU) and should be the normal approach used for all objects.<br><br>In other words, once 2.1 comes out, everyone should switch to per-type rules, unless they have an overwhelming need to use per-instance for specific objects, in which case only those particular objects should continue to use the per-instance scheme.<br><br><br>My question is whether I should change AddRule() to do the new behavior (which would be a breaking change, but would get most people using per-type automatically), or to use the existing behavior (which would make everyone change all their code to use the new per-type concept).<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ktweedy replied on Monday, August 07, 2006</h2><P>Perhaps a 3rd way to handle this is to mark the existing function with a Obsolete warning and implement a new AddRule function in some way so that the old code would keep working and new code could use a new function.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Monday, August 07, 2006</h2><P><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>RockfordLhotka:</strong></div><div>Per-instance rules are useful for two reasons. <BR>My question is whether I should change AddRule() to do the new behavior (which would be a breaking change, but would get most people using per-type automatically), or to use the existing behavior (which would make everyone change all their code to use the new per-type concept).<BR></div></BLOCKQUOTE></P>
<P>Given the simplicity of the edit/replace commands, I would go with the change.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, August 07, 2006</h2><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong><strong>RockfordLhotka</strong>:</strong></div><div>In other words, once 2.1 comes out, everyone should switch to per-type
rules, unless they have an overwhelming need to use per-instance for
specific objects, in which case only those particular objects should
continue to use the per-instance scheme.</div></BLOCKQUOTE><br><br>If this is how you feel about the per-type rules, then breaking the existing code is probably the proper course of action, as it should get people to move to the per-type method.&nbsp; <br><br>Another factor to consider, even if it breaks rules, how many are in Andres spot?&nbsp; Hopefully not many..but more would need to post.<br><br>One question I have thought about though.. with the shared / static rules, do you get a reference to the instance which is being validated?&nbsp; Or do you just get the value of the changed property?&nbsp; I haven't had a chance to look at the code yet, and I can't recall the discussion..<br><br>Andy<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Monday, August 07, 2006</h2><P>Yes, the existing approach passes the instance as an argument to the rule method delegate.</P>
<P>If the intent is to replace the existing approach with the per-type approach, then I am in agreement that is should just be changed.&nbsp; Only takes one attempt to build to identify all the locations affected should it break your code.&nbsp; Then a quick double-click takes you to the affected line to make what I'd consider a minor change.&nbsp; Once it's done, it's done.&nbsp; Well worth the improvement.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, August 07, 2006</h2><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong><strong>SonOfPirate</strong>:</strong></div><div>Yes, the existing approach passes the instance as an argument to the rule method delegate.</div></BLOCKQUOTE><br><br>Great, thanks for clearing that up.&nbsp; I'm again all in favor of the change. <br><br>If Rocky decides to go the breaking change route, I'm glad we all have unit tests to ensure the rules are still checked, right?? <img src="/emoticons/emotion-5.gif" alt="Wink [;)]" /><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, August 07, 2006</h2>I really appreciate all your input on this topic. I have decided to go ahead with the breaking change, and in fact I've implemented it.<br><br>I also ran it through my unit tests. I did have to tweak a couple tests which were actually testing per-instance-specific features, but all the other tests switched to per-type without incident. That speaks well to my expectation that most people, who are using all Shared/static rule methods, will be able to upgrade without changing code, and will just get the improved performance and decreased memory consumption automatically.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Wednesday, August 16, 2006</h2><P>This is great - I saw the discussion unfold and once the initial question was first posed I knew exactly the result I was hoping for. This simply saves me a good amount of effort of going through each class. It sure seems to me like this should be the default behavior. </P>
<P>Great change, thanks. </P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, August 28, 2006</h2>Ok,<br><br>I'm testing the beta (well, actually building upon it, since the 2.1 RTM sounds like it will be done before my next version), and I'm trying to make sure I do things the 'right' way.<br><br>I'm moving to the static (shared in vb) rules, and all seems well.&nbsp; My only question is this; do I still add the static rules via overriding of AddBusinessRules?&nbsp; I see AddInstanceBusiness rules, which makes sense.&nbsp; It seems though that AddBusinessRules still gets run everytime through the DataPortal, but the framework ensures duplicate rules aren't re-added.&nbsp; I would have though that AddBusinessRules would only be called once though, likely though the class' static constructor.&nbsp; Just want to be sure this is how everything should be working.<br><br>Thanks<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Monday, August 28, 2006</h2>Andy:<br>Yes, you should use AddBusinessRules().<br>In the server, the rules will always load, because the dataportal is "destroyed" after it's use, so the static values won't be kept. There is no gain really from that perspective.<br>The real gain is that if you have an object with many children, the rules for each of those children will only be loaded _once_.<br>For only one root object, there is no difference in the dataportal. If you were doing that in the static constructor, the constructor would run every time you call the dp... In the client though, there is a difference, because the rules are still only loaded once.<br><br>You could change the remoting portal to work as a singleton through it's config file and the rules would be kept, but that might bring some other issues that I'm unaware of...<br><br>Andrés<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Monday, August 07, 2006</h2>I just wanted to note that I am all in favor of making shared rules default. I was just stating the obvious in my first post.<br><br>Perhaps a good approach (since we're falling into breaking) would be to have NO method called AddRule and instead have AddInstanceRule and AddSharedRule. That would force everybody to choose either one or the other and would be more clear for anyone trying to get the difference between a method called AddRule and AddXyzRule...<br><br>Andy:<br>Even more, Rocky finally decided to support generic delegates for rules, so you can now have a strongly typed target and ruleargs instead of having to stick with object and ruleargs and then casting or using reflection...<br><br><br>Andrés<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Monday, August 07, 2006</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>xal:</strong></div><div>I just wanted to note that I am all in favor of making shared rules default. I was just stating the obvious in my first post.<br><br>Perhaps a good approach (since we're falling into breaking) would be to have NO method called AddRule and instead have AddInstanceRule and AddSharedRule. That would force everybody to choose either one or the other and would be more clear for anyone trying to get the difference between a method called AddRule and AddXyzRule...<br><br>Andy:<br>Even more, Rocky finally decided to support generic delegates for rules, so you can now have a strongly typed target and ruleargs instead of having to stick with object and ruleargs and then casting or using reflection...<br><br>Andrés<br></div></BLOCKQUOTE><br>I agree with Andrés.&nbsp; I have no problem with breaking changes as long as they break in the compiler and not at run-time.&nbsp; Even then, I do not mind breaking changes when they represent a real step forward.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>marklindell replied on Tuesday, August 08, 2006</h2>My vote is for changing the method name, breaking code and causing the user to change the method.&nbsp; Although, I must say that's an easy call for me because I&nbsp; am not using&nbsp; CLSA 2.0 in production code yet. :-) <br><br>Did we not learn anything from VB.NET and how it obsurces the FCL objects? :-)<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tymberwyld replied on Monday, August 07, 2006</h2>I know I'm new here, but Shared Rules sounds like a more logical approach.&nbsp; <br><br>Also, maybe I missed this in the book.&nbsp; Why can't Rules be Attributes?&nbsp; Don't get me wrong, I'd still want some Rules saved / restored from a database.&nbsp; But I was thinking that there are some cases when I might want to setup a rule on a Property or even at the Class / Object level.&nbsp; It would be great if it was just:<br><br>// [ValidationRule(Property, ErrorDescription)]<br>[ValidationRule(new ValueRequiredRule("MyProperty", "You need a value here!"),<br>ValidationRule(new ValueRequiredRule("MyUserName", "You need a value here!")]<br>public class MyBO { <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; public string MyProperty { ... }<br>&nbsp;&nbsp;&nbsp; public string MyUserName { ... }<br><br>&nbsp;&nbsp;&nbsp; [ValidationRule(new ValueRequiredRule("A valid User Name is required"))]<br>&nbsp;&nbsp;&nbsp; public string MyPassword { ... }<br>}<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Monday, August 07, 2006</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>tymberwyld:</strong></div><div>I know I'm new here, but Shared Rules sounds like a more logical approach.&nbsp; <br><br>Also, maybe I missed this in the book.&nbsp; Why can't Rules be Attributes?&nbsp; Don't get me wrong, I'd still want some Rules saved / restored from a database.&nbsp; But I was thinking that there are some cases when I might want to setup a rule on a Property or even at the Class / Object level.&nbsp; It would be great if it was just:<br><br>// [ValidationRule(Property, ErrorDescription)]<br>[ValidationRule(new ValueRequiredRule("MyProperty", "You need a value here!"),<br>ValidationRule(new ValueRequiredRule("MyUserName", "You need a value here!")]<br>public class MyBO { <br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; public string MyProperty { ... }<br>&nbsp;&nbsp;&nbsp; public string MyUserName { ... }<br><br>&nbsp;&nbsp;&nbsp; [ValidationRule(new ValueRequiredRule("A valid User Name is required"))]<br>&nbsp;&nbsp;&nbsp; public string MyPassword { ... }<br>}<br></div></BLOCKQUOTE><br>For one thing, attribute strings are not localizable.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, August 07, 2006</h2>




<DIV align=left><SPAN class=630554421-07082006><FONT face=Arial color=#0000ff size=2>There are two main reasons:</FONT></SPAN></DIV>
<DIV align=left><SPAN class=630554421-07082006><FONT face=Arial color=#0000ff size=2></FONT></SPAN>&nbsp;</DIV>
<DIV align=left><SPAN class=630554421-07082006><FONT face=Arial color=#0000ff size=2>1) You can't localize rule descriptions that come from 
attributes</FONT></SPAN></DIV>
<DIV align=left><SPAN class=630554421-07082006><FONT face=Arial color=#0000ff size=2></FONT></SPAN>&nbsp;</DIV>
<DIV align=left><SPAN class=630554421-07082006><FONT face=Arial color=#0000ff size=2>2) You'd need to use reflection to find the rule 
attributes, which would be (arguably) slower than the current 
approach</FONT></SPAN></DIV>
<DIV align=left><SPAN class=630554421-07082006><FONT face=Arial color=#0000ff size=2></FONT></SPAN>&nbsp;</DIV>
<DIV align=left><SPAN class=630554421-07082006><FONT face=Arial color=#0000ff size=2>Rocky</FONT></SPAN></DIV><BR>
<BLOCKQUOTE>I 
  know I'm new here, but Shared Rules sounds like a more logical approach.&nbsp; 
  <BR><BR>Also, maybe I missed this in the book.&nbsp; Why can't Rules be 
  Attributes?&nbsp; Don't get me wrong, I'd still want some Rules saved / 
  restored from a database.&nbsp; But I was thinking that there are some cases 
  when I might want to setup a rule on a Property or even at the Class / Object 
  level.&nbsp; It would be great if it was just:<BR></BLOCKQUOTE></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tymberwyld replied on Monday, August 07, 2006</h2>No, actually I've seen some examples of using Attributes to localize descriptions.&nbsp; DevExpress uses this in their XtraEditors library.&nbsp; They have a DXDescriptionAttribute which is used to discover the description for the properties.&nbsp; I'm assuming here that they use something similar to the links below to interpret this.<br><br>[<a title="System.ComponentModel.CategoryAttribute.CategoryAttribute(string);" href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=53">Category</a>(<font color="#800000">"Behavior"</font>), <a title="System.ComponentModel.DXDescriptionAttribute.DXDescriptionAttribute(string);" href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=54">DXDescription</a>(<font color="#800000">"DevExpress.XtraEditors.BaseListBoxControl,AllowGrayed"</font>), <a title="System.ComponentModel.DefaultValueAttribute.DefaultValueAttribute(bool);" href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=55">DefaultValue</a>(<font color="#800000">false</font>)]<font color="#1000a0"><br>public</font> <font color="#1000a0">virtual</font> <a title="System.Boolean" href="http://www.aisto.com/roeder/dotnet/Default.aspx?Object=56">bool</a> <b>AllowGrayed</b> { <font color="#1000a0">get</font>; <font color="#1000a0">set</font>; }
<br><br>Also, there have been a few samples into globalizing / localizing properties / attributes:<br><a href="http://www.codeproject.com/cs/miscctrl/gpg_revisited.asp">http://www.codeproject.com/cs/miscctrl/gpg_revisited.asp</a><br><a href="http://www.codeproject.com/aspnet/DeclarativeGlobalization.asp">http://www.codeproject.com/aspnet/DeclarativeGlobalization.asp</a><br><br>I realize the Reflection would be slow, but if we're talking about a one-time deal with static / shared Rules, the hit would only be incured once.&nbsp; It's just an idea I'm tossing around, it may or may not pan-out...<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>paultyng replied on Tuesday, August 15, 2006</h2><P>1. If you look through reflector, microsoft uses resource keys instead of actual string descriptions in their attributes to make them localizable, look at the System.Web.WebSysDescriptionAttribute as an example.</P>
<P>2. You would only need to use reflection once though, since its type specific.&nbsp; Considering the other uses of reflection and stack walks in CSLA already, I don't beleive that its that much of an issue.&nbsp; (You did say arguably, but I think the decision seems kind of arbitrary considering reflection is already used so prevalently)</P>
<P>I went with an Attribute based rules in my CSLA usage.&nbsp; I have a base class that inherits from CSLA and just overrides the add business rules by going through the attirubtes so it kind of just rides on top of the instance rules for right now.&nbsp; The biggest benefit I have though is that I can make my web databinding UI use reflection to create client side validators (ie. i have it create regex validators for a regex rule attribute) without an instance.&nbsp; This is crucial in the web because control creation happens before data binding potentially to fire post back events.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Tuesday, August 15, 2006</h2>Here's a good argument on why _not_ to go with rules as attributes (although I agree they sound nice):<br><br><br>Most of us use code generation to get the basics out of the way and then add rules in a partial / base class (among other stuff). If you went with attributes you wouldn't be able to do that.<br><br>I believe that there is a way to solve that though but it's so ugly that I'm not even going to bother mentioning it.<br><br><br>Andrés<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tpancoast replied on Tuesday, October 03, 2006</h2>It looks like your direction is set, but just out of curiosity, why wouldn't you have AddRule() check the method signature to see if it is static and from the same class as the object and then either create an instance or a type rule accordingly?&nbsp; You are already checking the method in order to raise an exception if it isn't what's expected.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, October 03, 2006</h2>




<DIV align=left><SPAN class=281043821-03102006><FONT face=Arial color=#0000ff size=2>Clarity of intent. There's a cost to using _both_ per-type 
and per-instance rules, and you should avoid that if you can. Having CSLA 
silently add per-instance rules when you intended to add per-type rules would 
"work", but it would be incorrect - your intent wouldn't be honored by the code, 
but you wouldn't know it.</FONT></SPAN></DIV>
<DIV align=left><SPAN class=281043821-03102006><FONT face=Arial color=#0000ff size=2></FONT></SPAN>&nbsp;</DIV>
<DIV align=left><SPAN class=281043821-03102006><FONT face=Arial color=#0000ff size=2>Rocky</FONT></SPAN></DIV><BR>
<BLOCKQUOTE>
  <DIV class=OutlookMessageHeader align=left>
  <HR>
  <FONT face=Tahoma size=2><B>From:</B> tpancoast [mailto:cslanet@lhotka.net] 
  <BR><B>Sent:</B> Tuesday, October 03, 2006 2:01 PM<BR><B>To:</B> 
  rocky@lhotka.net<BR><B>Subject:</B> Re: [CSLA .NET] Default to per-type 
  rules??<BR></FONT><BR></DIV>
  <DIV></DIV>It looks like your direction is set, but just out of curiosity, why 
  wouldn't you have AddRule() check the method signature to see if it is static 
  and from the same class as the object and then either create an instance or a 
  type rule accordingly?&nbsp; You are already checking the method in order to 
  raise an exception if it isn't what's expected.<BR><BR><BR></BLOCKQUOTE></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
