<html><header><title>Clone &amp; IsNew</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Clone &amp; IsNew</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6934.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>DivisibleByZero posted on Tuesday, May 12, 2009</h2>I have a child object that I want to make a copy of so I am calling the Clone method. How do I mark this newly cloned object as a new object and make sure that all of its children and its childrens children, etc. are marked as New, so that they get <b>inserted</b> into the database when I do a Save()?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, May 12, 2009</h2>Clone by itself won't help you do this.  You'll need to write code that does the clone and then sets the newly created object's state correctly.  So you'll probably need an internal method on the class which is being cloned.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Wednesday, May 13, 2009</h2>I agree with Andy.<br /><br />What I usually do is create a New instance of the same BO Tyoe and then use the DataMapper class to move only the data that I want from the original BO to the "clone". You can include a list of excluded Properties to avoid copying things like the PK. That way the new BO has the correct state and will Insert for you instead of Update.<br /><br />It is only a few more lines of code to do the exact same thing to a child collection and all its objects.<br /><br />Joe<br /></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
