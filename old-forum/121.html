<html><header><title>Editable Root List</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Editable Root List</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/121.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Helen W posted on Tuesday, May 16, 2006</h2><P>I have a requirement to use an Editable Root List. I am finding that it errors out in BusinessBase at:</P><FONT size=2>
<P></FONT><FONT face="Courier New"><FONT color=#0000ff size=2>internal</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>void</FONT></FONT><FONT size=2><FONT face="Courier New"> SetParent(Core.IEditableCollection parent)</FONT></P>
<P><FONT face="Courier New">{</FONT></P>
<P></FONT><FONT face="Courier New" color=#0000ff size=2>&nbsp;&nbsp;&nbsp;if</FONT><FONT size=2><FONT face="Courier New"> (!IsChild)</FONT></P>
<P></FONT><FONT face="Courier New"><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>new</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>InvalidOperationException</FONT></FONT><FONT face="Courier New" size=2>(Resources.ParentSetException);</FONT></P>
<P><FONT face="Courier New" size=2>&nbsp;&nbsp;&nbsp;_parent = parent;</FONT></P>
<P><FONT face="Courier New" size=2>}</FONT></P>
<P>because IsChild is false for a root object, so it raises an exception before setting the parent. Is there a recommended fix for this? Or am I missing something (highly likely!)</P>
<P>Thanks a bundle,</P>
<P>Helen</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Tuesday, May 16, 2006</h2><P>You should be calling MarkAsChild() inside the fetch method...</P>
<P>&nbsp;</P>
<P>Andrés</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Helen W replied on Tuesday, May 16, 2006</h2><P>You're right!</P>
<P>Thanks a lot,</P>
<P>Helen</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>malloc1024 replied on Thursday, May 18, 2006</h2>Helen,<br>
I would highly recommend that you read the book.&nbsp; It is well worth it.&nbsp; It explains the framework in detail.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Helen W replied on Thursday, May 18, 2006</h2><P>I've got the book and I have read most of it at least one time. Now I am painstakingly converting a small project to use the framework, with the intention of using it for most of my future development. My "small" project is sufficiently different from the Tracking project that it is not as easy to convert (for someone not completely familiar with the CSLA) as I might have hoped. But it's going well. Thanks for your patience.</P>
<P>Cheers,</P>
<P>Helen</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>MikeHamilton replied on Friday, October 27, 2006</h2><P>Helen,</P>
<P>New member here, just doing some seaching before asking a question or two, and wanted to let you know I am in the same boat as you.</P>
<P>I&nbsp;bought the PDF version of the book from the publisher's site, and have it open on one monitor while trying to write first application using CSLA. SO I am not completely familiar with CSLA framework, or complete OO practice (been using pseduo object methodolgy)</P>
<P>Mike</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Helen W replied on Thursday, May 18, 2006</h2><P>Quick question for you -- is the semantic meaning of the "IsChild" property that the item is a member of a collection of BOs?</P>
<P>thx</P>
<P>Helen</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Thursday, May 18, 2006</h2>Helen,<br>Well, yeah, it means that it's a child of another object (collection or not).<br>BusinessListBase doesn't not allow adding items that are not marked as child...<br><br>It also implicates that you cannot save that item directly.... (You can't call the save() method on the child).<br>The reason is that you generally want your child items to be saved in the context of it's parent object (probably inside a transaction started by it). That way if a child item fails to save, then nothing is persisted and you preserve integrity of the data.<br><br>It's also a good idea to call MarkAsChild on child items even when they're not part of a collection. For example when you have EditableRoot -&gt; Child (whithout an intermadiate collection, which makes it a 1 to 1 relation). The reasons are the same as with collections...<br><br>Andrés<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
