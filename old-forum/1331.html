<html><header><title>Only warning, not INVALID! I need &quot;Warning rule&quot;.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Only warning, not INVALID! I need &quot;Warning rule&quot;.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1331.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>phucphlq posted on Tuesday, September 26, 2006</h2><P>Hello!</P>
<P>When user change property of business object, I only want to show a waring if new value don't satisfy. How to do?</P>
<P>Example: When user input an empty string, I will show a message but accept&nbsp;and save new value.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Tuesday, September 26, 2006</h2>Take a look at the error severity feature in the 2.1 beta.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>phucphlq replied on Tuesday, September 26, 2006</h2><P>With a property of business class. I&nbsp;have valid rule(Ex: StringRequired, MaxLenght). This is already in CSLA. </P>
<P>But I need some "warning rule" for that property. Ex: When user input a string that length less than <STRONG>MinLenght, </STRONG>I will show a message to warning then accept and save value. Do CSLA has this function?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Michael Hildner replied on Tuesday, September 26, 2006</h2><P>phucphlq,</P>
<P>As Brian said, there's a severity level in 2.1. Before 2.1 there was not a severity level, everything is an error and prevents saving.</P>
<P>The AddRule methods are overloaded, and if you don't specify the priority, it defaults to an error. Check out ValidationRules.cs.</P>
<P>You may want to specify the priority in your rule. Specifically, the RuleSeverity enum. 0 = Error, 1 = Warning, 2 = Information.</P>
<P>Hope this info is correct. I'm just getting into 2.1 myself.</P>
<P>Many Regards,</P>
<P>Mike</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>phucphlq replied on Tuesday, September 26, 2006</h2>Thanks. I will read carefully change log. I expect Rocky will make a extent of book and I will buy immediate.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Wednesday, September 27, 2006</h2>Michael, you're talkin about priority. The AddRule methods don't allow severity, it's the rule args that do.<br>So you could inside your rule method change the severity, but if you use the standard csla rules, you might get around the severity by secifying that in the args before adding the rule. Like:<br><br>&lt;pseudocode&gt;<br>Public overrides sub AddBusinessRules<br>&nbsp;&nbsp;&nbsp; Dim args as New RuleArgs("myProperty")<br>&nbsp;&nbsp;&nbsp; args.Severity = Warning<br>&nbsp;&nbsp;&nbsp; ValidationRules.AddRule(Addressof StringRequired, args)<br>End Sub<br>&lt;/pseudocode&gt;<br><br>Since the argument doesn't change from bo to bo (or in instance rules, it always 1 arg per object), the "Warning" should stick unless you do something in one of your rules to change that.<br>I generally set severity inside my rule method, but I you use rocky's validation routines, you'll have to do it this way.<br><br>Andrés<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Michael Hildner replied on Wednesday, September 27, 2006</h2><P>You're right Andrés, sorry about that.</P>
<P>Until the book is available, I've been trying to teach myself 2.1 by going through the code. Got a little confused.</P>
<P>Mike</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
