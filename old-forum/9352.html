<html><header><title>How to merge SL Navigation with MvvM - Bxf MainContent Presenter</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to merge SL Navigation with MvvM - Bxf MainContent Presenter</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9352.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav posted on Tuesday, August 10, 2010</h2><p>My App is structured almost exactly like the very first SlDemo from the Mvvm Videos, i.e., a central are for main navigable content with ouside fixed&nbsp;areas for buttons etc.&nbsp; I use SL Navigation.</p>
<p>I hear in the video that the main reason to use Mvvm pattern is to make testing easier and to eliminate code behind - and I buy that.&nbsp; My venture into MvvM, however, was the result of Detour sign on the highway that said:&nbsp; DataProviders permanatly closed - Use MvvM - Turn Left Here.</p>
<p>I have been thankful for the ViewModel availability and have been speeding along, displaying contect in a Frame using Silverlight Navigation system, and everything&#39;s been sweet.&nbsp; </p>
<p>Now&nbsp;in the MvvM videos, all I hear about&nbsp;is the MainContent Presenter and a View Changer, with no mention of Csla Navigation which was there&nbsp; at one time, nor of the SL navigation which essentially replaced Csla navigation.&nbsp; So before I do something stupid and start dismantling my SL Navigation, I have some questions.</p>
<p>1.&nbsp; Is this meant to be a replacement for the existing Navigation System, and would it present comparable functionality like pressing the Back key to go to a previous view, or seeing a list of all previous views in a dropdown list from Browser&#39;s Backup funtionality - and whatever else may be there.</p>
<p>2. If I want to stay with SL navigation, what are the caveats in creating VM&#39;s for all child objects (and collections of child objects)&nbsp;of my object graph, many of them are lazy-loaded and what would be the best place to plug in that functionality, i.e., creation of the VM for the newly created collection or the object.&nbsp; I did study the code in SlDemo videos but the examples appear to tie it into Shell.Instance.ShowView()?</p>
<p>3.&nbsp; Can I use the Bxf&#39;s Status and Error display functionalty while continuing to use SL navigation.&nbsp; In fact the only status I need to display outside the&nbsp;navigation frame&nbsp;is the IsValid status of each object in the object graph - and that is on the wish list.</p>
<p>Thank you.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, August 10, 2010</h2><p>This thread should really take place on <a href="http://bxf.codeplex.com">http://bxf.codeplex.com</a> - it has essentially nothing to do with CSLA, and everything to do with Bxf.</p>
<p>Bxf is, fist and foremost, a teaching tool intended to distill MVVM to the smallest possible implementation. So it doesn&#39;t integrate with the back button or anything like that, no.</p>
<p>Of course Bxf is an open source framework - I&#39;m very happy to have people contribute to the project. I don&#39;t want it to get big or complex - no sense competing with pre-existing MVVM frameworks out there - but there&#39;s certainly room to enhance the framework while keeping it extremely lightweight and simple.</p>
<p>All that said, I suspect it can work with SL navigation with little or no change.</p>
<p>Bxf requires that you implement a &quot;presenter&quot; that is responsible for handling the three events (to show a view, error and status). You can implement those three behaviors any way you choose - including having OnShowView call SL navigation to navigate to a new view.</p>
<p>On the flip side, SL navigation (I think) has ways for you to run initialization code as a new page is initialized. Sadly I haven&#39;t had time to dig into SL navigation as much as I&#39;d like... But this is one area where Bxf might need a little enhancement - since it may not be possible for this navigation initialization code to call Bxf to hook up the viewmodel to the view.</p>
<p>I assume SL navigation will create the view, and thus any CollectionViewSource resources, etc. <i>Something</i> then needs to create the viewmodel (based on the query parameter data) and hook up the viewmodel to the view.</p>
<p>However, InitializeBindingResource() is a protected method, so it might be as simple as creating a custom subclass of Shell that exposes a method to create an IView with a pre-existing view (the one created by SL navigation) and the viewmodel you create based on the query parameters - and then this Shell subclass would invoke InitializeBindingResource() to connect the viewmodel to the view.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, August 10, 2010</h2><p>In fact, I created a thread on codeplex for this</p>
<p><a href="http://bxf.codeplex.com/Thread/View.aspx?ThreadId=223112">http://bxf.codeplex.com/Thread/View.aspx?ThreadId=223112</a></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Tuesday, August 10, 2010</h2><p>yes, I saw that.&nbsp; In fact you physically lifted me outa&#39; here and put me there <img src="http://forums.lhotka.net/emoticons/emotion-2.gif" alt="Big Smile" /><br />I appreciated that, and have already started my pestering over yonder.</p>
<p>Nice to know that mine is the first message in that&nbsp; forum - yeah<br />(Note to self: must tell grand kids some day)</p>
<p>Jav</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
