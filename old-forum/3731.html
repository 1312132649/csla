<html><header><title>Defaults / Design / ReadOnlyBase</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Defaults / Design / ReadOnlyBase</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3731.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>juddaman posted on Wednesday, October 17, 2007</h2><P>Hi all</P>
<P>Just after some feedback on some design decisions I've made.</P>
<P>All my defaults that affect the way the app works are stored in the db. These can be modified through a form bound to a Config object.</P>
<P>I have a class, InsertDefaultBreaks (subclasses ReadOnlyBase), which modifies a TimeSheet object, this retrives the users default breaks value<BR>for the day of week for which the time sheet represents.</P>
<P>This kind of thing:</P>
<P>if (!dr.GetBoolean("UseDefaultBreaks")<BR>{<BR>&nbsp;return;<BR>}</P>
<P>switch (criteria.Date.DayOfWeek)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case DayOfWeek.Monday:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (dr.GetBoolean("MonSpecific"))<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defaultBreaks = dr.GetInt32("MonBreaks");<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case DayOfWeek.Tuesday:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (dr.GetBoolean("TueSpecific"))<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; default......</P>
<P>&nbsp;</P>
<P>Any general feedback on this would be great. Particularly is loading the defaults into the objects as they need them the best method.<BR>It seams the most proper. </P>
<P>Also I'm calling the static method in InsertDefaultBreak when an event (a list changing) fires in my TimeSheet object, the time sheet object is passed <BR>to the static method called in InsertDefaultBreak. Is this the system starting a use case? <BR>Or just a sub-use-case of the user choosing to modify the timesheet?</P>
<P>George<BR></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>richardb replied on Wednesday, October 17, 2007</h2><P>If I have understood correctly, you could set the defaults in the DataPortal_Create method of your timesheet object, going to the database to get them.&nbsp; </P>
<P>In your factory method for creating a timesheet you could supply the UseDefaults parameter (and any others that might help to get your defaults) </P>
<P>e.g. (Psuedo Code)&nbsp;</P>
<P>Dim UseDefaults as Boolean = True<BR>Dim myTimesheet as TimeSheet = TimeSheet.NewTimeSheet(UseDefaults)</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
