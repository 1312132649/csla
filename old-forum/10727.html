<html><header><title>switchable mandatory fields in wpf</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>switchable mandatory fields in wpf</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10727.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dan_morey posted on Friday, September 30, 2011</h2><p>On my WPF interface I have, amongst other things, a checkbox, and two textboxes. When the checkbox isn&#39;t checked then I would like the two checkboxes to be blank and disabled. Then if the user checks the checkbox, the two checkboxes will become editable.</p>
<p>&nbsp;My question is, where do I put the logic for this?</p>
<p>I&#39;m using VS2010, with CSLA 4, and WPF using MVVM.</p>
<p>I know I can link the enabled property of the textboxes to something on the viewmodel, but I&#39;m not sure whether I should just hard code it in the viewmodel or if it&#39;s possible to set up a rule on the business object that does it, and that I can then use to set the enabled properties.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, September 30, 2011</h2><p>This is exactly what custom authorization rules are used to implement.</p>
<p>If you implement this through custom authorization rules, the CanWrite property of your PropertyStatus or PropertyInfo controls will expose the results as bindable values, and then you just bind the UI controls&#39;&nbsp;IsEnabled properties&nbsp;to CanWrite. The enable/disable becomes automatic.</p>
<p>Custom authorization rules are discussed in the <em>Using CSLA 4: Creating Business Objects</em> ebook.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Friday, September 30, 2011</h2><p>Hi, </p>
<p>A couple more things to remeber: </p>
<ol>
<li>You must remember to override CacheResult on the Authz rules. </li>
<li>Use either CanWrite or StopIfNotCanWrite rules to control wether fields are required or not (based on CanWriteProperty)<br />These rules exist in RuleTutorial sample (only in repository), at <a href="http://cslacontrib.codeplex.com">http://cslacontrib.codeplex.com</a> &nbsp;and <a href="http://cslagenfork.codeplex.com">http://cslagenfork.codeplex.com</a> <br />Look at the RuleTutorial on how to use them.</li>
<li>You may also consider to add Authz rules to CanRead if you want to hide the real values and only return the default values for the value&nbsp;types.&nbsp;</li>
</ol>
<p><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">&nbsp;&nbsp;&nbsp; public overide bool CacheResult<br />&nbsp;&nbsp;&nbsp; { <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get { return false; }<br />&nbsp;&nbsp;&nbsp; }</span></span></span></p>
<p><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">You could also look at BusinessRuleDemo project in Samples\Net\cs\BusinessRuleDemo on how State is required if country is US. (Albeit WinForms the concept in the BO is just same for WPF). <br /></span></span></span></p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
