<html><header><title>IsBusy set to false after OnRefreshed in view model</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>IsBusy set to false after OnRefreshed in view model</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11365.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>patelravij@gmail.com posted on Friday, May 18, 2012</h2><p>Hi,</p>
<p>I am using silverlight CSLA&nbsp;ViewModel.&nbsp;I am facing issue when set IsBusy property after&nbsp;OnRefreshed. I have set IsBusy property to true in&nbsp;override OnRefreshed method. It does not set. Then i have keep log _PropertyChanged event and i found that after completion of&nbsp;override OnRefreshed method, IsBusy property set back to false!!! </p>
<p>So it will does not show busy&nbsp;indicator. Does is there any implementation of isbusy in viewmodebase so it set busy after onrefreshed. or any work&nbsp;around.&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, May 18, 2012</h2><p>OnRefreshed runs after the refresh operation is complete. I think that the IsBusy property is set to false after OnRefreshed is invoked, with the assumption that this is the point at which the refresh operation is totally complete (the refresh is done, and any of your code in OnRefreshed is also done).</p>
<p>Are you starting another asynchronous operation in the OnRefreshed overload?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>patelravij@gmail.com replied on Saturday, May 19, 2012</h2><p>Yes,&nbsp;<span>Rocky. I am starting another asynchronous operation in OnRefreshed overload method to fetch look up data and other general setting. So I am setting IsBusy property true in&nbsp;</span>OnRefreshed method. But it set false when OnRefreshed call completed. Is there any way to set Isbusy property? </p>
<p>Thanks.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Saturday, May 19, 2012</h2><p>No, the behavior of the base class is as I described.</p>
<p>If you need your viewmodel to work differently, you should probably just not use the CSLA base class, but instead should create your own.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Saturday, May 19, 2012</h2><p>Have you considered to create a readonly object for &quot;Unit of Work&quot; loader that will fetch both lookupdata and business object in the same dataportal call. </p>
<p>This will greatly simplify your code and need only one async operation to complete. <br />Plus - you need the lookupdata BEFORE you hook up the data object in databinding so having this handled in a &quot;UseCaseFetcher&quot; is preferred foverstarting new async operations in OnRefreshed. </p>
<p>Se this thread too:<a href="http://forums.lhotka.net/forums/p/10508/49556.aspx#49556">http://forums.lhotka.net/forums/p/10508/49556.aspx#49556 </a></p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
