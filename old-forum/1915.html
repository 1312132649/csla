<html><header><title>log4net DataPortalcs</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>log4net DataPortalcs</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1915.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>magister posted on Thursday, December 07, 2006</h2><P>Hello, I have an issue getting log4net to log on the DataPortalcs side.</P>
<P>In my circumstance I have a Premium Rating Calculator being called by the Business Objects themselves, this calculation produces several intermediate values which we want to write to a log for auditing purposes.</P>
<P>It does work when the ASP.NET application is running with a local connection. In this case I have the proper changes to the web.config file and logging does occur.&nbsp; When I move these changes to the web.config on the DataPortalcs file however the log does not get written.</P>
<P>Has anyone been able to do this?&nbsp; Is there something I am missing.&nbsp; Any tips greatly appreciated.</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, December 07, 2006</h2>Are you using remoting or anything other than the local data portal?<br><br>Also, I wouldn't use log4net for auditing purposes.&nbsp; log4net is a best effort and is not guaranteed to always actually log, so its possible some messages don't get logged and you won't get any notification that nothing has been logged.&nbsp; I'd log the audit to a database, where at least you'll know if the logging fails or not (because the server is down or something).<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>magister replied on Thursday, December 07, 2006</h2><P>fair enough, you would put it in the database.&nbsp; Basically I don't need all of the intermediate calculations there, and have been asked to write it out to a file......</P>
<P>So anybody else had any luck getting log4net to work on the DataPortalcs ?</P>
<P>&nbsp;</P>
<P>There seems to be an issue with this.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, December 07, 2006</h2>Well again, it would be helpful to know what version of Csla, and if you're using a remoting data portal or not.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>magister replied on Thursday, December 07, 2006</h2><P>it is the version for .net 1.1, I think CSLA 1.4 or 1.5</P>
<P>The DataPortalcs is on the same server as the website code which accesses it, although this will change on the Production Server setup.</P>
<P>I think I found the answer, put the log4net web.config settings into the web.config file for the ASP.NET application.&nbsp; It seems that these are picked up by my server-side calculator which is called by the BusinessObjects.&nbsp; I ran&nbsp;the asp.net app&nbsp;local first and it worked then I switched it to go over the dataportalcs and put the settings into dataportcs web.config, that did work.&nbsp; Then I turned on the settings back in asp.net web.config but was still going over the remoting to dataportalcs and it works now.</P>
<P>Anyhow thanks.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, December 07, 2006</h2>log4net can be pain to get working in Asp.net.&nbsp; I woudl think that you need the settings in both web.config files.&nbsp; The issue with not logging under asp.net is usually a permissions one.&nbsp; If the problem re-occurs, I would check security settings for the file or registry, etc.<br><br>Andy<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
