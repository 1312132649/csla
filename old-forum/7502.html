<html><header><title>CSLA validation for WPF Toolkit DataGrid DataTextColumn Binding.ValidationRules</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA validation for WPF Toolkit DataGrid DataTextColumn Binding.ValidationRules</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7502.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Kevin Jones posted on Monday, August 24, 2009</h2>I am trying to write XAML to validate a datagrid column using CSLA without having to write any extra code in the code behind but I have not been able to do it.<br />  So far I can call a custom method that checks the BusinessBase.<br /><br /><br />In the XAML:<br />my:DataGridTextColumn.Binding<br />Binding.ValidationRules<br />local:CellDataInfoValidationRule ValidationStep="UpdatedValue" <br /><br />Code Behind:<br />    public class CellDataInfoValidationRule : ValidationRule<br />    {<br />        public override ValidationResult Validate(object value, CultureInfo cultureInfo)<br />        {<br />            // obtain the bound business object<br />            BindingExpression expression = value as BindingExpression;<br />            BusinessBase bb = expression.DataItem as BusinessBase;<br />            if (!bb.IsValid)<br />            {<br />                return new ValidationResult(bb.IsValid, bb.BrokenRulesCollection.ToString());<br />            }<br /><br />            return ValidationResult.ValidResult;<br />        }<br />}<br /><br />Is there a way that I can write my XAML to not need the code behind method?  I would also like to display the validation for just one cell, not the entire row.  My current method displays all of the broken rules.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, August 24, 2009</h2><P>You can probably do what we did in CSLA .NET for Silverlight, which is to create custom column types for the grid, where the column renders a PropertyStatus control next to the content control (TextBox, ComboBox, etc).</P>
<P>Look in Csla\Silverlight in the SL version to see the code - it is probably pretty similar in WPF since I think they based the WPF grid somewhat off the SL grid.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
