<html><header><title>CSLA with Caching Application Block</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA with Caching Application Block</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/657.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>jgk1701 posted on Tuesday, July 18, 2006</h2><P>My first post on this forum, although I have been a frequent visitor.&nbsp; I've been&nbsp;experimenting with&nbsp;CSLA now for about 4 months.&nbsp; We are getting ready to use it for a major application re-write within the next few months.</P>
<P>I was wondering if anyone here has used the Caching Application Block in conjunction with CSLA?&nbsp; I'm curious to see what folks have done with it.</P>
<P>Jeff</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jgk1701 replied on Wednesday, July 19, 2006</h2><P>bump...surely someone has used the CAB in conjunction with CSLA.</P>
<P>&nbsp;</P>
<P>Jeff</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Wednesday, July 19, 2006</h2><P>Jeff,</P>
<P>Take a look at this thread where this discussion has already taken place:</P>
<P><A HREF="/forums/thread/1047.aspx">http://forums.lhotka.net/forums/thread/1047.aspx</A></P>
<P>&nbsp;</P>
<P>We've implemented the Caching Application Block successfully as described in that thread.&nbsp; Trick is to find the right place to use it.&nbsp; In our case we check to see if the requested object exists in the cache before passing the request to the next level of the data portal.&nbsp; For example, if we are caching locally in the client, the client-side data portal will check to see if the object is in its cache before calling the server-side data portal.&nbsp; Likewise, the server-side portal will check the cache before resorting to the database.</P>
<P>Keep in mind that all objects in the cache are keyed, so you'll need some way to identify the object that can be used by the data portal.&nbsp; In our case, we have a standard table schema that uses a uniqueidentifier field for all records that we incorporated into our base data-access class.&nbsp; The data portal&nbsp;uses this&nbsp;Guid&nbsp;to create its cache key.</P>
<P>There are limits, obviously, to all of this and this key has proven to be the bottleneck.&nbsp; If you are used to referring to your objects a number of different ways, you can run into problems.&nbsp; For instance, say you have a User object with a Guid identifier and a unique login/user name.&nbsp; you should be able to create the object using either value if the username has a uniqueness constraint.&nbsp; In order to retrieve the same object from the cache with each request, you'll need some sort of key that can be used in both cases.</P>
<P>Not sure if any of that will apply to you, just imparting some of what we experienced.</P>
<P>Hope that helps.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jgk1701 replied on Thursday, July 20, 2006</h2><P>Thanks for the response.</P>
<P>Ok, this sounds&nbsp;like what I want to do with the CAB.&nbsp; I want to cache look up tables on both the server side and client sides, in the form of read only collections.</P>
<P>The server side cache would serve as a repository of cached data for clients.&nbsp; If a BO processing on the server needs access to a look up table, then it can look to the server side cache for that data.&nbsp; If a requested look up table is not in the cache, then the server side cache would perform the data base access.</P>
<P>The client side cache would cache data for use in combo boxes, list boxes, etc, and also for BO processing.&nbsp; If a requested look up table is not in that cache, then it would look to the server side cache for that object.&nbsp; </P>
<P>I'm having a hard time visualizing the architecture we are talking about here.&nbsp; Any advice?</P>
<P>Also, what to do about situations where the server side data portal is on the client machines?&nbsp; We wouldn't want a client machine to be maintaining two caches.</P>
<P>Jeff</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
