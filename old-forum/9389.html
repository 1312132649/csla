<html><header><title>TriggerAction on Page events?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>TriggerAction on Page events?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9389.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Ranjini posted on Tuesday, August 17, 2010</h2><p class="MsoNormal" style="line-height:normal;margin:0in 0in 10pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;"><span style="font-family:Calibri;font-size:small;">Hi -</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 10pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;"><span style="font-family:Calibri;font-size:small;">&nbsp;I am trying to get an event to fire via ViewModel when navigating away from a page and I did the following...</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 10pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;"><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">&lt;navigation</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">:</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">Page</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:13pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> </span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">xmlns</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=<a href="http://schemas.microsoft.com/winfx/2006/xaml/presentation"><span style="color:#0000ff;">http://schemas.microsoft.com/winfx/2006/xaml/presentation</span></a> </span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">xmlns</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">:</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">this</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=&quot;clr-namespace:DataOnline.RAM.DOLWebApp&quot;</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:13pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> <span style="mso-spacerun:yes;">&nbsp;</span></span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">xmlns</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">:</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">csla</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:13pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> </span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=&quot;clr-namespace:Csla.Xaml;assembly=Csla.Xaml&quot; </span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">xmlns</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">:</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">controlsToolkit</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=&quot;clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit&quot;</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:13pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> </span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">xmlns</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">:</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">navigation</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:13pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> </span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=&quot;clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Navigation&quot; </span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">x</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">:</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">Class</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=&quot;DataOnline.RAM.DOLWebApp.Views.Systems&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> x</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">:</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">Name</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=&quot;SystemPage&quot;</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:13pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> </span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">&gt;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;color:blue;font-size:9.5pt;">&lt;</span><span style="font-family:Consolas;color:#a31515;font-size:9.5pt;">navigation</span><span style="font-family:Consolas;color:blue;font-size:9.5pt;">:</span><span style="font-family:Consolas;color:#a31515;font-size:9.5pt;">Page.Resources</span><span style="font-family:Consolas;color:blue;font-size:9.5pt;">&gt;</span><span style="font-family:Consolas;font-size:9.5pt;"></span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;color:#a31515;font-size:9.5pt;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:Consolas;color:blue;font-size:9.5pt;">&lt;</span><span style="font-family:Consolas;color:#a31515;font-size:9.5pt;">this</span><span style="font-family:Consolas;color:blue;font-size:9.5pt;">:</span><span style="font-family:Consolas;color:#a31515;font-size:9.5pt;">StatusViewModel</span><span style="font-family:Consolas;color:red;font-size:9.5pt;"> x</span><span style="font-family:Consolas;color:blue;font-size:9.5pt;">:</span><span style="font-family:Consolas;color:red;font-size:9.5pt;">Key</span><span style="font-family:Consolas;color:blue;font-size:9.5pt;">=&quot;mySystemViewModel&quot;/&gt;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;color:blue;font-size:9.5pt;">&lt;/</span><span style="font-family:Consolas;color:#a31515;font-size:9.5pt;">navigation</span><span style="font-family:Consolas;color:blue;font-size:9.5pt;">:</span><span style="font-family:Consolas;color:#a31515;font-size:9.5pt;">Page.Resources</span><span style="font-family:Consolas;color:blue;font-size:9.5pt;">&gt;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;color:blue;font-size:9.5pt;">&nbsp;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;"><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">&lt;</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">Grid</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> x</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">:</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">Name</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=&quot;LayoutRoot&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> DataContext</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=&quot;{</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">Binding</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> Source</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">={</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">StaticResource</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> mySystemViewModel</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:13pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> </span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">}}&quot;&gt;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt 0.5in;"><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">&lt;</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">csla</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">:</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">TriggerAction</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> x</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">:</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">Name</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=&quot;StopTimerTrigger&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> MethodName</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=&quot;KillTimer&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> TriggerEvent</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=&quot;NavigatedFrom&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> TargetControl</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=&quot;{</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">Binding</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> ElementName</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:13pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> </span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">=SystemPage}&quot;/&gt;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;color:blue;font-size:9.5pt;">&lt;/</span><span style="font-family:Consolas;color:#a31515;font-size:9.5pt;">Grid</span><span style="font-family:Consolas;color:blue;font-size:9.5pt;">&gt;</span><span style="font-family:Consolas;font-size:9.5pt;"></span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;color:blue;font-size:9.5pt;">&lt;/</span><span style="font-family:Consolas;color:#a31515;font-size:9.5pt;">navigation</span><span style="font-family:Consolas;color:blue;font-size:9.5pt;">:</span><span style="font-family:Consolas;color:#a31515;font-size:9.5pt;">Page</span><span style="font-family:Consolas;color:blue;font-size:9.5pt;">&gt;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;color:blue;font-size:9.5pt;">&nbsp;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;color:blue;font-size:9.5pt;">public</span><span style="font-family:Consolas;font-size:9.5pt;"> <span style="color:blue;">void</span> KillTimer(<span style="color:blue;">object</span> sender, Csla.Xaml.<span style="color:#2b91af;">ExecuteEventArgs</span> e)</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;font-size:9.5pt;">{</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;font-size:9.5pt;">}</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;color:blue;font-size:9.5pt;">&nbsp;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;mso-layout-grid-align:none;"><span style="font-family:Consolas;color:blue;font-size:9.5pt;">&nbsp;</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">The event &ldquo;KillTimer&rdquo; doesn&rsquo;t get fired and I am wondering why.. Any ideas??</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">&nbsp;</span><span style="font-family:Calibri;font-size:small;">Thanks</span></p>
<p class="MsoNormal" style="margin:0in 0in 10pt;"><span style="font-family:Calibri;font-size:small;">Ranjini</span></p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Saturday, August 21, 2010</h2><p>I&#39;ve never tried attaching a TriggerAction to the actual form/window/page. Maybe it just doesn&#39;t work to do that.</p>
<p>You might try stepping through the code in TriggerAction that sets and finds the source to see if it is able to find the source and set up the event handler - it is quite possible that this doesn&#39;t work for some reason.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
