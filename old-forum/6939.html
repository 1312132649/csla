<html><header><title>ObjectContextManager Suggestion</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>ObjectContextManager Suggestion</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6939.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>smims posted on Wednesday, May 13, 2009</h2>I was wanting to suggest that on the ObjectContextManager.GetManager method, a bool parameter be added to give the option of opening the connection to the database.  I've noticed that if I use the Transactional attribute ([Transactional(TransactionalTypes.TransactionScope)]) with my CRUD operations, I get an error because another connection is being opened.  To fix this, it was suggested that I simply open the connection (manager.ObjectContext.Connection.Open();) before firing off my CRUD operation.  I think it would be good to add this as a parameter so that connections could be opened by the parent/child accordingly.<br /><br />Thanks,<br />Seth Mims (SMIMS)</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, May 13, 2009</h2>If ObjectContextManager is anything like Csla.ContextManager, it should be handling this already... that's the point of the ContextManager, to ensure only one connection is opened.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Wednesday, May 13, 2009</h2>This is definitely an issue in EF v1, and it is a known one.  You must open the connection before firing submit changes in EF, or it will delegate to MSDTC.<br /><br />Sergey Barskiy<br />Principal Consultant<br />office: 678.405.0687 | mobile:&#160;404.388.1899<br /><br />Microsoft Worldwide Partner of the Year | Custom Development Solutions, Technical Innovation<br /><br />-----Original Message-----<br />From: ajj3085 [mailto:cslanet@lhotka.net] <br />Sent: Wednesday, May 13, 2009 8:44 AM<br />To: Sergey Barskiy<br />Subject: Re: [CSLA .NET] ObjectContextManager Suggestion<br /><br />If ObjectContextManager is anything like Csla.ContextManager, it should be handling this already... that's the point of the ContextManager, to ensure only one connection is opened.<br /><br /></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
