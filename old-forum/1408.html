<html><header><title>CslaXml &amp; ReadOnlyChildList</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CslaXml &amp; ReadOnlyChildList</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1408.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>AdrenalineWerks posted on Thursday, October 05, 2006</h2>I have an EditableRoot object, <i>Venue</i>, that has a ReadOnlyChildList of <i>VenueActivities</i>, which contains <i>VenueActivity </i>objects. Using the CslaXml template, when I attempt to build the code, I'm getting complier errors which indicate that VenueActivities does not contain IsValid, IsDirty or Update methods. Looking at the generated class (using split-partial classes), the EditableRoot Venue.Generated.cs class is attempting to call IsValid, IsDirty, and Update on the ReadOnlyChildList. <br><br>I've looked at the templates, but don't see any way to indicate to an EditableRoot object that my child collection is read only. Am I missing something or is this a bug with the template?<br><br>Thanks,<br>Roger Wilson<br><br>XML:
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>&lt;cslaCodeGenInfo&gt;<br>	&lt;rootObjects&gt;<br>		&lt;object name="Venue" type="EditableRoot"&gt;<br>			&lt;properties&gt;<br>				&lt;property name="Id" type="Guid" dbColumnName="VenueGuid" isIdentity="false" isPrimaryKey="true" isRequired="true"/&gt;<br>				&lt;property name="DisplayName" type="string" default="string.Empty" dbColumnName="DisplayName" isRequired="true" maxSize="50"/&gt;<br>				&lt;property name="UpcomingActivities" type="VenueActivities" access="public" isCslaClass="true" isCollection="true" isReadOnly="true" /&gt;<br>			&lt;/properties&gt;<br>		&lt;/object&gt;<br>		&lt;object name="VenueActivity" type="ReadOnlyChild" parent="Venue"&gt;<br>			&lt;properties&gt;<br>				&lt;property name="Id" type="Guid" dbColumnName="VenueGuid" isIdentity="false" isPrimaryKey="true" isRequired="true"/&gt;<br>				&lt;property name="DisplayName" type="string" default="string.Empty" dbColumnName="DisplayName" isRequired="true" maxSize="50"/&gt;<br>			&lt;/properties&gt;<br>		&lt;/object&gt;<br>		&lt;object name="VenueActivities" type="ReadOnlyChildList" child="VenueActivity" parent="Venue"&gt;<br>			&lt;properties&gt;<br>				&lt;property name="DisplayName" type="string" dbColumnName="DisplayName" isFilterKey="true"/&gt;<br>			&lt;/properties&gt;<br>		&lt;/object&gt;<br>	&lt;/rootObjects&gt;<br>&lt;/cslaCodeGenInfo&gt;<br><br></pre></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rasupit replied on Friday, October 06, 2006</h2>Roger,<br>You can't an Editable object to be the parent of read only objects.&nbsp; Change VenueActivities and VenueActivity to EditableChildList and EditableChild.<br><br>Ricky<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>AdrenalineWerks replied on Saturday, October 07, 2006</h2><P>Ricky,</P>
<P>Thanks for the clarification. We will probably change the object model to have UpcomingActivites be a ReadOnlyBaseList and remove the ReadOnly objects from the Venue. This will allow us to look up UpcomingActivites using Venue as a criteria and get re-use by allowing a date range as a different critera.</P>
<P>Thanks,</P>
<P>Roger Wilson</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>david.wendelken replied on Friday, October 13, 2006</h2><P><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>rasupit:</strong></div><div>Roger,<BR>You can't an Editable object to be the parent of read only objects.&nbsp; Change VenueActivities and VenueActivity to EditableChildList and EditableChild.<BR><BR>Ricky<BR></div></BLOCKQUOTE></P>
<P>I'm just starting to use your very nifty templates.</P>
<P>I recollect a parameter that was for listing the names of child collection objects.&nbsp; Based upon your comment above, it is, more accurately, for listing the names of editable collection objects.</P>
<P>I'm thinking, if there was a different parameter for listing the names of read-only collection objects, then the template could process those collections differently.</P>
<P>If you think that would work, I'll start trying to figure out how to make the changes to them for you!</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rasupit replied on Friday, October 13, 2006</h2>David,<br>Yes, the parameter is for listing the editable collection objects only.&nbsp; Obviously they need to be listed so we could generate the code where there CRUD process would be coupled together.<br><br>Read only objects may sometime available in editable object but they often are convinience properties (associative relationship). Because this object has its own root object and do not share their CRUD (CR is more accurate) process, adding parameter to list them would add additional complexity where often enough they require unique instantiaton steps.<br><br>These type of properties are more suitable in user class<br>Ricky<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
