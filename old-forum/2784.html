<html><header><title>CslaAuthentication in different web.config of the same web application</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CslaAuthentication in different web.config of the same web application</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2784.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tqvdang posted on Thursday, April 26, 2007</h2><P>Hi,</P>
<P>We have a main web application where web.config specifies CslaAuthentication="Windows" and&nbsp;opens itself as Csla Remoting Host.&nbsp;This web application contains a sub-folder. This sub-folder has a seperate web.config that point to different Csla Remoting Host in different server (CslaPortalUrl).&nbsp;Look like to me that doing so,&nbsp;not only my DataPortal_XYZ features called in sub-folder will be&nbsp;rerouted from a Remoting Host (which&nbsp;I expect), but also all DataPortal_XYZ features from the main web application will be&nbsp;pointed to Remoting Host. Is there any way that I can specify tell the web that only&nbsp;call coming out from that specific sub-folder will be forwarded to the different remoting host server, the rest will stay the same? Thanks alot guy. &nbsp;</P>
<P>Best regards,</P>
<P>Dang Tran</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, April 26, 2007</h2><P>The data portal configuration comes from System.Configuration.ConfigurationManager, which reads the config file. It is my understanding that the config settings are read once for the AppDomain, and the values are cached in a Dictionary from that point forward.</P>
<P>In other words, I think the answer is no, you can't get the behavior you want using the default data portal model.</P>
<P>However, you could create your own client-side data portal proxy object and make that be the proxy used by the CSLA data portal. Then <EM>your</EM> proxy object could use some other configuration scheme (because obviously System.Configuration.ConfigurationManager won't help you) to determine the URL to use when calling the app server.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tqvdang replied on Monday, May 14, 2007</h2><P>Hi Rocky,</P>
<P>Thank you for your advice. I used a little trick, extended from your RunLocal attribute. I implemented RunRemote which help me to define a method running remotely explicitly. Also, from your advice, I modified your code to treat configuration file as regular Xml file. It works great. Yet, there is one minor thing in my RunRemote attribute. I have to pass in constant string as parameter. Attribute does not allow me to define the parameter from a variable. In other words, I&nbsp;have to hard coded the link inside client code. I would try to&nbsp;read the neccessary information from configuration file in attribute class itself instead of passing manually. Hope it will solve the&nbsp;issue. But by the way, thank&nbsp;you for your suggestion. I didn't know that ConfigurationManager&nbsp;cached the values. I'm so newbie.</P>
<P>Best regards,</P>
<P>Dang Tran&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
