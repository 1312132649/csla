<html><header><title>Binding WPF Page to Csla Object</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Binding WPF Page to Csla Object</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8546.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>GreggR posted on Wednesday, February 17, 2010</h2><p>Writting a WPF Browser Application.&nbsp; Is there an example on how to bind a xaml page to a csla object?&nbsp; I am guessing I need to use the new Csla.Xaml?&nbsp; Below is a code snippet from my page.&nbsp; I am getting an &quot;Unable to load the metadata for assembly &#39;Csla.Xaml&#39;....&nbsp; Could not load file or assembly &#39;Csla.Xaml&#39; Version=4.0.0.0 ....&nbsp;or one of its dependencies.&nbsp; Operation is not supported&quot; error.&nbsp; Along with a &quot;type &#39;csla.CslaDataProvider&#39; was not found&quot; error, of course.&nbsp; I am running VS2010 Release Candidate on XP.&nbsp; Referenced the Csla.Xaml and Csla 4.0 dlls from the Client directory&nbsp;in my WPF project.</p>
<p>My try at binding code:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"><font face="Consolas" size="2"><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></span>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;">xmlns</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">:</span></span></span><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;">csla</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">=&quot;clr-namespace:Csla.Xaml;assembly=Csla.Xaml&quot;</span></span></span>
<p><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"> <font face="Consolas" size="2"><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></span></p>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;">xmlns</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">:</span></span></span><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;">PCA</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">=&quot;clr-namespace:PCA.Library;assembly=PCA.Library&quot;&gt;</span></span></span><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><font face="Consolas" size="2" color="#a31515"><font face="Consolas" size="2" color="#a31515"><font face="Consolas" size="2" color="#a31515">
<p>&nbsp;</p>
</font></font></font></span><font face="Consolas" size="2" color="#a31515"><font face="Consolas" size="2" color="#a31515">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="2" color="#a31515">
<p>&nbsp;</p>
</font></span>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">&lt;</span></span></span><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;">Page.Resources</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">&gt;</span></span></span><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><font face="Consolas" size="2" color="#a31515"><font face="Consolas" size="2" color="#a31515"><font face="Consolas" size="2" color="#a31515">
<p>&nbsp;</p>
</font></font></font></span><font face="Consolas" size="2" color="#a31515"><font face="Consolas" size="2" color="#a31515">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="2" color="#a31515">
<p>&nbsp;</p>
</font></span>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">&lt;</span></span></span><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;">csla</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">:</span></span></span><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;">CslaDataProvider</span></span></span><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"> x</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">:</span></span></span><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;">Key</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">=&quot;Facility&quot;</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"><font face="Consolas" size="2"><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></span>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;">ObjectType</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">=&quot;{</span></span></span><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;">x</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">:</span></span></span><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;">Type</span></span></span><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"> PCA</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">:</span></span></span><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;">Facility</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">}&quot;</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"><font face="Consolas" size="2"><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></span>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;">FactoryMethod</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">=&quot;GetFacility&quot;</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"><font face="Consolas" size="2"><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></span>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;">IsAsynchronous</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">=&quot;False&quot;</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"><font face="Consolas" size="2"><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></span>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;">IsInitialLoadEnabled</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">=&quot;False&quot;</span></span></span><span style="font-family:Consolas;font-size:x-small;"><span style="font-family:Consolas;font-size:x-small;"><font face="Consolas" size="2"><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="2">
<p>&nbsp;</p>
</font></span>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;"><span style="font-family:Consolas;color:#ff0000;font-size:x-small;">ManageObjectLifetime</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">=&quot;True&quot;&gt;</span></span></span><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><font face="Consolas" size="2" color="#a31515"><font face="Consolas" size="2" color="#a31515"><font face="Consolas" size="2" color="#a31515">
<p>&nbsp;</p>
</font></font></font></span><font face="Consolas" size="2" color="#a31515"><font face="Consolas" size="2" color="#a31515">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="2" color="#a31515">
<p>&nbsp;</p>
</font></span>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">&lt;/</span></span></span><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;">csla</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">:</span></span></span><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;">CslaDataProvider</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">&gt;</span></span></span><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><font face="Consolas" size="2" color="#a31515"><font face="Consolas" size="2" color="#a31515"><font face="Consolas" size="2" color="#a31515">
<p>&nbsp;</p>
</font></font></font></span><font face="Consolas" size="2" color="#a31515"><font face="Consolas" size="2" color="#a31515">
<p>&nbsp;</p>
</font></font></span><font face="Consolas" size="2" color="#a31515">
<p>&nbsp;</p>
</font></span>
<p>&nbsp;</p>
<span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">&lt;/</span></span></span><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;"><span style="font-family:Consolas;color:#a31515;font-size:x-small;">Page.Resources</span></span></span><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;"><span style="font-family:Consolas;color:#0000ff;font-size:x-small;">&gt;</span></span></span></p>
</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Peer replied on Wednesday, February 17, 2010</h2><p>Hi Gregg,</p>
<p>I&#39;m learning Xaml for Silverlight&nbsp; and Csla myself and I had (still have) a great help by watching the Video serie from Rocky. It explains how to set up a Silverlight project and spread the logic over the different projects. I Spend over 2 months now and stepped&nbsp;in about every pitfall there is, and there are many...<br /><br />Just keep reading and trying...</p>
<p>Succes!<br />&nbsp;Peer</p>
<p>P.S.: Maybe it helps when you remove the&nbsp;blank lines in your codesample ;)</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, February 17, 2010</h2><p>I don&#39;t think he&#39;s talking about SL though, its a <a href="http://msdn.microsoft.com/en-us/library/aa970060.aspx">Xaml Browser Application</a>.&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, February 17, 2010</h2><p>Xaml browser apps are a real pain. It is like Microsoft decided to take the worst of the web and shoehorn it into the (otherwise nice) WPF world.</p>
<p>Most notably, they went to great pains to simulate the Alzheimers suffered by the web in WPF - so it is nearly impossible to maintain any state from page to page. Really amazingly poor if you ask me.</p>
<p>This messes with all sorts of CSLA stuff, because you can&#39;t keep any objects alive from page to page. </p>
<p>And they mess with the thread principal, so it is hard (impossible?) to use a custom principal. That&#39;s not really a CSLA issue, but it blocks entire classes of application.</p>
<p>When I was writing the 2008 book I was going to use Xaml browser apps as my WPF example - but the entire model was so ill-considered that I abandoned it and never looked back.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Peer replied on Thursday, February 18, 2010</h2><p>Oops , Sorry .&nbsp;Thanks Andy for the link, wasn&#39;t&nbsp;&nbsp;aware of &nbsp;that type of applications.</p>
<p>Peer</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Wednesday, February 17, 2010</h2><p>I guess I could be more constructive...</p>
<p>Binding to a CSLA object in a single Xaml browser app page is the same as binding to an object in a normal WPF form or usercontrol. It all works the same way.Create the object as a resource, or create a viewmodel as a resource or create a data provider as a resource - then bind the UI to that resource.</p>
<p>You just need to be aware that you can&#39;t preserve anything from page to page - and I never did figure out how to make the back button actually work - because it navigates back to a previous page - but the underlying objects behind that page are then gone - so binding is all messed up. The lack of navigation events was a serious roadblock - I couldn&#39;t figure out how to trigger re-loading of the objects (not that re-loading is ideal, but what else are you going to do?).</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>GreggR replied on Wednesday, February 17, 2010</h2><p>Thank you for the reply.&nbsp; I was able to bind to the object and my data is saving, but I&#39;m still having some trouble implementing the CslaDataProvider (would like to for the error handling if nothing else).</p>
<p>Your first reply raises a bigger question.&nbsp; What would you recommend for an internet accessible application?&nbsp; Would I be better off using WPF forms, web services, with a click once deploy?&nbsp; What about Silverlight?&nbsp; I am at the beginning stages of this project and want to make sure I&#39;m heading in the right direction.</p>
<p>One more, unrelated question.&nbsp; We have another project in the works that is using windows forms.&nbsp; You have hinted that Microsoft is steering away from windows forms.&nbsp; How concerned should we be about them dropping support in the near future?&nbsp; Concerned enough to start over with WPF screens instead?</p>
<p>Thanks again for the input.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, February 17, 2010</h2><p>I don&#39;t know why the data provider wouldn&#39;t work. But as I said, I abandoned this UI model in 2007 or so in frustration, so perhaps there are unforeseen issues.</p>
<p>I&#39;d look seriously at Silverlight or ClickOnce as better alternatives. The Seesmic twitter client is a good example of a widely used ClickOnce WPF app. I think Chrome might be too - or at least they emulated the ClickOnce look and feel.</p>
<p>But as I&#39;ve said in other threads, for my part I default to Silverlight and only fall back to WPF/ClickOnce if necessary.</p>
<p>It is clear that Windows Forms is in maintenance mode. Just look at the new features in .NET 4 - oh wait, there aren&#39;t any. Hmm. I guess you see what I mean.</p>
<p>But Microsoft has not announced any end-of-life plans for Windows Forms. And they normally keep things limping along for 10 years after they do announce end-of-life. So it isn&#39;t like there&#39;s a big rush to move off Windows Forms if you are happy with what it does - because it won&#39;t be changing to keep up with the times.</p>
<p>My recommendation is that organizations should be developing migration strategies to shift off Windows Forms over the next 5 years or so. That&#39;s a workable time-horizon, because I suspect in the 5 year timeframe it will start to become more difficult to find developers that are willing to work on Windows Forms. By then everyone will clearly understand it is a legacy technology, and a dead-end career-wise; while today that&#39;s not yet true.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
