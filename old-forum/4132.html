<html><header><title>Note able to clear items in a businesslistbase, getting &quot;Invalid for root objects - use Delete instead.&quot;</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Note able to clear items in a businesslistbase, getting &quot;Invalid for root objects - use Delete instead.&quot;</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4132.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>confern posted on Tuesday, January 08, 2008</h2><P><FONT size=2>I have three classes</FONT></P>
<P><FONT size=2>RequestList : ReadOnlyListBase&lt;RequestList, RequestTaskList&gt;<BR>RequestTaskList : BusinessListBase&lt;RequestTaskList, RequestTask&gt;<BR>RequestTask : BusinessBase&lt;RequestTask&gt;</FONT></P>
<P><FONT size=2>I first load my RequestTaskLists through the RequestList by setting IsReadOnly temoprarily = false.</FONT></P>
<P><FONT size=2>Later on though, I want to take a specific RequestTaskList and clear it out to refresh it's contents with the new db values.&nbsp; I'm doing this for a workflow, so that I can keep up to date information.&nbsp; I have the following code in a refresh method in RequestTaskList</FONT></P>
<P><FONT size=2><FONT color=#0000ff>using</FONT> (<FONT color=#2b91af>SmartSafeDataReader</FONT> dr = <FONT color=#0000ff>new</FONT> <FONT color=#2b91af>SmartSafeDataReader</FONT>(cm.ExecuteReader()))<BR></FONT><FONT size=2>{<BR></FONT><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.ClearItems();<BR></FONT><FONT size=2><FONT color=#0000ff>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while</FONT> (dr.Read())<BR></FONT><FONT size=2><FONT color=#0000ff>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this</FONT>.Add(<FONT color=#0000ff>new</FONT> <FONT color=#2b91af>RequestTask</FONT>(dr)); <FONT color=#008000>// Refresh List<BR></FONT></FONT><FONT size=2>}</FONT></P>
<P><FONT size=2>Unfortunetly, my code is breaking down at the the "this.ClearItems()" line and giving me the "Invalid for root objects - use Delete instead."&nbsp; Note that if I comment out the ClearItems() line my code is still able to add new RequestTasks to the RequestTaskList object.</FONT></P>
<P><FONT size=2>Can anyone offer me some assistance in understanding why I'm unable to use the ClearItems() call here?</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, January 08, 2008</h2>Are you calling MarkAsChild in your RequestTask constructor?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>confern replied on Tuesday, January 08, 2008</h2><P>Thank you.&nbsp; That solved my problem.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
