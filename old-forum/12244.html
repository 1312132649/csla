<html><header><title>csla upgrade questions</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>csla upgrade questions</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12244.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>John Jiang posted on Tuesday, December 03, 2013</h2><p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-size:small;"><span style="font-family:Calibri;">We had an asp.net web application developed in csla (3) with visual studio 2008, aps.net 3.5 C#</span></span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-size:small;"><span style="font-family:Calibri;">Now we want to upgrade it to aps.net 4 or 4.5 with vs2010 or later. </span></span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-size:small;"><span style="font-family:Calibri;">Questions:</span></span></p>
<p class="MsoListParagraph" style="text-indent:-0.25in;margin:0in 0in 0pt 0.5in;"><span style="font-family:Calibri;font-size:small;">1.</span><span style="font-family:&#39;Times New Roman&#39;,&#39;serif&#39;;font-size:7pt;"><span style="font-size-adjust:none;font-stretch:normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:small;"><span style="font-family:Calibri;">Can current csla (3) be able to update directly with vs2010 or later without any changing?</span></span></p>
<p class="MsoListParagraph" style="text-indent:-0.25in;margin:0in 0in 0pt 0.5in;"><span style="font-family:Calibri;font-size:small;">2.</span><span style="font-family:&#39;Times New Roman&#39;,&#39;serif&#39;;font-size:7pt;"><span style="font-size-adjust:none;font-stretch:normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:small;"><span style="font-family:Calibri;">If we want to upgrade to csla 4 or later with vs2010, what needs to be changed? Any instructions?</span></span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-size:small;"><span style="font-family:Calibri;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-size:small;"><span style="font-family:Calibri;">Thanks</span></span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-size:small;"><span style="font-family:Calibri;">John</span></span></p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, December 03, 2013</h2><p>As long as you don&#39;t want to use any of the new features of .NET 4 or 4.5 or the new features of the C# compiler then yes, you should be able to keep using CSLA .NET version 3.0.5.</p>
<p><em>Disclaimer: I haven&#39;t actually _tried_ to do this, but I&#39;ve heard from other people that version 3 will continue to work.</em></p>
<p>The thing is that most people upgrade to newer versions of .NET and/or C# to get access to new features, such as async/await, ASP.NET MVC, etc. And if that&#39;s your goal then you&#39;ll need to use more current versions of CSLA .NET that support these newer platform and language features.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>pat.net replied on Wednesday, December 04, 2013</h2><p>I have a similar issue. My whole solution targets 4.5 but CSLA component remains 3.5. I am not able to login to the application. I&#39;m not able to download CSLA 4.5 from NuGet as it says my framework targets 3.5.&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, December 04, 2013</h2><p>That is because CSLA 4.5 only supports .NET 4.5 and .NET 4.0. </p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RedShiftZ replied on Wednesday, December 11, 2013</h2><p><div style='padding-left: 50px;background-color:silver'><b>JonnyBee<br></b></p>
<p>That is because CSLA 4.5 only supports .NET 4.5. </p>
<div style="clear:both;"></div>
<p></div></p>
<p>Jonny,</p>
<p>Per the download page, http://www.cslanet.com/Download.html 4.5.30 supports .NET 4. Or is the download page wrong?</p>
<p>I need to know which version to use with .Net 4.0. I&#39;m migrating from your 3.6.3 N2 version and targeting .Net 4.0.</p>
<p>I&#39;m also using Winforms UI but those questions will come later after I do some more forum searching...</p>
<p>Thank you,</p>
<p>Jeff Young</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, December 11, 2013</h2><p>Hi,</p>
<p>If you are moving from 3.6 to 4.5 the read my blog post&nbsp;<a href="https://jonnybekkum.wordpress.com/2013/10/07/csla-validationthe-new-nuget-package-in-csla-net-4-5-40/">https://jonnybekkum.wordpress.com/2013/10/07/csla-validationthe-new-nuget-package-in-csla-net-4-5-40/</a>&nbsp;&nbsp;</p>
<p>On the other hand - you should also be able to just change reference to CSLA 3.6.3 (or newer 3.x) for .NET 3.5 and retarget your project to .NET 4.5 or .NET 4.0 and just recompile with hardly any change in your code.&nbsp;</p>
<p>CSLA 3.6.3 N2 has a reference to LinqBridge (to get linq 2 objects in .NET 2.0) that you must make sure to remove from your projects references. And CSLA 3.6.3 N2 is for .NET 2.0 only. If you are on .NET 3.5 the use the official release for .NET 3.5.</p>
<p>And CSLA 4.5 does support both NET 4.5 and .NET 4.0 but you will need to do a fair amount of changes to move your code from v3.6.3 to v4.5.x and all the new features.&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RedShiftZ replied on Wednesday, December 11, 2013</h2><p>Jonny,</p>
<p>Thank you for responding so quickly.</p>
<p>I don&#39;t need the new features yet. I just need to get away from my .Net 2.0 dependency and move it up to .Net 4.0/VS2010. The current code set does no Validation/Business Rules so I don&#39;t have to worry about that yet. </p>
<p>I&#39;m hoping I can swap out 3.6.3 N2 references for .Net 4.5 references and be done for this round. Adding new features to the app can come later.</p>
<p><div style='padding-left: 50px;background-color:silver'><b>JonnyBee<br></b></p>
<p>And CSLA 4.5 does support both NET 4.5 
and .NET 4.0 but you will need to do a fair amount of changes to move 
your code from v3.6.3 to v4.5.x and all the new features.&nbsp;</p>
<p></div></p>
<p>Just the changes described in your blog post? Or are there others?</p>
<p>Jeff</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, December 11, 2013</h2><p>Yes, many others so if you want to go down that road make sure to read the change logs and all breaking changes.</p>
<p>The easiest path for you is to change references to to CSLA 3.x.x for .NET 3.5 and compile existing code for .NET 4.0 or 4.5.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RedShiftZ replied on Wednesday, December 11, 2013</h2><p>Jonny or Rocky,</p>
<p>&nbsp; I have downloaded v4.5.30, built it in VS2013 (Changed target for CSLA.NET4 and CSLA.Windows.NET4 to .Net 4.0 instead of client profile). All went well. Everything built.</p>
<p>replaced the reference in my VS2010 targeting .NET 4.0 (not client profile) app and built. errors indicating csla namespace cannot be found. What did I do wrong? What blindingly obvious thing am I missing?</p>
<p>Thank you,</p>
<p>Jeff</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RedShiftZ replied on Thursday, December 12, 2013</h2><p>I finally got it to build after using nuget to grab all the dependencies. Changed all the Criteria and CommandBase decendants and it builds... yay!</p>
<p>Of course I celebrated too soon...</p>
<p>&quot;An exception of type &#39;System.InvalidCastException&#39; occurred in Csla.dll but was not handled in user code</p>
<p>Additional information: <img src="http://forums.lhotka.net/emoticons/emotion-13.gif" alt="Angel" />Csla.Core.ContextDictionary cannot be cast to <img src="http://forums.lhotka.net/emoticons/emotion-22.gif" alt="Beer" />Csla.Core.ContextDictionary. Type A originates from &#39;Csla.3.6.3, Version=3.6.2.0, Culture=neutral, PublicKeyToken=93be5fdc093e4c30&#39; in the context &#39;Default&#39; at location &#39;C:\Windows\assembly\GAC_MSIL\Csla.3.6.3\3.6.2.0__93be5fdc093e4c30\Csla.3.6.3.dll&#39;. Type B originates from &#39;Csla, Version=4.5.40.0, Culture=neutral, PublicKeyToken=93be5fdc093e4c30&#39; in the context &#39;Default&#39; at location &#39;C:\projects\OHSNational\ProjectManager\v1.5_VS2013test\__Deploy\Debug\Csla.dll&#39;.&quot;</p>
<p>It&#39;s finding&nbsp;the old version in the GAC. I tried adding </p>
<p>&nbsp;<span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">&lt;</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#a31515;"><span style="font-size:x-small;font-family:Consolas;color:#a31515;"><span style="font-size:x-small;font-family:Consolas;color:#a31515;">dependentAssembly</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">&gt;</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">&lt;</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#a31515;"><span style="font-size:x-small;font-family:Consolas;color:#a31515;"><span style="font-size:x-small;font-family:Consolas;color:#a31515;">assemblyIdentity</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"> </span></span></span><span style="font-size:x-small;font-family:Consolas;color:#ff0000;"><span style="font-size:x-small;font-family:Consolas;color:#ff0000;"><span style="font-size:x-small;font-family:Consolas;color:#ff0000;">name</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">=</span></span></span><span style="font-size:x-small;font-family:Consolas;"><span style="font-size:x-small;font-family:Consolas;">&quot;</span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">Csla</span></span></span><span style="font-size:x-small;font-family:Consolas;"><span style="font-size:x-small;font-family:Consolas;">&quot;</span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"> </span></span></span><span style="font-size:x-small;font-family:Consolas;color:#ff0000;"><span style="font-size:x-small;font-family:Consolas;color:#ff0000;"><span style="font-size:x-small;font-family:Consolas;color:#ff0000;">publicKeyToken</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">=</span></span></span><span style="font-size:x-small;font-family:Consolas;"><span style="font-size:x-small;font-family:Consolas;">&quot;</span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">93be5fdc093e4c30</span></span></span></span></span></span><span style="font-size:x-small;font-family:Consolas;"><span style="font-size:x-small;font-family:Consolas;">&quot;</span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"> </span></span></span><span style="font-size:x-small;font-family:Consolas;color:#ff0000;"><span style="font-size:x-small;font-family:Consolas;color:#ff0000;"><span style="font-size:x-small;font-family:Consolas;color:#ff0000;">culture</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">=</span></span></span><span style="font-size:x-small;font-family:Consolas;"><span style="font-size:x-small;font-family:Consolas;">&quot;</span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">neutral</span></span></span><span style="font-size:x-small;font-family:Consolas;"><span style="font-size:x-small;font-family:Consolas;">&quot;</span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"> /&gt;&lt;b</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#a31515;"><span style="font-size:x-small;font-family:Consolas;color:#a31515;"><span style="font-size:x-small;font-family:Consolas;color:#a31515;">indingRedirect</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"> </span></span></span><span style="font-size:x-small;font-family:Consolas;color:#ff0000;"><span style="font-size:x-small;font-family:Consolas;color:#ff0000;"><span style="font-size:x-small;font-family:Consolas;color:#ff0000;">oldVersion</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">=</span></span></span><span style="font-size:x-small;font-family:Consolas;"><span style="font-size:x-small;font-family:Consolas;">&quot;</span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">0.0.0.0-4.5.40.0</span></span></span><span style="font-size:x-small;font-family:Consolas;"><span style="font-size:x-small;font-family:Consolas;">&quot;</span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"> </span></span></span><span style="font-size:x-small;font-family:Consolas;color:#ff0000;"><span style="font-size:x-small;font-family:Consolas;color:#ff0000;"><span style="font-size:x-small;font-family:Consolas;color:#ff0000;">newVersion</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">=</span></span></span><span style="font-size:x-small;font-family:Consolas;"><span style="font-size:x-small;font-family:Consolas;">&quot;</span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">4.5.40.0</span></span></span><span style="font-size:x-small;font-family:Consolas;"><span style="font-size:x-small;font-family:Consolas;">&quot;</span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"> /&gt;&lt;/</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#a31515;"><span style="font-size:x-small;font-family:Consolas;color:#a31515;"><span style="font-size:x-small;font-family:Consolas;color:#a31515;">dependentAssembly</span></span></span><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">&gt;</span></span></span></p>
<p><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;"><span style="font-size:x-small;font-family:Consolas;color:#0000ff;">but the error is the same. Any other way to prevent it from going to the GAC first?</span></span></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>pat.net replied on Monday, December 16, 2013</h2><p>Any luck getting it to work?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Monday, December 16, 2013</h2><p>Do you use N-tier deployment?</p>
<p>I suspect that your Server tier is using CSLA 3.6.3 and your client is &nbsp;upgraded to another version.&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>pat.net replied on Wednesday, January 08, 2014</h2><p>I just found that my app.config file is using .asmx and not .svc. Is there a different approach to make it work in IIS 7&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>pat.net replied on Thursday, January 09, 2014</h2><p>Ok I got the sample application up and running to target 4.5 framework following your steps. The problem is my project is so huge and CSLA is bound in the same application. Thanks for the steps Jonny.&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, December 04, 2013</h2><p>Hi, </p>
<p>If you are using CSLA 3.6 or later (and use RegisterProperty ) in you bunsiness classes you may also look at my blog post on how to use the new Csla.Validation package to ease migration to CSLA 4.5</p>
<p><a href="http://jonnybekkum.wordpress.com/2013/10/07/csla-validationthe-new-nuget-package-in-csla-net-4-5-40/">http://jonnybekkum.wordpress.com/2013/10/07/csla-validationthe-new-nuget-package-in-csla-net-4-5-40/</a></p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>pat.net replied on Wednesday, December 04, 2013</h2><p>Hi Jonny,</p>
<p>Forgive me if this is a simple question. If I want to migrate my project to 4.5 but leave my CSLA as 3.5, is that possible without touching the code? And what CSLA version should I use 3.5 or upgrade to 4.5 to be in par with my 4.5 target framework.&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Wednesday, December 04, 2013</h2><p>Hi,</p>
<p>You basically keep the existing CSLA assembly references and change the target framework on (retarget) all your assemblies to .NET 4.5</p>
<p>It is only when you want to use .NET 4.5 specific support in CSLA (like the new rule enging, async/await support in DataPortal etc) that you need the latest CSLA version.&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>pat.net replied on Monday, December 09, 2013</h2><p>Hi Jonny,</p>
<p>My DAL is built separately and they have used CSLA data portal. I followed your example of compiling all the assemblies to 4.5 and still the same problem. Anyway to make this work, got a deadline.</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Tuesday, December 10, 2013</h2><p>Is the client and server build on the same version of .NET? </p>
<p>Which communication protocol do you use in the DataPortal? (Remoting, <span class="st">ASP.NET Webservice</span>, WCF)</p>
<p>What is the exception you get?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Tuesday, December 10, 2013</h2><p>Just for fun - I downloaded the CSLA 3.0.5 for the download page&nbsp;<a href="http://www.lhotka.net/cslanet/download.aspx">http://www.lhotka.net/cslanet/download.aspx</a>&nbsp;&nbsp;and:&nbsp;</p>
<p>&nbsp;</p>
<ul>
<li>Compiled CSLA 3.0.5 in Visual Studio 2013 and build for .NET 3.5 target</li>
<li>Open ProjectTracker samplein Visual Studio 2013<br />
<ul>
<li>retarget all projects to .NET 4.5&nbsp;</li>
<li>add comment on (or remove) all references to PresentationCFFRasterizer in web.config files</li>
<li>updated connection string in web.config files to use (LocalDB)v11.0 instance and correct path to .mdf files</li>
<li>updated app.config in PtWin to use correct endpoints in services.&nbsp;</li>
<li>and testrun PtWin app with both WcfHost and WebServicesHost just fine!</li>
</ul>
</li>
</ul>
<p>&nbsp;</p>
<p>My changes in PtWin app.config:</p>
<pre style="font-family:Consolas;font-size:13;color:black;background:white;"><span style="color:blue;">&nbsp;&nbsp;&lt;</span><span style="color:#a31515;">appSettings</span><span style="color:blue;">&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span style="color:#a31515;">add</span><span style="color:blue;">&nbsp;</span><span style="color:red;">key</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">CslaAuthentication</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">value</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">Csla</span>&quot;<span style="color:blue;">/&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--</span><span style="color:green;">&lt;add&nbsp;key=&quot;CslaDataPortalProxy&quot;&nbsp;</span>
<span style="color:green;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value=&quot;Csla.DataPortalClient.RemotingProxy,&nbsp;Csla&quot;/&gt;</span>
<span style="color:green;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;add&nbsp;key=&quot;CslaDataPortalUrl&quot;&nbsp;</span>
<span style="color:green;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value=&quot;http://localhost:3187/RemotingPortal.rem&quot;/&gt;</span><span style="color:blue;">--&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--</span><span style="color:green;">&lt;add&nbsp;key=&quot;CslaDataPortalProxy&quot;&nbsp;</span>
<span style="color:green;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value=&quot;Csla.DataPortalClient.WebServicesProxy,&nbsp;Csla&quot;/&gt;</span>
<span style="color:green;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;add&nbsp;key=&quot;CslaDataPortalUrl&quot;&nbsp;</span>
<span style="color:green;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value=&quot;http://localhost:4334/WebServicePortal.asmx&quot;/&gt;</span><span style="color:blue;">--&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--</span><span style="color:green;">&lt;add&nbsp;key=&quot;CslaDataPortalProxy&quot;&nbsp;</span>
<span style="color:green;">			&nbsp;value=&quot;EnterpriseServicesHost.EnterpriseServicesProxy,&nbsp;EnterpriseServicesHostcs&quot;/&gt;</span><span style="color:blue;">--&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span style="color:#a31515;">add</span><span style="color:blue;">&nbsp;</span><span style="color:red;">key</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">CslaDataPortalProxy</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">value</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">Csla.DataPortalClient.WcfProxy,&nbsp;Csla</span>&quot;<span style="color:blue;">/&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&lt;/</span><span style="color:#a31515;">appSettings</span><span style="color:blue;">&gt;</span>
 
<span style="color:blue;">&nbsp; &lt;</span><span style="color:#a31515;">system.serviceModel</span><span style="color:blue;">&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&nbsp; &lt;</span><span style="color:#a31515;">client</span><span style="color:blue;">&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span style="color:#a31515;">endpoint</span><span style="color:blue;">&nbsp;</span><span style="color:red;">name</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">WcfDataPortal</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">address</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">http://localhost:3564/WcfPortal.svc</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">binding</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">wsHttpBinding</span>&quot;<span style="color:blue;">&nbsp;</span><span style="color:red;">contract</span><span style="color:blue;">=</span>&quot;<span style="color:blue;">Csla.Server.Hosts.IWcfPortal</span>&quot;<span style="color:blue;">/&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span style="color:#a31515;">client</span><span style="color:blue;">&gt;<br /><br /></span></pre></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>pat.net replied on Wednesday, December 11, 2013</h2><p>Hi Jonny,</p>
<p>I am testing it on my local machine.&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>pat.net replied on Wednesday, December 11, 2013</h2><p>And my stack trace:</p>
<p><span style="font-family:Arial, Helvetica, Geneva, SunSans-Regular, sans-serif;"><code></code></span></p>
<pre>[ArgumentNullException: Value cannot be null.
Parameter name: key]
   System.Collections.Generic.Dictionary`2.FindEntry(TKey key) +14223553
   System.Collections.Generic.Dictionary`2.TryGetValue(TKey key, TValue&amp; value) +20
   Csla.Security.ObjectAuthorizationRules.GetRoles(Type objectType) +122
   Csla.Security.AuthorizationRules.GetAllowEditRoles(Type objectType) +59
   Csla.Security.AuthorizationRules.CanEditObject(Type objectType) +107
   Csla.DataPortal.Execute(Type objectType, Object criteria) +1556
   Csla.DataPortal.Execute(Object criteria, Type type) +90
   ASI.MDW.DataAccessLayer.Core.ExceptionLog.ExecuteCommand(ExceptionLogCriteria&amp; criteria) +220
   ASI.MDW.DataAccessLayer.Core.ExceptionLog.LogException(Exception exception, String ipAddress, String agent, String hostName, String url) +150
   MDW2.ExceptionLog.LogException(Exception ex) in C:\My Projects\DEC 6 MDW Migration\MDW\Classes\ExceptionLog.vb:12
   MDW2.Administration.Controls.Logon.ProcessLogon() in C:\My Projects\DEC 6 MDW Migration\MDW\Administration\Controls\Logon.ascx.vb:347
   MDW2.Administration.Controls.Logon.Submit_Click(Object sender, EventArgs e) in C:\My Projects\DEC 6 MDW Migration\MDW\Administration\Controls\Logon.ascx.vb:285
   System.Web.UI.WebControls.LinkButton.RaisePostBackEvent(String eventArgument) +153
   System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +3804</pre></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
