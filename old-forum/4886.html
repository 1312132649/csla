<html><header><title>Combining AD authentication with database-driven privileges?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Combining AD authentication with database-driven privileges?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4886.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>scott8035 posted on Thursday, May 22, 2008</h2>Greetings. I'm new to CSLA, and I'm having trouble figuring out how to achieve the effect I want for a security role. What I want to do is use AD to authenticate the user/password, but then check for the presence/absence of a row in a table which would grant/deny that user a certain set of privileges. A combination of Windows authentication and application-driven roles. Can anyone point me in the right direction?<br>---scott<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, May 22, 2008</h2><P>You'll need to use custom authentication within CSLA - much like the code in ProjectTracker (create your own custom principal/identity classes).</P>
<P>Then, in your identity class's DataPortal_Fetch() (or perhaps earlier - in the factory method or the principal's Login() method) you will need to validate the supplied user credentials against AD. </P>
<P>Once you are sure the credentials are valid, initializing the identity object should work the same as the example in ProjectTracker.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Monday, May 26, 2008</h2><P>I agree.</P>
<P>I do something similar when a client wants to use Windows IDs for single sign-on. I trap the Windows ID, validate it in a different system and then use the information to log-in behind the scenes and retrieve the roles and permissions from my DB and load them into my custom Principal. From then on I just use the custom Principal&nbsp;in my app as normal.</P>
<P>Joe</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
