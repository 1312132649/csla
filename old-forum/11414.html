<html><header><title>DataPortal.Execute lost client connection scenario</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DataPortal.Execute lost client connection scenario</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11414.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>KevinR posted on Thursday, June 14, 2012</h2><p>I&#39;m a bit confused about something with regard to the client/server connection. </p>
<p>I&#39;m executing a long-running task via a CSLA Command&nbsp;object, with the high probability that the user will close the client application leaving the&nbsp;server executing object orphaned. </p>
<p>What happens in this scenario? When does the server process curl-up its feet and die? Is it possible to detect loss of the client and take some action to maybe continue the processing and serialize the results to be picked up next time the client&nbsp;connects?</p>
<p>OK several questions, hope someone can advise.</p>
<p>Thanks</p>
<p>K</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, June 14, 2012</h2><p>You can&#39;t reliably use a service call to execute a long-running server-side task. The data portal uses service calls to interact with the server, and therefore it also can&#39;t be used to reliably execute such tasks.</p>
<p>What you need to do in any scenario where you want to call a service for a long-running task,&nbsp;is to have the service call start or queue the task, and then to have some agent/daemon on the server actually run the task.</p>
<p>Microsoft has some technologies to help with this, ranging from MSMQ (System.Messaging iirc) to BizTalk Server. Alternately you can write your own Windows Service that watches a queue or database table and executes tasks from the queue/table.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>KevinR replied on Thursday, June 14, 2012</h2><p>Thanks Rocky. Thought I was missing something, but that makes sense.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
