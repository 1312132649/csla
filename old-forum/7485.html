<html><header><title>ASP.NET nested ListView using CSLADataSource</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>ASP.NET nested ListView using CSLADataSource</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7485.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>uwillmore posted on Wednesday, August 19, 2009</h2><P>Hi all!</P>
<P>I have been struggling with this all day and hope you can help me.</P>
<P>I have a nested ListView control on my ASP.NET page and I am trying to load it with a CSLADataSource. The datasource for the outer listView contains the datasource for the inner listView. My outer list is just a list of orders that contains a list of orderItems. Here are the definitions for the lists.</P>
<P><FONT color=#0000ff><FONT size=2><FONT size=2>OrderGroupList</FONT></FONT><FONT size=2> : </FONT><FONT size=2><FONT size=2>ReadOnlyListBase</FONT></FONT><FONT size=2>&lt;</FONT><FONT size=2><FONT size=2>OrderGroupList</FONT></FONT><FONT size=2>,</FONT><FONT size=2><FONT size=2>OrderGroupInfo</FONT></FONT><FONT size=2>&gt;</FONT></FONT></P>
<P><FONT size=2>OrdergroupInfo is the object that contains the data for each orderGroup and it is&nbsp;defined like this:</FONT></P><FONT size=2><FONT color=#2b91af size=2><FONT color=#2b91af size=2>
<P><FONT color=#0000ff>OrderGroupInfo</FONT></FONT></FONT><FONT color=#0000ff><FONT size=2> : </FONT><FONT size=2><FONT size=2>ReadOnlyBase</FONT></FONT><FONT size=2>&lt;</FONT><FONT size=2><FONT size=2>OrderGroupInfo</FONT></FONT><FONT size=2>&gt;</FONT></FONT></P>
<P><FONT color=#0000ff><FONT color=#000000>OrderGroupInfo contains 5 properties on of which is another list: The list of orderItems.</FONT></FONT><FONT color=#000000> This list is defined very similarly:</FONT></P><FONT color=#2b91af size=2><FONT color=#2b91af size=2>
<P><FONT color=#0000ff>OrderItemList</FONT></FONT></FONT><FONT color=#0000ff><FONT size=2> : </FONT><FONT size=2><FONT size=2>ReadOnlyListBase</FONT></FONT><FONT size=2>&lt;</FONT><FONT size=2><FONT size=2>OrderItemList</FONT></FONT><FONT size=2>, </FONT><FONT size=2><FONT size=2>OrderItemInfo&gt;</FONT></FONT></FONT></P><FONT color=#0000ff size=2><FONT color=#0000ff size=2>
<P><FONT color=#000000>and it contains a read-only base object that holds the data for each order item.</FONT> </P>
<P></FONT></FONT><FONT color=#0000ff><FONT size=2><FONT size=2>OrderItemInfo</FONT></FONT><FONT size=2> : </FONT><FONT size=2><FONT size=2>ReadOnlyBase</FONT></FONT><FONT size=2>&lt;</FONT><FONT size=2><FONT size=2>OrderItemInfo</FONT></FONT><FONT size=2>&gt;</P></FONT></FONT><FONT size=2></FONT></FONT>
<P>Of course OrderItemInfo has several properties but I don't think I need to list them to make my point. Anyone familiar with CSLA should recognize what I have outlined so far, I think. So I want to display the nested read-only Lists on an ASP.NET page using nested ListView controls. The code for the listView looks something like this:</P><FONT color=#0000ff size=2><FONT color=#0000ff size=2>
<P><FONT color=#000000>I start the outer list, using a csla DataSource to set the DataSourceID. </FONT></P>
<P>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>asp</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>ListView</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>ID</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="OrderGroupListView"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>ItemPlaceholderID</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="OrderGroupItem"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>runat</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="server"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>DataSourceID</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="OrderGroupsCSLADataSource"&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>LayoutTemplate</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>asp</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>PlaceHolder</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>runat</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="server"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>ID</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="OrderGroupItem"</FONT></FONT><FONT size=2> </FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>/&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>LayoutTemplate</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>ItemTemplate</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2></P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>asp</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Label</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>ID</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="OrderGroupIDLabel"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>runat</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="server"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Visible</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="false"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Text</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>='</FONT></FONT><FONT size=2>&lt;%# Eval("OrderGroupID") %&gt;</FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>'</FONT></FONT><FONT size=2> </FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>/&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>asp</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Label</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>ID</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="GroupTypeIDLabel"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>runat</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="server"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Visible</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="false"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Text</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>='</FONT></FONT><FONT size=2>&lt;%# Eval("GroupTypeID") %&gt;</FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>'</FONT></FONT><FONT size=2> </FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>/&gt;</FONT></FONT><FONT size=2> </P>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>table</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>class</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="dataTable"&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>tr</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>class</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="dataTable"&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>th</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>style</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="</FONT></FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Width</FONT></FONT><FONT size=2>:</FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>15%"&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>nobr</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT><FONT size=2>Order Group:</FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>nobr</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>th</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>td</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>asp</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Label</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>ID</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="GroupTypeLabel"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>runat</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="server"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Text</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>='</FONT></FONT><FONT size=2>&lt;%# Eval("GroupType") %&gt;</FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>'</FONT></FONT><FONT size=2> </FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>/&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>td</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>tr</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>tr</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>td</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>colspan</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="2"&gt;</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#000000>Now before I close the ItemTemplate for the outer list, I start my OrderItems list definition. </FONT></P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>asp</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>ListView</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>ID</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="OrderItemListView"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>ItemPlaceholderID</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="OrderItem"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>runat</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="server"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>DataSourceID</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="???"&gt;</FONT></FONT><FONT size=2>&nbsp;</FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>LayoutTemplate</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>table</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>id</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="itemPlaceholderContainer"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>runat</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="server"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>class</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="dataTable"&gt;</FONT></FONT><FONT size=2> </P>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>tr</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>runat</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="server"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>style</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>=""</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>class</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="dataTable"&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>th</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>runat</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="server"&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>nobr</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT><FONT size=2>Quantity</FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>nobr</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>th</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2>........ And so on, </FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT size=2></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>tr</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>id</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="OrderItem"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>runat</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="server"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>class</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="dataTable"&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>tr</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>table</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>LayoutTemplate</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<FONT color=#a31515 size=2><FONT color=#a31515 size=2>ItemTemplate</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT></P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#0000ff size=2>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>tr</FONT></FONT><FONT color=#000000 size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>class</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="dataTableAlt"&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>td</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>asp</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>Label</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>ID</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="QuantityLabel"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>runat</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>="server"</FONT></FONT><FONT size=2> </FONT><FONT color=#ff0000 size=2><FONT color=#ff0000 size=2>Text</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>='</FONT></FONT><FONT size=2>&lt;%# Eval("OrderItemList.Quantity") %&gt;</FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>'</FONT></FONT><FONT size=2> </FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>/&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>td</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT></P>
<P><FONT size=2><FONT color=#000000 size=2>&nbsp;&nbsp;....... and so on, until we get to the end of the inner list</FONT></FONT></P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<FONT color=#a31515 size=2><FONT color=#a31515 size=2>ItemTemplate</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT></P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>asp</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>ListView</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT></P>
<P><FONT color=#000000>....... but we still need to finish the outer list's template</FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2></P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>td</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>tr</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT><FONT size=2> </P>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>table</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</P></FONT></FONT><FONT size=2>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>ItemTemplate</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT></P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#0000ff size=2>
<P>&lt;/</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>asp</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>:</FONT></FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>ListView</FONT></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>&gt;</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#000000>So the inner list is defined within the item templare of the outer list, really very similar to how the list objects are defined.</FONT> </FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#000000>And now come my questions:</FONT></FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#000000>What do I assign as the DataSourceID for the inner list? I have tried </FONT></FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#0000ff>DataSourceID = OrderGroupsCSLADataSource.OrderItemsList </FONT></FONT></FONT></P>
<P><FONT color=#000000>but the compiler does not like that. I have tried using</FONT> </P>
<P>DataSourceID = OrderGroupsCSLADataSource </P>
<P><FONT color=#000000>and then use</FONT> </P>
<P>Eval ("OrderItemList.Quantity")</P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#000000>in the template but again the compiler complains. </FONT></FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#000000>Of course I would also like to know what the eval call for the templates should look like when I display the data, though I think that will be obvious once I understand what I need to assign to the inner lists dataSourceID. </FONT></FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#0000ff size=2><FONT color=#000000>I have tried using 2 different datasources one for the outer list and one for the inner list, but then I can only get the list to display once. After that, the page never gets refreshed no matter what I do. It finally occured to me that I will have to determine in code&nbsp;which OrderItemList to bind to each inner list, if I use 2 data sources because the .NET framework won't know that there is any relationship between the 2 datasources. I really don't want to do this in code, when I should be able to do this with just one datasource and let the framework handle the rest. </FONT></FONT></FONT></P>
<P><FONT color=#000000>I even went as far as using a SQLDataSource at one time to see if that would work and sure enough, it does. I used the same stored procedure for the SQLDatasource as I use for the CSLA DataSource and the lists displayed just as I wanted them too: Each Order was listed with it's list of order items, before the next Order was listed. That implies that the .NET Framework knows how to handle the nested list if the data bound to the list is nested in the same way. Alas, an SQLDataSource is not what I want to use. Our standards demand we use CSLA DataSOurces whenever possible. </FONT></P>
<P><FONT size=2><FONT size=2><FONT color=#000000>Does anyone here know how to do this using a single CSLA DataSource? </FONT></P></FONT></FONT></FONT></FONT></FONT></FONT><FONT size=2><FONT size=2>
<P><FONT color=#000000>&nbsp;Thanks a bunch for any help you can give me. If you&nbsp;want the complete&nbsp;source code for the ASP page, email me and I will send it to you. It's too lengthy to post.</FONT>&nbsp;&nbsp;</P>
<P><FONT color=#000000>TIA</FONT></P>
<P><FONT color=#000000>URW</FONT></P></FONT></FONT></FONT></FONT></FONT></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xAvailx replied on Thursday, August 20, 2009</h2>I've done this in the past with CSLA classes, but not with the csladatasource. I bind the listview datasource directly to the readonlylist.<br /><br />For the nested data source, try the following syntax:<br /><font face="Lucida Console" size="2"><br />DataSource='&amp;lt;%# Eval(&amp;quot;ChildPropertyContainingList&amp;quot;) %&amp;gt;'<br /></font><br />Then for the items to be bound in the nested source, you can just use the property of the info class.<br /><br />e.g.<br /><font face="Lucida Console" size="2"><br />&amp;lt;%# Eval(&amp;quot;InfoProperty&amp;quot;) %&amp;gt;<br /></font><br />HTH<br /><br />Sorry, can't get the code to format correctly...</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>uwillmore replied on Thursday, August 20, 2009</h2><P>I figured it out about 30 minutes before your email arrived! </P>
<P>I ended up assigning the child data list to the DataSource (not the DataSourceID)&nbsp;of the inner ListView almost exactly like you suggest.&nbsp;Since my child data list is a property of the DataSource for the outer list, I can not assign the inner data source exactly as you suggest&nbsp; and thus the syntax I used looks something like this:</P>
<P>DataSource = '&lt;%#Eval ("OuterDataSource.InnerItemsList")%&gt;' 
<P>(I can't get the formatting to look right either.) 
<P></P>
<P>The code for displaying the properties in InnerItemsList looks exactly like you show in your reply.</P>
<P>I found a pretty good example for nested listViews and other controls that can be nested in an article from the online version of MSDN Magazine. If you are interested you can read the article here: </P>
<P><A href="http://msdn.microsoft.com/en-us/magazine/cc500643.aspx">http://msdn.microsoft.com/en-us/magazine/cc500643.aspx</A></P>
<P>I want to thank you for taking the time to post your answer. I really appreciate that, and hope I can return the favor one day. </P>
<P>Again, thanks for your reply</P>
<P>Sincerely</P>
<P>URW</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
