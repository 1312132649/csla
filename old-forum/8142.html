<html><header><title>Why viewmodel class doesn't has a reference to the view?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Why viewmodel class doesn't has a reference to the view?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8142.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>zhangxijun posted on Monday, December 14, 2009</h2><P>Why viewmodel class doesn't has a reference to the view? In some cases, I need to implement some UI logic in viewmodel class, if it has a reference to the view, then I can manipulate the view directly, but now I have to find another way to do it.</P>
<P>Thanks </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>triplea replied on Monday, December 14, 2009</h2><P>Well if there was a reference to the view then the View and ViewModel would be coupled tightly and it would be no different than having a code behind class.</P>
<P>What kind of UI logic would you implement in the ViewModel? I think you are thinking more with a WinForms frame of mind (nothing wrong there, I also get that and it is difficult to get rid of).</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>zhangxijun replied on Tuesday, December 15, 2009</h2><P>Hi, triplea</P>
<P>Thanks your replay! For example, I need to implement a TCP/IP settings page(like windows TCP/IP property dialog), when use static IP settings, the radio button of automatic retrieve DNS server should be disabled, but when user click radio button of automaticly retrieve IP address, then the radio button of automatic retrieve DNS server should be enabled. I think this should belong UI logics. Where should I implement this logic? In codebehind or in viewmodel?</P>
<P>If the viewmodel should not have a reference to the view instance, then I think it is reasonable that the viewmodel has a reference to the interface of view.</P>
<P>If I want to implement it in viewmodel, then is there a easy to get the view&nbsp;behind the viewmodel?</P>
<P>Maybe CSLA's focus is on the bussesiss logic layer...</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>triplea replied on Tuesday, December 15, 2009</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>zhangxijun:</strong></div><div>
<P>Maybe CSLA's focus is on the bussesiss logic layer...</P>
<P></div></BLOCKQUOTE></P>
<P>Yes most definately. The ViewModel classes are just UI helper classes. CSLA is not a UI framework.</P>
<P>The thing with enabling/disabling elements is that you are thinking in terms of what you would do in WinForms. There you would capture the click event of the radio button and reapply authorization logic on your controls (just one way of doing it of course). I am no WPF expert but you would bind the Enabled properties so that when you make changes on your model, in XAML you would handle UI logic. There are a lot of ways of doing this so I would not attempt to expand. You probably need to play around with this stuff a bit more.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>shawndewet replied on Tuesday, December 15, 2009</h2>In agreement with triplea, you would have to expose appropriate "*Enabled" properties on your viewmodel, and then bind the IsEnabled property of the xaml controls to these properties on the viewmodel.<br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, December 15, 2009</h2><DIV id=ctl00_ctl01_bcr_ctl00___PostRepeater_ctl06_PostViewWrapper class=ForumPostContentText>
<P>If you want a full UI framework, there are several MVVM frameworks out there. CSLA is not a UI framework, it just has the minimum set of functionality to build a decent UI.</P>
<P>But you will find that the MVVM pattern itself says that the viewmodel doesn't reference the view. Such a reference would violate the pattern - so no reputable framework will support that concept, because it is not allowed by the pattern.</P>
<P>The idea is for the viewmodel to expose properties and methods, and to have the view bind to those properties and methods.</P>
<P>If the viewmodel has data that changes frequently, and the data should appear in the view, then the viewmodel should expose that data through properties and raise PropertyChanged when the data has changed.</P></DIV></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
