<html><header><title>CSLA 3.6 Error on CancelEdit()</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA 3.6 Error on CancelEdit()</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5662.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dlabar posted on Thursday, October 23, 2008</h2><P>I just updated my CSLA dll&nbsp;from 3.0.3 to &nbsp;the newest version (3.6.0 Beta 2), and now I'm getting a NullReference exception calling CancelEdit() on a specific object type.</P>
<P>The RaiseListChangedEvents is set to true, and in the Finally Section of the UndoChanges method, the <FONT color=#fefffe><FONT color=#fefffe><FONT color=#000000>OnListChanged call is rsulting in a Csla.LinqBindingList.SourceChanged() call, which is then calling BuildFilterIndex() which is getting a whereExpression value that is null so in this line:</FONT></FONT></FONT></P>
<P><FONT color=#fefffe><FONT color=#fefffe><FONT color=#000000><FONT color=#fefffe><FONT color=#fefffe><FONT color=#000000>Expression</FONT></FONT></FONT><FONT color=#000000>&lt;Func&lt;T</FONT><FONT color=#ffffff><FONT color=#ffffff><FONT color=#000000>,</FONT> </FONT></FONT><FONT color=#0000ff>bool</FONT><FONT color=#000000>&gt;&gt; whereBody = (Expression&lt;Func&lt;T</FONT><FONT color=#ffffff><FONT color=#ffffff><FONT color=#000000>,</FONT> </FONT></FONT><FONT color=#0000ff>bool</FONT><FONT color=#000000>&gt;&gt;)((UnaryExpression)(whereExpression.Arguments[</FONT><FONT color=#ff0000>1</FONT><FONT color=#000000>])).Operand<FONT color=#ffffff size=2><FONT color=#ffffff size=2><FONT size=3>;</FONT></FONT></FONT></FONT></FONT></FONT></FONT></P>
<P><FONT color=#fefffe><FONT color=#fefffe><FONT color=#000000><FONT color=#000000><FONT color=#ffffff size=2><FONT color=#ffffff size=2><FONT color=#000000 size=3>The whereExpression.Arguments[1] throws a null reference exception.&nbsp; Has something changed between these version that I'm missing?</FONT></FONT></FONT></FONT></FONT></FONT></FONT></P>
<P><FONT color=#fefffe><FONT color=#fefffe><FONT color=#000000><FONT color=#000000><FONT color=#ffffff size=2><FONT color=#ffffff size=2><FONT color=#000000 size=3>Any help you can give would be much appreciated.&nbsp; Thanks.</FONT></P></FONT></FONT></FONT></FONT></FONT></FONT><FONT color=#fefffe size=2><FONT color=#fefffe size=2></FONT></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, October 23, 2008</h2><P>Many things have changed between 3.0.x and 3.6 :)</P>
<P>Aaron, who's the primary author of the LINQ to CSLA functionality, is on vacation (probaby enjoying a fine dinner as I type). I'll add a bug entry so he (or I) can look at it in the next week or so.</P>
<P>It may be as simple as adding a null check around that code - I don't know.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dlabar replied on Thursday, October 23, 2008</h2>Thanks.  I'm looking forward to whatever solution you can provide.  I know 3.6 is providing much more support for LINQ.  Is there any example documentation for some of its new features available, or do I have to wait for the 2008 Business Objects book?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, October 23, 2008</h2>You'll have to wait for the book.<br /><br />Rocky<br /><br />-----Original Message-----<br />From: dlabar [mailto:cslanet@lhotka.net] <br />Sent: Thursday, October 23, 2008 12:53 PM<br />To: rocky@lhotka.net<br />Subject: Re: [CSLA .NET] CSLA 3.6 Error on CancelEdit()<br /><br />Thanks.  I'm looking forward to whatever solution you can provide.  I know<br />3.6 is providing much more support for LINQ.  Is there any example<br />documentation for some of its new features available, or do I have to wait<br />for the 2008 Business Objects book?<br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dlabar replied on Monday, November 03, 2008</h2><P>Is there any update on this?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, November 03, 2008</h2>I know Aaron is back from holiday and is catching up on things, but I don't know that he's gotten to this yet. I put a bug into the tracker for this issue, so it shouldn't get lost.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
