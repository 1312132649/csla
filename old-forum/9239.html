<html><header><title>Trying to make custom Identity : CslaIdentity</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Trying to make custom Identity : CslaIdentity</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9239.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>DanB posted on Wednesday, July 21, 2010</h2><p>I&#39;ve had a custom identity working for months now, but I&#39;m trying to implement something new and hitting a wall.</p>
<p>I&#39;ve copied the Roles implementation (backing&nbsp;registration and the property) from CslaIdentity and done nothing but changed Roles to Roles2.</p>
<p>Everything compiles fine, but when I run I get a &quot;type initializer threw an exception&quot; which is apparently happening at the RegisterProperty.&nbsp; This is identical to what the base class is doing, so what&#39;s going on here???</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Wednesday, July 21, 2010</h2><p>Is this CSLA 4? If so you&#39;ll want to subclass CslaIdentityBase&lt;T&gt; to keep the standard property declarations working.</p>
<p>In 3.8 the type has no generic counterpart (nor does CriteriaBase or CommandBase) and so you can&#39;t use the lambda-based property registrations, and you must specify the correct type for the first parameter of the RegisterProperty() calls.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DanB replied on Wednesday, July 21, 2010</h2><p>It&#39;s CSLA 3.8 with SL4.</p>
<p>Not using the lambda registrations.&nbsp; As I said, I literally copied the Roles implementation from CslaIdentity and changed the names, just to try to get something working.&nbsp; It compiles fine, but crashes with the initialization error when I run it.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DanB replied on Wednesday, July 21, 2010</h2><p>OK, I went to the RegisterProperty signature I used in other custom properties and it worked.&nbsp; That was indeed the problem.</p>
<p>Now it makes me wonder how the Roles property&nbsp;registration from CslaIdentity is working though.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
