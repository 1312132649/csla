<html><header><title>SL - DataPortal a Total Success</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>SL - DataPortal a Total Success</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9055.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav posted on Tuesday, June 08, 2010</h2><p>I think that we can all agree that any tool or design pattern we use, after a degree of hard labor and sweat, ought to&nbsp;produce some tangible benefit.&nbsp; I am sorry but I am failing to see that with Csla 3.8.3</p>
<p>After creating a reasonable looking SL project that works like a charm on my development&nbsp;machine, 4 days ago I decided to install it on my web server - those have been four days in hell.&nbsp; I have sought help by posting here but nobody is interested in answering my questions.</p>
<p>I get no errors of any kind, the only thing I know is that none of my DataPortal_xyz methods are even touched in the server code.</p>
<p>I have unzipped the file in the ClientBin and looked at the ServiceReferences.ClientConfig file again and again&nbsp;and it points to the correct website.&nbsp; </p>
<p>I thought may be the amount of data being brought was too much. So I started hacking off one object after&nbsp;another&nbsp; from the graph with no benefit.&nbsp; Finally, my Root object is required to do only one thing - return a string that says &quot;This is all I got&quot; , and on my local machine it does so.&nbsp; But on the server - nothing.</p>
<p>There are no error and no warnings in my solution.&nbsp; </p>
<p>The only thing that may be causing a problem - and I do not know where to go with that - is that about 2 weeks ago I set up compressions per instructions posted by James Thomas.&nbsp; After working with that for a few days, I realized that using the prescribed method I could not take care of three business libraries that I have in my solution, so I backtracked the instructions by removing/undoing everything.&nbsp; I don&#39;t know if that has somehow left behind a residue.which is now causing a problem.</p>
<p>About 2 months ago I installed the project on a windows 2003 server, and worked fine - we were showing the design to the customer.&nbsp; This time, I have tried doing exactly what I did before on windows 2003 and also in a new website on windows 2008.&nbsp; Nothing but Failure.</p>
<p>Jav</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>GregDobbs replied on Tuesday, June 08, 2010</h2><p>Hi, Jav.</p>
<p>I had a similar problem a while back - couldn&#39;t figure out why DataPortal calls weren&#39;t getting to the server side. The solution to that particular episode was that I needed to comment out the line: <br /><br />Csla.DataPortal.ProxyTypeName = &quot;Local&quot; <br /><br />in the Application_Startup method of the SL application. Problem solved! </p>
<p>You may want to look at something along those lines as to what&#39;s causing your issue ... ?</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Tuesday, June 08, 2010</h2><p>Hi Greg, </p>
<p>Thanks for your help. I do not have that line Csla.DataPortal.ProxyTypeName = &quot;Local&quot; anywhere in my SL App.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Tuesday, June 08, 2010</h2><p>You&#39;re obviously very frustrated....</p>
<p>My experience with setting up SL on a Windows Server 2003 machine was that it was pretty painless.&nbsp; I would say, setting up other things on Windows Server 2008 boxes have been more difficult.&nbsp; There are odd new IIS limit settings and various security issues that seem more involved.&nbsp; I haven&#39;t set up a Silverlight app on a 2008 box yet.&nbsp; Maybe someone else can attest to any special considerations that need to be taken.</p>
<p>I don&#39;t quite understand the despair over what&#39;s probably a configuration issue.&nbsp; I feel your pain, I&#39;ve had frustrating glitches that shouldn&#39;t take that long weigh me down too.&nbsp; </p>
<p>But what are you looking for w/ your post?&nbsp; I have to confess I don&#39;t remember seeing specific posts from you about it (I&#39;m sure you made them).&nbsp; Maybe you should include a link to your post(s) in this thread.</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Tuesday, June 08, 2010</h2><p>Hi skagen,</p>
<p>When it comes to computers and software, I have the patience of Gandhi - it is the business deadlines that get me frazzeled.&nbsp; </p>
<p>We were supposed to have a teleconference with the client tomorrow to show our progress and get some feedback and I was dying to show them the great stuff.&nbsp; Luckily, we have had a relationship with this client that goes back a couple of decades.&nbsp; The folks over there were able to calm me down, and now I&#39;m breathing normally again.</p>
<p>I love Csla, can&#39;t see myself writing code without it - except when I&#39;m writing iPhone Apps (Objective C has its own MVC system)</p>
<p>I bought Rocky&#39;s first Business Objects book that came out even before the .Net., and have been his disciple ever since.</p>
<p>Since you asked, here&nbsp;is the the link to my original post</p>
<p><a href="http://forums.lhotka.net/forums/t/9051.aspx">http://forums.lhotka.net/forums/t/9051.aspx</a></p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Tuesday, June 08, 2010</h2><p>Hi Jav</p>
<p>I can sympathise with you - it&#39;s not fun trying to figure this stuff out sometimes, but really I don&#39;t think you can blame CSLA and call it a total failure - there are plenty of us gaining a lot of value from it.</p>
<p>I&#39;m not sure I can help you directly - I&#39;m not running the latest version - but I do my configuration dynamically. I&#39;ll post the details of this below in case it helps. One piece of advice I&#39;d give is that I&#39;ve usually found that problems become much clearer after you fully understand them. Have you tried using Fiddler to see what&#39;s going on?</p>
<p>Anyway, here&#39;s the details of my code:</p>
<p>My ServiceReferences.ClientConfig looks like this:</p>
<p>&lt;configuration&gt;<br />&nbsp; &lt;system.serviceModel&gt;<br />&nbsp;&nbsp;&nbsp; &lt;bindings&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;basicHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;binding name=&quot;BasicHttpBinding_IWcfPortal&quot; receiveTimeout=&quot;10.00:00:00&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sendTimeout=&quot;10.00:00:00&quot; maxBufferSize=&quot;2147483647&quot; maxReceivedMessageSize=&quot;2147483647&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/basicHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/bindings&gt;<br />&nbsp; &lt;/system.serviceModel&gt;<br />&lt;/configuration&gt;<br />&nbsp;</p>
<p>In my App.xaml.cs, at startup I do the following:</p>
<p>private void Application_Startup(object sender, StartupEventArgs e)<br />{<br />&nbsp;bool enableFiddler;<br />&nbsp;bool useCompression;</p>
<p>&nbsp;ExtractStartupParameters(e.InitParams, out enableFiddler, out useCompression);<br />&nbsp;ApplicationUri = GetApplicationUri();<br />&nbsp;ConfigureWcfProxy(enableFiddler, useCompression);</p>
<p>&nbsp;...<br />}</p>
<p>The ExtractStartupParameters pulls various parameters out of the StartupEventArgs.InitParams (which I set up on the ASPX page on the server)</p>
<p>GetApplicationUri is as follows:</p>
<p>private static string GetApplicationUri()<br />{<br />&nbsp;// Dynamically construct the URL<br />&nbsp;var pageUri = HtmlPage.Document.DocumentUri.ToString();</p>
<p>&nbsp;return pageUri;<br />}</p>
<p>Then my ConfigureWcfProxy code is as follows:</p>
<p>private void ConfigureWcfProxy(bool enableFiddler, bool useCompression)<br />{<br />&nbsp;var baseUrl = ApplicationUri.Substring(0, ApplicationUri.LastIndexOf(&quot;/&quot;));<br />&nbsp;if (baseUrl.Contains(&quot;localhost&quot;) &amp;&amp; enableFiddler)<br />&nbsp;{<br />&nbsp;&nbsp;baseUrl = baseUrl.Replace(&quot;localhost&quot;, &quot;127.0.0.1.&quot;);<br />&nbsp;}</p>
<p>&nbsp;var svcName = useCompression ? &quot;CompressedWcfPortal.svc&quot; : &quot;WcfPortal.svc&quot;;</p>
<p>&nbsp;if (useCompression)<br />&nbsp;&nbsp;DataPortal.ProxyTypeName = typeof(Library.Compression.CompressedProxy&lt;&gt;).AssemblyQualifiedName;</p>
<p>&nbsp;if (ApplicationUri.ToLower().Contains(&quot;https:&quot;))<br />&nbsp;{<br />&nbsp;&nbsp;var binding = new BasicHttpBinding(BasicHttpSecurityMode.Transport);<br />&nbsp;&nbsp;binding.MaxBufferSize = int.MaxValue;<br />&nbsp;&nbsp;binding.MaxReceivedMessageSize = int.MaxValue;<br />&nbsp;&nbsp;binding.ReceiveTimeout = TimeSpan.FromMinutes(10);<br />&nbsp;&nbsp;binding.SendTimeout = TimeSpan.FromMinutes(10);<br />&nbsp;&nbsp;binding.OpenTimeout = TimeSpan.FromMinutes(10);</p>
<p>&nbsp;&nbsp;WcfProxy.DefaultBinding = binding;<br />&nbsp;}<br />&nbsp;WcfProxy.DefaultUrl = baseUrl + &quot;/&quot; + svcName;<br />}</p>
<p>Obviously, Library.Compression.CompressedProxy is where I&#39;ve put the code for the compressed proxy.</p>
<p>Hopefully some of the above code will help you. For me, it works fine whether in development or deployed - I don&#39;t need to change anything.</p>
<p>Cheers...</p>
<p>Craig</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Tuesday, June 08, 2010</h2><p>Hi Craig,</p>
<p>Thank you for all your suggestions.&nbsp; It is going to take some time for me absorb all of it.&nbsp; I have printed out your post and would go over it carefully.</p>
<p>One question about ServiceReferences.ClientConfig.&nbsp; All the samples and the code from Rocky&#39;s demos have an EndPoint which I don&#39;t see in your the code in your post.&nbsp; Is that not needed?&nbsp; Mine looks like the following:</p>
<p>&lt;configuration&gt;<br />&nbsp;&nbsp;&nbsp; &lt;system.serviceModel&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;bindings&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;basicHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;binding name=&quot;BasicHttpBinding_IWcfPortal&quot; maxBufferSize=&quot;40000000&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxReceivedMessageSize=&quot;40000000&quot; receiveTimeout=&quot;00:10:00&quot; <br />&nbsp;&nbsp;&nbsp;sendTimeout=&quot;00:10:00&quot; openTimeout=&quot;00:10:00&quot; closeTimeout=&quot;00:10:00&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/binding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/basicHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/bindings&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;client&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;endpoint address=&quot;<a href="http://localhost/WcfPortal.svc">http://localhost/WcfPortal.svc</a>&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binding=&quot;basicHttpBinding&quot; bindingConfiguration=&quot;BasicHttpBinding_IWcfPortal&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contract=&quot;Csla.WcfPortal.IWcfPortal&quot; name=&quot;BasicHttpBinding_IWcfPortal&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/client&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/system.serviceModel&gt;<br />&lt;/configuration&gt;</p>
<p>It is the endpoint address that I was referring to in my post.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Tuesday, June 08, 2010</h2><p>Hi Jav</p>
<p>No, I don&#39;t have the endpoint configuration in my config. It&#39;s been running in development and production (dozens of sites)&nbsp;without it for some time - I believe it&#39;s because of my dynamic configuration, though can&#39;t say for absolutely sure! <img src="http://forums.lhotka.net/emoticons/emotion-1.gif" alt="Smile" /> When I get a moment, I might do some experimentation to find out why.</p>
<p>Good luck!</p>
<p>Craig</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Tuesday, June 08, 2010</h2><p>Aah!&nbsp;&nbsp; Dynamic cofiguration.&nbsp; While searching for answers to my problems yesterday I did come across a post where someone wanted to know how to do a dynamic configuration.&nbsp; Was that you?</p>
<p>I am wondering if my attempt at&nbsp;&quot;implementation&quot; of MVVM has something to with my problem.&nbsp; Last time I installed the project on the server I was using the CslaDataProvider.&nbsp; Now all my interaction with the buiness layer is through the ViewModel.&nbsp; Oh, I hope that&#39;s not it.&nbsp; I was just beginning to get the hang of it.</p>
<p>Javed</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, June 09, 2010</h2><p>Your problem sounds very much like a WCF config issue. Fiddler is a good first step&nbsp;- find out if traffic is even on the wire at all.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Wednesday, June 09, 2010</h2><p>Rocky,</p>
<p>Since I am using ViewModels instead of CslaDataProviders, my problems may be caused by that.&nbsp; Since I had plugged them in after my project was fairly well advanced, I thought that I should try using them on something very basic first.&nbsp; </p>
<p>So this morning I started on a tiny test project with a ViewModel, and after 3 hours I am still trying to make it work even on my local machine.&nbsp; (Strange that my other project appeared to be going along fine!) &nbsp;As a beginner with ViewModels, I am finding your MVVM sample somewhat bewildering.</p>
<p>I am going to post that project in a few minutes under a different topic.&nbsp; Perhaps it can be educational for others like me.</p>
<p>&nbsp;</p>
<p>Larry,</p>
<p>Thank you for your comment. Yes, I know about the ServiceReferences.ClientConfig file&#39;s EndPoint and I have even been checking it the .zap file to make sure it is pointing to me website correctly.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Wednesday, June 09, 2010</h2><p><div style='padding-left: 50px;background-color:silver'><b>Dan Billingsley<br></b>relative inexperience with WCF and&nbsp;IIS 7</div></p>
<p>I can identify with that.&nbsp; Indeed the failure is mine, not of the DataPortal.&nbsp; You and I have been using this old friend for years now.</p>
<p>I do appreciate your suggestions, but more than that your experience of painstaking work to get everything working. I am on it now.&nbsp; I have never used Fiddler.&nbsp; Is that something that you install on the server? (geez, I should be embarrassed to ask that question, wouldn&#39;t you say?)</p>
<p>Thanks Dan.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Wednesday, June 09, 2010</h2><p>Hi Jav Definitely use Fiddler - it&#39;s essentially a proxy that is installed on the client so you can see exactly what traffic is going to your server. And helpfully you can see the errors caused by WCF misconfiguration rather than the not-very-helpful &quot;not found&quot; you usually get.</p>
<p>You can find it via Google, or <a href="http://www.fiddler2.com/fiddler2/">http://www.fiddler2.com/fiddler2/</a></p>
<p>It really will help!</p>
<p>Good luck...</p>
<p>Craig</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Wednesday, June 09, 2010</h2><p>Okay -the Fiddler was exactly what I needed.&nbsp; After a few tries, and after fixing some easily fixed errors, I know appear to up against some security settings in the server.&nbsp; The fiddler stops with 2 lines:</p>
<p>403 HTTP&nbsp; ........ /clientaccesspolicy.xml <br />403 HTTP ........../crossdomain.xml</p>
<p>and then I get a big old window with one good news that my URI was right on target, followed by the bad news that reads like this:</p>
<p>This could be due to attempting to access a service in a cross-domain way without a proper cross-domain policy in place, or a policy that is unsuitable for SOAP services. You may need to contact the owner of the service to publish a cross-domain policy file and to ensure it allows SOAP-related HTTP headers to be sent. This error may also be caused by using internal types in the web service proxy without using the InternalsVisibleToAttribute attribute. Please see the inner exception for more details. ---&gt; System.Security.SecurityException ---&gt; System.Security.SecurityException: Security error.</p>
<p>&nbsp;&nbsp; at System.Net.Browser.BrowserHttpWebRequest.InternalEndGetResponse(IAsyncResult asyncResult)</p>
<p>&nbsp;&nbsp; at System.Net.Browser.BrowserHttpWebRequest.&lt;&gt;c__DisplayClass5.&lt;EndGetResponse&gt;b__4(Object sendState)</p>
<p>&nbsp;&nbsp; at System.Net.Browser.AsyncHelper.&lt;&gt;c__DisplayClass2.&lt;BeginOnUI&gt;b__0(Object sendState)</p>
<p>&nbsp;&nbsp; --- End of inner exception stack trace ---</p>
<p>So it&#39;s that old security trap of some sort again.&nbsp; Says &quot;contact the owner of the service&quot;.&nbsp; That&#39;s funny, &#39;cause that&#39;s me!</p>
<p>So - what do I do now?&nbsp; Look up in my 2300 page book or what!&nbsp; Thanks for the help.&nbsp; I think I&#39;m gett&#39;n there. Just a litlle nudge is all that I need.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Wednesday, June 09, 2010</h2><p>Hmmm... do you have&nbsp;crossdomain.xml and clientaccesspolicy.xml files? You need them and they need to be accessable from your site.</p>
<p>So, in your web browser, what happens when you go to <a href="http://{yoursite}/crossdomain.xml">http://{yoursite}/crossdomain.xml</a> ?</p>
<p>Same for clientaccesspolicy.xml</p>
<p>A 403 is a security-related response I think...</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Wednesday, June 09, 2010</h2><p>Both of those come back with:</p>
<p>404 File or Directory Not Found</p>
<p>All the websites on the server use https:// to gain access.&nbsp; That is how this test site was also configured. But the first message I got was that I was using https:// where http:// was expected.&nbsp; So just for fun I changed the SSL on this particular site off (and also changed my ServiceReferences.ClientConfig) to http:// from https://, and that resulted in this message coming up. (Obviously I cannot explain why I was getting this error message, either)</p>
<p>Also, before I hit the SL App, I have to login, after which I have to select a person from a database to work with before the control jumps to the Silverlight page.&nbsp; All of those steps go just as expected (with or without SSL).&nbsp; The Silverlight controls also get created and everything looks just fine.&nbsp; All that is missing is the information from a database to which all the SL controls DataBind (this database is different from the database from where the Person list was loaded).&nbsp; In fact I can close the error dialog and click the back arrow and I am back at the Person List (Of course the Silverlight App is terminated).</p>
<p>The Permissions on all three databases (Login, person list, and SL DataBind) are exactly the same and are not the issue.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Wednesday, June 09, 2010</h2><p>I&#39;d say completely ignore your databases for now. It&#39;s not getting anywhere near them.</p>
<p>Can you post the exact address you&#39;re seeing the 404 on? Are you absolutely sure this it the base address that the data portal is going to?</p>
<p>Another thing you can try to test whether your WCF service is working is to put its address in the broser - e.g. <a href="http://localhost/{yoursite}/WcfPortal.svc">http://localhost/{yoursite}/WcfPortal.svc</a>&nbsp;Does that come back with a nice page showing the details of the service?</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Wednesday, June 09, 2010</h2><p>It looks like that my Server2008 iis7 does not have the correct MIME to display that page.&nbsp; I get error 404.3. About 6-8 weeks ago I had intalled the same App on a server2003, and it worked just fine.&nbsp; When I typed the same url for WcfPortal.svc in the browser, the 2003 box gave me the proper response telling me all about web services etc. In other words, it worked.&nbsp; I tried to see what MIME types were listed in the iis, but could not&nbsp;find a list - I did find a place where I can add a new mime -&nbsp;but no list.</p>
<p>Back in the 2008 box, the iis gives you a mile long list, but svc is not listed.&nbsp; I saw wsdl listed as text/xml.&nbsp; I searched, briefly, the internet for 404.3 (In fact I came across this error just 2 days ago at the Microsoft website somewhere but I&#39;ll have to search for it)&nbsp; Most of the responses to questions suggested messing with the MIME types.</p>
<p>I tried entering .svc as text/xml, but all it did was to bring me a blank page.&nbsp; So I promptly removed it from the list. With WCF oozing out of Microsoft for years now, is it not amazing.&nbsp; But then again my sense is that the problem may not be related to the absence of .svc in the MIME types.&nbsp; If that was the case we will hear a whole lot about it, probably Rocky would&nbsp;mention it&nbsp;in his book, blog or Video.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Wednesday, June 09, 2010</h2><p>Oh, I forgot.&nbsp; Over the internet the response from the server was a rather rude one liner quoting error 404.&nbsp; I went to the box and typed the Internet (not localhost) address, I got the error with the following message:</p>
<p>HTTP Error 404.3 - Not Found<br />The page you are requesting cannot be served because of the extension configuration. If the page is a script, add a handler. If the file should be downloaded, add a MIME map.</p>
<p>I have the a fat iis book lying here for a few months.&nbsp; May be&nbsp;it is time I made use of it and looked up this configuration thing.&nbsp; If you ask me this configuration stuff is turning into a conflagration. Just kidding.&nbsp; Couldn&#39;t resist. Sorry.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Wednesday, June 09, 2010</h2><p>Hi Jav</p>
<p>I&#39;m not clear whether you&#39;ve got the .svc working yet or not...</p>
<p>But you don&#39;t need to set it up by hand - there&#39;s a tool for that called ServiceModelReg - which sets up the server for WAS and IIS hosting for WCF (something like that anyway <img src="http://forums.lhotka.net/emoticons/emotion-1.gif" alt="Smile" />). It&#39;s documented here: <a href="http://msdn.microsoft.com/en-us/library/ms732012.aspx">http://msdn.microsoft.com/en-us/library/ms732012.aspx</a></p>
<p>Craig</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Wednesday, June 09, 2010</h2><p>Hi Craig,</p>
<p>I have also been researching the issue.&nbsp; I came across this article on msdn which sounds interesting.&nbsp; It&#39;s getting late right now.&nbsp; I&#39;ll read it tomorrow.</p>
<p><a href="http://msdn.microsoft.com/en-us/library/cc197955(v=VS.95).aspx">http://msdn.microsoft.com/en-us/library/cc197955(v=VS.95).aspx</a></p>
<p>Its title is &quot;Making a Service Available Across Domain Boundaries&quot; and one of the headings is &quot;To use a clientaccesspolicy.xml file to allow cross-domain access&quot; - exactly the terms we saw in that Fiddler output. When I saw that, my first response was - get outa heer - really!!!&nbsp;&nbsp; We&#39;ll see if it lives up to its promise.</p>
<p>The other thing I have noticed is the security for Internet zone on the server is tighter than a drum - well it is at the absolute maximun - can&#39;t go any higher. I wonder if that has anything to do with the issue.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Thursday, June 10, 2010</h2><p>Yes, those files are absolutely essential otherwise Silverlight wil refuse to communicate with your service. That could well be your major problem if you don&#39;t have those.</p>
<p>All you have to do is have those files served up by your web server in the root of your app - i.e. the same folder as the WcfPortal.svc file. Just add them in as content files to your web project that&#39;s hosting the service (assuming you&#39;re doing it that way).</p>
<p>The contents of my files are:</p>
<p><strong><span style="text-decoration:underline;">crossdomain.xml:</span></strong></p>
<p>&lt;?xml version=&quot;1.0&quot;?&gt;<br />&lt;!DOCTYPE cross-domain-policy SYSTEM &quot;<a href="http://www.macromedia.com/xml/dtds/cross-domain-policy.dtd">http://www.macromedia.com/xml/dtds/cross-domain-policy.dtd</a>&quot;&gt;<br />&lt;cross-domain-policy&gt;<br />&nbsp; &lt;allow-http-request-headers-from domain=&quot;*&quot; headers=&quot;*&quot;/&gt;<br />&lt;/cross-domain-policy&gt;&nbsp;</p>
<p><strong><span style="text-decoration:underline;">clientaccesspolity.xml:</span></strong></p>
<p>&nbsp;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;<br />&lt;access-policy&gt;<br />&nbsp; &lt;cross-domain-access&gt;<br />&nbsp;&nbsp;&nbsp; &lt;policy&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;allow-from http-request-headers=&quot;*&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;domain uri=&quot;<a href="http://*&quot;/">http://*&quot;/</a>&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;domain uri=&quot;<a href="https://*&quot;/">https://*&quot;/</a>&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/allow-from&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;grant-to&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;resource path=&quot;/&quot; include-subpaths=&quot;true&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/grant-to&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/policy&gt;<br />&nbsp; &lt;/cross-domain-access&gt;<br />&lt;/access-policy&gt;</p>
<p>&nbsp;</p>
<p>Cheers...</p>
<p>Craig</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Thursday, June 10, 2010</h2><p>Hi Craig,</p>
<p>I have certainly made some progress. Now that I crossdomain and clientaccesspolicy files are there, fiddler is no longer putting up those red lines.&nbsp; Also the Silverlight page load is much smoother, except no data to bind to.</p>
<p>When I sit down at the server box and type the internet address of the site and ask for WcfPortal.svc, I get Error 404, sometimes error 404.03 with the explnation that file is not found.&nbsp; Then just for grins, as Rocky would say, I copied WcfSlPortal from one of his demos to a Flashdrive and placed it into the site.&nbsp;Of course I knew what it will say. &nbsp;I got the same answer - File Not Found.</p>
<p>Very annoying.&nbsp; It&#39;s like asking your kids; Johny where&#39;s Carla&#39;s teddy bear?&nbsp; &quot;I don&#39;t have it&quot;.</p>
<p>I suspect it is one of those MIME thingies.&nbsp; It knows the file is there but the site doesn&#39;t know if it should serve it. Hence the simple answer, I don&#39;t have it.&nbsp; Yesterday I tried entering it but it asks what type it is - I typed text/xml but that is probably not right.&nbsp; May be some will chime in.&nbsp; I know I&#39;m this close. Thanks for all your help man.&nbsp; cheers.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, June 10, 2010</h2><p>It is possible that the .svc extension isn&#39;t routing into ASP.NET on your server. You should check that - and/or use the asp_regiis tool to re-install ASP.NET on the server perhaps.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Thursday, June 10, 2010</h2><p>Hi Rocky,</p>
<p>You must be at the Tech Ed, it&#39;s been so quiet here lately.</p>
<p>How would I check to see if .svc is routing into ASP.NET?</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, June 10, 2010</h2><p>Yes, I&#39;m at Tech Ed this week - on vacation next week so it will be even more quiet from my end.</p>
<p>The dialogs for linking extensions to handlers is different depending on your version of IIS - but it is always lurking there somewhere - in the MIME type dialog for the server and/or web site.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Thursday, June 10, 2010</h2><p>This is a Server 2008 Web Edition.&nbsp; In the Server Manager, under .Net Framework 3.0, there is something called Wcf Activation which was not turned on.&nbsp; I turned it on and re-booted the server.&nbsp; This has not made a difference. </p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Thursday, June 10, 2010</h2><p>Hi Jav</p>
<p>Don&#39;t try to register the .svc extension by hand - you&#39;ll probably get it wrong.</p>
<p>As Rocky pointed out, it&#39;s worth running aspnet_regiis to check that the ASP.NET configuration is correct for the server. The run ServiceModelReg.exe and that will configure the server for WCF - and it will then be able to serve .svc files.</p>
<p>This really should be fairly simple once all the pieces are in place.</p>
<p>Craig</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Thursday, June 10, 2010</h2><p>Windows Server 2008 does not appear to have aspnet_regiis.&nbsp; It does have something called AppCmd.exe and I&#39;ll have ro read up on how to use it. I also do not find a ServiceModelReg as I serch it in the Server.&nbsp; I&#39;ll see what Appcmd has to offer. Thanks.</p>
<p>Jav</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, June 10, 2010</h2><p>The regiis application is part of the .NET SDK - it would be in c:\windows\microsoft.net\frameworks</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Thursday, June 10, 2010</h2><p>I used regiis -i to reinstall Asp.Net, but it has not made a difference.&nbsp; My iis 7 book talks about additional bindings if we are going to be using net.tcp.&nbsp; I didn&#39;t think we are using non-HTTP so that is the only thing (adding bindings for net.tcp) that I have not done.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Thursday, June 10, 2010</h2><p>I am going to get back in the Vidual Studio and go over all of the config stuff, make sure everything is okay there, then clean up and Rebuild.&nbsp; I did the last built early this morning and at the time I had a lot else on my mind.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Thursday, June 10, 2010</h2><p>Well, at least now I have different error message when I try to open WcfPortal.svc file.&nbsp; Previously it was simple File Not Found.&nbsp; Now the message is:</p>
<p>Could not find a base address that matches scheme http for the endpoint with binding BasicHttpBinding. Registered base address schemes are [https,net.tcp].</p>
<p>The website uses SSL.&nbsp; Does that mean I should create bindings for https in the config file.&nbsp; I already tried using the AppCmd.exe to register http and&nbsp;https,&nbsp; The error message has not changed.</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Thursday, June 10, 2010</h2><p>Here is what I have in web.config:</p>
<p>&nbsp; &lt;system.serviceModel&gt;<br />&nbsp;&nbsp;&nbsp; &lt;serviceHostingEnvironment aspNetCompatibilityEnabled=&quot;true&quot; /&gt;<br />&nbsp;&nbsp;&nbsp; &lt;services&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;service behaviorConfiguration=&quot;returnFaults&quot; name=&quot;Csla.Server.Hosts.WcfPortal&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;endpoint binding=&quot;wsHttpBinding&quot; contract=&quot;Csla.Server.Hosts.IWcfPortal&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/service&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;service behaviorConfiguration=&quot;WcfPortalBehavior&quot; name=&quot;Csla.Server.Hosts.Silverlight.WcfPortal&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;endpoint address=&quot;&quot; binding=&quot;basicHttpBinding&quot; bindingConfiguration=&quot;BasicHttpBinding_IWcfPortal&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contract=&quot;Csla.Server.Hosts.Silverlight.IWcfPortal&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;identity&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;dns value=&quot;localhost&quot;/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/identity&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/endpoint&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/service&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/services&gt;<br />&nbsp;&nbsp;&nbsp; &lt;behaviors&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;serviceBehaviors&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;behavior name=&quot;returnFaults&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;serviceDebug includeExceptionDetailInFaults=&quot;true&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/behavior&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;behavior name=&quot;WcfPortalBehavior&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;serviceMetadata httpGetEnabled=&quot;true&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;serviceDebug includeExceptionDetailInFaults=&quot;true&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/behavior&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/serviceBehaviors&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/behaviors&gt;<br />&nbsp;&nbsp;&nbsp; &lt;bindings&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;basicHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;binding name=&quot;BasicHttpBinding_IWcfPortal&quot; closeTimeout=&quot;00:10:00&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; openTimeout=&quot;00:10:00&quot; receiveTimeout=&quot;00:10:00&quot; sendTimeout=&quot;00:10:00&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxBufferPoolSize=&quot;400000000&quot; maxReceivedMessageSize=&quot;400000000&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;readerQuotas maxStringContentLength=&quot;400000000&quot; maxArrayLength=&quot;400000000&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxBytesPerRead=&quot;400000000&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/binding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/basicHttpBinding&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp; &lt;/bindings&gt;<br />&nbsp; &lt;/system.serviceModel&gt;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Thursday, June 10, 2010</h2><p>By turning off the SSL on the website and using http://, I can connect to the WcfPortal.svc and it gives me a civilized message about how I can use svcutil.exe to create this and that and then use the service.&nbsp; Of course, I probably don&#39;t need to go there.</p>
<p>However, after connecting to the website and displaying the silverlight page (which looks just fine as far as the controls are concerned), nothing appears to be brought from the DB for DataBinding.&nbsp; In other words, I am almost there.</p>
<p>In Fiddler output, I see&nbsp;listing for the Login page, then Default.aspx, then Silverlight.js and the&nbsp;last line has the ClientBin.&nbsp; After that all is quiet.&nbsp; I am wondering: Would it help if I install VS on the server and then walk thru the code while connecting using the Internet uri instead of localhost.&nbsp; I have never tried that, so my question is would I be able to create breakpoints.&nbsp; I don&#39;t see why not!</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Thursday, June 10, 2010</h2><p>Sounds like you&#39;re making progress. At this point I&#39;d be using Fiddler to see all the traffic coming from the SL client to your server - you should be able to tell from what what requests are made and what results are being returned.</p>
<p>I would certainly try all this out on HTTP first before complicating things with SSL.</p>
<p>Craig</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Thursday, June 10, 2010</h2><p>Unfortunately Fiddler becomes totally silent once I hit the Silverlight page.&nbsp; The last line in Fiddler is when&nbsp;the excution hits the ClientBin.&nbsp; After that I hear nothing from Fiddler.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Thursday, June 10, 2010</h2><p>I&#39;m a bit confused by this - you said you were seeting traffic in Fiddler that was giving you the error about the clientaccesspolicy.xml and crossdomain.xml files. So therefor the SL app was trying to access a service. Now that you&#39;ve fixed those, you&#39;re no longer seeing that traffic?</p>
<p>The only tip I can give there is to put up a message box in your SL app showing what the address the data portal is trying to talk to - that would be:</p>
<p>&nbsp;</p>
<p>
<p><span style="color:#2b91af;font-size:xx-small;"><span style="color:#2b91af;font-size:xx-small;"><font size="1" color="#2b91af"><font size="1" color="#2b91af">
<p>WcfProxy.</p>
</font></font></span><font size="1" color="#2b91af">
<p>&nbsp;</p>
</font></span>
<p><span style="font-size:xx-small;">DefaultUrl<font size="1">
<p>&nbsp;</p>
</font></span></p>
<p>&nbsp;</p>
&nbsp;Then ensure that that&#39;s correct. There was a version of Fiddler that wouldn&#39;t log traffic going to localhost - you had to use the IP address (127.0.0.1) and put a dot on the end - i.e. 127.0.0.1. to make Fiddler work. But I don&#39;t think that&#39;s your case.</p>
<p>At this stage, I&#39;d say remove all the complications you can - build a very simple ASPX page hosting a new SL app that just makes a call to your service - i.e. loads a business object or list. That should be relatively simple to do, and would isolate you from any other complications that are potentially causing the issue.</p>
<p>Craig</p>
</p>
<p><span style="font-size:xx-small;">&nbsp;</span></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Friday, June 11, 2010</h2><p>I agree that I should start with a very small project and get the plumbing working correctly first.&nbsp; I did install one of Rocky&#39;s demos from video series on the server&nbsp;and it worked fine also.&nbsp; So I think that&nbsp;the server&#39;s WCF configuration is now okay.&nbsp; Difficulty with this kind of a mess&nbsp;that goes on for days is that in trying to do this and do that one ends up with a mess in the project itself with a patch here and a patch there.&nbsp; Pretty soon, the patches become a bigger problem that bugs.</p>
<p>In the early stages I did install the project on a server 2003 box, and it worked like a charm.&nbsp; Assuming that it was going to be &#39;no sweat&#39;, I didn&#39;t bother installing again until now when&nbsp;I have all sorts of things going.</p>
<p>Start with a small project, and plug it on the server regularly,&nbsp;is what I&#39;ll do.&nbsp; Thanks for your help Craig.</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Friday, June 11, 2010</h2><p>You&#39;re welcome.</p>
<p>Deployment is usually a bigger problem than it seems.</p>
<p>So you have it working now?</p>
<p>Craig</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Saturday, June 12, 2010</h2><p>SUCCESS.&nbsp; Hurray. It&#39;s Alive, its alive!&nbsp; </p>
<p>YES!</p>
<p>DataPortal ROCKS!</p>
<p>Jav</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>stuart.bale replied on Sunday, June 13, 2010</h2><p>Jav, </p>
<p>Maybe it&#39;s time to update the title of your post (if at all possible) to &quot;SL - DataPortal a Total Success&quot;?</p>
<p>Have you isolated the cause of the issue, and can you post that for the benefit of others in the future?</p>
<p>Regards,</p>
<p>Stuart</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jav replied on Sunday, June 13, 2010</h2><p>Stuart,</p>
<p>I would love to be able to change the title, but I think only Rocky can do that.&nbsp; I would actually appreciate if he would do just that.&nbsp; This is the&nbsp;third major application I am developing with Csla.&nbsp; I would probably still be struggling with the first if it hadn&#39;t been for Csla.</p>
<p>I would be happy to share some of the things that I have learnt.</p>
<p>1.&nbsp; Make sure your server is properly configured.&nbsp; In Server 2008, you have to take care of two things: a. Make sure ASP.Net is installed properly&nbsp;&nbsp;&nbsp; &nbsp;b. Out of the box, Server 2008 is not ready for WCF, you have to install it.&nbsp; Use the Server Manager, Click Add Feature and install WCF HTTP ( you can also install Non-HTTP) Activation Feature.&nbsp; If you are using non-HTTP protocols, you will need to perform the additional step of updating the website&#39;s bindings by using AppCmd.exe</p>
<p>2.&nbsp; Prepare your App&#39;s configuration carefully.&nbsp; 80% of my headaches were caused by me trying to add a Service References.&nbsp; My troubles went away when I copied a ServiceReferences.ClientConfig file from one the SL Video demos (I used Demo 6), and pasted it into my SL project and all ...Client projects.&nbsp; Then I simply modified the web address in each as needed.&nbsp; Even with that I kept getting occassional compile errors until I deleted every one of those ServiceReferences from my projects, and swore never to touch ServiceReferences again.&nbsp; I also found out, the hard way, that every time you go and create a &quot;ServiceReference&quot;, your web.config gets some lines added to it - which by itself can mess things up.&nbsp; For&nbsp;Web.config - just copy and paste the lines from one of the demos and modify them to suit your purpose.</p>
<p>3.&nbsp; Two absolutely necessary&nbsp;files.&nbsp;They must reside in the root of your website where the WcfPortal.svc file is &nbsp;For more on that use this link that I posted earlier also:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="http://msdn.microsoft.com/en-us/library/cc197955(v=VS.95).aspx"><span style="color:#003399;">http://msdn.microsoft.com/en-us/library/cc197955(v=VS.95).aspx</span></a></p>
<p>Craig posted the contents of these two files above.&nbsp; In the clientaccesspolicy.xml file, to begin with it is probably better to allow both HTTP and HTTPS. I have just been using an asterisk and that has worked fine. (If when you test your WebService (see below), and you keep getting an error about https// or http//, you can bet that the problem is with your clientaccesspolicy.xml.</p>
<p>4.&nbsp; Compiling your App for installation on the server: Make sure all of your ServiceRefeferences.ClientConfig files are pointing to your website address, and pay particular attention to to http:// setting - it&nbsp;is hard to tell it from https://&nbsp; All of these files should be&nbsp;consistent.&nbsp; I never figured out which of these get inserted in the ClientBin zap file, I thought it should be the one in the SL project but I was not sure examining the zap file.</p>
<p>5.&nbsp; I don&#39;t even know why we still have Publish command - it requires FrontPage Extensions which are now obsolete.&nbsp; I just use a Web Deployment Project and simply copy and past into the website, it is just a matter of going from my right elbow to left elbow.&nbsp; Well - not quite - I do have to take a few steps.</p>
<p>6.&nbsp; Before going anywhere else, test your WCF first by&nbsp;using <a href="http://www.yourwebsiteaddress/WcfPortal.svc">http://www.yourwebsiteaddress/WcfPortal.svc</a>&nbsp; What you want to see is a civil, downright polite and respectful message.&nbsp; Anything other than that means you won&#39;t go anywhere - you got some fixin to do.</p>
<p>7. Use Fiddler - it will be a music to your ears.&nbsp;If everything is working smoothly, you should see one or more entries in the Fiddler output showing WcfPortal in the line.&nbsp; When there is database access you should see the number of bytes - initially -1 and then jumping to the actual value as the asynch operation is doing it magic.</p>
<p>Well that&#39;s all I got.&nbsp; Have fun</p>
<p>Jav</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Larry replied on Wednesday, June 09, 2010</h2><p>Jav,</p>
<p>In your ServiceReferences.ClientConfig file you do need the endpoint address unless you are using some dynamic config method. In your post you show localhost in the endpoint address and that is fine for the development machine but make sure it is the correct address for the target production system. You could try substituting the actual IP address instead of &quot;localhost&quot; for the endpoint config.</p>
<p>Larry</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
