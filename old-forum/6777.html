<html><header><title>Why is Initialize not called from OnDeserializedHandler?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Why is Initialize not called from OnDeserializedHandler?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6777.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoshL posted on Sunday, April 12, 2009</h2>According to the code comment, Csla.Core.Initialize "allows subclass to initialize events before any other activity occurs". It is called from the constructor of BusinessBase, before any initialization of business rules or authorization rules. However, it is not called on deserialize of the object. Why is this?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Sunday, April 12, 2009</h2>You should override OnDeserialized() to do any event rehooking and so forth.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoshL replied on Monday, April 13, 2009</h2>I understand that, but don't understand what the point of Initialize is in that case.<br /><br />Implementing OnDeserliazed for the same functionality as Initialize is inconsistent: Initialize runs _before_ CSLA's initialization on constructor, but OnDeserialized runs _after_ CSLA's initialization. There is no way to run initialization logic _before_ OnDeserialized.<br /><br />If I need to override OnDeserialized anyways, why not simply implement the custom event hooking in the constructor of the descendant class, in order to keep the timing consistent?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, April 13, 2009</h2>Semantically they aren't necessarily the same.<br /><br />Initialize() exists so you can initialize elements of your object when it is<br />first created.<br /><br />OnDeserialized() exists so you can reset elements of your object after it<br />has been deserialized.<br /><br />Some elements of your object may need initialization only. Others may need<br />to be reset on deserialization only. Others may need both.<br /><br />So I don't necessarily disagree with the concept of an "OnDeserializing()"<br />method - though it would still technically run after deserialization is<br />complete (because we don't control that - deserialization is purely a .NET<br />thing). But this is still not the same semantic operation as initializing a<br />new object instance.<br /><br />What is your scenario where you need to reset elements of your object after<br />deserialization, but before CSLA restores values like the Parent property,<br />etc?<br /><br />Rocky</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
