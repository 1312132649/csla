<html><header><title>How to use overloaded static properties</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to use overloaded static properties</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5964.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>esteban404 posted on Tuesday, December 09, 2008</h2>I'm writing a 3.0.4 WinForm project and have one of those use cases where sometimes the object is editable by everyone, sometimes it's not. It all depends on a status in the order and the user's credentials.<br /><br />I've created an overload like this:<br />public static bool CanEditObject(string status)<br />{<br />    if (CanEditObject())<br />    {<br />        // These roles can edit even if not status 'I'<br />        if (ApplicationContext.User.IsInRole("Quality")<br />            || ApplicationContext.User.IsInRole("Admin")<br />            || ApplicationContext.User.IsInRole("Eng"))<br />            return true;<br />        else<br />        {<br />	    // Must be in Status 'I' for this user to edit<br />            if (status.ToUpper().Equals("I") &amp;&amp; ApplicationContext.User.IsInRole("Prod"))<br />            {<br />                return true;<br />            }<br />            else<br />                return false;<br />        }<br />    }<br />    else<br />        return false;<br />}<br /><br />When the objects are read from the db, I'm also retrieving the status value into the object. Within the above overload, I can check it and deny/grant access to the object. This seems to fly in the face of friendly design as there's nothing to let the user know they cannot edit the record until they attempt to do so.<br /><br />Is this the correct approach and just add a field to the object for use in the UI to colorize the row? (GridViews) I should call this to set the field when fetched, probably. I've read all the posts on authorization rules and this is a type rule AFAIK and they will only work with one order at a time in the app, but there is the potential for dozens of records each could be editable.<br /><br />My first CSLA project in a long while. I'm rusty.<br /><br />Thanks,<br />_E</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
