<html><header><title>DataMapper.Map Ignore List</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DataMapper.Map Ignore List</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7477.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>GregP posted on Tuesday, August 18, 2009</h2><P>DataMapper.Map is designed so that the ignore list is applied to the properties in the source object which means that it iterates all properties in the source object. That just seems backwards to me. The goal is to place data into the target object so it seems that the ignore list should identify properties in the target that you don't want set. It seems like this gives the following advantages:</P>
<OL>
<LI>It allows you to use a much wider source object (e.g. DTO) than target (e.g. business object) without having to come up with a large ignore list.</LI>
<LI>When the width of the source is greater than the target, the Map function only interates over the target properties, which are the only candidates to be mapped anyway.</LI>
<LI>It would make it easier to use a single DTO representing the entire width of a DB table to populate a variety of info objects of different widths because no (or very small) ignore lists would be needed.</LI></OL>
<P>So instead of this line in DataMapper.Map:</P>
<P><FONT size=2><FONT color=#0000ff><FONT color=#0000ff>&nbsp;&nbsp;&nbsp; foreach</FONT></FONT> (<FONT color=#0000ff><FONT color=#0000ff>var</FONT></FONT> propertyName <FONT color=#0000ff><FONT color=#0000ff>in</FONT></FONT> GetPropertyNames(source.GetType()))</FONT></P>
<P>we would have:</P><FONT size=1>
<P></FONT><FONT size=2><FONT color=#0000ff><FONT color=#0000ff>&nbsp;&nbsp;&nbsp; foreach</FONT></FONT> (<FONT color=#0000ff><FONT color=#0000ff>var</FONT></FONT> propertyName <FONT color=#0000ff><FONT color=#0000ff>in</FONT></FONT> GetPropertyNames(target.GetType()))</FONT></P>
<P>So my question is: Why is this implemented to iterate over the properties in the source and, hence, require an ignore list based on the source? I think about it in the opposite way - what am I missing here?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, August 20, 2009</h2><P>The ignore list is a blunt instrument no matter how you look at it. If you want finer control over the mapping, then create a DataMap object to directly control the mapping.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
