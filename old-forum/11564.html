<html><header><title>Deploying ASP.NET MVC 4 / csla.net app to Windows Azure</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Deploying ASP.NET MVC 4 / csla.net app to Windows Azure</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11564.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Chris posted on Tuesday, September 04, 2012</h2><p>I am currently reading Rocky&#39;s ebook on using csla.net 4 on deploying a dataportal to Windows Azure.&nbsp; But, I am uncertain about something because I am so new to Windows Azure.&nbsp; I understand the instructions on how to deploy a dataportal as a webrole.&nbsp; But, I don&#39;t want to incur any costs that aren&#39;t necessary.&nbsp; I already have one webrole, which is my ASP.NET 4 MVC web site.&nbsp; Do I &quot;have to&quot; deploy the csla.net dataportal as another webrole (and incur additional costs for another instance)?&nbsp; Or, can I deploy the dataportal to my existing webrole somehow?&nbsp; Is there a way to run both my website and the dataportal on my one Azure instance?&nbsp; Please excuse me if I am not asking this question in the right way.</p>
<p>If anyone has any experience with deploying a csla.net based website to Azure could respond, I would greatly appreciate it.&nbsp; Just to re-cap ... I have deployed my ASP.NET MVC 4 website to Windows Azure and my database is deployed to SQL Database (Azure).&nbsp; I am trying to get my dataportal working and I am hoping to find the most economical way to accomplish this task.</p>
<p>Best regards,</p>
<p>Chris</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, September 04, 2012</h2><p>You can deploy your app in a 2-tier or 3-tier deployment.</p>
<p>In a 2-tier deployment your web server will configure the data portal to run in local mode.</p>
<p>In a 3-tier deployment your web server will configure the data portal to communicate with the app server (probably another web role).</p>
<p>These are the same options as deploying to IIS servers hosted by your organization. Azure has no impact on the architectural choices you can make.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Chris replied on Tuesday, September 04, 2012</h2><p>Thank you kindly, Rocky! &nbsp;I decided to configure my app as 2-tier by setting the following config appsettings:</p>
<p>&lt;add key=&quot;CslaDataPortalProxy&quot; value=&quot;Local&quot; /&gt;</p>
<p>&lt;add key=&quot;CslaAutoCloneOnUpdate&quot; value = &quot;false /&gt;</p>
<p>I have no asynchronous work going on and I understand the risk of the second setting. &nbsp;For so many years I&#39;ve used a remote portal that I had actually forgotten how easy it is to configure csla to run as a 2-Tier app.</p>
<p>I&quot;m taking baby steps with Azure and to start off, I think this will be an economical way to deploy.</p>
<p>Best regards,</p>
<p>Chris</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
