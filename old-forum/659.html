<html><header><title>IsDirty not getting set on bound object</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>IsDirty not getting set on bound object</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/659.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>DanEssin posted on Tuesday, July 18, 2006</h2>I have a business object (root) that is connected to a binding source and a number of controls reference the binding source. Some of the controls are combos with lists that are bound to other bo's, some are text boxes and some are text boxes that are populated by clicking buttons on the form that set the Text property of the controls.<br><br>Typing in the textboxes causes IsDirty on the Root BO to become true however, choosing an item in a combo does not and setting the Text property in code does not.<br><br>I don't know enough about the internals of binding to have any idea how to diagnose this problem.<br><br>Any pointers would be appreciated.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, July 18, 2006</h2><P>I don't think combobox controls update the data source until the user tabs out of the control. Just choosing an item doesn't cause the control to emit the data field.</P>
<P>I don't know about the Text property thing - but I'm betting that it isn't putting the value in the object because the SelectedIndex isn't changing, though I don't know for sure.</P>
<P>Your problem isn't that IsDirty isn't being set - it is that the value isn't being emitted from the control back into data binding. ComboBox controls are (imo) a PITA in this regard (as are the calendar and timepicker controls).</P>
<P>To help you debug, you might put Debug.WriteLine() statements in your property set block. Or a debugger breakpoint. Then you can watch to see when (if) the value is sent from the control to the object.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DanEssin replied on Tuesday, July 18, 2006</h2>Thanks for the suggestion. It's pretty clear that the values aren't <br />getting sent to the BO and that it's all the result of how the controls <br />behave. I guess that I'll just have to beat on it some more - or change <br />from MS controls to some others.<br /><br /><br />RockfordLhotka wrote:<br />><br />> I don't think combobox controls update the data source until the user <br />> tabs out of the control. Just choosing an item doesn't cause the <br />> control to emit the data field.<br />><br />> I don't know about the Text property thing - but I'm betting that it <br />> isn't putting the value in the object because the SelectedIndex isn't <br />> changing, though I don't know for sure.<br />><br />> Your problem isn't that IsDirty isn't being set - it is that the value <br />> isn't being emitted from the control back into data binding. ComboBox <br />> controls are (imo) a PITA in this regard (as are the calendar and <br />> timepicker controls).<br />><br />> To help you debug, you might put Debug.WriteLine() statements in your <br />> property set block. Or a debugger breakpoint. Then you can watch to <br />> see when (if) the value is sent from the control to the object.<br />><br />><br />><br />> </div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Michael Hildner replied on Tuesday, July 18, 2006</h2><P>I also ran into setting the .Text property in code didn't work, so I set the text through the business object.</P>
<P>Mike</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DanEssin replied on Tuesday, July 18, 2006</h2>I tried that but it didn't update the screen. How did you avoid that?<br /><br />Thanks,<br />de<br /><br />On Tue, 18 Jul 2006 16:42:31 -0500, "Michael Hildner"<br /> said:<br />> I also ran into setting the .Text property in code didn't work, so I set<br />> the text through the business object.<br />> <br />> Mike<br />> <br />> </div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Michael Hildner replied on Tuesday, July 18, 2006</h2><P>Maybe I just got lucky? I have no idea, but it works. I have code like this:</P>
<P>this._orderHeader.Customer.LastName = "Presley";</P>
<P>_orderHeader is a business object and Customer is a property of the _orderHeader class, which is also a business object. I am setting stuff through the properties, not sure if that would make a difference.</P>
<P>Regards,</P>
<P>Mike</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DanEssin replied on Tuesday, July 18, 2006</h2>I'll try it again. Maybe I'll get lucky too :)<br />Thanks,<br />de<br /><br />On Tue, 18 Jul 2006 17:04:28 -0500, "Michael Hildner"<br /> said:<br />> Maybe I just got lucky? I have no idea, but it works. I have code like<br />> this:<br />> <br />> this._orderHeader.Customer.LastName = "Presley";<br />> <br />> _orderHeader is a business object and Customer is a property of the<br />> _orderHeader class, which is also a business object. I am setting stuff<br />> through the properties, not sure if that would make a difference.<br />> <br />> Regards,<br />> <br />> Mike<br />> <br />> </div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
