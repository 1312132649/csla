<html><header><title>Serializable and nonserializable event handlers</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Serializable and nonserializable event handlers</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11417.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Codelines posted on Thursday, June 14, 2012</h2><p>One thing I haven&#39;t understood in CSLA is the code to add and remove listeners to the framework events where the attribute &quot;NonSerialized&quot; of the listeners is checked and, if the listener is serializable, it is added to a serializable handler. Why would somebody wish to serialize all the listeners to an event that the object being serialized raises? Why not have only nonserializable event handlers variables?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, June 15, 2012</h2><p>In .NET 1.x the BinaryFormatter had some promise to serialize events and/or the objects that handled events. At that time the workarounds to prevent event reference serialization were really awkward and I had long conversations with members of the CLR team that owned serialization.</p>
<p>Based on what I knew then (remember, around 10 years ago or more now), the strategy I followed seemed to be the best approach.</p>
<p>Today I agree with you, and you&#39;ll notice that several newer events simply have nonserializable backing fields for the events. Only the older event declarations from way back when use the older technique of two backing fields.</p>
<p>You could argue that I should go clean up that old code.</p>
<p>Of course you can also argue that code that&#39;s known to work and be stable for 7-12 years shouldn&#39;t be touched, because it would be silly to change such code just for aesthetics.</p>
<p>Thus far I&#39;ve opted for the second viewpoint.</p>
<p>That&#39;s not least because I also think you could argue that the code to support WinForms 1.x data binding isn&#39;t needed anymore either. And that some of the DataSet support is not very meaningful. And a handful of other &#39;features&#39; of CSLA that were relevant in 2002 just don&#39;t matter now.</p>
<p>On the flip side, all that code is known to be stable and has been unchanged for a decade or so. My general feeling is that I&#39;ll get rid of all that stuff when I drop support for Windows Forms - and (for&nbsp;better or worse)&nbsp;that&#39;s not likely to happen any time soon :)</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Codelines replied on Saturday, June 16, 2012</h2><p>Thanks, Rocky.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
