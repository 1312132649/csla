<html><header><title>CSLA with NHibernate and ADO</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA with NHibernate and ADO</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2741.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>burmajam posted on Friday, April 20, 2007</h2><P>Hi all,</P>
<P>I'm using CSLA with ADO for persistance, and I want to try using NHibernate also, as few of you said it can be used successfully. As I have few situations where ORM can't do the job and manual work with ADO can, I'm interested if someone mixed those two approaches with CSLA and how.</P>
<P>Tnx</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rbell replied on Monday, April 23, 2007</h2><P>I have not experienced any issues mixing CSLA classes populated by NHibernate with CSLA classes populated by ADO.NET.&nbsp; Like you, there were a few cases where ADO.NET was a better choice than NHIbernate.</P>
<P>One thing I did was create a simple utility class that returned an ADO.NET connection object using the connection string from the NHibernate configuration.</P>
<P>One downside of mixing the two is maintenance on the classes later on.&nbsp;&nbsp;So I would&nbsp;suggest sticking to one data access architecture as much as possible and make sure to document the exceptions.</P>
<P>I am not sure what your situation is that is causing you to need to use ADO.NET vs NHibernate, but I would also&nbsp;urge you&nbsp;consider to consider all other options before mixing architectures....such as mapping entities to stored proceedures (NHibernate 1.2 supports this).</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rdrunner replied on Monday, April 23, 2007</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>burmajam:</strong></div><div>
<P>Hi all,</P>
<P>I'm using CSLA with ADO for persistance, and I want to try using NHibernate also, as few of you said it can be used successfully. As I have few situations where ORM can't do the job and manual work with ADO can, I'm interested if someone mixed those two approaches with CSLA and how.</P>
<P>Tnx</P>
<P></div></BLOCKQUOTE></P>
<P>&nbsp;</P>
<P>Hello...</P>
<P>You can mix and match the way you like it. To take a closer look at a possible way of moving the DA-Code out of your Business Object, you should watch the DNRTV Episode 60. There Rocky explains the various ways of getting the Data into your BO... (The DeepData Project is covered there)</P>
<P>The DTO Aproach seems best for this mixed Scenario. This will allow you to remove the full DA&nbsp;code from your BO and remain totally transperant. So you can fill your DTO from "any" Datasource and then contruct your BO from those DTO. You basically dont care where the DTO comes from, and you can easily map the fields to the BO once you got it. He also covers how to configure the "Provider" which will return your DTOs with your configuration.</P>
<P>Take a look... It was a good show ;)</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>burmajam replied on Monday, April 23, 2007</h2><P>Hi guys,</P>
<P>Tnx for your answers. I saw that dnrTV show. It was really usefull, but I didn't thought of using DTO as you mentioned for mixing those two. It looks like good idea. I'll watch it again and think about it. </P>
<P>Problem that I've found with NHibernate is mapping one business class&nbsp;to few tables&nbsp;on fetching, while&nbsp;insert and update should write to only one of those tables. It is association table. I don't know how to do it with stored procedures, but honestly I didn't try. I'm just researching posibilities of NHibernate and trying to figure out how could I do some "tricky" things like this with it, becouse ADO.NET does it without problems but NHibernate surelly does have some few really usefull things like CachingLevel 1 and 2, DB independence, distributed transaction support and so on.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DavidDilworth replied on Thursday, May 03, 2007</h2><DIV class=ForumPostContentText id=ctl00_ctl01_bcr_ctl00___PostRepeater_ctl08_PostViewWrapper>
<P><FONT face=Arial size=2>I can (at last) announce that there is now a ProjectTracker.NHibernate example solution on the CSLAcontrib site on CodePlex.</FONT></P>
<P><FONT face=Arial size=2>Can I suggest that all future CSLA / NHibernate questions (especially those related to the ProjectTracker.NHibernate solution) are posted on the CslaContrib forum.</FONT></P>
<P><FONT face=Arial size=2>Thank you all for your patience&nbsp;and support. </FONT></P></DIV></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
