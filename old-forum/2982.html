<html><header><title>AutogenerateColumns=true column reordering problem</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>AutogenerateColumns=true column reordering problem</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2982.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>mcdev posted on Monday, June 04, 2007</h2><P>Hi,</P>
<P>I'm new to CSLA. I am binding my Gridview with a CSLA object. The AutogenerateColumns of GridView is set to true. The columns generated in the gridview are in a different order than the ones specified in my stored proc query. </P>
<P>For e.g.&nbsp;the query might be "select fname,lname,address,phone from employee " .</P>
<P>But the columns generated in the gridview will be in a different sequence (e.g. address,fname,lname,phone). How can I get the same sequence as specified in the query ?</P>
<P>--mcdev</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Monday, June 04, 2007</h2>The autogeneration of columns is in alphabetical order.&nbsp; I am not sure if there is a way around it.&nbsp; You probably have to specify the order of the columns in the designer.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Monday, June 04, 2007</h2>Why don't you use a csladatasource?<br>If you do, it reads all the columns for you and then all you need to do is set the order...<br><br><br>Andr√©s<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>mcdev replied on Tuesday, June 05, 2007</h2><P>We are using CSLADataSource<BR>Here is the code:</P>
<P><FONT color=#006400>//====Container Aspx page ====</FONT><BR>&lt;MyUserControl:MyGrid ID="GC" runat="server" /&gt;<FONT color=#008000> //user control containing GridView</FONT> <BR><FONT color=#008000>//set the DataSourceId="<FONT color=#000000>GridDataSource"</FONT> of&nbsp;the GridVidew in above&nbsp;user control on Page_load</FONT></P>
<P>&lt;csla:CslaDataSource ID="GridDataSource" runat="server" <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TypeName="ProjLib.ProjList, ProjLib" EnableViewState="false" OnSelectObject="GridDataSource_SelectObject" OnDeleteObject = GridDataSource_DeleteObject"&gt;&lt;/csla:CslaDataSource&gt;</P>
<P><FONT color=#006400>//====Projlist.cs file</FONT><FONT color=#006400>====</FONT><BR>public class ProjList : Csla.ReadOnlyListBase&lt;ProjList, ProjLib.ProjInfo&gt;</P>
<P><FONT color=#006400>//In ProjList in the below method I'm calling the ProjInfo constructor:</FONT></P>
<P>private void ExecuteFetch(SqlConnection cn, FilterCriteria criteria)<BR>{<BR>&nbsp;&nbsp;&nbsp;&nbsp; using (SqlCommand cm = cn.CreateCommand())<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cm.CommandType = CommandType.StoredProcedure;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cm.CommandText = "sp_GetprojList";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cm.Parameters.AddWithValue("@Id", criteria.ProjId);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT color=#008000>//And add other remaining parameters<BR></FONT>&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using (SafeDataReader dr = new SafeDataReader(cm.ExecuteReader()))<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(dr.read())</P>
<P><FONT color=#006400>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//pass on the column data to&nbsp;projinfo constructor</FONT><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ProjLib.ProjInfo info = new ProjLib.ProjInfo(dr.GetInt32("Id"),field2,field3 etc)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<BR>&nbsp;&nbsp;&nbsp;}</P>
<P><FONT color=#006400>//====Projinfo.cs file==== in this file simply initialise the members</FONT><BR>//<STRONG>In projinfo constructor I initialise the private members with the values passed.</STRONG></P>
<P>Now where to set the order explicitly ?? If you mean the order in which am passing the fields in ProjInfo constructor then the columns don't appear in this order.</P>
<P>Can you please shed some light.</P>
<P>Thanks in advance.</P>
<P>--mcdev</P>
<P><BR>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
