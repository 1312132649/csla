<html><header><title>How to Fire a Collection Changed Event on a Business List</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to Fire a Collection Changed Event on a Business List</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12776.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>thaehn posted on Thursday, October 16, 2014</h2><p>I have a Telerik Grid with sum totals on the footer.&nbsp; When a value in a child is changed the Grid does not recalculate the total.&nbsp; The Grid requires a CollectionChanged event.&nbsp; Is there a way to fire the event even though the list really did not change?&nbsp; Here is a code example that doesn&#39;t work because the event is not accessible:</p>
<p>&nbsp;</p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">///</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:green;mso-highlight:white;"> </span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">&lt;summary&gt;</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"></span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">///</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:green;mso-highlight:white;"> The on child changed.</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"></span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;</span><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">///</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:green;mso-highlight:white;"> </span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">&lt;/summary&gt;</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"></span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">///</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:green;mso-highlight:white;"> </span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">&lt;param name=&quot;e&quot;&gt;</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"></span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">///</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:green;mso-highlight:white;"> The event args.</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"></span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">///</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:green;mso-highlight:white;"> </span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">&lt;/param&gt;</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"></span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:blue;mso-highlight:white;">protected</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"> </span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:blue;mso-highlight:white;">override</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"> </span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:blue;mso-highlight:white;">void</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"> OnChildChanged(Csla.Core.</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:#2b91af;mso-highlight:white;">ChildChangedEventArgs</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"> e)</span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:blue;mso-highlight:white;">if</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"> (CollectionChanged != </span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:blue;mso-highlight:white;">null</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;">)</span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>CollectionChanged(</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:blue;mso-highlight:white;">this</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;">, </span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:blue;mso-highlight:white;">new</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"> </span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:#2b91af;mso-highlight:white;">NotifyCollectionChangedEventArgs</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;">(</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:#2b91af;mso-highlight:white;">NotifyCollectionChangedAction</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;">.Replace));</span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p>&nbsp;</p>
<p>Todd</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Friday, October 17, 2014</h2><p>Hi Todd, </p>
<p>Have you tried this: </p>
<pre style="font-family:Consolas;font-size:13;color:black;background:white;"><span style="color:blue;">protected</span>&nbsp;<span style="color:blue;">override</span>&nbsp;<span style="color:blue;">void</span>&nbsp;OnChildChanged(<span style="color:#2b91af;">ChildChangedEventArgs</span>&nbsp;e)
{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:blue;">base</span>.OnCollectionChanged(<span style="color:blue;">new</span>&nbsp;<span style="color:#2b91af;">NotifyCollectionChangedEventArgs</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style="color:#2b91af;">NotifyCollectionChangedAction</span>.Replace,&nbsp;e.ChildObject));
}
</pre></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>thaehn replied on Friday, October 17, 2014</h2><p>Jonny,</p>
<p>That did not work, however, you set me on the right path!&nbsp; I created a method that I call after all the values are changed which looks like this:</p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">///</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:green;mso-highlight:white;"> </span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">&lt;summary&gt;</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"></span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">///</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:green;mso-highlight:white;"> The refresh.</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"></span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">///</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:green;mso-highlight:white;"> </span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:gray;mso-highlight:white;">&lt;/summary&gt;</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"></span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:blue;mso-highlight:white;">public</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"> </span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:blue;mso-highlight:white;">void</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"> Refresh()</span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>OnCollectionChanged(</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:blue;mso-highlight:white;">new</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"> </span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:#2b91af;mso-highlight:white;">NotifyCollectionChangedEventArgs</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;">(</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:#2b91af;mso-highlight:white;">NotifyCollectionChangedAction</span><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;">.Reset));</span></p>
<p style="MARGIN:0in 0in 0pt;LINE-HEIGHT:normal;mso-layout-grid-align:none;" class="MsoNormal"><span style="FONT-SIZE:9.5pt;FONT-FAMILY:Consolas;BACKGROUND:white;COLOR:black;mso-highlight:white;"><span style="mso-spacerun:yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p style="MARGIN:0in 0in 10pt;" class="MsoNormal"><span style="font-size:small;font-family:Calibri;">&nbsp;</span></p>
<p>&nbsp;</p>
<p>Microsoft&#39;s documentation says that &quot;Reset&quot; means the contents of the collection changed dramatically.&nbsp; I have run into this problem several time and had to do some sort of workaround that I didn&#39;t really like such as crating dependencies in the UI by passing in the control from the View&nbsp; to the ViewModel or by creating another property on the ViewModel that passed the property to the Model and raise the collection changed event.&nbsp; This keeps it in the Business Layer which I like better.</p>
<p>Todd</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
