<html><header><title>LoadProperty Null Guid FK </title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>LoadProperty Null Guid FK </h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5843.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>greengumby posted on Thursday, November 20, 2008</h2><FONT size=2>
<P>CSLA : 3.5</P>
<P>Hi,</P>
<P>How do I handle Null Guid Foreign Key's&nbsp; on a BusinessBase Data_Fetch method.</P>
<P>LoadProperty&lt;</FONT><FONT color=#2b91af size=2><FONT color=#2b91af size=2>Guid</FONT></FONT><FONT size=2>, </FONT><FONT color=#2b91af size=2><FONT color=#2b91af size=2>Guid</FONT></FONT><FONT size=2>?&gt;(FKYearProperty, data.FKYear);</FONT></P>
<P><FONT size=2>I keep getting an error,</FONT></P>
<P>DataPortal.Fetch failed (DataPortal.Fetch failed Property load or set failed for property FKState (Null object cannot be converted to a value type.)))</P>
<P>I know its probably something simple but I am new to CSLA.</P>
<P>The Fetch is selecting the data using LINQ </P>
<P>Looking at the generated LINQ source I see this style </P><FONT size=2>
<P>[</FONT><FONT color=#2b91af size=2><FONT color=#2b91af size=2>Column</FONT></FONT><FONT size=2>(Storage=</FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>"_FKYear"</FONT></FONT><FONT size=2>, DbType=</FONT><FONT color=#a31515 size=2><FONT color=#a31515 size=2>"UniqueIdentifier"</FONT></FONT><FONT size=2>)]</P>
<P></FONT><FONT color=#0000ff size=2><FONT color=#0000ff size=2>public</FONT></FONT><FONT size=2> System.</FONT><FONT color=#2b91af size=2><FONT color=#2b91af size=2>Nullable</FONT></FONT><FONT size=2>&lt;System.</FONT><FONT color=#2b91af size=2><FONT color=#2b91af size=2>Guid</FONT></FONT><FONT size=2>&gt; FKYear</FONT></P>
<P>Many thanks for your time and help</P>
<P>Jeremy</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P><FONT size=2>&nbsp;</P></FONT><FONT size=2></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tetranz replied on Friday, November 21, 2008</h2>Hi Jeremy,<br><br>I think your LoadProperty code is wrong.<font size="2"><br><br>LoadProperty&lt;</font><font color="#2b91af" size="2"><font color="#2b91af" size="2">Guid</font></font><font size="2">, </font><font color="#2b91af" size="2"><font color="#2b91af" size="2">Guid</font></font><font size="2">?&gt;(FKYearProperty, data.FKYear);</font><br><p>should be<br></p><font size="2">LoadProperty&lt;</font><font color="#2b91af" size="2"><font color="#2b91af" size="2">Guid</font></font><font size="2">?&gt;(FKYearProperty, data.FKYear);</font><br><br>I use nullables all the time with CSLA managed fields and they seem to work well.<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>greengumby replied on Tuesday, November 25, 2008</h2><P>Thankyou very much. It worked perfectly.</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
