<html><header><title>Undoable object problem (edit level synchronization)</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Undoable object problem (edit level synchronization)</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3924.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>pandelaras posted on Wednesday, November 21, 2007</h2><P>Hello All,</P>
<P>I am working on a Csla project which incudes an Editable&nbsp;root parent Object that contains a child list . Typical project and projectresources situation (from projecttracker sample). I am using a second Form to add Lines to my collection. Removing lines is pretty easy also.I dont have any edit level problems there. The problem is i&nbsp;get an "edit level mismatch in copy state error" when i try to modify the line and keep the object synchronised.</P>
<P>This is what i tried so far. (all of these create the error).&nbsp; Passing the line object to the second form, changing the values there and afterwards</P>
<P>1)&nbsp;copying the values from one object to the other.</P>
<P>2) removing the old object and adding the new one</P>
<P>I did try to applyedit before passing it to the collection and it worked but&nbsp;when i &nbsp;cancelled all changes on the parent object, it caused&nbsp;the changed line to disappear. While removing the line object i use the .removecurrent() method of my bindingsourceobject. Cancelling changes works fine that far. Adding the new line to the list&nbsp;and then cancelling changes cause the new line to dissappear. Am i doing sth totally wrong here?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>pandelaras replied on Thursday, November 22, 2007</h2><P>I believe i found the solution.</P>
<P>My question could be rephrased as " How would u put a change button on a form like Projectracker?"</P>
<P>It seems that when i was passing the child object to the second form i was using the instance reference. What i should be doing was&nbsp;to use the clone method on the current instance and then pass it on. Finally i used a simple method to transfer the values of&nbsp;changed instance to the original one, just to be sure. That worked for me!</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, November 23, 2007</h2>Your only other option is to unbind the child object from the first form, then bind it to the second form. Then unbind it from the second form when that form is closed, and rebind it to the first form.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
