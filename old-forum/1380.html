<html><header><title>Writing the truly &quot;dumb&quot; UI</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Writing the truly &quot;dumb&quot; UI</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1380.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>thomasc@magenic.com posted on Tuesday, October 03, 2006</h2><P>I am following the philosophy of writing a "dumb UI".&nbsp; What do I mean by that?&nbsp; I mean that I'm using the CSLADataSource, and doing using DataBinding all over the place.&nbsp; I am using my Business Objects to validate my data.&nbsp; I am taking the "hit" validating ONLY at the business object level, to reduce the maintenance/cost of ownership&nbsp;of the UI.&nbsp; My UI will be used by a power-user.</P>
<P>Given that, I am attempting to write a FormView control to edit a CSLA Business Object.&nbsp; My formview has nothing but the binding expressions, textboxes, labels and minimalist HTML.&nbsp; I am binding my BrokenRules collection to a DataList Control and handling validation in that way.&nbsp; I am not doing any ASP.NET Validation controls, and would be happy to avoid "double duty" validation, in favor of reducing maintenance/code.</P>
<P>Ran into a problem because I am using the DataMapper to map my form to the CSLA Object.&nbsp; The DataMapper chokes on a field defined as an Int32, because it should be a required field in the UI.&nbsp; I'd like to get the data into Business Object to be validated.&nbsp; If I could, I could at a minimum, write a custom rule.</P>
<P>I was thinking that the datamapper should see string.empty coming in for an property defined as Int32, and default it to 0.&nbsp; Right now, I am thinking I need to run all my e.Values that map to "Int32" fields, and filter them, shoving zero in, before I hand it off to the DataMapper.</P>
<P>-Tom</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>thomasc@magenic.com replied on Tuesday, October 03, 2006</h2><P>Discussed this with another developer, who made a good point.&nbsp; The DataMapper is targeted mostly for the web service proxy stuff.&nbsp; I had seen it used in the webform sample.</P>
<P>My options are to simply wrap it, as suggested by my peer.&nbsp; Alternately, I could just not use the DataMapper.&nbsp; Its targeted for mapping A to B, not validating data, etc.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>vivus replied on Tuesday, October 03, 2006</h2>actually i find the data mapper pretty handy, you can easily map to other objects besides csla, like a custom configuration section.&nbsp; .... you could create a custom property in your csla object to bind to,&nbsp; and let the property filter the incoming values that is being fed to it by the mapper. &nbsp; <br><br>as for the ui.... &nbsp;&nbsp; nothing worse than premature refactoring for preformance reasons or over architeching your solution.&nbsp; besides... from a user's usability perspective... it sucks to have to wait for the page to refresh before validation occurs.&nbsp; <br><br>besides... with csla 2.1 is pressing out rule descriptions&nbsp; (GetRuleDescriptions()) and you can allow for public access to this through your object, you could parse those rules and extend your two way binding controls&nbsp; (GridView, FormView, etc) to create validation on the fly. <br><br>then inside those controls you could check the datasource to see if it has an IDataError and act accordingly <br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
