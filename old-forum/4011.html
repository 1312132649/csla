<html><header><title>Re: Need help with website</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Re: Need help with website</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4011.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ozitraveller posted on Sunday, December 09, 2007</h2><P>Hi</P>
<P>I have&nbsp;4 issues I'm hoping some can help with:</P>
<P>1.&nbsp;I have an Admin subfolder with some admin pages that I can't get access to. I'm using roles the same as Ptracker. I've add roles="Administrator" to the items in the sitemap, so when I logon the the extrage items appear in the menu, and when I logoff they disappear. But when I select an item in admin on the menu I get the logonbox page displaying. I have a web.config file in the admin folder.</P>
<P>&nbsp; &lt;system.web&gt;<BR>&nbsp;&nbsp;&nbsp; &lt;authorization&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;allow roles="Administrator" /&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;deny users="*" /&gt;<BR>&nbsp;&nbsp;&nbsp; &lt;/authorization&gt;<BR>&nbsp; &lt;/system.web&gt;</P>
<P>&nbsp; &lt;location path="Default.aspx"&gt;<BR>&nbsp;&nbsp;&nbsp; &lt;system.web&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;authorization&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;allow roles="Administrator" /&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;deny users="*" /&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/authorization&gt;<BR>&nbsp;&nbsp;&nbsp; &lt;/system.web&gt;<BR>&nbsp; &lt;/location&gt;<BR>&nbsp; <BR>&nbsp; &lt;location path="Downloads.aspx"&gt;<BR>&nbsp;&nbsp;&nbsp; &lt;system.web&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;authorization&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;allow roles="Administrator" /&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;deny users="*" /&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/authorization&gt;<BR>&nbsp;&nbsp;&nbsp; &lt;/system.web&gt;<BR>&nbsp; &lt;/location&gt;</P>
<P>2.&nbsp;Since I have shifted over to using IIS 5.1 from the localhost (casini) I have no code debugging. I seem to have all the right things on.</P>
<P>3.&nbsp;If I have more than 1 datasource on a page do I need items in the session collection? </P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!IsPostBack)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Session["currentObject"] = null;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ApplyAuthorizationRules();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ErrorLabel.Text = string.Empty;</P>
<P>4.&nbsp;&nbsp;&nbsp;Do I need to implement Identity and Principal objects if I only have a few roles?<BR></P>
<P>Thanks</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
