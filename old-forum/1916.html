<html><header><title>Newbie, explanation on BusinessBase</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Newbie, explanation on BusinessBase</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1916.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>edika2000 posted on Thursday, December 07, 2006</h2>Hi all,<br><br>I'm starting now to use the CSLA Framework, and after reading the book I still have a doubt on how to create a class to be used in differents Business classes.<br>Example:<br>I have made a class 'Address' that define a standard address object. The class use the CSLA namespace. The Address class is used by some BusinessBase classes like Man, Woman etc.<br>The question is: the class Address must inherit from businessbase or can be a normal class? In the case could be a normal class must also be Serializable for proper work with CSLA? Otherwise if must inherit from Businessbase how can I make different Dataportal_Insert and Dataportal_Update when is used by each different BusinessBase classes (the tables for the classes Woman and Man on the database are different)?.<br><br>Thanks<br><br>Edika<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dshafer replied on Thursday, December 07, 2006</h2>I'm certainly no expert in using CSLA, but I think I can answer a few of your questions.&nbsp; First off, in my opinion, it would be a bad idea to make your address class a non-CSLA class.&nbsp; There are many reasons for this, but the main reason is that if there is even the slightest chance that your application will be used in any context besides the local one, it will be much more difficult to do so using the dataportal that is built into CSLA.&nbsp; In other words, if you plan on physically separating the layers of&nbsp;your application you will have to manually provide this functionality for your address class.&nbsp; If you do choose to create the address class as a non-CSLA class, marking it as Serializable would be one of the tasks that you'd have to perform to make it useful in a physically n-tiered architecture.&nbsp;&nbsp;The Dataportal_Insert and Dataportal_Update on the address object should not&nbsp;depend on which business object is "using" the address class.&nbsp; By your comment "the tables for the classes woman and man on the database are different" it almost sounds like you are storing that address information inside the man and woman tables.&nbsp; If this is the case, you need to look into normalizing the database so that the address information is stored in a separate table.&nbsp; That way the data access functions in the address class do not need to know anything about the "man" and "woman" tables.&nbsp; For more information on how&nbsp;to&nbsp;implement&nbsp;your business object classes, you should either read the respective chapters in Rocky's book or check out <A href="http://www.onelittlevictory.com/">http://www.onelittlevictory.com/</A>&nbsp;for some examples.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Thursday, December 07, 2006</h2>A couple things here.&nbsp; For starters, strongly consider using a CSLA base class whenever your class:<br><ul><li>interacts with data storage to load or save (database, files, web services, etc)</li><li>has validation rules (name required, name too long, etc.)</li><li>has authorization rules (only xyz may read or write)</li><li>displays information in a user interface</li><li>reverts object changes<br></li><li>other things that I cannot remember at the moment but might edit this post later to add<img src="/emoticons/emotion-5.gif" alt="Wink [;)]" /></li></ul>So for the time being err on the side of using a CSLA base class.<br><br>I am puzzled by your last question.&nbsp; Your Address object only deals with Address data presumably.&nbsp; And if the Address is a child object of Man or Woman, the DataPortal_XYZ methods will not be called on it because the DataPortal only calls a DataPortal_XYZ method on the root object in an object graph.&nbsp; You are then responsible for having the root object call Insert or Update or Delete methods that you add to the child objects.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>edika2000 replied on Monday, December 11, 2006</h2>Thanks dshafer and Brian,<br><br>you've both answer my question, and clear my doubt. I know that the right way for Address object to work is that have an own table on the databse to store his data, but the refactoring of the database is not possible for know. My doubt was about the use of a generic class (really a structure) that is used by many classes just for his generic meaning. I've opted for make it inherit form business base to have the advantage of the validation and authorization rules, but all the Data Access is made by his parent object so the proper table on database is used.<br>Thanks for now.<br><br>Edika<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
