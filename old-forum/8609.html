<html><header><title>Any way to inform the (windows)UI, that validation is undergoing?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Any way to inform the (windows)UI, that validation is undergoing?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8609.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>vschaak posted on Wednesday, March 03, 2010</h2><p>Hi,</p>
<p>let me first express my gratefulnes to all of you guys that are involved in developing CSLA! Once some key concepts (like the child-handling for example) are understood, it makes perfect sense and all seems to be on the right place.</p>
<p>Now to my question: my object (editable root/base)&nbsp;has one property that should be unique. It&#39;s not the ID or primary key in the DB, but has a unique index there. Now I added a supporting commandBase class, that check&#39;s whether this value is unique against the DB. This is called during the validation and works just fine. But how do I inform the UI to show some busy-stuff while processing validating to the users? Actually DB response is quite fast since it returns only a single value, but realtime DB-access tends to slow down things as we know...</p>
<p>Thx for any help</p>
<p>Volker</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, March 03, 2010</h2><p>Is this Wpf, or WinForms?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>vschaak replied on Wednesday, March 03, 2010</h2><p>Hi Andy,</p>
<p>it&#39;s a WinForms App.</p>
<p>Greetings</p>
<p>Volker</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JonnyBee replied on Wednesday, March 03, 2010</h2><p>Hi,</p>
<p>Wouldn&#39;t it be better to run that validation rule (or database llokup) asyncronously and just show an error icon if the rule is broken? </p>
<p>If the rule/command object is running in the UI thread you will not be able to show a reasonable &quot;busy&quot; stuff -&nbsp; the rule or command object must be running on a separate thread to keep the UI responsive. </p>
<p>And also use MarkBusy and MarkIdle (will call OnBusyChanged event&nbsp; that the UI can listen to) and will &quot;lock&quot; the object while validation is running.</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Wednesday, March 03, 2010</h2><p>We do database-level validation for all foreign keys via business rules through out our application. When an object is bound to the UI, the database hits typically only one field at a time, when the user tabs out of the field.&nbsp;I haven&#39;t noticed it being a problem yet.&nbsp;&nbsp;If you are querying a unique key or unique value in an index,&nbsp;the database should respond very quickly, typically in a fraction of a second unless there are&nbsp;locking issues&nbsp;(and in fact round-trip to the server can be almost as long if this is going over&nbsp;a WAN). &nbsp;</p>
<p>If it is a concern, in WinForms you could hook the Validating and Validated Events for the control in question and change the cursor to a wait cursor in the former and restore it in the latter. </p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Wednesday, March 03, 2010</h2><p>We actually created a busy animation control for Windows Forms, with the intent that you could use the object&#39;s IsBusy property to turn it on and off. Since you can&#39;t bind as flexibly in Windows Forms as in Xaml you&#39;ll need to hook the PropertyChanged and ValidationComplete events off the object to see when IsBusy is set one way or the other, but it should be pretty practical.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>vschaak replied on Monday, March 08, 2010</h2><p>Hi all,</p>
<p>thank&#39;s very much! I&#39;ll give it a try. Thereby I&#39;ll have to take care, that changing the busy state doesnt have more impact as DB latency itself, since I experienced really fast DB-response even across WAN<img src="http://forums.lhotka.net/emoticons/emotion-5.gif" alt="Wink" /></p>
<p>Thank&#39;s again and have a good time!</p>
<p>Volker</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
