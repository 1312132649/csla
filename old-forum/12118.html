<html><header><title>How to handle business rules where on property changes the value of another in Webforms</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to handle business rules where on property changes the value of another in Webforms</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12118.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>mtavares posted on Thursday, August 15, 2013</h2><p>Here&#39;s my scenario, I have a boolean property that when checked should clear/set defaults (pulled from DB) for a number of other properties in the BO. &nbsp;My application is a webforms app, so essentially all of the properties are set in a batch upon postback. &nbsp;I have already seen this post regarding clearing dependent property values:&nbsp;<a href="http://forums.lhotka.net/forums/p/10903/50815.aspx#50815">http://forums.lhotka.net/forums/p/10903/50815.aspx#50815</a>. &nbsp;My question is this: &nbsp;What is the best way to set up the rule so that order of the properties being set upon postback doesn&#39;t matter?</p>
<p>For example, I have a BO representing a contact. &nbsp;The boolean field is whether the contact is an organization and when true, would clear the birthdate and set a default on the gender properties. &nbsp;I would put a rule on the IsOrganization property that clears the other 2 fields. This would be fine if the Web UI is setting properties where IsOrganization is being set last, but what if the Web UI &nbsp;sets the birthdate after the IsOrganization field was already set and the rules were run for it. &nbsp;</p>
<p>I can see in a non-batch UI scenario, order wouldn&#39;t matter because the UI would update the dependent field controls accordingly before being saved. But in the Web UI everything is set at once and then saved before the UI is updated, so it seems to place this dependency on the UI side of making sure that the order of fields being set is correct. &nbsp;Is there a better way to do this on the Business side so I don&#39;t have to worry about the order that data is being set in the UI? &nbsp;I want the values that get set when IsOrganization is true to override anything that gets set on those dependent properties, and to take the dependent properties&#39; values when IsOrganization is false.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
