<html><header><title>How to implement a multiselect child list which changes based on some root property</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How to implement a multiselect child list which changes based on some root property</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11735.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Helius posted on Friday, December 07, 2012</h2><p>I will try to go directly into detail. I want to implement with CSLA a business object which will support the following:</p>
<ol>
<li>The Editable Root Object will have details about the Employee , including the Department in which he works.</li>
<li>The Employee can do a list of tasks, which will be the Editable Child list of my Employee Root Object and will be implemented in the user interface through a multiselect grid.</li>
<li>The list of task changes based on the department, so each department will have a specific list of tasks and each employee, member of that department can do only a subset of the list of tasks defined for the department.</li>
</ol>
<p>Could you please advise me what it is the best way to implement this situation in CSLA?</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Friday, December 07, 2012</h2><p>I have actually done something like this before in a manner that is probably a little unconventional.</p>
<p>To draw an analogy, I would have ended up creating a EmployeeSelectableTaskList - this EmployeeSelectableTaskList would be fetched depending on the department of the employee and would do a &quot;refetch&quot; (async on propertyhaschanged in our case)&nbsp;upon department change.&nbsp; The list would be composed of a list of all <strong>possible</strong> selectable tasks.&nbsp; The EmployeeSelectableTask would contain an IsSelected property.&nbsp; </p>
<p>Fetching would bring back all possible tasks (not just those selected) - in my case it is in the neighborhood of 20-30 so it&#39;s totally acceptable.&nbsp; If it were hundreds, probably not acceptable.&nbsp; Persistence is short circuited for the children&nbsp;such that the root object looks @ the child collection and what is selected and handles the persistence itself.&nbsp;&nbsp; In our case, we&#39;re somewhat indiscriminate and we just wipe out existing tasks and re-insert selected tasks.</p>
<p>The nature of this allows for a very simple databinding experience in our scenario (Silverlight app for us).&nbsp; It works really well in the scenario we use it for.</p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
