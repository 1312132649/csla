<html><header><title>How do you programmatically add items to a list being edited?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How do you programmatically add items to a list being edited?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7235.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>mike1j1 posted on Monday, July 06, 2009</h2>Suppose you have a business base root object, which is a parent.&nbsp; The parent is being edited and some of its properties are bound to a grid.&nbsp; One of the properties is a business base list child.<br><br>As a result of receiving a message another process, a new object is created that is to be added to the child collection.&nbsp; What is the approved technique for adding the object?<br><br>Making the obvious call of:<br>theParentObject.TheChildCollectionProperty.Add(theNewChildObject) blows up, throwing an UndoException due to an edit level mismatch.<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, July 06, 2009</h2><OL>
<LI>This is in a smart client scenario (WPF or WinForms)?</LI>
<LI>And you are using CSLA 3.6.x?</LI>
<LI>And you are using managed backing fields for your properties (or at least for the child property)?</LI></OL>
<P>If that is all true, then it should work automatically - barring nasty data binding issues in Windows Forms (which is possible). </P>
<P>If 1-3 is not all true, the simplest thing may be to make 1-3 all be true :)</P>
<P>If 1-3 are all true, and you are using Windows Forms, you could be running into a Windows Forms data binding issue. They can be hard to work through, because you can easily end up fighting with data binding in unexpected and varied ways.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>mike1j1 replied on Thursday, July 09, 2009</h2>1-3 are all true.&nbsp; I'm having trouble making any progress here - is there a good technique for debugging this?<br><br>My root object is bound via a BindingSourceNode, but is not directly bound to any widget.&nbsp; Several of its children are bound to datagridviews, etc.&nbsp; using the child relationship where they are bound to a BindingSourceNode that is in turn bound to the BindingSourceNode of the root.<br><br>The error is definitely related to binding - if I call Add on the child before I bind the root, the Add is successful.<br><br>I see this error for several different properties.&nbsp; In one case, the property is a business list child of the root, and the child not bound to anything.&nbsp; However, when I programmatically add to the child (after previously have bound to the root), I still see the edit level mismatch.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
