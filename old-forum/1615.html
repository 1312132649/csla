<html><header><title>Disabling update of a grid while editing</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Disabling update of a grid while editing</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1615.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds posted on Friday, October 27, 2006</h2><P>Hi Guys</P>
<P>Some wisdom please...</P>
<P>I have a sitatuion where I have an Editable Root with an Editable Child collection haning off it. I have UI design where I am displaying the children collection in a DataGridView - as a read only view of the collection. I have typical Add/Edit buttons where the user can select a child object, click the Edit button then go to a modal dialog to edit it, or click the Add button and add a new object.</P>
<P>My code on Add is basically something like:</P><FONT size=2>
<P>ero.BeginEdit();</P>
<P></FONT><FONT color=#008080 size=2>ChildClass</FONT><FONT size=2> child = ero.Children.AddNew();</P><FONT size=2>
<P></FONT><FONT color=#008080 size=2>ChildPropertiesForm</FONT><FONT size=2> form = </FONT><FONT color=#0000ff size=2>new</FONT><FONT size=2> </FONT><FONT color=#008080 size=2>ChildPropertiesForm</FONT><FONT size=2>(child);</P>
<P></FONT><FONT color=#0000ff size=2>if</FONT><FONT size=2> (form.ShowDialog() == </FONT><FONT color=#008080 size=2>DialogResult</FONT><FONT size=2>.OK)</P>
<P>&nbsp;&nbsp;&nbsp;ero.ApplyEdit();</P>
<P></FONT><FONT color=#0000ff size=2>else</P></FONT><FONT size=2>
<P>&nbsp;&nbsp;&nbsp;ero.CancelEdit();</P>
<P>&nbsp;</P>
<P><FONT size=3>All works fine.</FONT></P>
<P><FONT size=3>However, my bugbear is that I'm present a modal dialog to the user and the user's expectation is that the changes they're making won't happen until they click OK. But, as they're changing fields on the modal dialog form they can see the changing happening in the DataGridView sitting behind in on the parent form.</FONT></P>
<P><FONT size=3>Is there any easy way to prevent this from happening? I know that what is happening underneath is just being shown in the bound DataGridView but it seems a little weird from the user's perspective. I've tried doing things like calling SuspendBinding, but it has no effect (though I wouldn't yet claim to be an expert a data binding).</FONT></P>
<P><FONT size=3>Any guidance much appreciated.</FONT></P>
<P><FONT size=3>Thanks,</FONT></P>
<P><FONT size=3>Craig</FONT></P>
<P><FONT size=3>P.S. CSLA 2.1</FONT></P>
<P>&nbsp;</P></FONT></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Saturday, October 28, 2006</h2>I think this in an opportunity to educate the user that their changes will be accepted if the click OK and rolled back if they click cancel, rather than their changes are "made" when they click OK.&nbsp; However, if it is really important, you could try suspending the list changed events on the BindingSource.&nbsp; If that does not work, you could clone the item you are editing, let the user edit it, and use the DataMapper to put the values back into the original object if they click OK.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cds replied on Saturday, October 28, 2006</h2><P>Thanks Brian</P>
<P>Disabling the list changed events worked fine for me.</P>
<P>Craig</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
