<html><header><title>Collection was modified; enumeration operation may not execute.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Collection was modified; enumeration operation may not execute.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7534.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Wbmstrmjb posted on Friday, August 28, 2009</h2>There are a couple of threads regarding this issue, but most pertain to Silverlight and CSLA 3.6+.<br /><br />We are using CSLA 2.1.4 and are getting the same error intermittently when using remoting.  This error never comes up locally, but sometimes comes up in our 3-tier deployment.<br /><br />The error seems to occur on an Insert of a list item while the list is looping through it's children in the Update.  When child.Insert is called, the next loop is throwing the error (presumably because the list has been modified?).  <br /><br />Is it the list (this) that is being modified and causing the error, or is something to do with Validation that is causing the error and just happens to be a list also?  Or something completely different?  Thanks.<br /><br />Here is the top of the stack trace:<br /><br />[DataPortalException: DataPortal.Update failed (System.InvalidOperationException: Collection was modified; enumeration operation may not execute.<br />   at System.ThrowHelper.ThrowInvalidOperationException(ExceptionResource resource)<br />   at System.Collections.Generic.List`1.Enumerator.MoveNextRare()<br />   at System.Collections.Generic.List`1.Enumerator.MoveNext()<br />   at Cap.BusinessObjects.Application.DenialDeficiencyReasonList.Update(OracleConnection cn, IApplication parent) in *****<br />   at Cap.BusinessObjects.Application.VRApplication.UpdateChildren(OracleConnection cn) in *****<br />   at Cap.BusinessObjects.Application.VRApplication.DataPortal_Update() in *****)]</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Wbmstrmjb replied on Friday, August 28, 2009</h2>We moved to 3.0.5 and it's not a problem now.  Still would like to know why it was an issue before.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
