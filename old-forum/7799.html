<html><header><title>Slowdown with AddNew</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Slowdown with AddNew</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7799.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Turntwo posted on Thursday, October 15, 2009</h2>Ok, weird problem, at least from my point of view.&nbsp; <br><br>I'm doing some conversion from an old system into a new system using CSLA.&nbsp; The old data is exported in text files, so I'm reading the text files to parse the data, and loading my CSLA objects with the data.&nbsp; <br>I'm doing this using an EditList (BusinessListBase), that starts with about 3600 object (small objects, only 4 properties), and in the end will end up with around 10K.&nbsp; <br><br>The first 200 or so loops run really quick - but then it starts slowing down considerably.&nbsp; Going from about 10 records per second to less than 1 per second - and it keeps getting slower.&nbsp; If I had started with 0 objects, and then started adding, I could understand that it slowed down as the list grew - but the change from 3600 records to 3800 shouldn't show such a marked increase.&nbsp; <br><br>There is a validation rule that checks that the key is unique in the
list, so it does loop through the list for each new item.&nbsp; But in
stepping through the code, this method takes next to 0 time. However, AddNew() on the list is taking 4 seconds after ~1400 items.&nbsp; Why would AddNew() slow down so much?&nbsp; I'm using the standard AddNewCore override ( .NewItem(), add, return newItem).&nbsp; Using LINQ to retrieve an existing item from the list is fast, it is only when the key doesn't exist and the AddNew() is made that it slows down.&nbsp; <br><br>Any ideas?&nbsp; Anyone else experience a similar problem? &nbsp;&nbsp; <br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, October 15, 2009</h2>There was just a thread on something like this maybe 1-2 weeks ago. IIRC, the answer in that case was that they'd forgotten to turn off RaiseListChangedEvents.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Turntwo replied on Thursday, October 15, 2009</h2>That was it.&nbsp; I guess I was using the wrong search terms, because I couldn't find anything about it.&nbsp; <br><br>Thanks - you rock.&nbsp; <br><br>Jason<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
