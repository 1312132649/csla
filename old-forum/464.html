<html><header><title>2.0.2 Templates changes (??)</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>2.0.2 Templates changes (??)</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/464.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>lukky posted on Sunday, June 25, 2006</h2><P>Hi,</P>
<P>I'm currently working on a set of VS.NET 2005 item templates based on the Templates provided with CSLA.NET 2.0.1.</P>
<P>Were there any changes made to those templates in between 2.0.1 and 2.0.2 ?</P>
<P>Once this is completed, I'll submit those item templates so we can have a basic code generation for CSLA 2.0 business objects directly in VS.NET.</P>
<P>Thank you.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bill replied on Sunday, June 25, 2006</h2><P>There is a possible breaking change when moving to 2.0.2.&nbsp; It has to do with missing criteria object on the DataPortal.Create method.&nbsp; Read about it in Rocky's change log at: <A href="http://www.lhotka.net/Articles.aspx?id=f32a3736-88ba-40e4-8453-8607750925a9">http://www.lhotka.net/Articles.aspx?id=f32a3736-88ba-40e4-8453-8607750925a9</A></P>
<P>Are your templates for C# or VB?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lukky replied on Sunday, June 25, 2006</h2><P>Yes, I have read the ChangeLog, but I'm not sure this will impact the Templates provided with the CSLA source code. I was hoping Rocky would give me feedback on this.</P>
<P>For the moment, I only worked on the C# templates, but I could easily do the VB ones in the next step.</P>
<P>What I'm working on will also include a DLL that needs to be added to the GAC (as far as I understand it) because I need to get more input from the user than just the BO type in the cases of Lists templates. I prompt the user for the Child Item class name.</P>
<P>Does having to install a DLL to the GAC represent a problem for most users ? If so, does anyone know of a way to implement IWizard in a DLL without placing it in the GAC ?</P>
<P>Regards,</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jstevens replied on Friday, July 07, 2006</h2><P>Lukky,</P>
<P>How close are you to having the VB templates done?&nbsp; I desperately need those...</P>
<P>Thanx!</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lukky replied on Friday, July 07, 2006</h2><P>Hi,</P>
<P>I'm sorry, I've been out of town for a week, and busy as hell.</P>
<P>I've had to put this on ice for a while, as I'm still trying to get a good understanding of the framework in order for those templates to be really usefull (I'm reading through the book the second time, so stuff is starting to sink in).</P>
<P>In any case, all the templates will do is replace the actual classname for your own, so you can still achieve the same result by doing a carefull search/replace. I will try to make my templates a bit more usefull.</P>
<P>I really need to get a good grasp on BOs, cause I have some projects coming up, and would really like to start using the framework :-)</P>
<P>Regards,</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>kids_pro replied on Sunday, June 25, 2006</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>Bill:</strong></div><div><p>It has to do with missing criteria object on the DataPortal.Create method. <br></p></div></BLOCKQUOTE><br><br>I tried to do Fetching without criteria in ReadOnly object and it not possible. <br>But for Editable it works as change log.<br><br><img src="http://www.sroksreonline.com/readonly.gif"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; My factory method: <br>&nbsp;&nbsp;&nbsp; public static SongList GetSongList() {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return DataPortal.Fetch&lt;SongList&gt;(); // this one provide error message as show above.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //return DataPortal.Fetch&lt;SongList&gt;(new EmptyCriteria()); // this one work<br>&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp; My Data Access Method<br>&nbsp;&nbsp;&nbsp; private void DataPortal_Fetch() {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fetch("");<br>&nbsp;&nbsp;&nbsp; }<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, June 26, 2006</h2><P>In that case, yes, a change to the templates would be required. The templates don't show how to call DataPortal.Fetch() with no parameter, because that wasn't possible before. To call DataPortal.Fetch() with no parameter (or with a parameter of Nothing/null) you need a DataPortal_Fetch() like this:</P>
<P>Protected Overrides Sub DataPortal_Fetch(ByVal criteria As Object)</P>
<P>protected override void DataPortal_Fetch(object criteria)</P>
<P>The criteria parameter will always come through as Nothing/null of course, but this is the method signature that will be called in this case.</P>
<P>In retrospect, had I done this before publishing the book, I'd probably make DataPortal.Fetch&lt;blah&gt;() call a DataPortal_Fetch() method that accepts NO parameters at all, but to do that now would be a big breaking change.</P>
<P>Not breaking to Fetch() of course, but to Create(), because they both follow the same code path to find and invoke the right method. Although I broke one Create() scenario, I left the more common one unbroken by doing the change as I did...</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
