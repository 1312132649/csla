<html><header><title>Unit tests fail with Visual Studio 2012</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Unit tests fail with Visual Studio 2012</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11575.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Holger posted on Wednesday, September 12, 2012</h2><p>After upgrading our development environment to VS2012, we have different unit tests which are not working anymore. They are all throwing an &quot;SerializationException: Type is not resolved for member&quot;. </p>
<p><span lang="EN">Csla.DataPortalException: DataPortal.Fetch fehlgeschlagen (Configuration system failed to initialize) ---&gt; System.Configuration.ConfigurationErrorsException: Configuration system failed to initialize ---&gt; System.Runtime.Serialization.SerializationException: Type is not resolved for member &#39;Manor.Business.Security.ManorPrincipal,Manor.Business, Version=4.2.0.0, Culture=neutral, PublicKeyToken=2cf1045ba16b8991&#39;.</span></p>
<p>The tests&nbsp;use a custom principal class&nbsp;derived from CslaPrincipal. The principal login procedure is called under &quot;TestInitialize&quot;. The same coding works with VS2010.</p>
<p>Does anyone have an idea? </p>
<p>[TestInitialize]<br />public void MyTestInitialize()<br />{<br />&nbsp;Security.ManorPrincipal.Login();<br />}</p>
<p>[TestMethod]<br />public void ShouldTestSomething()<br />{<br />&nbsp;//Call to factory method of Csla ReadOnly List here <br />}</p>
<p><span lang="EN"></span></p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JonnyBee replied on Wednesday, September 12, 2012</h2><p>Start by reading this recent thread: <a href="http://forums.lhotka.net/forums/p/11545/53518.aspx">http://forums.lhotka.net/forums/p/11545/53518.aspx</a> </p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Holger replied on Thursday, September 13, 2012</h2><p>Thank you, it is working now.</p>
<p>The unit tests work with System.Security.Principal.GenericPrincipal instance in Csla.ApplicationContext.User.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
