<html><header><title>Somewhat OT: SL4, .NET 4, and sharing code</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Somewhat OT: SL4, .NET 4, and sharing code</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9170.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tmg4340 posted on Sunday, July 04, 2010</h2><p>We&#39;re getting ready to start a Silverlight project at work.&nbsp; Originally, we were going to do it in .NET 3.5 and SL3, but the project timeline may let that change to .NET 4 and SL4.</p>
<p>(I probably can&#39;t get them to use CSLA, but we&#39;ll see...)</p>
<p>Anyway, I hadn&#39;t been doing a lot of research on SL4 and .NET 4, largely because I didn&#39;t expect to have it available for my job for a while.&nbsp; But now that I have, I keep coming across this &quot;shared code&quot; comment, and I&#39;d like some clarification.</p>
<p>I&#39;ve read Rocky&#39;s blog posts (and watched the Tech Ed session he did) about sharing code across SL and .NET projects.&nbsp; But that was all predicated on the fact that .NET 3.5 &amp; SL3 had different runtimes, and because of the wide disparity between what .NET can do and what SL3 can do.&nbsp; But now I see that you can &quot;share DLL&#39;s&quot; between the two.&nbsp; So does this alter the code-sharing philosophy that Rocky outlined - i.e. can we have one business-library DLL now?&nbsp; Or is this strictly a WPF and Silverlight situation?</p>
<p>My initial thought is that it might be possible, but&nbsp;since there are still some wide&nbsp;disparities between what SL4 and full .NET supports, a client- and server-side library DLL would still be required.&nbsp; But I&#39;d like some more definitive information if I can get it, and the folks here are some of the smarter ones I&#39;ve found, so...</p>
<p>TIA</p>
<p>- Scott</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Monday, July 05, 2010</h2><p>Hi Scott, </p>
<p>Yes there is a possibility to &quot;share DLLs&quot; but not really an option for CSLA yet. </p>
<p><strong>SL4 -&gt; NET 4 <br /></strong>For testing purposes- you may inject .NET 4 data access classes into a SL4 assembly&nbsp;using an IoC container. But not somtehing you would use in production and SL4 is available on more platforms than .NET4. </p>
<p>.<strong>NET4 -&gt; SL4</strong> <br />.NET4 may load and use&nbsp;a SL4 assembly. CSLA core assembly _may_&nbsp; evolve into a SL4 assembly so that we will not need to have 2 versions of CSLA (one for .NET4 and one for SL4). But as for CSLA 4 there is 2 versions of CSLA.dll, one for each runtime. </p>
<p>.NET4 actually has 2 runtime versions: <strong>Client Profile (CP)</strong>&nbsp;and <strong>Full. </strong>and <strong>.NET4 CP</strong> will most likely be<strong> </strong>rolled out on Windows Update for Vista and Win7 users. So we had potentially the same problem of one CSLA asembly for each runtime&nbsp;for .NET clients. In the development process we restructured the code and changed so that CSLA.dll&nbsp;has rutime target to .NET4 Client Profile to enable us&nbsp;to share asseblies between .NET4 client and servers. Code that requires .NET4 Full has been moved to sateelite assemblies like Csla.Web.dll and Csla.Web.Mvc.dll</p>
<p>And in the client - server perspective you MUST have 2 assemblies of you business objects - one business assembly&nbsp;that is downloaded and used on the client running SL4 and one server&nbsp;version running in .NET4 and having data access. </p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
