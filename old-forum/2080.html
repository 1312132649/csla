<html><header><title>BusinessListBase possible bug</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>BusinessListBase possible bug</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2080.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Fabio posted on Thursday, January 04, 2007</h2>Bo with list of childs in a BusinessListBase.<br>I work with grid, for childs, and object binding but i think this is not the matter.<br><br>BeginEdit the Bo<br>Delete some childs (N.B. without change any property of Bo and without change any child)<br>ApplyEdit of Bo<br>intent to Save the Bo<br><br>The Bo is not savable because:<br>1) The Bo isn't marked as Dirty (no properties was changed)<br>2) The BusinessListBase of childs is not Dirty because don't have dirty childs (no childs was changed) and the DeletedList is empty because AcceptChanges of list remove all child in the DeletedList.<br><br>Can, somebody, verify this ?<br>Thanks.<br>Fabio.<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, January 05, 2007</h2>Not a bug, something you must handle.&nbsp; Your parent BO should be listening to events from child collections, and calling PropertyHasChanged( "NameOfCollectionProperty" ).&nbsp; This will raise property changed events and mark the BO as dirty.<br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Fabio replied on Friday, January 05, 2007</h2>mmmm...<br>There isn't a property changed and the BO change it's state when i delete a child because in that moment the child was added to the DeletedList of the ChildList.<br>This is because de IsDirty of the BO is:<br>return base.IsDirty || childList.IsDirty;<br><br>The problem occur when ApplyEdit of the ParentBO was executed before Save call.<br>The ApplyEdit cause DeletedList clear so the childList.IsDirty is = false and DeletedList is empty so i can't delete childs.<br>Note that: The list on the UI had removed the childs.<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, January 05, 2007</h2>Sounds like something else is wrong.&nbsp; If the grid removed the child object, it should be appearing in the DeletedList.&nbsp; ApplyEdit shouldn't be causing the DeletedList to clear unless the object was added after the new edit level.. that is, the object was added at edit level one, then deleted, and accept changes cause the edit level to go to 0.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
