<html><header><title>CSLA.Wpf</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLA.Wpf</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9951.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>b.nicovski posted on Tuesday, January 18, 2011</h2><p>Please tell me why i can&#39;t add </p>
<p>using Csla.Wpf </p>
<p>in my references i have Csla and csla.xaml</p>
<p>?</p>
<p>Thanks</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Tuesday, January 18, 2011</h2><p>That namespace doesn&#39;t exist in CSLA 4, it has been replaced with Csla.Xaml.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>b.nicovski replied on Tuesday, January 18, 2011</h2><p>Thanks, but how can i use Csla.Validation; on WPF? Is it possible, because my classes are done for Windows form project.</p>
<p>&nbsp;</p>
<p>Thanks again</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, January 18, 2011</h2><p>What version of CSLA are you using? Csla.Validation doesn&#39;t exist in CSLA 4 either, it has been replaced by Csla.Rules.</p>
<p>If you are using CSLA .NET 3.8 you can use the business rules in your objects on both Windows Forms and WPF.</p>
<p>If you are using CSLA 4 you can use the business rules in your objects on both Windows Forms and WPF, but you will probably want to have different collection/list types for Windows Forms, because the default collection base types now support WPF (3.8 doesn&#39;t support WPF very well for collections).</p>
<p>But the collection issue has nothing to do with business rules - they work on all platforms including Windows Forms and WPF.</p>
<p>How you display the business rules in the UI is quite different between Windows Forms and WPF. In Windows Forms you probably use the ErrorProvider control. You can use the built-in IDataErrorInfo support in WPF too, but it is relatively limited, and you probably want to use the PropertyStatus control in the Csla.Wpf namespace.</p>
<p>In CSLA 4 the PropertyStatus control is moved to the Csla.Xaml namespace and assembly, but it works the same.</p>
<p>The <a href="http://store.lhotka.net">CSLA 4 MVVM video series</a> should be very helpful to you as you learn how to use CSLA with WPF.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>b.nicovski replied on Thursday, January 20, 2011</h2><p>I&#39;m using CSLA 4.0., here is my code. I have problem on underlined rows. But when i&#39;m on windows form application everything is ok.</p>
<p>
<pre><br /><span>using</span>&nbsp;System;<br /><span>using</span>&nbsp;System.Data;<br /><span>using</span>&nbsp;System.Data.SqlClient;<br /><span>using</span>&nbsp;Csla;<br /><span>using</span>&nbsp;Csla.Data;<br /><span>using</span>&nbsp;Csla.Rules;<br /><span>using</span>&nbsp;InTaxiHome.Library;<br /><span>using</span>&nbsp;Csla.Xaml;<br /><span>using</span>&nbsp;Csla.Rules.CommonRules;<br /> <br />[<span>Serializable</span>()]<br /><span>public</span>&nbsp;<span>class</span>&nbsp;<span>UliciSkEnInfo</span>&nbsp;:&nbsp;Csla.<span>ReadOnlyBase</span>&lt;<span>UliciSkEnInfo</span>&gt;<br />{<br /><span>&nbsp;&nbsp;&nbsp;&nbsp;#region</span>&nbsp;Business&nbsp;Properties&nbsp;and&nbsp;Methods<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;<span>//declare&nbsp;members</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;<span>int</span>&nbsp;_id&nbsp;=&nbsp;0;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;<span>string</span>&nbsp;_ulica&nbsp;=&nbsp;<span>string</span>.Empty;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;<span>bool</span>&nbsp;_active&nbsp;=&nbsp;<span>false</span>;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;<span>byte</span>[]&nbsp;_lastChanged;<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;[System.ComponentModel.<span>DataObjectField</span>(<span>true</span>,&nbsp;<span>false</span>)]<br />&nbsp;&nbsp;&nbsp;&nbsp;<span>public</span>&nbsp;<span>int</span>&nbsp;Id<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>get</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br /><span style="text-decoration:underline;"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CanReadProperty(&quot;Id&quot;,&nbsp;true);<br /></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>return</span>&nbsp;_id;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;<span>public</span>&nbsp;<span>string</span>&nbsp;Ulica<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>get</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br /><span style="text-decoration:underline;"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CanReadProperty(&quot;Ulica&quot;,&nbsp;true);<br /></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>return</span>&nbsp;_ulica;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;<span>public</span>&nbsp;<span>bool</span>&nbsp;Active<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>get</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br /><span style="text-decoration:underline;"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CanReadProperty(&quot;Active&quot;,&nbsp;true);<br /></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>return</span>&nbsp;_active;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;<span>protected</span>&nbsp;<span>override</span>&nbsp;<span>object</span>&nbsp;GetIdValue()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>return</span>&nbsp;_id;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /> <br /><span>&nbsp;&nbsp;&nbsp;&nbsp;#endregion</span>&nbsp;<span>//Business&nbsp;Properties&nbsp;and&nbsp;Methods</span><br /> <br /><span>&nbsp;&nbsp;&nbsp;&nbsp;#region</span>&nbsp;Factory&nbsp;Methods<br />&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;UliciSkEnInfo()<br />&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<span>/*&nbsp;require&nbsp;use&nbsp;of&nbsp;factory&nbsp;method&nbsp;*/</span>&nbsp;}<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;<span>public</span>&nbsp;<span>static</span>&nbsp;<span>UliciSkEnInfo</span>&nbsp;GetUliciSkEnInfoById(<span>int</span>&nbsp;id)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><span style="text-decoration:underline;"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;DataPortal.Fetch&lt;UliciSkEnInfo&gt;(new&nbsp;Criteria(id));<br /></b></span>&nbsp;&nbsp;&nbsp;&nbsp;}<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;<span>public</span>&nbsp;<span>static</span>&nbsp;<span>UliciSkEnInfo</span>&nbsp;GetUliciSkEnInfo()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>return</span>&nbsp;<span>DataPortal</span>.Fetch&lt;<span>UliciSkEnInfo</span>&gt;(<span>new</span>&nbsp;<span>Criteria</span>());<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span>public</span>&nbsp;<span>static</span>&nbsp;<span>UliciSkEnInfo</span>&nbsp;GetUliciSkEnInfo(SafeDataReader&nbsp;sdr)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>return</span>&nbsp;<span>DataPortal</span>.Fetch&lt;<span>UliciSkEnInfo</span>&gt;(<span>new</span>&nbsp;<span>Criteriasafe</span>(sdr));<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><span>&nbsp;&nbsp;&nbsp;&nbsp;#endregion</span>&nbsp;<span>//Factory&nbsp;Methods</span><br /> <br /> <br /><span>&nbsp;&nbsp;&nbsp;&nbsp;#region</span>&nbsp;Data&nbsp;Access<br /> <br /><span>&nbsp;&nbsp;&nbsp;&nbsp;#region</span>&nbsp;Criteria<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;[<span>Serializable</span>()]<br />&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;<span>class</span>&nbsp;<span>Criteria</span><br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>public</span>&nbsp;<span>int</span>&nbsp;Id;<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>public</span>&nbsp;Criteria(<span>int</span>&nbsp;id)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>this</span>.Id&nbsp;=&nbsp;id;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>public</span>&nbsp;Criteria()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>this</span>.Id&nbsp;=&nbsp;-1;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;[<span>Serializable</span>()]<br />&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;<span>class</span>&nbsp;<span>Criteriasafe</span><br />&nbsp;&nbsp;&nbsp;&nbsp;{<br /><span style="text-decoration:underline;"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;SafeDataReader&nbsp;_dr;</b></span><br /> <br /><span style="text-decoration:underline;"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Criteriasafe(SafeDataReader&nbsp;sdr)<br /></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>this</span>._dr&nbsp;=&nbsp;sdr;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><span>&nbsp;&nbsp;&nbsp;&nbsp;#endregion</span>&nbsp;<span>//Criteria</span><br /> <br /><span>&nbsp;&nbsp;&nbsp;&nbsp;#region</span>&nbsp;Data&nbsp;Access&nbsp;-&nbsp;Fetch<br /><span style="text-decoration:underline;"><b>&nbsp;&nbsp;&nbsp;&nbsp;[Transactional(TransactionalTypes.TransactionScope)]<br /></b></span>&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;<span>void</span>&nbsp;DataPortal_Fetch(<span>Criteria</span>&nbsp;criteria)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>using</span>&nbsp;(<span>SqlConnection</span>&nbsp;cn&nbsp;=&nbsp;<span>new</span>&nbsp;<span>SqlConnection</span>(<span>Database</span>.IntaxiDBConnection))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cn.Open();<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExecuteFetch(cn,&nbsp;criteria);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<span>//using</span><br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;[Transactional(TransactionalTypes.TransactionScope)]<br />&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;<span>void</span>&nbsp;DataPortal_Fetch(<span>Criteriasafe</span>&nbsp;criteria)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExecuteFetch(criteria);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;<span>void</span>&nbsp;ExecuteFetch(<span>SqlConnection</span>&nbsp;cn,&nbsp;<span>Criteria</span>&nbsp;criteria)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>using</span>&nbsp;(<span>SqlCommand</span>&nbsp;cm&nbsp;=&nbsp;cn.CreateCommand())<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cm.CommandType&nbsp;=&nbsp;<span>CommandType</span>.StoredProcedure;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>if</span>&nbsp;(criteria.Id&nbsp;&lt;&nbsp;0)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cm.CommandText&nbsp;=&nbsp;<span>&quot;getUliciSkEn&quot;</span>;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>else</span>&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cm.Parameters.AddWithValue(<span>&quot;@Id&quot;</span>,&nbsp;criteria.Id);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cm.CommandText&nbsp;=&nbsp;<span>&quot;getUliciSkEnById&quot;</span>;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>using</span>&nbsp;(SafeDataReader&nbsp;dr&nbsp;=&nbsp;<span>new</span>&nbsp;SafeDataReader(cm.ExecuteReader()))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FetchObject(dr);<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>//load&nbsp;child&nbsp;object(s)</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FetchChildren(dr);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<span>//using</span><br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;<span>void</span>&nbsp;ExecuteFetch(<span>Criteriasafe</span>&nbsp;criteria)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FetchObject(criteria);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;<span>void</span>&nbsp;FetchObject(SafeDataReader&nbsp;dr)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dr.Read();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_id&nbsp;=&nbsp;dr.GetInt32(<span>&quot;Id&quot;</span>);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_ulica&nbsp;=&nbsp;dr.GetString(<span>&quot;Ulica&quot;</span>);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_lastChanged&nbsp;=&nbsp;(<span>byte</span>[])dr[<span>&quot;LastChanged&quot;</span>];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;<span>void</span>&nbsp;FetchObject(<span>Criteriasafe</span>&nbsp;dr)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br /> <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_id&nbsp;=&nbsp;dr._dr.GetInt32(<span>&quot;Id&quot;</span>);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_ulica&nbsp;=&nbsp;dr._dr.GetString(<span>&quot;Ulica&quot;</span>);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_lastChanged&nbsp;=&nbsp;(<span>byte</span>[])dr._dr[<span>&quot;LastChanged&quot;</span>];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span>private</span>&nbsp;<span>void</span>&nbsp;FetchChildren(SafeDataReader&nbsp;dr)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><span>&nbsp;&nbsp;&nbsp;&nbsp;#endregion</span>&nbsp;<span>//Data&nbsp;Access&nbsp;-&nbsp;Fetch</span><br /><span>&nbsp;&nbsp;&nbsp;&nbsp;#endregion</span>&nbsp;<span>//Data&nbsp;Access</span><br />}<br /> </pre>
</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>ajj3085 replied on Friday, January 21, 2011</h2><p>In Csla 4 your property declarations should be like this:</p>
<p>public static readonly PropertyInfoM&lt;string&gt; MyStringProperty = RegisterProperty( x =&gt; x.MyString );</p>
<p>public string&nbsp; MyString {</p>
<p>&nbsp; get&nbsp;{ return GetProperty( MyStringProperty ); }</p>
<p>&nbsp; set { SetProperty( MyStringProperty, value ); }</p>
<p>}</p>
<p>All the normal processing (security checks, business rules, marking as dirty) will be done automatically for you.&nbsp; There are alternate methods too, LoadProperty and ReadProperty, when you want to bypass the normal behaviors.</p>
<p>This blog post describes the introduction of the new property sytax, but of course Csla 4 has some changes and improvements since they were first introduced in 3.5.&nbsp; <a href="http://www.lhotka.net/weblog/CSLANET35PropertyCodeReduction.aspx">http://www.lhotka.net/weblog/CSLANET35PropertyCodeReduction.aspx</a></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>b.nicovski replied on Thursday, February 03, 2011</h2><p>Thanks for that, it is really useful. But can you tell where can i find good templates for codesmith for CSLA 4 because every that i found is not ok?</p>
<p>&nbsp;</p>
<p>Thank you again</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
