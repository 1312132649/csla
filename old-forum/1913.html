<html><header><title>SQL Injection risk?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>SQL Injection risk?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1913.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>DansDreams posted on Wednesday, December 06, 2006</h2><P>I'm using the DevExpress controls.&nbsp; Their grid has very cool filtering and sorting capability built in.&nbsp; It's so powerful that I can use it for load criteria.&nbsp; </P>
<P>A user just times 'smith' in the textbox above the Last Name column.&nbsp; When the grid is populated this will instantly filter the collection it's displaying.&nbsp; But when the grid datasource is just the BO Type, I still can take advantage of the SQL where clause that this filtering engine builds.&nbsp; This property tells me "LastName like 'smith%'".</P>
<P>Now, that makes a nice easy way to add very powerful lookup/search criteria to my list BOs without really any code.</P>
<P>But, on the one hand, this would appear to be a large gaping sql injection hole since I'm accepting the where clause on blind faith.</P>
<P>On the other hand, even though the factory method accepting the where clause string is public, it's not like it can be used by any end-user.&nbsp; Any developer with access to this method has already been let "in the door" so to speak.</P>
<P>&nbsp;</P>
<P>Thoughts?&nbsp; I'm concerned about what might be possible in an asp environment, but I still&nbsp;can't see how this creates a public exposure.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>steveb replied on Wednesday, December 06, 2006</h2><P>i haven't used the CslaDataSource yet, but if i understand what you are saying you plan to do, it does sound like there is a injection risk.</P>
<P>let me know if any of this is incorrect. your user will type any text into a grid filter text box, which is then bound directly to your csla business objects through the DataSource, which will somehow use the where clause generated by the grid control in a dynamically generated sql statement that executes against your database.</P>
<P>if that is the case, and your grid control doesn't check the text entered by the user for possible attacks, you are at risk. </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DansDreams replied on Thursday, December 07, 2006</h2>Yep.&nbsp; Thanks Steve, I missed looking at it that way.&nbsp; I had blinders on and was thinking that I could trust the control to pass me a good where clause since it was so tightly bound to my object.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
