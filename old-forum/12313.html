<html><header><title>I have some questions about Complex Criteria’s object</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>I have some questions about Complex Criteria’s object</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12313.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>BeyondNet posted on Saturday, January 18, 2014</h2><p>I have a interface (client) with multiples filters, per e.j:&nbsp;</p>
<p>&nbsp;</p>
<p>- Search by Code</p>
<p>- Search by Name</p>
<p>- Search by Last Name</p>
<p>- Search by ....</p>
<p>&nbsp;</p>
<p>In these cases, I look with always the need of create a new Criteria object, per e.j.:</p>
<p>&nbsp;</p>
<p>- SearchByCodeCriteria</p>
<p>- SearchByNameCriteria</p>
<p>- SearchByLastNameCriteria</p>
<p>- SearchBy....</p>
<p>&nbsp;</p>
<p>A form of solution maybe create a class with this filters:</p>
<p>&nbsp;</p>
<p>public class Filters</p>
<p>{</p>
<p>&nbsp; &nbsp; &nbsp; string Code</p>
<p>&nbsp; &nbsp; &nbsp; string Name</p>
<p>&nbsp; &nbsp; &nbsp; string LastName</p>
<p>}</p>
<p>&nbsp;</p>
<p>This class &nbsp;may put in the constructor of any Criteria Object. But the problem is the same, I need always of conditionals, p.e.:</p>
<p>&nbsp;</p>
<p>If (!String.NullOrEmpty(Foo.Code))</p>
<p>&nbsp; &nbsp;Filters.Code = Foo.Code;</p>
<p>&nbsp;</p>
<p>This same problem repeat been in the moment to fetch in the DataPortal:</p>
<p>&nbsp;</p>
<p>If (!String.NullOrEmpty(Filters.Code))</p>
<p>&nbsp; &nbsp;data = targetRepository.FetchByCode(Filters.Code);</p>
<p>&nbsp;</p>
<p>If (!String.NullOrEmpty(Filters.Name))</p>
<p>&nbsp; &nbsp;data = targetRepository.FetchByName(Filters.Name);</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>The questions is:</p>
<p>&nbsp;</p>
<p>Exists any pattern for Criterias, similar to Specifications in DDD, I understand with CSLA .NET is not a ORM, but I think the conditionals in CSLA framework to Criterias Objects is a little problem.</p>
<p>&nbsp;</p>
<p>Can you help me with any pattern?</p>
<p>&nbsp;</p>
<p>P.D.: I use IoC and DI with Unity, also use Managed Extensibility Framework (MEF) with CSLA .NET to apply polymorphism, but my problem is when I need apply this concepts with the Criteria Objects.</p>
<p>&nbsp;</p>
<p>Maybe an option:</p>
<p>&nbsp;</p>
<p>public interface IDynamicList&lt;T&gt;</p>
<p>&nbsp; &nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; List&lt;T&gt; FindAllByCriteria(string criteria);</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; List&lt;T&gt; FindAllByCriteria(Func&lt;T, bool&gt; criteria);</p>
<p>&nbsp; &nbsp; }</p>
<p>&nbsp;</p>
<p>&nbsp;[Export(typeof(ICustomerRepository))]</p>
<p>&nbsp; &nbsp; public class CustomerMock : ICustomerRepository</p>
<p>&nbsp; &nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; public List&lt;Dto.CustomerDto&gt; FindAllByCriteria(Func&lt;Dto.CustomerDto, bool&gt; criteria)</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new NotImplementedException();</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; }</p>
<p>&nbsp; &nbsp; }</p>
<p>&nbsp;</p>
<p>Best regards</p>
<div></div>
<div class="ForumPostSignature">
<p>Beyondnet</p>
<p>http://www.cslanet.org&nbsp;</p>
</div></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
