<html><header><title>Design Guideance</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Design Guideance</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4235.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Marjon1 posted on Thursday, January 24, 2008</h2><font face="Arial" size="2">Hey Guys, <br><br>I'm wanting to use the DevExpress XtraGrid components to display a list of customers in a read-only format. Currently we have a readonlylist which contain a read-only customerinfo object and this works great. </font><font size="2"><font face="Arial">If only things were this simple! Thus the reason for this post, I would like your feedback on what I propose.<br><br>Our customer objects can have <b>X </b>number of custom fields, and we want this information on the grid and for it to appear completely flat (so the users can group, etc). If I put a list of custom fields on the customerinfo object then it is more of a master-detail grid relationship. <br><br>To make this work I've devised the solution to not use an actual list but to have a command object generate XML which will make all the information appear flat. I'd need to take into account security concerns (e.g can they read the customer objects to begin with). The XtraGrid can read XML directly through a data-set and therefore this appears to be an acceptable solution. It would mean a bit more coding than a normal readonlylist, but it appears to be the simplest solution to this problem.<br><br>Does this break the intended use of CSLA? Is there better or other way that I could do this? <br><br>Thanks in advance for your feedback.<br></font></font></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tmg4340 replied on Friday, January 25, 2008</h2><P><FONT face=Tahoma size=2>I wouldn't say&nbsp;your idea&nbsp;breaks the intended use of CSLA.&nbsp; CSLA defines a means to get your data back and forth, but it's certainly not the only means.&nbsp; And for dynamic situations like this - well, there isn't a "good fit" style within the framework that I know of.</FONT></P>
<P><FONT face=Tahoma size=2>If you're uncomfortable with your XML solution, I can offer an alternative, but I don't know whether you can get it done with the tools you have.&nbsp; I don't have any DevExpress experience - our tool of choice has been Infragistics - but the tool vendors are all remarkably similar these days, so this should hopefully translate.</FONT></P>
<P><FONT face=Tahoma size=2>(FWIW, I don't see your XML solution as a bad one.&nbsp; I probably wouldn't do it that way, but that's largely because I think the overhead of translating all the data into XML - even if you do it on the database - is a bit much for a data-transport medium.&nbsp; Also,&nbsp;my users have an annoying tendency to rather quickly depart from a solution, and in this case my experience has been that this read-only list will become not-so-read-only sooner rather than later...)</FONT></P>
<P><FONT face=Tahoma size=2>Infragistics has a component - they call it the UltraDataSource - that is essentially designed to make it easier for data-binding-aware controls to work with "ordinary objects" - i.e. classes that don't have all the built-in data-binding support that CSLA offers.&nbsp; All it really is is a design-time component that implements all the data-binding interfaces, and gives you hooks to set the record structure and load/update your object&nbsp;data.&nbsp; Like I said, I don't know whether the DevExpress suite has an equivalent, but I would be surprised if they don't.&nbsp; </FONT><FONT face=Tahoma size=2>Anyway, what you could do is to retrieve your object data as you normally would - without doing the XML transformation -&nbsp;and from there build the structure in your data-source control.&nbsp; Your grid then binds to that control.&nbsp; <FONT face=Tahoma size=2>Under this scenario, you can use a ReadOnly-based object to get your data, instead of a Command object and some XML translation somewhere.&nbsp; You're still not taking advantage of the data-binding that CSLA objects give you, but given your situation, you probably won't be able to anyway.</FONT></P></FONT>
<P><FONT face=Tahoma size=2>I can't say for certain that my idea would be any faster than doing the XML translation and feeding it to the grid, but I expect it would be, if for no other reason than I'm removing the XML transformation step.&nbsp; The grid can't&nbsp;bind directly&nbsp;to XML, so what it's doing is translating/copying the XML into a temporary bindable object&nbsp;and then binding to that - which is&nbsp;essentially what you'd be doing in your code.&nbsp; That's why I called the XML a data-transport medium earlier.&nbsp; But&nbsp;your users&nbsp;could be a little happier with this method over the direct XML feed.&nbsp; The downside to the XML feed is that unless you provide schema information with your XML data (assuming you can), the translation routines usually turn everything into&nbsp;strings.&nbsp; Coding it yourself gives you the opportunity to provide the proper data types, giving your users a better experience with sorting/filtering.</FONT></P>
<P><FONT face=Tahoma size=2>HTH</FONT></P>
<P><FONT face=Tahoma size=2>- Scott</FONT></P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
