<html><header><title>WCFHost in Windows Service?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>WCFHost in Windows Service?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7796.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ludwigs3rd posted on Thursday, October 15, 2009</h2>http://msdn.microsoft.com/en-us/library/cc949080.aspx#<br />So I'm following that guide to creating a Windows Service hosted WCF service but I'm unsure how to do this with the WCFHost example in the PTracker project.  In the example you have to implement a service interface but that's a different type of WCF service from the WCFHost example in PTracker. Can someone offer some insight please?<br /><br />Looking into the following how-to's also in case this is of interest to anyone:<br />http://msdn.microsoft.com/en-us/library/cc668805.aspx<br />http://www.codeproject.com/KB/dotnet/simplewindowsservice.aspx</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Thursday, October 15, 2009</h2>Here is an article that describes how to do it.  Your host would be WcfPortal, so instead of <br />serviceHost = new ServiceHost(typeof(CalculatorService));<br />in the article you would have<br />serviceHost = new ServiceHost(typeof(WcfPortal));<br /><br />You can copy all the settings from web.config sample into app.config of the windows service - they do not change.<br /><br />Sergey Barskiy<br />Principal Consultant<br />office: 678.405.0687 | mobile:&#160;404.388.1899<br /><br />Microsoft Worldwide Partner of the Year | Custom Development Solutions, Technical Innovation<br /><br />-----Original Message-----<br />From: ludwigs3rd [mailto:cslanet@lhotka.net] <br />Sent: Thursday, October 15, 2009 12:41 PM<br />To: Sergey Barskiy<br />Subject: [CSLA .NET] WCFHost in Windows Service?<br /><br />http://msdn.microsoft.com/en-us/library/cc949080.aspx#<br />So I'm following that guide to creating a Windows Service hosted WCF service but I'm unsure how to do this with the WCFHost example in the PTracker project.  In the example you have to implement a service interface but that's a different type of WCF service from the WCFHost example in PTracker. Can someone offer some insight please?<br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Thursday, October 15, 2009</h2>Missed the actual URL:<br />http://msdn.microsoft.com/en-us/library/ms733069.aspx<br /><br /><br />Sergey Barskiy<br />Principal Consultant<br />office: 678.405.0687 | mobile:&#160;404.388.1899<br /><br />Microsoft Worldwide Partner of the Year | Custom Development Solutions, Technical Innovation<br /><br /><br />-----Original Message-----<br />From: Sergey Barskiy [mailto:cslanet@lhotka.net] <br />Sent: Thursday, October 15, 2009 5:14 PM<br />To: Sergey Barskiy<br />Subject: RE: [CSLA .NET] WCFHost in Windows Service?<br /><br />Here is an article that describes how to do it.  Your host would be WcfPortal, so instead of <br />serviceHost = new ServiceHost(typeof(CalculatorService));<br />in the article you would have<br />serviceHost = new ServiceHost(typeof(WcfPortal));<br /><br />You can copy all the settings from web.config sample into app.config of the windows service - they do not change.<br /><br />Sergey Barskiy<br />Principal Consultant<br />office: 678.405.0687 | mobile:&#160;404.388.1899<br /><br />Microsoft Worldwide Partner of the Year | Custom Development Solutions, Technical Innovation<br /><br />-----Original Message-----<br />From: ludwigs3rd [mailto:cslanet@lhotka.net] <br />Sent: Thursday, October 15, 2009 12:41 PM<br />To: Sergey Barskiy<br />Subject: [CSLA .NET] WCFHost in Windows Service?<br /><br />http://msdn.microsoft.com/en-us/library/cc949080.aspx#<br />So I'm following that guide to creating a Windows Service hosted WCF service but I'm unsure how to do this with the WCFHost example in the PTracker project.  In the example you have to implement a service interface but that's a different type of WCF service from the WCFHost example in PTracker. Can someone offer some insight please?<br /><br /><br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ludwigs3rd replied on Thursday, October 15, 2009</h2>Just got it working. This is what worked for me:<br /><br />protected override void OnStart(string[] args)<br />        {<br />            if (myServiceHost != null)<br />            {<br />                myServiceHost.Close();<br />            }<br />            myServiceHost = new ServiceHost(typeof(Csla.Server.Hosts.WcfPortal), new Uri("http://192.168.1.137/MyService.svc"));<br />            BasicHttpBinding binding = new BasicHttpBinding();<br />            myServiceHost.AddServiceEndpoint("Csla.Server.Hosts.IWcfPortal", binding, "/", new Uri("http://192.168.1.137/MyService.svc"));<br />            myServiceHost.Open();<br />        }</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
