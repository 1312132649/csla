<html><header><title>Editable Child Collection: Total Column1 Must Equal Total Column2</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Editable Child Collection: Total Column1 Must Equal Total Column2</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8225.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>superkuton posted on Monday, December 28, 2009</h2>I have the following BO:<br><br><br>Journal (Editable Root Object)<br>----------------<br>ID<br>&lt;other properties&gt;<br><br>JournalDetail(Editable Child Object)<br>----------------<br>ID<br>JournalID (FK =&gt; Journal.ID)<br>DebitAmount<br>CreditAmount<br><br>JournalDetailList(Editable Child Collection, of JournalDetail)<br>-----------------<br><br><br>A business rule requires that the total DebitAmount must equal the total CreditAmount in the JournalDetailList (collection).<br><br>How do I add the business rule?<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, December 29, 2009</h2><P>I would put the rule in Journal.&nbsp; JournalDetail could have a Total property.. the collection can also have such a property (likely internal, since you can't bind to properties on collections).&nbsp; Your Journal would also have this Total property.&nbsp; It just returns whatever the collection's Total is.&nbsp; You then tie the rule to that property, and listen for ChildChanged events where you call your validation rule and then raise a property changed.</P>
<P>I think that should work.. I do similar things for a Free of Charge order.. where the order's total must equal $0.00.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>superkuton replied on Tuesday, December 29, 2009</h2>Thanks for the suggestion <strong>ajj3085.<br><br></strong>I am just new to csla, can you help me with some sample code please?<br><br>Thank you. <br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
