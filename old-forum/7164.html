<html><header><title>project.DalLinq reference not showing up properly in project.library business objects.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>project.DalLinq reference not showing up properly in project.library business objects.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7164.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>nhwilly posted on Wednesday, June 24, 2009</h2><P><FONT face=Arial>This is a creampuff question floating across home plate - will some please take a swing at it?&nbsp; Many thanks in advance.</FONT></P>
<P><FONT face=Arial>An introduction:<BR>&nbsp; </FONT><FONT face=Arial>1. I'm new to csla.<BR></FONT><FONT face=Arial>&nbsp; 2. I'm 55 and been out of coding for too long (too many children)<BR></FONT><FONT face=Arial>&nbsp; 3. I've purchased and read the last 3 of Rocky's books and bought two online titles.<BR></FONT><FONT face=Arial>&nbsp; 4. After several false starts, I am finally getting a few hours to actually build an app.<BR></FONT><FONT face=Arial>&nbsp; 5. I've got a serious ADHD-driven reading problem.<BR></FONT><FONT face=Arial><BR>All true.</FONT></P>
<P><FONT face=Arial>I've followed the sample code for a WinForms project, using the DataPortal_XYZ methods.&nbsp; I've built a terribly simple, two field, disposable application to make sure I understand how things work.<BR><BR></FONT><FONT face=Arial>I've got it working - Rocky and friends are complete geniuses and should be prohibited from selling books to people like me - but for one quirk that I don't understand. <BR><BR><FONT size=4>My business object DataPortal_XYZ methods can't seem to handle a complete reference to the project.DalLinq.</FONT></FONT></P>
<P><FONT face=Arial>I've referenced my dallinq to my library just like he says in the book.&nbsp; But...</FONT></P>
<P><FONT face=Arial>In the sample, his code looks like this:<BR></FONT><FONT color=#ffff00 size=1><FONT color=#ffff00 size=1><FONT face="Courier New" color=#006400 size=3>&lt;Transactional(TransactionalTypes.TransactionScope)&gt; _<BR></FONT></FONT></FONT><FONT face="Courier New"><FONT color=#006400>Protected Overrides Sub</FONT><FONT color=#006400> DataPortal_Insert()<BR></FONT></FONT><FONT color=#006400><FONT face="Courier New">Using ctx = ContextManager(Of <FONT color=#0000ff>ProjectTracker</FONT><FONT color=#ff0000>.DalLinq.PTrackerDataContext</FONT>).GetManager(<FONT color=#ff0000><FONT color=#0000ff>ProjectTracker</FONT>.DalLinq.Database.PTracker</FONT>)</FONT></P></FONT>
<P><FONT face=Arial>In my code, it looks like this:<BR></FONT><FONT color=#ffff00 size=1><FONT color=#ffff00 size=1><FONT face="Courier New" color=#006400 size=3>Transactional(TransactionalTypes.TransactionScope)&gt; _ </FONT></FONT></FONT><FONT color=#006400><FONT face="Courier New">Protected Overrides Sub</FONT><FONT face="Courier New"> DataPortal_Insert()<BR></FONT></FONT><FONT color=#006400><FONT face="Courier New">Using</FONT><FONT face="Courier New"> ctx = </FONT></FONT><FONT color=#006400><FONT face="Courier New">ContextManager(</FONT><FONT face="Courier New">Of</FONT><FONT face="Courier New"> <FONT color=#ff0000>DalLinq.ScoreBoardDataContext</FONT>).</FONT></FONT><FONT face="Courier New" color=#006400>GetManager(<FONT color=#ff0000>DalLinq.Database.ScoreBoard</FONT>)</FONT></P>
<P><FONT face=Arial>I've named my DalLinq as "ScoreBoard.DalLinq".&nbsp; I can't put the "ScoreBoard" in front of DalLinq as&nbsp;then intellisense only shows me "Library" as a selectable option.&nbsp; </FONT></P>
<P><FONT face=Arial>The root namespace in "ScoreBoard.Library" is ScoreBoard.Library.&nbsp; <BR>The root namespace in "ScoreBoard.DalLinq" is ScoreBoard.DalLinq<BR><BR>There's a reference in "ScoreBoard.Library" to "ScoreBoard.DalLinq".<BR>There's a reference&nbsp; in "SBWin.exe" to "ScoreBoard.Library".</FONT></P>
<P><FONT face=Arial>I know this is a namespace issue or something really simple and it may work fine, but when it doesn't look like Rocky's code, as simple as this is, I wonder if I've done something that'll bite me in the butt later.&nbsp; </FONT></P>
<P><FONT face=Arial>Has anyone seen anything like this before and has a simple - "oh you forgot to..." answer?</FONT></P>
<P><FONT face=Arial>Geezer butt biting just ends up in bad Karma.&nbsp; Any help at all would be greatly appreciated (and gets you beers when you're in Indianapolis). &nbsp; </FONT><FONT face=Arial>:D</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, June 26, 2009</h2><P>It does sound like a namespace issue, but I don't know the answer. Maybe the LINQ to SQL designer isn't honoring the VB root namespace or something?</P>
<P>Try adding a class directly to your DalLinq project, and writing some code to use the context - just to find out the full type name of the context object.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nhwilly replied on Friday, June 26, 2009</h2><P>Thanks for the reply, Rocky.</P>
<P>I did put a class in there and purposely got it wrong&nbsp; (yeah, right) and let the vs2008 error handler "suggest" a correction.</P>
<P>My original:</P>
<P><FONT face="Courier New" color=#000000>- Using ... GetManager(DalLinq.Database.ScoreBoard) </FONT></P>
<P>Seems the following work:</P><FONT size=1>
<P><FONT face="Courier New"><FONT color=#000000 size=3>-Using ... GetManager(<FONT color=#ff0000>Global.ScoreBoard.</FONT>DalLinq.Database.ScoreBoard)</FONT></FONT></P><FONT color=#000000 size=3>
<P><FONT color=#000000 size=3>Looks like the database name matches the inferred first segment of the namespace name and maybe it doesn't&nbsp;like that.&nbsp;&nbsp;I don't actually have a namespace of "ScoreBoard" but perhaps one is inferred from "ScoreBoard.Library"</FONT></P>
<P>Is there a possibility that I'm using "ScoreBoard" in a few too many places and there's&nbsp; some kind of confusion?&nbsp; I'll experiment and let you know.</P>
<P></FONT>&nbsp;</P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nhwilly replied on Friday, June 26, 2009</h2><P>OK, I edited this post and that means that my useful secondary observations didn't get sent out in an email.&nbsp; I didn't realize that it worked that way&nbsp;until I got half my message back; so this is a bump.</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, June 26, 2009</h2>You certainly could have some sort of ambiguity problem. I've run into that sort of thing quite a bit, especially when project names (and namespaces) match entity or class names.</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
