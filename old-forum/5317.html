<html><header><title>Strange problem when debugging CSLA: &quot;There is no source code available for the current location&quot;</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Strange problem when debugging CSLA: &quot;There is no source code available for the current location&quot;</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5317.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>stefan posted on Thursday, August 28, 2008</h2><font size="2"><font size="3">I receive a "There is no source code available for the current location" when I debug the Fetching of an object. <br>This is only happening with one specific class. <br>I am using CSLA 3.5.2 (from the repository) and am working with .NET 3.5 SP1.<br><br><b>Here is where I enter debugging...</b><br>MyCustomer.vb<br>&nbsp; Protected Friend Shared Function GetMyCustomer(ByVal id As Guid) As MyCustomer<br><br>&nbsp;&nbsp;&nbsp; If Not CanGet() Then<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Throw New System.Security.SecurityException("User not authorized to view Customer") <br>&nbsp;&nbsp;&nbsp; End If<br>&nbsp;&nbsp;&nbsp; Return DataPortal.Fetch(Of MyCustomer)(New Criteria(id, New MyLockingObject))<br><br>&nbsp; End Function<br><br><b>It reaches the first ctor of LateBoundObject...</b><br>LateBoundObject.cs<br>&nbsp;&nbsp;&nbsp; public LateBoundObject(Type objectType)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : this(MethodCaller.CreateInstance(objectType))<br>&nbsp;&nbsp;&nbsp; { }<br><br><b>It even processes CreateInstance... (the ctor of </b></font></font><b><font size="2"><font size="3">MyCustomer runs)</font></font></b><br><font size="2"><font size="3">&nbsp;&nbsp;&nbsp; MethodCaller.cs<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; public static object CreateInstance(Type objectType)<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var ctor = GetCachedConstructor(objectType);<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (ctor == null)<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new NotImplementedException("Default constructor " + Resources.MethodNotImplemented);<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ctor.Invoke();<br>&nbsp;&nbsp;&nbsp; }<br><b>But it never reaches the actual constructor of LateBoundObject... presenting the above message</b><br>&nbsp;&nbsp;&nbsp; LateBoundObject.cs<br>&nbsp;&nbsp;&nbsp; public LateBoundObject(object instance)<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.Instance = instance;<br>&nbsp;&nbsp;&nbsp; }<br><br>Could it be that improper use of managed properties can lead to that behaviour?<br>I only have managed properties in MyCustomer.vb, so I think I can get away without <br>the _dummy member in the in-between classes...<br>Other objects, that do not use managed properties don't show this behaviour.<br>I read about a problem with the .NET 3.5 SP1 symbol files, which are not yet available,<br>but the code I am having trouble with, comes out of csla.dll, and is not SP1 related.<br><br>Any ideas?<br><br>Stefan<br><br><br><br></font></font></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>thaehn replied on Thursday, August 28, 2008</h2><P>Have you built the CSLA DLLs since you updated the source code? If yes, then try&nbsp;choosing "Rebuild" insted of "Build" and see if that resolves your issues.</P>
<P>Todd</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>stefan replied on Thursday, August 28, 2008</h2>Normally I choose "Cleanup Code" and then do a "Rebuild".<br>I have rebuilt the csla.dll and even updated the references in all of my projects.<br>I have removed the managed property...<br>And I finally replaced all references with a reference to a csla.dll built from the official 3.5.1 download.<br>But I still have the same issue!?<br><br>Stefan<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rasupit replied on Sunday, August 31, 2008</h2>Stefan,<br>You are getting this error message because you're trying to debug through a generated IL code.<br><a href="http://msdn.microsoft.com/en-us/library/3sehk0fb%28VS.80%29.aspx">http://msdn.microsoft.com/en-us/library/3sehk0fb(VS.80).aspx</a><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
