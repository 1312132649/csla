<html><header><title>DataPortalContext.Principal is null when Invoke is called on ObjectFactory</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DataPortalContext.Principal is null when Invoke is called on ObjectFactory</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9987.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Killian35 posted on Wednesday, January 26, 2011</h2><p>Hello,</p>
<p>I&#39;m using Silverlight 4.0 application with CSLA 4.1.</p>
<p>I have an &quot;Invoke&quot; method defined on an object factory that exists on the server. The method accepts a DataPortalContext object.</p>
<p>During a DataPortal call from the client the DataPortalContext.Principal (and all others) property is null, however, the ApplicationContext.User is fine. The principal is being transfered back to the server. I can access it during the &quot;Invoke&quot; method call using ApplicationContext, but the DataPortalContext.Principal is null.</p>
<p>Is there something I&#39;m missing?</p>
<p>Thanks,</p>
<p>Kelly</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, January 26, 2011</h2><p>What type of authentication are you using in the application? There are several configuration options for the data portal that control whether the client-side User property flows to the server on each data portal call, depending on the type of authentication being used.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Killian35 replied on Wednesday, January 26, 2011</h2><p>The authentication type isn&#39;t touched, so &quot;Csla&quot;. The ApplicationContext information flows from the client to the server as I can access the client context and user directly in the Invoke method just fine. The DataPortalContext doesn&#39;t have the culture names set and drilling down using the debugger showed that not even the global and client contexts are set.&nbsp;</p>
<p>I tested the same thing on the SimpeNTier example running the WcfHost for the Silverlight part. I added an Invoke method to the OrderFactory with a DataPortalContext parameter and the same result.&nbsp;</p>
<p>Kelly</p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
