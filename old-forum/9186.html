<html><header><title>CSLADataPortal Service security</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CSLADataPortal Service security</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9186.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>MartinZ posted on Thursday, July 08, 2010</h2><p>I have a question about how to implement a security layer with the CSLA Data Portal Service and Silverlight.</p>
<p>I am using&nbsp;VS2010 and .NET 4.0, with a WCF service named CSLADataPortalService which is using the CSLA&nbsp;server side library along with all my server side binaries that are invoked from silverlight based client side libraries including CSLA light.&nbsp; This works fine as is but is lacking any kind of security layer.</p>
<p>I have currently developed a seperate secure WCF service using MessageHeaders as a way to validate credentials I am passing to it.&nbsp; This has been done in this manner as we have SSL offloaders that would not allow UserNameOverTransport to work correctly (even after trying the new .NET 4.0 &quot;AllowInSecureTransport&quot; enabled).&nbsp; What I ended up doing is implementing custom attributes for each method in the service.&nbsp; These attributes would then call a validation method to validate the message header credentials&nbsp;and then if successful continue to call the intended service method.&nbsp; This achieves the same UserNameOverTransport functionality without the binding issues with the SSL offloader.</p>
<p>I am looking to implement this same type of security to the CSLADataPortal service as it will sit behind an SSL offloader, but feel that the only way to actually get it to work would be by modifying the CSLA library to have the attributes as mentioned above&nbsp;for the Create/Fetch/Update/Delete methods of the DataPortal.</p>
<p>I suspect it will take creating my own custom data portal class inheriting from core code and then adding attributes to the CRUD methods above, then modifying our class templates to use this new portal class.</p>
<p>What are you suggestions for&nbsp;accomplish this?&nbsp; </p>
<p>Thank you,</p>
<p>Martin</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, July 08, 2010</h2><p>You are correct, if you want to add extra WCF transport security you&#39;ll need to create your own proxy and host classes - which is typically done by subclassing WcfProxy on the client and WcfPortal on the server.</p>
<p>In extreme cases you might need to create your own proxy/host pair from scratch, in which case you can use WcfProxy and WcfPortal as a guide for your implementation. But even in this case there should be no need to alter CSLA itself, since the data portal is entirely interface-based and it uses a pluggable provider model for these components.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
