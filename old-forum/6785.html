<html><header><title>Keeping different versions of a class synchronized</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Keeping different versions of a class synchronized</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6785.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>bgilbert posted on Monday, April 13, 2009</h2>This is probably more of an OO question than a CSLA question.<br><br>For several of my business object classes, I need to maintain both BusinessBase and ReadOnlyBase versions. I'm trying to figure out the best way to prevent having to maintain duplicate code in both classes. An interface only gets me part of the way there. Any suggestions?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, April 13, 2009</h2><P>Even though an editable object and read-only object might have similar properties, it is unlikely that any of their code is in common.</P>
<P>Even the property code is different, because the editable object will have read-write properties and the read-only object will have read-only properties.</P>
<P>The editable object will have business and validation rules, the read-only object won't.</P>
<P>They both might have some authz rules, but the editable object will allow/deny write, and the read-only object won't.</P>
<P>So in the end, the only code that might be close enough to reuse would be your data portal fetch method. There are&nbsp;several ways to build a data access layer that would allow reuse of the data retrieval code to load two different objects with the same (or very similar) properties.</P>
<P>If your DAL returns a DataReader, and the objects have very similar properties, you could get away with loading both objects from a common DataReader (reuse the same DAL method).</P>
<P>If your DAL returns a DTO, and the objects have very similar properties, you could get away with loading both objects from a common&nbsp;DTO (reuse the same DAL method).</P>
<P>And I'm sure there are other variations on that theme - you could use reflection, etc.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
