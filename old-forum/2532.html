<html><header><title>Circular Dependency - OO Model</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Circular Dependency - OO Model</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2532.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>somayajulu posted on Friday, March 16, 2007</h2><P><FONT face=Arial size=2>Hi there,</FONT></P>
<P><FONT face=Arial size=2>I'm trying to build a .Net application following a couple of considerations in the architecture:<BR></FONT><FONT face=Arial size=2>1. There shall be <EM>User Interface Layer</EM>, <EM>Business Logic Layer</EM> and <EM>Data Access Layer</EM><BR>2. All the three layers shall be in separate projects</FONT></P>
<P><FONT face=Arial size=2>I would like to achieve the following out of this layered architecture:<BR>1. User Interface&nbsp;shall request for an object&nbsp;to&nbsp;the Business Layer<BR>2. Business Layer shall send an empty Business Object to the Data Access Layer<BR>3. Data Access Layer shall populate the Business Object and send it back to the Business Layer<BR>4. Business Layer shall send the populated&nbsp;Business Object back to the User Interface.</FONT></P>
<P><FONT face=Arial size=2>The problem:<BR>I have set a reference in the Business Layer to the Data Access Layer. Now for the Data Access Layer to recognize the Business Object, I have to set a reference in the Data Access Layer to the Business Layer. This will throw a <EM>circular dependency</EM> error.</FONT></P>
<P><FONT face=Arial size=2>Is there a workaround for this issue which follows Object Oriented Model?</FONT></P>
<P><FONT face=Arial size=2>Regards,<BR></FONT><FONT face=Arial size=2>Som.</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, March 16, 2007</h2>Well, this is why Csla objects have the DataPortal_XYZ methods.&nbsp; If you check out Rocky's book, chapters 1 &amp; 2 of the Second Edition, he comes to exactly this same conclusion when discussin possible archtechtures., and the compromise is the DataPortal methods and the BO just knows how to use the DAL to get or save its data.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>malloc1024 replied on Friday, March 16, 2007</h2>

<p class="MsoNormal">If you want to separate the db code from the business
object, you might want to look into the separated interface <a href="http://www.martinfowler.com/eaaCatalog/separatedInterface.html">http://www.martinfowler.com/eaaCatalog/separatedInterface.html</a>
.<span>&nbsp; </span>It can be used to solve the circular
reference problem.<span>&nbsp; </span>Another option would
be to use DTOs.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Brian Criswell replied on Friday, March 16, 2007</h2>You may also want to check out this J2EE example.&nbsp; <a href="http://java.sun.com/blueprints/corej2eepatterns/Patterns/DataAccessObject.html">http://java.sun.com/blueprints/corej2eepatterns/Patterns/DataAccessObject.html</a><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>somayajulu replied on Saturday, March 17, 2007</h2><P><FONT face=Arial size=2>Thanks for the usefull ideas and links!<BR>I'll have a look at them.</FONT></P>
<P><FONT face=Arial size=2>Regards,<BR>Som.</FONT></P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
