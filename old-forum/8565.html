<html><header><title>Csla.PropertyInfo&lt;T&gt; and System.ComponentModel.PropertyDescriptor</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Csla.PropertyInfo&lt;T&gt; and System.ComponentModel.PropertyDescriptor</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8565.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Regent posted on Tuesday, February 23, 2010</h2><p>Hi Rocky,</p>
<p>Have you considered inheriting <strong>Csla.PropertyInfo&lt;T&gt;</strong> from&nbsp;<strong>System.ComponentModel.PropertyDescriptor</strong> class? You can get a list of properties for a specific class by&nbsp;<strong>TypeDescriptor.GetProperties(typeof(ClassName)) </strong>and <strong>PropertyDescriptor</strong> will have a lot of useful properties populated, such as `Converter` (TypeConverter for this property), `IsReadOnly`, `DisplayName`, `Name`, `Description`. (It takes some information from property&#39;s attributes like, DescriptionAttribute, DisplayNameAttribute and ReadOnlyAttribute.)</p>
<p>Also currently you use &quot;&quot; as a default friendlyName but I think the most appropriate is to use the one from DisplayName property.</p>
<p>Thanks</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>ajj3085 replied on Tuesday, February 23, 2010</h2><p>Not sure that&#39;s a good idea, because it uses reflection... which I believe&nbsp;was what PropertyInfo&lt;T&gt; was meant to avoid.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Regent replied on Wednesday, February 24, 2010</h2><p>Well, <strong>PropertyDescriptor</strong>&nbsp;by itself is an abstract class and it is not&nbsp;mandatory&nbsp;to use a reflection in order to get a valid instance of <b>PropertyDescriptor</b>. But the one obtained via reflection is widely used by the .NET framework. (when displaying column names in the DataGridView using DisplayName, using ReadOnly or using TypeConverter for interpreting string data to another type.)</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, February 24, 2010</h2><p>PropertyDescriptor doesn&#39;t exist in Silverlight, so it isn&#39;t useful in the general case.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, February 25, 2010</h2><p><div style='padding-left: 50px;background-color:silver'><b>Regent<br></b></p>
<p>Also currently you use &quot;&quot; as a default friendlyName but I think the most appropriate is to use the one from DisplayName property.</p>
<div style="clear:both;"></div>
<p></div></p>
<p>There is an item in the wish list to pull the friendly name from the DisplayName attribute when RegisterProperty() is invoked. That got a little more complicated now with DataAnnotations though, since I think they defined yet another friendly name attribute to check for...</p>
<p>The upside is that the new attribute in DataAnnotations supports localization, which was one reason the older DisplayName attribute wasn&#39;t ideal.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Regent replied on Friday, February 26, 2010</h2><p>I haven&#39;t noticed DataAnnotations&#39; DisplayAttribute... Looks like it is indeed a better way for specifying friendly name. Perhaps when RegisterProperty is called it should look for DisplayAttribute and fall back to DisplayNameAttribute if wasn&#39;t found?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, February 26, 2010</h2><p>This is almost certainly what we&#39;ll do, yes.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
