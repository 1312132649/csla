<html><header><title>Seeking Design advice (Silverlight / MVVM )</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Seeking Design advice (Silverlight / MVVM )</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10450.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jack posted on Friday, June 17, 2011</h2><p>I&#39;m looking for some general design advice as I revamp my framework and core application to 4.x.&nbsp; I have a lot of old and poorly designed code due to it being a first time CSLA project and Silverlight etc. etc.</p>
<p>My biggest struggle seems to be about how to handle subsets of data.&nbsp; My application is 90% readonly but involves lots of slicing and dicing on the same data from different perspectives and then performing single or bulk operations across select chunks.&nbsp; Some of those chunks represent children in a hierarchial relationship so that means refreshing parents and potentially checking the relationships between children.</p>
<p>The easiest example is that I have a DataEntryTask object&nbsp;in the system that at the bottom level belongs to a participant.&nbsp; One has to manage and ultimately enter test data for a single subject.&nbsp; The task has a schedule and various states (completed/cancelled/entered/ and then time related info).</p>
<p>However there are umpteen ways of dealing with the task depending on one&#39;s role.&nbsp; I need to manage:</p>
<p>All project tasks<br />All tasks at a site (1:x projects)<br />All tasks assigned to Resource X<br />All tasks for Participant Y<br />All tasks for Test Z</p>
<p>etc.</p>
<p>Each scenario uses the same basic object but influnces different parts of the workflow.&nbsp; This means a lot of re-use of the same data so I&#39;m trying to avoid huge data retrievals.</p>
<p>What I&#39;m finding is that I built giant UOW object and then pulled back ReadOnly lists and EditableLists.&nbsp; I&#39;m then wrapping the individual items in ViewModels and presenting them to the UI that way.&nbsp; In essences I don&#39;t seem to care about the xxxList stereotypes as they just seem to get in the way.&nbsp; I still need the UOW objects as they load and manage all the lookup tables etc. but I&#39;m struggling on how to better manage this.&nbsp; I do a lot of loading a subset of data and then appending and then removing / refreshing etc.&nbsp; That doesn&#39;t work at all with the existing list StereoTypes.&nbsp; I&#39;m really just using them as a transfer mechanism through the data portal (maybe not such a bad thing).</p>
<p>I&#39;m wondering if I would be better served with a set of CommandObjects that pulled lists from the DB and then my UOW just dealt with IEnumerable&lt;MyClass&gt;.</p>
<p>Maybe I don&#39;t need to be using xxxList objects and just having managed properties that are List&lt;xxx&gt; instead?&nbsp; </p>
<p>Thanks</p>
<p>jack</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
