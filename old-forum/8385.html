<html><header><title>Authentication being bypassed when calling dataportal</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Authentication being bypassed when calling dataportal</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8385.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>nobby_trussin posted on Wednesday, January 20, 2010</h2>Hi,<br /><br />We have a problem whereby the security aspect of our Csla for Silverlight application does not seem to be setup correctly.<br /><br />We can perform a fetch (and indeed all other actions) on our business objects before we have even logged in and set the Csla.ApplicationContext.User to an authenticated principal. Interestingly, after we log in, we cannot perform any actions - we receive a "No parameterless contructor defined for this object".<br /><br />I'm sure we're just missing something simple somewhere. We have tried setting both the CslaAuthentication appsetting AND the AuthenticationType property on the Identity object to "Csla" but to no avail.<br /><br />Has anyone else encountered anything like this?<br /><br />Thanks for your help<br /><br />Dan</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Wednesday, January 20, 2010</h2>All Silverlight CSLA classes must have public constructor defined.  I am guessing this is what you are running into.<br /><br />Sergey Barskiy<br />Principal Consultant<br />office: 678.405.0687 | mobile:&#160;404.388.1899<br /><br />Microsoft Worldwide Partner of the Year | Custom Development Solutions, Technical Innovation<br /><br />-----Original Message-----<br />From: nobby_trussin [mailto:cslanet@lhotka.net] <br />Sent: Wednesday, January 20, 2010 11:33 AM<br />To: Sergey Barskiy<br />Subject: [CSLA .NET] Authentication being bypassed when calling dataportal<br /><br />Hi,<br /><br />We have a problem whereby the security aspect of our Csla for Silverlight application does not seem to be setup correctly.<br /><br />We can perform a fetch (and indeed all other actions) on our business objects before we have even logged in and set the Csla.ApplicationContext.User to an authenticated principal. Interestingly, after we log in, we cannot perform any actions - we receive a "No parameterless contructor defined for this object".<br /><br />I'm sure we're just missing something simple somewhere. We have tried setting both the CslaAuthentication appsetting AND the AuthenticationType property on the Identity object to "Csla" but to no avail.<br /><br />Has anyone else encountered anything like this?<br /><br />Thanks for your help<br /><br />Dan<br /><br /></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nobby_trussin replied on Thursday, January 21, 2010</h2>Hi,<br /><br />Thanks for your reply. I forgot to mention that all my Silverlight classes do have public constructors. Presumably they are setup correctly as I can fetch/update/create the objects before I have logged in, but not after.<br /><br />Cheers<br /><br />Dan</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Thursday, January 21, 2010</h2>Hi, <br><br>How about the principal and identity objects? <br><br>I presume you are using custom principal/identity and it seems like there is a serialization error on these. They should inherit from Csla.Security.BusinessPrincipalBase and Csla.Security.CslaIdentityBase.<br><br>&nbsp;How are they defined in your app? <br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nobby_trussin replied on Wednesday, January 27, 2010</h2>Hi,<br /><br />Sorry for late reply. The principal and identity are defined as you mentioned above. <br /><br />Thanks<br /><br />Dan</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nobby_trussin replied on Wednesday, January 27, 2010</h2>Problem is now sorted. I WAS missing a constructor after all - it was the private constructor on the Principal object I was missing. <br /><br />Thanks to everyone for replying<br /><br />Dan</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
