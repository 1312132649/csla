<html><header><title>4.5.30 Project Tracker sample, cannot login</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>4.5.30 Project Tracker sample, cannot login</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12199.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Tom_W posted on Tuesday, October 29, 2013</h2><p>Hi all</p>
<p>After several happy years of 3.6.3 and Winforms we are now beginning the transition to asp.net and trying to get up to speed with the newer features of CSLA too.</p>
<p>I&#39;m trying to get the 4.5.30 Project Tracker sample working in Visual Studio 2013 which has taken a while, but I now have everything compiling and the mvc, winforms and wpf projects running and returning read only data.</p>
<p>What I&#39;m stuck with is logging in, it doesn&#39;t work for me in any of the projects. &nbsp;I can attach to (localdb)\11 and see the aspnetdb database fine in the Server Explorer in Visual Studio and obviously I&#39;m returning data ok from the actual project tracker database. &nbsp;Is there something obvious I&#39;m missing?</p>
<p>Edit:</p>
<p>The actual issue is that the call to Membership.ValidateUser() is returning false in ProjectTracker.DalEf.UserDal &nbsp;- what would cause that?</p>
<p>Quick steps to reproduce: &nbsp;Open the ProjectTracker sample in VS2013, unload the Mvc3UI project, set the WfUI project as the startup project, run it and try and login.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Tom_W replied on Wednesday, October 30, 2013</h2><p>This is driving me bonkers, all I want to do is get the sample app up and running!</p>
<p>I created a WebApplication in VS2010 and once I ran that up and registered a user it created the aspnetdb fine and connected to it. &nbsp;</p>
<p>VS2012/2013 no longer seem to use aspnetdb, but I created WebApplication projects in both of those too and they both worked fine too.</p>
<p>So... seems to be something to do with the configuration of ProjectTracker.</p>
<p>Has anyone run ProjectTracker for 4.5.30 and had it work straight out of the box?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Wednesday, October 30, 2013</h2><p>This isn&#39;t going to be helpful because I don&#39;t remember what the problem was, but no - getting 4.5.30 going (to run the MVC example) was a bit of a bear.&nbsp; I did get it running eventually when I did try it.&nbsp; (I don&#39;t have my configuration any longer, sorry).</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Tom_W replied on Wednesday, October 30, 2013</h2><p>Thanks for replying, nice to know I wasn&#39;t the only one at least!</p>
<p>I have just this minute solved it, and it is a corker. &nbsp;I thought I had tried everything, but then I checked the databases on (localdb)\v11.0 in SQL Management Studio, and discovered they were readonly... and then the penny dropped.... the samples are installed in Program Files by the 4.5.30 installer. &nbsp;As soon as I granted the Users group on my PC write full priveleges to the samples directory it all worked fine.</p>
<p>Absolutely no indication of anything like that in the error messages returned by any part of .net of course... &nbsp;That&#39;s six hours of my life I&#39;ll never get back!</p>
<p><span style="text-decoration:line-through;">I don&#39;t understand why that was necessary though, I thought IIS Express ran in the local user account and my user account has full privileges on Program Files. &nbsp;Odd.</span></p>
<p>Edit: &nbsp;Thinking about this logically, the issue must be that the user account SQL Express is running in doesn&#39;t have permissions to write to Program Files.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Tom_W replied on Wednesday, October 30, 2013</h2><p>I have now documented everything I did to get ProjectTracker running in VS2013 in a separate post:&nbsp;<a href="http://forums.lhotka.net/forums/p/12200/56461.aspx#56461">http://forums.lhotka.net/forums/p/12200/56461.aspx#56461</a></p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
