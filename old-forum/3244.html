<html><header><title>Switchable, EditableRootList or other?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Switchable, EditableRootList or other?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3244.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Nicholas Trevatt posted on Saturday, July 21, 2007</h2>Hi, &nbsp;<br><br>Firstly, sorry for this simple design question and I appreciate any advice to help keep me on track.&nbsp; I'm not sure if my problem lies in my UI or BO design.<br><br>I am creating a sytem where my teaching business needs to manage tasks/reminders per student such as Ring Student, or Book Exam etc.&nbsp; I have implemented this as follows:<br><br>- Student (EditableRoot)<br>&nbsp; - Tasks (EditableChildCollection)<br>&nbsp;&nbsp;&nbsp; - Task (EditableChild)<br><br>In the UI I have a read-only TasksDataGridView on the students details screen and when double clicked I show a TaskDetailDialog form which accepts a new or existing Task BO for the user to update.&nbsp; This works fine.However, now I'm creating an editable global filterable view of all tasks for all students and started implementing it as follows:<br><br>- TaskList (ReadOnlyCollection)<br>&nbsp; - TaskInfo (ReadonlyChild) &nbsp;<br><br>I'm also displaying this in a read-only grid and my intention was when double clicked to get the editable child task and show it in the same already existing TaskDetailDialog.&nbsp; I quickly realized that I can't just *get* a specific editable child from thin air and that my approach won't work!&nbsp; So, I am searching for the best way to edit my Task from the global view. I can see perhaps two options.<br><br>1) Make the Task BO switchable <br>2) Dump the TaskList/TaskInfo in favour of an EditableRootListBase/EditableRoot solution as detailed in the CSLA 2.1 Handbook.<br><br>I favoured option one to start with simply so I could reuse the already existing TaskDetailDialog form to update the task.&nbsp; But after some reading (particularly the don't use a switchable objects statements) I think I'm off track.&nbsp; Which option, or perhaps another one will help solve my little problem?<br><br>Cheers,<br>Nicholas<br><br><br><br><br><br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>triplea replied on Sunday, July 22, 2007</h2>I guess option 2 will suffice. The thing is that TaskInfo/TaskList have their own behaviour, responsibility and criteria so you'd probably need to convert TaskInfo/TaskList to EditableRootListBase/EditableRoot objects. Since they are quite similar to your Tasks/Task object, you could have a "TaskBase" object and share some methods, in order ot avoid writing duplicate code. Kind of what the Assignment class does in PTracker.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Sunday, July 22, 2007</h2><P>I sometimes use a top level root BO that just contains a child. (Or many other BOs.) This root BO is a Use Case Controller object. It coordinates the data for the use case. In your example it allows you to fetch the single child BO after going through the dataportal of the root using the childID.</P>
<P>Joe</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Nicholas Trevatt replied on Sunday, July 22, 2007</h2>Hi Joe,<br><br>That sounds like a definite possibility.&nbsp; So to clarify what your suggesting for my scenario...I could create a TaskController(EditableRoot) which is able to fetch task data and pass it onto the Task(EditableChild) which is a child of TaskController?<br><br>Thanks,<br>Nicholas<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Sunday, July 22, 2007</h2><P>Yes.</P>
<P>As a root object it can have its own validation rules and data portal calls.</P>
<P>You may not need that extra stuff in this case but the idea still holds true. </P>
<P>Or you may have extra rules for this use case which don't exactly fit your child BO - you can now add them to your TaskController root BO.</P>
<P>Either way your UI fetches a TaskController BO and it in turn fetches the specific child based on input criteria like TaskID. The you can save your root BO which saves your child BO in the normal fashion. In the root, be sure to Override IsValid and IsDirty to include your child BO.</P>
<P>Joe</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
