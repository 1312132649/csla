<html><header><title>Varied behavior based on datatype</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Varied behavior based on datatype</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/620.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>esteban404 posted on Friday, July 14, 2006</h2><P>I have a collection of line items&nbsp;of types&nbsp;Sales Order, Purchase Order&nbsp;and Invoice. I need to use all three in multiple locations.</P>
<P>The collections have items with a parent ID and&nbsp;number&nbsp;included. Worked fine until another BusinessBase class came along whose primary field was not&nbsp;the same&nbsp;type. I now have two objects (BusinessBase 1.53) which do not have the same data type for their ParentID: one uses a Guid, the other a long.</P>
<P>Is a criteria object sufficient to choose the correct CRUD actions or do&nbsp;I need more than one object?</P>
<P>Thanks in advance,</P>
<P>_E</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, July 14, 2006</h2>I'm not sure I follow; the same object has a guid or long id?&nbsp; How did this happen?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>esteban404 replied on Friday, July 14, 2006</h2><P>The objects are not&nbsp;the same object. The collection being returned is the same but the object(s) that needs the filled collection have different datatypes for their ids. I need the collections to be reuseable by other classes so they can get the same data from our data warehouse.</P>
<P>I *will* need a new table to store these values, but I think I&nbsp;one class can fill the collections.&nbsp;I erred in saying the behaviour is different... it's not, only&nbsp;some criteria changes. That's easy enough.</P>
<P>I jumped the gun. (Though the sky does look to be falling today.)</P>
<P>_E</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>vargasbo replied on Monday, July 17, 2006</h2>If you have different behavior, then you should have two different object collections. Csla kinda prevents you from have a generic type of collection, which is what it seems you want.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Tom Cooley replied on Monday, July 17, 2006</h2>You can overload your factory methods to take the different data type parameters. You probably want to have two criteria classes nested in your collection and your dataportal methods will react accordingly based upone which one is received. In this case you, may want to inherit from CriteriaBase so that can be the type for the parameter on the dataportal methods. Then cast to the GuidCriteria or IntCriteria to get at the properties nested within.<br><br>Another consideration is to alter the table schema for one of the root objects so that they match. One column is the primary key and the other becomes a candidate key. So long as they are both unique, they are both candidates for obtaining the right record(s). It might sound unconventional but if you make a table with an int primay key replicable, it would do the exact same thing.<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>esteban404 replied on Monday, July 17, 2006</h2><P>I&nbsp; broke down and just mapped all the fields involved&nbsp;and made an abstract class to contain the common fields. It turned out the storing database had multiple programmers who called the same type of data by different names and datatypes. I've poured them into a common cup and the DataPortal code handles each one and converts the datastore to a more reasonable value.</P>
<P>I think that contributed to how difficult it appeared to be.</P>
<P>Thanks for replying everyone.</P>
<P>_E</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
