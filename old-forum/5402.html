<html><header><title>Checking for duplicate address in Root</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Checking for duplicate address in Root</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5402.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>jfreeman posted on Monday, September 15, 2008</h2><P>I have a situation where I have a BusinessBase object for Employee.&nbsp; After the user enters the Employee's full address (address, city, state, zip), I want to check to make sure there is not a duplicate record already in the system for that address.&nbsp; I then want to show&nbsp;the duplicate records to the user so they can check them.&nbsp; Should that occur in the UI or can it happen in the business object?&nbsp; I was thinking it could be a check in the BO that gets fired after each field gets Set.&nbsp; It would check to make sure all of the fields have been entered before it hits the database to look for the duplicate.&nbsp; However, I don't know how to notify the UI that records exist and they need to be shown?&nbsp; Thanks.</P>
<P>Jonathan</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Monday, September 15, 2008</h2><P>You might consider exposing an event on your business object that you would fire if duplicates were detected. Then, you would have an event handler within your user interface to respond when that even is raised. </P>
<P>As far as potential duplicates, it's certainly an option that you could have a collection on your business object that holds the results of your command object duplicate check (assume that's how you're doing it) and have that be a collection you make publicly available (potentially as a reference you supply in a beefed up event args for the event you'd expose). </P>
<P>Another option would be to make your user interface code invoke the check for duplicates and simply provide the underlying business objects to do a duplicate check in the database based on address, city, state, zip. </P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Wbmstrmjb replied on Monday, September 15, 2008</h2><P>Apart from the implementation, address matching is tough to do in any system.&nbsp; The variations in an address are so great that some extremely fuzzy logic needs to be used to identify "matches" based on address.&nbsp; "123&nbsp;N. Elm&nbsp;St" may or may not be the same as "123 North&nbsp;Elm Street #42".&nbsp; Maybe the first address didn't have the number on it.&nbsp; Maybe they are different.&nbsp; Hard to tell.</P>
<P>My question would be why?&nbsp; Why do you care if the address is in the system?&nbsp; For data normalization?&nbsp; This "duplicate" data is really not a big deal.&nbsp; The most important thing is that an Employee's address not be linked to someone else's address that happens to be similar.&nbsp; Then a change to one means a change to the other.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>skagen00 replied on Monday, September 15, 2008</h2><P>Address matching is indeed complex. Totally agree with you.</P>
<P>If you approach addresses the same way many do, they are their own root object - not just arbitrary child data on an individual or organization. Addresses in our system are modal objects - 5512 2nd Avenue represents an object with it's own particular qualities and potentially history - if I lived there and moved, I wouldn't actually change the address itself - rather, I would point myself to another address. </P>
<P>So it is in part a normalization issue - yes. And in our case, duplicate data isn't desirable. </P>
<P>To get really good at this, you might pair your application with something like MelissaData, and use delivery point validation to essentially get a perfectly unique value for an address that is entered/corrected/and recognized.&nbsp; </P>
<P>Writing your own logic to match addresses, like Wbmstrmjb says, is anything but easy. </P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jfreeman replied on Monday, September 15, 2008</h2><P>Thank you for your help.&nbsp; I like the idea of exposing the event from the BO and then capturing it in the WinForm.&nbsp; </P>
<P>Our address check is not that complicated.&nbsp; It is just to let the user know there may be another Employee in the system with a similar address.&nbsp; I appreciate the ideas though.&nbsp; Thanks.</P>
<P>Jonathan</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
