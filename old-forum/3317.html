<html><header><title>Undo feature</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Undo feature</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3317.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rossl123 posted on Friday, August 03, 2007</h2>Here's hoping someone can help.<br><br>I am still using V1.0 and having trouble with undo. After screen edits have been made to a my business object, when the user chooses to cancel I have invoked the CancelEdit funtion, but I find that only the last edit has been undone. What I was expecting was that all edits back to level 0 would be rolled back off the stack.<br><br>Is this something that is a problem or a feature limitation with V1.0 or am I missing something?<br><br>Thanks for reading my post.<br><br>Ross<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, August 03, 2007</h2>Remember that the undo is an n-level undo.. so they are nested.&nbsp; For each call to BeginEdit, you'll need to call CancelEdit.<br><br>If you're using databinding though, you shouldn't be calling those methods at all; that's databindings responsibility.<br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rossl123 replied on Sunday, August 05, 2007</h2>Thanks for your reply Andy.<br><br>It seems that I have come unstuck in my implementation of the original VB.Net code. Since I began using CSLA before the C# release, I had to hand code the VB.Net version to C#. When the C# version came along I merely checked the implementation was the same as mine and applied some of the erratum as appropriate. It appears that the code in the IEditableObject region in BusinessBase must have been added, or I missed converting it somehow in the first place. It is this code that manages the updates from the binder and allows the n-level undo to be overriden at the form level, hence act as a Cancel operation at that level rather than an Undo.<br><br>It was your mention of the fact that I shouldn't have been using the methods that got me pointed in the right direction, because, as it is true that these methods aren't needed in a web environment, in windows forms they are, because of the stateful environment. Which led me back to the book, and comparing code line by line and...<br><br>Thanks again<br>Ross<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
