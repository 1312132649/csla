<html><header><title>MVP / Supervising Controller CSLA Example?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>MVP / Supervising Controller CSLA Example?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1092.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>FireGarden posted on Thursday, August 31, 2006</h2><P>I just finished reading a great article on MSDN about the MVP presenter pattern&nbsp; as follows:</P>
<P><A href="http://msdn.microsoft.com/msdnmag/issues/06/08/DesignPatterns/default.aspx">http://msdn.microsoft.com/msdnmag/issues/06/08/DesignPatterns/default.aspx</A></P>
<P>In researching the pattern I also did some reading on the current state of the pattern and found it was split into two patterns: </P>
<P><A href="http://www.martinfowler.com/eaaDev/ModelViewPresenter.html">http://www.martinfowler.com/eaaDev/ModelViewPresenter.html</A></P>
<P>I am wondering if anyone has a 'best practices' code example they could share of an implementation of either of these pattern flavors? </P>
<P>I am curious to see if a service is built inbetween the businss objects and the presenter. Also&nbsp;some examples of how data binding is handled as noted in Supervising Controller. </P>
<P>Regards,</P>
<P>Rob Wheeldon</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>FireGarden replied on Thursday, August 31, 2006</h2><P>Come on guys, </P>
<P>We are all using Csla as a framework. It's great we have&nbsp; recognized the benefits of&nbsp;building applications with a &nbsp;framework like Csla. Lets get some discussion about how this frame work fits into solutions using simple design patterns like the&nbsp;MVP pattern.</P>
<P>If you are new to the concept of design patterns&nbsp;I reccomend Design Patterns Explained (2nd edition). I am new to patterns and quite frankly I am&nbsp;wearing a diaper to stay clean. </P>
<P>Lets all be conscious of UI Architecture.&nbsp;Model view presenter is a great pattern to base your UI around. So pull up your pants people and learn MVP then post some creative implementations using the Csla framework.</P>
<P>I don't think this is off topic of "Csla discussion". Csla is a great place to live but it's only a piece of the big picture. Lets all be conscious of the big picture because it will give us better understanding of the parts.&nbsp; I live on this planet but exist in a solar system.</P>
<P>In closing I love this Csla community.</P>
<P>Rob Wheeldon</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>alandotnet replied on Thursday, April 05, 2007</h2>Hi Everyone,<br><br>We have just convereted a very large CSLA Project over from CSLA 1 to 2. We are looking to rewrite the enire windows forms interface now. I work with a programmer who is pushing the idea of using th MVP patturn to contruct this new windows forms UI.<br><br>I have some concerns though. I dont understand the MVP framwork fully yet, so its hard to say if my concerns are warrented.<br><br>Rocky has mentioned is this post <a HREF="/forums/thread/7842.aspx">http://forums.lhotka.net/forums/thread/7842.aspx</a> that some of the patturns overlap what is already in CSLA...<br><br>There is an AWFUL LOT of work in creating a new UI. I want to make sure we do it the best way possible. <br><br>Has anyone here used the MVP patturn for a project? Id love to know how it went/how its going?<br><br>Can anyone (Rocky maybe) tell me if the MVP does in fact cover any ground already covered by CSLA.<br><br>Thanks<br><br>Alan<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, April 05, 2007</h2><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>alandotnet:</strong></div><div>I work with a programmer who is pushing the idea of using th MVP patturn to contruct this new windows forms UI.</div></BLOCKQUOTE><br><br>Well, patterns should evolve naturally as you program.&nbsp; You don't start out with the idea that 'we will use pattern X,' you program until you encounter a problem, then decide 'does pattern X help make this easier to maintain.'&nbsp; <br><br>Tell your coworker to check out Head First Design Patterns, especially the last few chapters.&nbsp; It has very sound advice about when to use patterns, but also when NOT to use patterns.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Bayu replied on Thursday, April 05, 2007</h2>Aight,<br><br>Let's see if I can add someting of value. ;-)<br><br>I have been using MVP/MVC for quite some time now. But I am not really following a strict recipe. I think that is how design patterns should be leveraged: pragmatically. As a result, I don;t really have a clue whether I am doing MVP or MVC, but I think a lot of people have trouble making this distinction and as you pointed out even Martin Fowler is not sure. For effective use though it does not really matter, as long as it works, right? ;-) So from now on I will refer to the Presenter or Controller as if they are the same thing.<br><br>I think that <span>the </span>keyword in MVP/MVC is <span>reuse</span>.As someone pointed out: building UIs is a time-consuming task, add to that that most applications have a lifespan that spans at least 2, but perhaps many more UI technologies (now it's WPF, who knows what it'll be in 2010).<br><br>In my opinion you have successfully implemented MVC/MVP is you achieved the following:<br><br>- you can <span>reuse Views</span> independent of the attached Controller/Presenter<br>&nbsp;&nbsp;&nbsp; - e.g.: depending on the attached Controller/Presenter you View shows different elemtns of your model (business objects)<br>&nbsp;&nbsp;&nbsp; - and/or exposes different behavior<br><br>- you can <span>reuse Controllers/Presenters</span> across different views<br>&nbsp;&nbsp;&nbsp; - depending on the view your model is rendered in a particular way<br>&nbsp;&nbsp;&nbsp; - but the behavior on your Controller is reused<br><br><br>Let's jump to an example, in my current app I have the following Views:<br>- DetailsView<br>&nbsp;&nbsp;&nbsp; - displays the details of a single object using a grid-layout (tablelayoutpanel)<br>&nbsp;&nbsp;&nbsp; - can render arbitrary objects (uses a lot of reflection)<br>&nbsp;&nbsp;&nbsp; - typically, the labels with property names are in the odd columns and their values are displayed in the even columns<br>- GridView<br>&nbsp;&nbsp;&nbsp; - can display a list of items, also using reflection it determines which columns should be created for the object's properties<br>- Several more views that mostly serve to organize the overall layout, most importantly I have a ParentChildrenLayoutView:<br>&nbsp;&nbsp;&nbsp; - show a DetailView at the top<br>&nbsp;&nbsp;&nbsp; - and shows one or more GridViews in a TabControl at the bottom<br><br>Both the DetailView and the GridView are capable of rendering objects in readonly mode and in editmode. In the latter case the detailview will show things like comboboxes and textboxes and the gridview will allow the user to add new rows.<br><br>Then I have the following Controllers that can be attached to these views:<br>- ReadOnlyObjectController<br>- EditableObjectController<br>- ReadOnlyListController<br>- EditableListController<br><br>The readonly controllers require the view to implement IReadOnlyObjectView and the editable object controllers require the view to implement IEditableObjectView. Both these interfaces are implemented by my views of course.<br><br>Now, it's not hard to see how I can support almost all standard use cases with just this handful of views and controllers. Suddenly, UI development became a REALLY fast-paced track of development, since in order to support new business objects/use cases I hardly need to program any UI code. And of course there are some of those views that do not fit in the standard pattern, these can choose to derive from one of my base views or they can be built from scratch. Possibly I can reuse a controller, since usually <span>that</span> logic does not change (it's just the rendering logic that changes). The same holds true for complex use cases that require specific controllers. Think of a Wizard like interface, this requires a new controller but can be built mostly using <span>existing</span> views. Remember: MVP/MVC is all about reuse.<br><br>Unfortunately I cannot share any code, but I hope to have given you some basic ideas to get started with.<br><br>Regards,<br>Bayu<br><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
