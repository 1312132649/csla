<html><header><title>Managed Backed Fields For ReadOnlyBase?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Managed Backed Fields For ReadOnlyBase?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9429.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Phlar posted on Thursday, August 26, 2010</h2><p>Good Morning All,</p>
<p>I wanted to engage your thoughts on the Pros and Cons of utilizing Managed Backed Fields for ReadOnlyBase objects?</p>
<p>Are there any reason why we shouldn&#39;t use them (i.e. Performance)?&nbsp; Conversely are there any benefits to utilizing them?</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, August 26, 2010</h2><p>The same pros and cons apply as with BusinessBase.</p>
<p>If you use managed backing fields:</p>
<ul>
<li>your properties will automatically serialize to Silverlight and WP7 apps</li>
<li>there is a (typically small) perf hit</li>
</ul>
<p>If you use private backing fields:</p>
<ul>
<li>you will need to manually handle serialization to Silverlight and WP7 apps</li>
<li>you will get a (typically small) perf gain</li>
</ul>
<p>That perf hit/gain is very dependent on what you do with the property values. There are really two things to consider.</p>
<p>First, in your data fetch processing, you can see a perf difference. This is typically only meaningful when loading a collection with hundreds or thousands of ReadOnlyBase child objects. Loading single objects, or collections with dozens of objects is fast enough that there&#39;s no realistic difference.</p>
<p>Second, in your business logic, if you are using the objects do to intensive computation algorithms, so you are accessing properties tens of thousands of times as you loop over the object graph as part of the algorithm (and I&#39;m talking about non-typical stuff here), you can see a perf difference.</p>
<p>I recommend always using managed backing fields, and only falling back to private backing fields in specific objects where a perf issue is actually encountered. Premature optimization is an anti-pattern.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Phlar replied on Thursday, August 26, 2010</h2><p><span style="font-size:9pt;color:black;font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;">Thanks for the explanation.</span></p>
<p><span style="font-size:9pt;color:black;font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;">The once scenario I&rsquo;m am debating on whether to use managed vs. private backing fields is in regards to audit history in which we will be retrieving a collection of ROB child objects.</span></p>
<p><span style="font-size:9pt;color:black;font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;">Unfortunately it is extremely hard to estimate the number of objects that will be retrieved as it will depend on factors as (user experience, age of the information, corrections made, etc&hellip;)</span></p>
<p><span style="font-size:9pt;color:black;font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;">In this case would you still recommend utilizing the managed backed fields?</span></p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tmg4340 replied on Thursday, August 26, 2010</h2><p>I believe the last two sentences of Rocky&#39;s post are instructive:</p>
<p style="padding-left:30px;">&quot;I recommend always using managed backing fields, and only falling back 
to private backing fields in specific objects where a perf issue is 
actually encountered. Premature optimization is an anti-pattern.&quot;</p>
<p>That would say to me to use managed backing fields until your usage scenario dictates that you do something else.</p>
<p>Beyond that, while you may not be able to accurately predict the number of objects retrieved for any given retrieval, you should have some data available that you can use for analysis.&nbsp; A simple average across the spectrum of current historical data gives you a starting point, and from there you can do some analysis on the likelihood of data changes and the volume of audit records that will produce.&nbsp; You can come up with some pretty decent estimates without a lot of work.</p>
<p>You might also consider the &quot;practicality&quot; of the use case - if a given record has thousands of audit records associated to it, how useful is it going to be to your users to dump all that data to them?&nbsp; Most people don&#39;t just go browsing through audit history - they have a specific task in mind, and a specific set of data they are looking for that is constrained by date, user, etc.&nbsp; This should reduce your return data to a much more manageable volume.&nbsp; If you build your UI correctly, you&#39;ll keep your inexperienced users from pulling the whole data set.&nbsp; And in a compliance type of situation, where the scope of the data filter may be monthly (or larger), chances are the aren&#39;t going to look at it online - they&#39;ll want it in a report.</p>
<p>Just my $0.02...</p>
<p>- Scott</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Phlar replied on Thursday, August 26, 2010</h2><p><span style="font-size:9pt;color:black;font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;">Scott,</span></p>
<p><span style="font-size:9pt;color:black;font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;">Thanks for the additional input.&nbsp; Unfortunately we currently don&#39;t have a basis for the number of objects we may retrieve.&nbsp; Currently, only certain items are audited.&nbsp; We are in the process of a complete application rewrite and will be auditing everything (based on our Auditor&#39;s business requirements).&nbsp; Hence the reason why I had asked Rocky (in his professional opinion) whether managed vs. private backing fields should be used in an audit/log scenario.</span></p>
<p><span style="font-size:9pt;color:black;font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;">I like your idea regarding providing a reduced result set based on the requesting user&#39;s selection (even though it was not requested in the business requirements document).&nbsp; I&#39;ll be engaging the various groups and pitch them the idea.<span style="mso-spacerun:yes;">&nbsp; </span>Hopefully they&rsquo;ll like it as well and ask for some revisions around the details provided.</span></p>
<p><span style="font-size:9pt;color:black;font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;">In our scenario, an auditor/VP would review the entire history from inception to the current day in order to ascertain the validity of the information so it is conceivable that we would be providing a lot of data.</span></p>
<p>
<p>&nbsp;</p>
</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, August 26, 2010</h2><p>My advice stands. I&#39;d implement with managed backing fields and keep my code simple. If I ran into a perf issue I&#39;d go through the effort of making that ROB class use private backing fields. It isn&#39;t a hard conversion, especially for an ROB class where there are no business rules.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
