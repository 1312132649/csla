<html><header><title>child structure for readonlylists?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>child structure for readonlylists?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3198.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>mtagliaf posted on Monday, July 16, 2007</h2><font face="Verdana" size="2">I'm finally getting to develop a new app in CSLA 2.0 - my 1.x apps were too big to rewrite, so I'm a bit behind the cutting edge here as far as CSLA 2.x goes (not to mention 3.x).<br><br>In the "good old days", there was a pattern I often used for ReadOnlyCollections where a structure was defined to hold the list item data.&nbsp; I liked this pattern b/c these small collections were contained in a single source file, and the structure was a child of the collection class:<br><br>class ListOfThingsToBePicked<br>&nbsp; inherits ReadonlyCollectionBase<br><br>&nbsp; structure OneThingToBePicked<br>&nbsp; end structure<br><br>end class.<br><br>Does this pattern exist in the CSLA 2.x world?&nbsp; All the examples of ReadOnlyListBase that I've seen use a second class as their "child" items.<br><br>thanks,<br>matt tag<br></font></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, July 16, 2007</h2>If all you need is a name value pair, look at NameValueListBase.&nbsp; Also, you should upgrade to 3.0.&nbsp; There are some databinding bug fixes (well, code that helps you find your databinding bugs).&nbsp; You can compile without using any of the .Net 3.0 stuff by defining the NET20 compiler symbol.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Monday, July 16, 2007</h2><P>Matt,</P>
<P>As you know you can use either a Structure or an embedded class. Rocky's examples happen to use the class. I changed from Structures to classes just to stay more consistent with Rocky's style. The advantage to the class is that it also inherits from your base class that sits between CSLA and all your BOs so it has whatever extra properties and methods all your other RO classes have.</P>
<P>The biggest "gotcha" that occurred during the transition was that some old code no longer worked as expected because classes and structures are different when it comes to being Nothing.</P>
<P>e.g. On a page I had something like:</P>
<P>If mData.MyInfo.SomeProperty Is Nothing Then</P>
<P>which worked great for Structures because the structure itself was not Nothing - all of its fields were.</P>
<P>When I switch to embedded classes I had to re-write the code as:</P>
<P>If mData.MyInfo Is Nothing Then</P>
<P>The trouble is that this was not a compile error but a run-time error so it was harder to track down.</P>
<P>Joe</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>mtagliaf replied on Monday, July 16, 2007</h2><font face="Verdana" size="2">thanks, I think I'll switch over to the class-pattern as well.<br><br>Also, I'll upgrade to 3.0.&nbsp; Might as well stay as current as possible!<br><br>matt tag<br></font></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
