<html><header><title>Running Dataportal Local</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Running Dataportal Local</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1184.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>chiefy81 posted on Monday, September 11, 2006</h2>Hey guys, newbie here trying to run project tracker.&nbsp; Ive got it all setup except for the proper dataportal configuration.&nbsp; I keep getting a null pointer error with a nested "DataPortalException: DataPortal.Fetch failed" error.&nbsp; After stepping through the code I saw that the portal was EnterpriseServicesHost.EnterpriseServicesProxy.IsServerRemote = true.&nbsp; This didnt seem right since I was trying to run it locally and not via rem or web services.&nbsp; So I debugged and stepped through further and forced the GetDataPortalProxy( runlocal bool) function to have a value of true (via the debugger) and things then work fine, the data is returned and the pages render fine.&nbsp; However, I cannot seem to find the configuration change that would fix this problem with out me having to manipulate it while in debug mode.&nbsp; Let me know what you think is wrong or what I can do.<br><br>Thanks in advance,<br><br>Mike<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>guyroch replied on Monday, September 11, 2006</h2>Can you include your app.config file - it might help in trying to find out what you problem is.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>chiefy81 replied on Monday, September 11, 2006</h2>here is the web.config file from the web project im trying to get to work.&nbsp; As a side note, the project tracker windows client works fine.<br><br>&lt;configuration xmlns="http://schemas.microsoft.com/.NetConfiguration/v2.0"&gt;<br>&nbsp; &lt;appSettings&gt;<br>&nbsp;&nbsp; &nbsp;&nbsp; &lt;add key="CslaAuthentication" value="Csla" /&gt;<br>&nbsp;&nbsp; &nbsp;&nbsp; &lt;!--&lt;add key="CslaDataPortalProxy" <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value="Csla.DataPortalClient.RemotingProxy, Csla"/&gt;<br>&nbsp;&nbsp;&nbsp; &lt;add key="CslaDataPortalUrl" <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value="http://localhost:3187/RemotingHost/RemotingPortal.rem"/&gt;--&gt;<br>&nbsp;&nbsp; &nbsp;&nbsp; &lt;!--&lt;add key="CslaDataPortalProxy" <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value="Csla.DataPortalClient.WebServicesProxy, Csla"/&gt;<br>&nbsp;&nbsp;&nbsp; &lt;add key="CslaDataPortalUrl" <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value="http://localhost:4334/WebServicesHost/WebServicePortal.asmx"/&gt;--&gt;<br>&nbsp;&nbsp; &nbsp;&nbsp; &lt;add key="CslaDataPortalProxy" <br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; value="EnterpriseServicesHost.EnterpriseServicesProxy, EnterpriseServicesHostcs"/&gt;<br>&nbsp; &lt;/appSettings&gt;<br>&nbsp; &lt;connectionStrings&gt;<br>&nbsp;&nbsp;&nbsp; &lt;!--&lt;add name="PTracker" <br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; connectionString="Data Source=.\SQLEXPRESS;AttachDbFilename=&amp;quot;C:\Visual Studio Projects\csla20\ProjectTracker20cs\PTracker.mdf&amp;quot;;Integrated Security=True;User Instance=True"<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; providerName="System.Data.SqlClient" /&gt;<br>&nbsp;&nbsp;&nbsp; &lt;add name="Security" <br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; connectionString="Data Source=.\SQLEXPRESS;AttachDbFilename=&amp;quot;C:\Visual Studio Projects\csla20\ProjectTracker20cs\Security.mdf&amp;quot;;Integrated Security=True;User Instance=True"<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; providerName="System.Data.SqlClient" /&gt;--&gt;<br>&nbsp;&nbsp; &nbsp;&nbsp; &lt;add name="PTracker" <br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; connectionString="server=(local);database=PTracker;uid=csla_user;pwd=pass;"<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; providerName="System.Data.SqlClient" /&gt;<br>&nbsp;&nbsp; &nbsp;&nbsp; &lt;add name="Security" <br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; connectionString="server=(local);database=Security;uid=csla_user;pwd=pass;"<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; providerName="System.Data.SqlClient" /&gt;<br>&nbsp; &lt;/connectionStrings&gt;<br>&nbsp; &lt;system.web&gt;<br><br>&nbsp;....<br>...............<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, September 12, 2006</h2>&nbsp;&nbsp;&nbsp; &lt;add key="CslaDataPortalUrl" <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value="http://localhost:4334/WebServicesHost/WebServicePortal.asmx"/&gt;--&gt;<br>&nbsp;&nbsp; &nbsp;&nbsp; &lt;add key="CslaDataPortalProxy" <br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; value="EnterpriseServicesHost.EnterpriseServicesProxy, EnterpriseServicesHostcs"/&gt;<br><br>Comment those as well, you should be then running in Local mode.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>chiefy81 replied on Tuesday, September 12, 2006</h2>Works perfectly, thanks for the help!<br><br><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
