<html><header><title>Exceptions</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Exceptions</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6008.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>kenb posted on Wednesday, December 17, 2008</h2>I've reviewed the production web server's Event Log to monitor for unhandled exceptions in my application.  I have one occuring sporadically which I don't really know how to track down.  The event log information follows:<br /><br />Event code: 3005 <br />Event message: An unhandled exception has occurred. <br />Event time: 12/16/2008 3:13:42 PM <br />Event time (UTC): 12/16/2008 11:13:42 PM <br />Event ID: 53594a1b392c426c808260c9b409ac7b <br />Event sequence: 2680 <br />Event occurrence: 1 <br />Event detail code: 0 <br /> <br />Application information: <br />    Application domain: /LM/W3SVC/374595823/ROOT-1-128738627792666216 <br />    Trust level: Full <br />    Application Virtual Path: / <br />    Application Path: xxx<br />    Machine name: xxx<br /> <br />Process information: <br />    Process ID: 5928 <br />    Process name: w3wp.exe <br />    Account name: NT AUTHORITY\SYSTEM <br /> <br />Exception information: <br />    Exception type: CallMethodException <br />    Exception message: DataPortal_Fetch method call failed <br /> <br />Request information: <br />    Request URL: http://xxx/EmployeeSearch.aspx <br />    Request path: /EmployeeSearch.aspx <br />    User host address: 192.168.64.79 <br />    User: xxx <br />    Is authenticated: True <br />    Authentication Type: Forms <br />    Thread account name: NT AUTHORITY\SYSTEM <br /> <br />Thread information: <br />    Thread ID: 123 <br />    Thread account name: NT AUTHORITY\SYSTEM <br />    Is impersonating: False <br />    Stack trace:    at Csla.MethodCaller.CallMethod(Object obj, MethodInfo info, Object[] parameters) in C:\dev\cslavb-3.0.4-080222\cslavb\Csla\DataPortal\MethodCaller.vb:line 123<br />   at Csla.Server.SimpleDataPortal.Fetch(Type objectType, Object criteria, DataPortalContext context) in C:\dev\cslavb-3.0.4-080222\cslavb\Csla\DataPortal\Server\SimpleDataPortal.vb:line 116<br /> <br /> <br />Custom event details: <br /><br />For more information, see Help and Support Center at http://go.microsoft.com/fwlink/events.asp.<br /><br /><br />Can anyone recommend how to track down the conditions in which this exception is being thrown?  I've examined the referenced .aspx but the only Get* calls that are being made are to NameValuePairListBase.GetList() which take no parameters.<br /><br />Thanks for any light you can shed on this.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Wednesday, December 17, 2008</h2><P>The problem is I see it as there is likely an inner exception whose detail you can't see yet. </P>
<P>If the error is always happening on the same object, you could override DataPoral_Fetch and log the complete exception set and stack trace to a file (maybe using Log4net or something similar, or your own homegrown implementation).&nbsp; After logging the exception, you would just rethrow it.</P>
<P>That should help you track down the specific cause of your problem.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>kenb replied on Thursday, December 18, 2008</h2>Okay, thank you very much!</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
