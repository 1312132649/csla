<html><header><title>Can't change maxReceivedMessageSize from default in Config file</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Can't change maxReceivedMessageSize from default in Config file</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4369.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>dlabar posted on Tuesday, February 19, 2008</h2><P>In trying to implement CSLA with WCF, I'm running into this error:</P>
<P>The maximum message size quota for incoming messages (65536) has been exceeded. To increase the quota, use the MaxReceivedMessageSize property on the appropriate binding element.</P>
<P>I google and see oh, I need to increase the default size to something larger, so I change both my App.config file for my Windows form client and my Web.Config for the WCF Portal to the following values for the &lt;system.serviceModel&gt; elements:</P>
<P>Web.Config:</P><FONT color=#c0c0c0 size=2>
<P>&lt;</FONT><FONT color=#ff8000 size=2>system.serviceModel</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#ff8000 size=2>bindings</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#ff8000 size=2>wsHttpBinding</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#ff8000 size=2>binding</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>name</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>wsHttpBindingSettings</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>closeTimeout</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>00:10:00</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>openTimeout</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>00:10:00</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>sendTimeout</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>00:10:00</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxReceivedMessageSize</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxBufferPoolSize</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>messageEncoding</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>Text</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#ff8000 size=2>readerQuotas</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxDepth</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxStringContentLength</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxArrayLength</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxBytesPerRead</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxNameTableCharCount</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> /&gt;</P>
<P>&lt;/</FONT><FONT color=#ff8000 size=2>binding</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;/</FONT><FONT color=#ff8000 size=2>wsHttpBinding</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;/</FONT><FONT color=#ff8000 size=2>bindings</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#ff8000 size=2>services</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#ff8000 size=2>service</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>name</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>Csla.Server.Hosts.WcfPortal</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#ff8000 size=2>endpoint</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>contract</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>Csla.Server.Hosts.IWcfPortal</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>binding</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>wsHttpBinding</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2>/&gt;</P>
<P>&lt;/</FONT><FONT color=#ff8000 size=2>service</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;/</FONT><FONT color=#ff8000 size=2>services</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;/</FONT><FONT color=#ff8000 size=2>system.serviceModel</FONT><FONT color=#c0c0c0 size=2>&gt;</FONT></P>
<P><FONT color=#c0c0c0 size=2><FONT color=#000000></FONT></FONT>&nbsp;</P>
<P><FONT color=#c0c0c0 size=2><FONT color=#000000>App.config:</FONT></FONT></P><FONT color=#c0c0c0 size=2><FONT color=#000000><FONT color=#c0c0c0 size=2>
<P>&lt;</FONT><FONT color=#ff8000 size=2>system.serviceModel</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#ff8000 size=2>bindings</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#ff8000 size=2>wsHttpBinding</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#ff8000 size=2>binding</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>name</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>wsHttpBindingSettings</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>closeTimeout</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>00:10:00</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>openTimeout</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>00:10:00</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>sendTimeout</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>00:10:00</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxReceivedMessageSize</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxBufferPoolSize</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>messageEncoding</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>Text</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#ff8000 size=2>readerQuotas</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxDepth</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxStringContentLength</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxArrayLength</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxBytesPerRead</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>maxNameTableCharCount</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>2147483647</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> /&gt;</P>
<P>&lt;/</FONT><FONT color=#ff8000 size=2>binding</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;/</FONT><FONT color=#ff8000 size=2>wsHttpBinding</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;/</FONT><FONT color=#ff8000 size=2>bindings</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#ff8000 size=2>client</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;</FONT><FONT color=#ff8000 size=2>endpoint</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>name</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>WcfDataPortal</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>address</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>http://localhost/G2DotNetDataPortal/WcfPortal.svc</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>binding</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>wsHttpBinding</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>contract</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>Csla.Server.Hosts.IWcfPortal</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> /&gt;</P>
<P>&lt;/</FONT><FONT color=#ff8000 size=2>client</FONT><FONT color=#c0c0c0 size=2>&gt;</P>
<P>&lt;/</FONT><FONT color=#ff8000 size=2>system.serviceModel</FONT><FONT color=#c0c0c0 size=2>&gt;</P></FONT></FONT></FONT>
<P><FONT color=#c0c0c0 size=2><FONT color=#000000 size=3>But even though I have the max received message size set to <FONT color=#00bf00>2147483647 </FONT>on the client, it still is giving me the error with 65536 listed as the quota value.&nbsp; I've recompiled the solution and reset IIS, but it still isn't increasing the quota size and keeps on giving me the 65536 quota size error.</FONT></FONT></P>
<P><FONT color=#c0c0c0 size=2><FONT color=#000000 size=3></FONT></FONT>&nbsp;</P>
<P><FONT color=#c0c0c0 size=2><FONT color=#000000 size=3>What else can I check?&nbsp; What else can I do?</FONT></P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dlabar replied on Tuesday, February 19, 2008</h2><P>I've discovered the issue.</P>
<P>&nbsp;</P>
<P>I didn't define my bindingConfiguration attribute in my end point</P>
<P>&nbsp;</P><FONT color=#c0c0c0 size=2>
<P>&lt;</FONT><FONT color=#ff8000 size=2>endpoint</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>name</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>WcfDataPortal</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>address</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>http://localhost/G2DotNetDataPortal/WcfPortal.svc</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>binding</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>wsHttpBinding</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#008080 size=2>contract</FONT><FONT color=#c0c0c0 size=2>=</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#00bf00 size=2>Csla.Server.Hosts.IWcfPortal</FONT><FONT color=#808080 size=2>"</FONT><FONT color=#c0c0c0 size=2> </FONT><FONT color=#0000ff><FONT color=#ff0000><FONT size=2>bindingConfiguration</FONT><FONT size=2>=</FONT><FONT size=2>"</FONT><FONT size=2>wsHttpBindingSettings</FONT></FONT><FONT size=2>"</FONT></FONT><FONT color=#c0c0c0 size=2> /&gt;</FONT></P>
<P><FONT color=#c0c0c0 size=2></FONT>&nbsp;</P>
<P><FONT color=#c0c0c0 size=2><FONT color=#000000>Thank you to anyone that spent anytime looking at this.&nbsp; Hope this helps someone else down the road as well!</FONT></P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Curelom replied on Tuesday, February 19, 2008</h2><P>You also need to change the size of the reader quota</P>
<P>&nbsp;</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;readerQuotas maxDepth="32" maxStringContentLength="655360" maxArrayLength="<FONT color=#00bf00>2147483647</FONT>"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxBytesPerRead="4096" maxNameTableCharCount="16384" /&gt;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Curelom replied on Tuesday, February 19, 2008</h2>Nevermind then <img src="/emoticons/emotion-5.gif" alt="Wink [;)]" /></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
