<html><header><title>Interest in Codesmith templates that gen from an EDMX</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Interest in Codesmith templates that gen from an EDMX</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5496.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>zinovate posted on Tuesday, September 30, 2008</h2><P>I am currently working on a new set of templates for CSLA 3.6 with Silverlight support with a MAJOR twist. </P>
<P>I plan on using the XML features in CodeSmith so that I can use an EDMX file as my data source.</P>
<P>My thoughts are, the designer allows us to abstract ourselves from the database slightly with the composite types etc... </P>
<P>Seems like a good fit and progress toward DDD for CSLA.</P>
<P>I thought about building a DSL toolkit much like the CSLAFactory but the Entity Framework designer seems like a nature replacement. </P>
<P>Does any one have interest in templates like this?</P>
<P>A little design, I am transforming the EDMX and extracting out the conceptual model section out of the EDMX for simplification. I then gen against the resulting XML. I plan on regenerating the intermediate XML for each generation. </P>
<P>You end up with tempate snippets like this:</P>
<BLOCKQUOTE dir=ltr>
<P>&nbsp; [Serializable]<BR>&nbsp; public class &lt;%= EDMX.EntityTypes[ i ].Name %&gt; : BusinessBase&lt;&lt;%= EDMX.EntityTypes[ i ].Name %&gt;&gt;</P></BLOCKQUOTE>
<P dir=ltr>By stripping out the "extra" XML, the resulting templates are much simpler and readable:</P>
<P dir=ltr>Sample Public Property:</P>
<P dir=ltr>public &lt;%= TypeConverter(EDMX.EntityTypes[ i ].Properties[i2].Type)%&gt; CompanyName<BR>&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return GetProperty(&lt;%= EDMX.EntityTypes[ i ].Properties[i2].Name %&gt;Property);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetProperty(&lt;%= EDMX.EntityTypes[ i ].Properties[i2].Name %&gt;Property, value);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;</P>
<P dir=ltr>The EDMX file also contains some DB contraints such as "MaxLength" for strings. If fields are nullable etc....&nbsp;Perfect for&nbsp;Data Validation logic.</P>
<P dir=ltr>I also plan on using the Entity framework because I also use Vista DB and they plan on adding support for the EF in Q4. I'd like to be able to generate classes&nbsp;for both MSSQL use and VistaDB use&nbsp;or at least have portable templates. EF's data provider story is very compelling to me and my business needs. (Frictionless offline support)</P>
<P>I'd like to get a feeling for the demand for something like this from the community. <BR>I would like to preface that I use CodeSmithPro 5.0. I know quite a few folks use the older free version of codesmith so I'm not sure how that will effect compatabilty for some. </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lukky replied on Thursday, November 06, 2008</h2>Hi,<br><br>I just came across this post.<br><br>This sounds like a very interesting idea. I'd like to know if this approach would also handle "child properties" (or navigation properties in EF parlance).<br><br>Keep us informed<br><br>Luc<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dbilbey replied on Saturday, January 24, 2009</h2>I came across this post while researching this exact idea. Have you gotten anywhere with it yet?</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lukky replied on Saturday, January 24, 2009</h2>Hi,<br><br>Actually, I've decided to put the lid on it for a little while.<br><br>I was thinking of using the CSLAContrib CodeSmith templates as my starting point, but then the CodeSmith developpers informed me that they're working on their own set of templates for CSLA 3.6.<br><br>Not that I find that Ricky Supit's templates (CSLAContrib) are bad, as a matter of fact I use them in a project as we speak, but the way they are divided makes it a bit difficult to edit them to your taste. Namely, if you know CodeSmith Studio, you know that it supports syntax highlighting and Intellisense, but not for include files, and Rick largely uses include files to split the templates in logical units. While discussing this issue with a CodeSmith developper, he told me they were going to rewrite the templates, but this time using Sub Templates, which will allow Syntax Highlighting and Intellisense.<br><br>Also, and this is a bigger issue, is the fact that EF doesn't seem to be used a lot in the CSLA crowd, and at this point in time, I have no solid example of how it should be used for each of the steroetypes defined by CSLA. My feeling is that it will probably look a lot like Linq to SQL, but until the CSLA community adopts EF, it will be difficult to create templates for it.<br><br>So, all that to say that I'm waiting to see the new CodeSmith templates before going further with this. On the other hand, I've been working on the "extract metadata" from EDMX file, and ran into some issues because of the XML Schema used by EDMX files. In any case, I don't see this as very difficult, and once the other pieces fall into place, it should be easy to integrate into existing templates.<br><br>Finally, what I'm learning out of all this will probably allow me to create another version of those templates, but this time extracting the metadata from the Linq to SQL mode (DBML files). So far, the XML schema definition for those files doesn't any problem in CodeSmith, and this project will probably come life before the EDMX based one.<br><br>Regards.<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>WillTartak replied on Saturday, May 22, 2010</h2><p>Hi,</p>
<p>I was wondering if any of you (or anyone else) was made any progress on this approach?</p>
<p>Thanks,</p>
<p>\ ^ / i l l</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>zinovate replied on Tuesday, May 25, 2010</h2><p>Nothing unfortunatly.</p>
<p>I was under a shipping deadline so I ended up going with Devforce for Silverlight and got the project out the door in no time.</p>
<p>I am still a big CSLA fan and love to see it&#39;s improvement.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lukky replied on Thursday, May 27, 2010</h2><p>Hi all,</p>
<p>There is an ongoing effort to generate CSLA objects from an EF model at:</p>
<p><a href="http://t4csla.codeplex.com/">http://t4csla.codeplex.com/</a></p>
<p>It looks very promising !</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bniemyjski replied on Thursday, June 24, 2010</h2><p>
<p>Hello,</p>
<p>We are getting closer to this goal with our templates, but are still a ways out. We do have some people in our forums interested in adding support for this. maybe we could make this a team effort.</p>
<p>Thanks</p>
<p>-Blake Niemyjski</p>
<div></div>
</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bniemyjski replied on Tuesday, August 03, 2010</h2><p>&nbsp;</p>
<p>Hello,</p>
<p>I&#39;m working on updating the templates to add support for Views and Stored Procedures. I might add that we now support Silverlight 4! I also have a patch for using Linq-To-SQL as the data access layer. I&#39;d be willing to through some effort at generating from an EDMX file, please contact me or CodeSmith support if you are interested.</p>
<p>Thanks</p>
<p>-Blake Niemyjski</p>
<p>&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
