<html><header><title>Deep Data 2010</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Deep Data 2010</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8490.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tsaltd posted on Sunday, February 07, 2010</h2><p>Starting with an Entity Framework Model that is a facade in front of a recursive, self referencing parent/child SQL Server table ... </p>
<p>I&#39;ve built a data access function that generates&nbsp; a single&nbsp;hierarchy/result set that is -- for example --&nbsp;&nbsp;tree of locations Country / State / Region / Destination / Neighborhood&nbsp;for one app... </p>
<p>C# data access layer then&nbsp;&nbsp;scrubs that hierarchy&nbsp;to generate&nbsp;an XML tree that can be retrieved via WCF.</p>
<p>This eliminates the need for the conventional CSLA multi-result set approach for &quot;hydrating&quot; parent/child business objects.</p>
<p>I&#39;ve taken a break from developing CSLA BO&#39;s, but&nbsp; am coming back now&nbsp;to get up to speed with using the&nbsp;framework for .Net 3.5 and Silverlight for this application.&nbsp; </p>
<p>Now that I can get the whole tree back in hierarchical order with one call &nbsp;.. and do not have to write queries to retrieve each level of the tree ... I want to be able to create&nbsp;a parent/child/grandchild/nChild&nbsp;business object .... essentially a tree at runtime without &nbsp;having to code named business obects for each Node/Branch.</p>
<p>Am I breaking new ground here or is there a known approach for creating a set of &quot;deep-data&quot; business objects where the graph of the hierarchy is not known at design time ?</p>
<p>A CSLA pattern that follows the functionality of a composite pattern or the type of functionality that I am using to create the tree using XElement objects ??</p>
<p>Thanks,</p>
<p>Steve</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Sunday, February 07, 2010</h2><p>Are you planning to somehow dynamically inject business, validation and authorization rules into these objects as they are defined/created? I&#39;ll assume not.</p>
<p>In that case, why woud you want to use CSLA at all? CSLA is all about creating a rich business layer defined by behavior. If you want an entity model defined by the shape of your data there are other frameworks that at least do that statically, and perhaps at runtime.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tsaltd replied on Sunday, February 07, 2010</h2><p>all nodes at every level have the same attributes [GUID_id, Guid_Parent, Description, HierarchyLevelID (foreign key) ]&nbsp;in the database / EF model ...&nbsp;(And XML Element names of &quot;Hirearchy Level Label&quot; ie &lt;Country&gt; and &lt;State&gt; below: </p>
<p>&lt;Country&gt;&lt;ID&gt;234234242&lt;/ID&gt;&lt;Name&gt;USA&lt;/Name&gt;<br />&lt;State&gt;&lt;ID&gt;234234242&lt;/ID&gt;&lt;Name&gt;Alabama&lt;/Name&gt;&lt;State/&gt;<br />&lt;State&gt;&lt;ID&gt;234234772&lt;/ID&gt;&lt;Name&gt;Arizona&lt;/USA&gt;&lt;State/&gt;<br />&lt;Country&gt;</p>
<p>then there are the&nbsp;tree&nbsp;definition properties that are generated by the CTE that &quot;manufactures&quot; the tree ... </p>
<p>Even with this common interface for each node,&nbsp;no hooks in the framework for a factory to create&nbsp;a n-level &nbsp;tree at runtime ??&nbsp;</p>
<p>There will certainly be a need to validate that a each node has a parent appropriate for it&#39;s level in the tree for create/edit ... but, again ... the &quot;behavior&quot; for each node is common.</p>
<p>And I certainly want to render the tree in a Silverlight UI from A BO that -- preferably could have a runtime determined number of n-childs --</p>
<p>Go Saints !!!&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
