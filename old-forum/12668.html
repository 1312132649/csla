<html><header><title>IAuthorizeDataPortal - LocalContext value somehow gets reset</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>IAuthorizeDataPortal - LocalContext value somehow gets reset</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12668.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>TSF posted on Monday, June 16, 2014</h2><p>I&#39;m following the example of implementing the IAuthorizeDataPortal.</p>
<p>What I&#39;m finding is that when a BusinessList object&#39;s Fetch method is called, the Authorize method gets triggered twice before the Fetch method is executed. Actually, it gets called 4 times, in pairs of two.</p>
<p>For the first pair, LocalContext[&quot;FirstRun&quot;] is null, so my login routine is executed properly. The Authorize method is then triggered again, but the FirstRun value is already set to False, so the login routine gets bypassed correctly. However, that same series gets executed a second time...and the LocalContext[&quot;FirstRun&quot;] is back to null again, which means the login routine runs unnecessarily.</p>
<p>The main thing is, this happens for a single call to a list&#39;s Fetch method. I would understand if I made multiple calls from the client, but only one call is being made. What am I missing? Is perhaps the child object of the list parent also triggering the call to Authorize? Or perhaps my Criteria object? Even if that was the case, however, I would have guessed that would all be executing under one thread, and thus LocalContext[&quot;FirstRun&quot;] would show always show False.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
