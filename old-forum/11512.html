<html><header><title>New mobile serializer and compression</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>New mobile serializer and compression</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11512.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>bdeluard posted on Wednesday, August 01, 2012</h2><p class="MsoNormal" style="margin:0cm 0cm 10pt;"><span lang="EN-US" style="mso-ansi-language:EN-US;"><span style="font-family:Calibri;"><span style="font-size:small;">Hello,</span></span></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 10pt;"><span lang="EN-US" style="mso-ansi-language:EN-US;"><span style="font-family:Calibri;"><span style="font-size:small;">I&rsquo;m developing a big app with CSLA.Net, based on all the good ideas in the ebooks serie.</span></span></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 10pt;"><span lang="EN-US" style="mso-ansi-language:EN-US;"><span style="font-family:Calibri;"><span style="font-size:small;">At first, I had not integrated the compression with SL client. With data more than 5Mb, I received errors (server not found) indicating (with WCF tracing) a possible network error or invalid data&hellip;.</span></span></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 10pt;"><span lang="EN-US" style="mso-ansi-language:EN-US;"><span style="font-family:Calibri;"><span style="font-size:small;">I had also an error (the same server not found) at the very first CSLA call to the server from SL client, only when WCF CSLA service was called the first time : if I do the call a second time just after the error of the first, it completes correctly. A little mysterious!</span></span></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 10pt;"><span lang="EN-US" style="mso-ansi-language:EN-US;"><span style="font-family:Calibri;"><span style="font-size:small;">I saw that there was a better mobile serializer in the 4.3.13 release and I updated all my projects to use it, and modified WCF service web.config and initialization of the SL data portal in the client app.</span></span></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 10pt;"><span style="font-size:small;"><span lang="EN-US" style="mso-ansi-language:EN-US;"><span style="font-family:Calibri;">All the tests who fail as indicated runs now correctly! I&rsquo;m very happy </span></span><span lang="EN-US" style="font-family:Wingdings;mso-ansi-language:EN-US;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin;mso-char-type:symbol;mso-symbol-font-family:Wingdings;"><span style="mso-char-type:symbol;mso-symbol-font-family:Wingdings;">J</span></span><span lang="EN-US" style="mso-ansi-language:EN-US;"></span></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 10pt;"><span lang="EN-US" style="mso-ansi-language:EN-US;"><span style="font-size:small;"><span style="font-family:Calibri;">My question is simple: is it now always necessary to use the compression with my SL client app to reduce the traffic and transfer time ? And, if yes, can I follow instructions in the data portal ebook or have I to modify something due to the presence of the new serializers?</span></span></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 10pt;"><span lang="EN-US" style="mso-ansi-language:EN-US;"><span style="font-size:small;"><span style="font-family:Calibri;">Thanks for your answer.</span></span></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 10pt;"><span lang="EN-US" style="mso-ansi-language:EN-US;"><span style="font-family:Calibri;font-size:small;">&nbsp;Bruno</span></span></p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Wednesday, August 01, 2012</h2><p>In 4.3 Sergey did a lot of work on the MobileFormatter to enable it to create a much smaller byte stream for serialized data. Depending on your object graph, it can reduce the size of the byte stream by around 70% - which isn&#39;t far off what you&#39;d get by using compression.</p>
<p>You can still use compression along with the new serializer enhancements to get some savings on byte stream size, but it won&#39;t make nearly as big a difference as with the older serialization scheme.</p>
<p>My recommendation is to only use compression if necessary, because it incurs CPU overhead on client and server, so it may or may not add real value to your app.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>bdeluard replied on Wednesday, August 01, 2012</h2><p>Ok Rocky, I will follow your advice.</p>
<p>Thanks for your quick answer.</p>
<p>Bruno</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
