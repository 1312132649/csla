<html><header><title>Someone using CSLA with Intersystems Cach&#233;?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Someone using CSLA with Intersystems Cach&#233;?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2170.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Lakusha posted on Thursday, January 18, 2007</h2><P>Anybody tried using CSLA with Intersystems Caché PostRelational database? Seems like it could be a good fit: object/relational db, often faster than msql/oracle, there's a .NET provider, can use SQL for reporting but stick with objects for developing without using an OR mapper.</P>
<P>Anyone have some experience to share about it?</P>
<P>Thanks,</P>
<P>L</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Thursday, January 18, 2007</h2><P>I have not. However, you need to be aware that ODBMS systems aren't a silver bullet. You still <EM>must</EM> store the data using a relational model, even if the data is stored in "objects" instead of "tables". </P>
<P>Due to this, you still face the impedance mismatch problem, where you need to map the relational data model into your behavioral object model... The core nature of the problem remains unchanged.</P>
<P>It just takes a minute to understand why ODBMS's don't solve the relational problem.</P>
<P>Consider Customer. You create and store Customer objects. All is well.</P>
<P>Then Order includes a customer name value. Your Order object has a CustomerName field, and so this field is part of Order. But now you have the customer name data in two objects -which effectively means two "tables". So when you change Customer.CustomerName, it has no impact on Order.CustomerName. Oops.</P>
<P>Of course I haven't seen Cache', so perhaps they have some way to resolve this. I've thought about the problem off and on, and the only real solution I can see is a database where every individual field is stored as a first-class entity. Then the concept of an "object" (or a "table" for that matter) becomes a virtual view of fields. There are a host of problems with doing this, but it would certainly allow Customer and Order to share the same CustomerName field and get the expected result.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Lakusha replied on Thursday, January 18, 2007</h2><P>Hi Rocky,</P>
<P>Caché pretends (emphasis on pretends)&nbsp;to escape that mismatch because they are neither relational nor object but multidimensional. They call themselves "post-relational" (which is just a marketing thing that does not mean anything you can really chew). Since they are in fact using multidimentional arrays it may be that each field is in fact stored as a first class entity. At least it seems like it from the language structure (comes from the M language as in MUMPS). You can access Caché directly with objects or through sql queries. Methods can be seen as stored procedures, etc. but then you loose true object modeling and they warn againts it. </P>
<P>I don't know how they design their objects nor if they are truly objects or just data containers. In fact, I don't know much yet. They pretend to much and I have seen a product using it that scales beautifully with hundreds of users, has a large and stable installed base and the developers are Object/Caché junkies. Since anything can be used for a front end and Caché also provides a .Net provider that can use both interfaces (sql queries or object queries), I wondered about using it with CSLA since we already have a large project under way with CSLA and may want to integrate with them.</P>
<P>I admit I had to google for Caché &amp;&nbsp;MUMPS to know what they were talking about.</P>
<P>L</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>pelinville replied on Thursday, January 18, 2007</h2><DIV>I have not used that product but I have created a small account/contact managment system for my wife using the db4o ODBMS and CSLA 1.5.&nbsp; </DIV>
<DIV>&nbsp;</DIV>
<DIV>It looks like the Cache product is much more ambitious in that it exposes the data mulitple ways (XML, Ralational, Object etc)&nbsp;so I don't know how the two products realy relate.</DIV>
<DIV>&nbsp;</DIV>
<DIV>But from an ODBMS system what Rocky pointed out can be true.&nbsp; Unless you design your objects not to 'share' fields and you take encapsulation to the extream.&nbsp; </DIV>
<DIV>&nbsp;</DIV>
<DIV>So with the customer and order example the Order.CustomerName Look like</DIV>
<DIV>&nbsp;</DIV>
<DIV>Class Order</DIV>
<DIV>&nbsp;&nbsp;&nbsp;private mCustomer</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;&nbsp;&nbsp;Public ReadOnly Property CustomerName</DIV>
<DIV>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get</DIV>
<DIV>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Return mCustomer.CustomerName</DIV>
<DIV>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End Get</DIV>
<DIV>&nbsp;&nbsp;&nbsp;End Property</DIV>
<DIV>&nbsp;</DIV>
<DIV>End Class</DIV>
<DIV>&nbsp;</DIV>
<DIV>If Cache can take that object model and infer the foriegn key relationship between Order and Customer so that you can "Select Order.CustomerName from Order" that would be very impressive!&nbsp; Impressive even though that is a very simple case.</DIV>
<DIV>&nbsp;</DIV>
<DIV>But my experiance with db4o is mostly very positive.&nbsp;However all I have done is a couple of&nbsp; simple, single user applications.&nbsp;The brain hurts&nbsp;badly in the begining because it is so much different than relational type thinking.&nbsp;It isn't hard just so much different, with different problems.&nbsp;And&nbsp;I have no idea how well they would scale.</DIV>
<DIV>&nbsp;</DIV>
<DIV>I have started to convert the app to CSLA 2.0 and it seems much, much&nbsp;easier using the 2.0 version.&nbsp; Mainly that is because db4o has gotten much better over time and I guess I have gotten past the initial hump.</DIV>
<DIV>&nbsp;</DIV></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Lakusha replied on Friday, January 19, 2007</h2><P>pelinville,</P>
<P>&gt; If Cache can take that object model and infer the foriegn key relationship<BR>&gt; &nbsp;between Order and Customer so that you can <BR>&gt; "Select Order.CustomerName from Order" that would be very impressive!&nbsp;</P>
<P>It seems to be able to do it. When using SQL access you can use either ANSI SQL or "Object Extended SQL". OE-SQL lets you do things like this:<BR><FONT face="Courier New, Courier, mono" size=-1><CODE></CODE></FONT></P>
<BLOCKQUOTE dir=ltr>
<P><FONT face="Courier New, Courier, mono" size=-1><CODE>SELECT </CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>Customer-&gt;FullName,<BR></CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Customer-&gt;SalesMarket-&gt;Descr, Valus,<BR></CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SalesItem-&gt;InvData, SalesItem-&gt;InvNumber<BR></CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>FROM MainSales<BR></CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>WHERE Product-&gt;Descr = 'Hammer'</CODE></FONT></P></BLOCKQUOTE>
<P><FONT face="Courier New, Courier, mono" size=-1><CODE>The same SELECT in standard SQL is this (could do it with ANSI "LEFT JOIN" instead of non ansi *=):</CODE></FONT></P><FONT face="Courier New, Courier, mono" size=-1><CODE>
<BLOCKQUOTE dir=ltr>
<P class=text><FONT face="Courier New, Courier, mono" size=-1><CODE>SELECT&nbsp;</CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>&nbsp;&nbsp;&nbsp;SC.FullName, SM.Descr, MS.Value,&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>SI.InvDate, SI.InvNumber<BR></CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>FROM&nbsp;&nbsp;&nbsp;&nbsp;</CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>MainSales MS, SalesItemSI, SalesProduct SP,&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sales Customer SC, SalesMarket SM<BR></CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>WHERE </CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>SI.SalesItemID *=MS.SalesItem<BR></CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>AND SP.SalesProductID *=MS.Product<BR></CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>AND SC.SalesCustomerID *=MS.Customer<BR></CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>AND SM.SalesMarketID *= SC.SalesMarket<BR></CODE></FONT><FONT face="Courier New, Courier, mono" size=-1><CODE>AND SP.DESCR = "Hammer"</CODE></FONT></P></BLOCKQUOTE>
<P class=text><FONT face="Times New Roman" size=3><CODE>But if you use the object interface instead you query through proxies&nbsp;(proxy code can be generated) and you get back objects. No SQL involved. Still don't know if its mainly DTOs or if the designing part can really be object oriented. Seems the design can be done through any interface. Thus using SQL (CREATE TABLE...) would bring a data bound design (1 object = 1 class) but using the object interface (which they recommend) would enable true object oriented design. Don't understand that part yet (can we design directly in multidimentional using M?)</CODE></FONT></P>
<P class=text><FONT face="Times New Roman" size=3><CODE>weird...</CODE></FONT></P></CODE></FONT></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
