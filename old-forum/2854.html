<html><header><title>How Do I Model Containment?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>How Do I Model Containment?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2854.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>eslater posted on Friday, May 11, 2007</h2>I have an object (Account) which I want to add a contained object to (ElectronicData).&nbsp; I am not sure how to accomplish this.&nbsp; Specifically, I have the following questions:<br>1 - What type of object would ElectronicData be? (ER or EC)<br>2 - How would ElectronicData notify Account that it has changed so that Account could initiate a save?<br><br>Here is how I am currently attempting to do this:<br>1 - In the DB I have a ElectronicDataID as a FK to the ElectronicData table.<br>2 - In the Account class I declare Private mData As ElectronicData = ElectronicData.Create and also have a ReadOnly property to return mData<br>3 - In DataPortal Fetch I check if the the ElectronicDataID has a value and if so load mData<br>4 - In Insert/Update not sure how to handle it here.<br><br>Am I handling this correctly?&nbsp; I have a feeling there is a better way to do this but I am not sure what it is.&nbsp; Any help would be appreciated.<br><br>Thanks,<br>Elliot<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>eslater replied on Monday, May 14, 2007</h2><P>Am I doing something unusual here?&nbsp; There must be others that are using aggregation to add functionality to existing objects?&nbsp; I am pretty stuck here and am thinking about just going to inheritance but so much of what I have read suggests using containment over inheritance.&nbsp; If there are others out there that have done this it would be great to hear from you.</P>
<P>Thanks for any help.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, May 14, 2007</h2><P>I'm afraid your problem description doesn't provide enough information - at least for me to help. You haven't specified the use case within which these objects reside, so I can't infer the business domain relationship between these objects, and so can't say what implementation would be best. I'm sure others are in the same situation.</P>
<P>Can ElectronicData exist independantly? Can an Account exist without ElectronicData?</P>
<P>If the answers are yes, then ElectronicData is a root. If the answers are no, then it is a child. yes/no or no/yes&nbsp;then you need two objects, one root and one child (or use the switchable concept - but I recommend against that). If the answers are maybe/sometimes then you need to narrow the focus of your use case so you can get yes or no answers.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>eslater replied on Tuesday, May 15, 2007</h2>Account can exist without ElectronicData.&nbsp; ElectronicData when it exists will be within an account...never independant.&nbsp; I have a windows form that has all of the Account fields as well as the ElectronicData fields.&nbsp; If the user enters or changes any data in the ElectronicData fields I need to save this to the database.<br><br>Hopefully that clarifies the use case.<br><br>So,&nbsp; I am unsure why I would need both a root and child (or switchable) instead of just a child.&nbsp; Also, how would I code the DataPortal_Update?&nbsp;&nbsp;&nbsp; Do I simply have code in Update that checks if the object is savable and if it is save? (If obj.IsSavable then obj.Save)<br><br>Thanks for you help Rocky!<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, May 15, 2007</h2><P>If ElectronicData can't exist outside an Account, then it is very clearly a child of Account. That's the definition of being a child.</P>
<P>Assuming you can retrieve and save an Account independantly, then it is a root, because that's the definition of a root.</P>
<P>So inside the DataPortal_Update/Insert/Delete of Account, you need to call a Friend/internal Update/Insert/Delete method on the child ElectronicData object - just like a collection would do for its child objects.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
