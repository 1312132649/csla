<html><header><title>3.5.1  Getting parent reference from child.</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>3.5.1  Getting parent reference from child.</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5131.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tetranz posted on Monday, July 21, 2008</h2>(from my previous thread today)<br><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>RockfordLhotka:</strong></div><div><p>Yes, exactly. And all the parent-child
event hookups for event cascading, and resetting the Parent reference
on deserialization. All the hard-to-remember things you had to do to
make parent-child really work are now automatic.</p></div></BLOCKQUOTE><br>Something I'm not quite clear on ...<br><br>If I have, like in that test today, an EditableRootParent with an
EditableChildList with EditableChild objects, is there now a built-in way
of getting a reference to the RootParent from the child?<br>
<br>
I know the child's Parent property is a reference to the list but I don't know how to get to the root. I think it's probably something to be avoided if possible but rightly or wrongly, I find myself needing to do that sometimes.<br><br>I usually put a reference to the root in the list and use the child's parent to navigate to it. That property needs to be not undoable and (I think) not serializable to avoid serialization loops. I'm never quite sure what the best practice is. I guess the same question could apply if it's a read-only list.<br><br>Ross<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, July 21, 2008</h2><P>CSLA only maintains a Parent property that goes one level up. If you want to go higher you'll need to do that yourself. The easiest way though, is probably not to manage your own reference, but to use the one provided by CSLA. So in your collection (child of the root) you could do:</P>
<P>internal object Root<BR>{<BR>&nbsp; get { return this.Parent; }<BR>}</P>
<P>Then in your child objects you could do this.Parent.Root to get to the "real" parent.</P>
<P>(you might want to pre-cast the value(s) or vary this pattern a little - but hopefully you get the idea)</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
