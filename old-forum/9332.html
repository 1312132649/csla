<html><header><title>BusinessListBase.Delete() is not working. Remove throws error when i use delete</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>BusinessListBase.Delete() is not working. Remove throws error when i use delete</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9332.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>kam_csla posted on Thursday, August 05, 2010</h2><p class="ForumPostTitleInner" style="CLEAR:both;"><span style="FONT-SIZE:x-small;">[</span><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;">Serializable</span></span><span style="FONT-SIZE:x-small;">()] </span><span style="COLOR:#0000ff;FONT-SIZE:x-small;"><span style="COLOR:#0000ff;FONT-SIZE:x-small;">public</span></span><span style="FONT-SIZE:x-small;"> </span><span style="COLOR:#0000ff;FONT-SIZE:x-small;"><span style="COLOR:#0000ff;FONT-SIZE:x-small;">class</span></span><span style="FONT-SIZE:x-small;"> </span><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;">AList</span></span><span style="FONT-SIZE:x-small;"> : </span><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;">BusinessListBase</span></span><span style="FONT-SIZE:x-small;">&lt;</span><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;">AList</span></span><span style="FONT-SIZE:x-small;">, </span><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;">A&gt;</span></span></p>
<p class="ForumPostTitleInner" style="CLEAR:both;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;"></span></span>&nbsp;<span style="COLOR:#2b91af;">{</span></p>
<p><span style="COLOR:#2b91af;"></span><span style="COLOR:#0000ff;FONT-SIZE:x-small;"><span style="COLOR:#0000ff;FONT-SIZE:x-small;">public </span></span><span style="FONT-SIZE:x-small;">AList()</span></p>
<p><span style="FONT-SIZE:x-small;">{</span></p>
<p>MarkAsChild();</p>
<p><span style="FONT-SIZE:x-small;">}</span></p>
<p><span style="COLOR:#2b91af;">}</span></p>
<p><span style="FONT-SIZE:x-small;">[</span><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;">Serializable</span></span><span style="FONT-SIZE:x-small;">()] </span><span style="COLOR:#0000ff;FONT-SIZE:x-small;"><span style="COLOR:#0000ff;FONT-SIZE:x-small;">public</span></span><span style="FONT-SIZE:x-small;"> </span><span style="COLOR:#0000ff;FONT-SIZE:x-small;"><span style="COLOR:#0000ff;FONT-SIZE:x-small;">class</span></span><span style="FONT-SIZE:x-small;"> </span><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;">A</span></span><span style="FONT-SIZE:x-small;"> :&nbsp;</span><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;">BusinessBase</span></span><span style="FONT-SIZE:x-small;">&lt;</span><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;">A</span></span><span style="FONT-SIZE:x-small;">&gt; </span></span></span></p>
<p><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="COLOR:#2b91af;FONT-SIZE:x-small;"><span style="FONT-SIZE:x-small;"></span></span></span><span style="COLOR:#2b91af;">{</span></p>
<p>&nbsp;<span style="COLOR:#2b91af;">}</span></p>
<p><span style="COLOR:#2b91af;"><span style="text-decoration:underline;">aspx.cs</span></span></p>
<p>&nbsp;<span style="FONT-SIZE:x-small;">objectAInstantiatedList[index].Delete();</span></p>
<p>GrdTest.DataSource = objectAInstantiatedList;</p>
<p>GrdTest.DataBind();</p>
<p>The objectAInstantiatedList has 3 records and once i delete the item.. the objectAInstantiatedList is not updating the count to&nbsp;2 and the grid still showing 3 records. Please suggest where am going wrong..</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, August 06, 2010</h2><p>To delete a child object in a list, you call Remove on the list, not delete on the child.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>kam_csla replied on Friday, August 06, 2010</h2><p>Thanks for reply Lhotka.. But if i use remove then it throws error saying use delete instead and thats the reason i used delete.</p>
<p><span style="font-size:x-small;">
<p><span style="font-size:x-small;"><span style="font-size:x-small;">objectAInstantiatedList.RemoveAt(index);</span></span></p>
<p><span style="font-size:x-small;"></span>GrdTest.DataSource = objectAInstantiatedList;</p>
<p>GrdTest.DataBind();</p>
</span></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, August 09, 2010</h2><p>If your child object is actually a child object, then calling Delete() should cause an exception.</p>
<p>So your problem is probably that your &quot;child&quot; objects are not being created as child objects (you aren&#39;t using the child data portal, or calling MarkAsChild()).</p>
<p>If you are using any reasonably modern version of CSLA (3.5 or higher) you should consider using the child data portal, because that takes care of these details for you.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>kam_csla replied on Monday, August 09, 2010</h2><p>Thanks for the reply. You are correct.. A is Businessbase and Alist is BusinessListBase</p>
<p><span style="font-size:xx-small;"><span style="color:#0000ff;font-size:x-small;"><span style="color:#0000ff;font-size:x-small;"><span style="color:#0000ff;font-size:x-small;"><span style="color:#0000ff;font-size:x-small;">public</span></span><span style="font-size:x-small;"><span style="color:#000000;"> </span></span><span style="color:#0000ff;font-size:x-small;"><span style="color:#0000ff;font-size:x-small;">class</span></span><span style="font-size:x-small;"><span style="color:#000000;"> </span></span><span style="color:#2b91af;font-size:x-small;"><span style="color:#2b91af;font-size:x-small;">A</span></span><span style="font-size:x-small;"><span style="color:#000000;"> : </span></span><span style="color:#2b91af;font-size:x-small;"><span style="color:#2b91af;font-size:x-small;">BusinessBase</span></span><span style="font-size:x-small;"><span style="color:#000000;">&lt;</span></span><span style="color:#2b91af;font-size:x-small;"><span style="color:#2b91af;font-size:x-small;">A&gt;</span></span></span></span></span></p>
<p><span style="font-size:xx-small;"><span style="color:#0000ff;font-size:x-small;"><span style="color:#0000ff;font-size:x-small;">public</span></span><span style="font-size:x-small;"> </span><span style="color:#0000ff;font-size:x-small;"><span style="color:#0000ff;font-size:x-small;">class</span></span><span style="font-size:x-small;"> </span><span style="color:#2b91af;font-size:x-small;"><span style="color:#2b91af;font-size:x-small;">AList</span></span><span style="font-size:x-small;"> : </span><span style="color:#2b91af;font-size:x-small;"><span style="color:#2b91af;font-size:x-small;">BusinessListBase</span></span><span style="font-size:x-small;">&lt;</span><span style="color:#2b91af;font-size:x-small;"><span style="color:#2b91af;font-size:x-small;">AList</span></span><span style="font-size:x-small;">, </span><span style="color:#2b91af;font-size:x-small;"><span style="color:#2b91af;font-size:x-small;">A&gt;</span></span></span></p>
<p>I created a factory method DeleteA in A which calls DataPortal_Delete()</p>
<p>The objectAInstantiatedList[index].Delete() wont work like you explained. But how will the A&#39;s Portal delete know that it has to delete from objectAInstantiatedList object. </p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Monday, August 09, 2010</h2><p>Have you read <i>Expert 2008 Business Objects</i> chapters 1-5 and 17-18? I strongly recommend reading or rereading those chapters, as they explain pretty completely how this all fits together.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>kam_csla replied on Thursday, August 12, 2010</h2><p>I have read the chapters and that clears some of my questions.You are correct&nbsp;the child objects am talking is not actually a child object. &#39;A&#39; is a businessbase and Alist is business list base. So &#39;A&#39; is a parent and&nbsp;i cant remove a parent using remove. I can delete that using dataportaldelete but the thing is that will actually delete from the database with some criteria as parameters. But the situation here is... user will keep on adding A&#39;s to Alist manually and they are in session memory. So when i use dataportal delete i cant really delete it from Alist as its not saving to database. Please suggest... </p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
