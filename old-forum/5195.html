<html><header><title>Remoting - Network Service?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Remoting - Network Service?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5195.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 posted on Tuesday, August 05, 2008</h2>Hi,<br><br>I have a weird problem that pops up, and I don't know why.&nbsp; When my objects encounter a DataPortal error, they call an error handler which sends the error details to me.<br><br>Sometimes on the remoting server though, the email says it's from NT Authority\Network Service, and not the impersonated user.&nbsp; I don't know why this happens, but it makes it hard to figure out who to call when I get an error. <br><br>I'm reading the Csla.ApplicationContext.User property.. which usually has the proper value.&nbsp; The only thing that might affect the result is the fact that the email logger spaws its own thread to assembly and send the email.. but the thread should still have the impersonated user I would think.<br><br>Any ideas?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, August 05, 2008</h2>The principal object is tied to the thread though, so if you spin up a new thread it probably won't have the correct principal. This is a .NET thing, and the solution is to figure out a way to pass the principal into the new thread so you can set that thread's principal.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, August 06, 2008</h2>Hmm, I guess I should look into that.&nbsp; That didn't occur to me, because it does usually work as I had expected, but I'll follow up along&nbsp; your suggestion.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
