<html><header><title>CanRemoveItem</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CanRemoveItem</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/7973.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Adam posted on Wednesday, November 11, 2009</h2>Hi guys<br><br>I have the following which I was expecting to diable the delete button when an item cannot be deletede but it doens't appear to work as the delete button is enabled and when an accept is performed it gives the error message below. Any help appreciated.<br><br>&lt;Button x:Name="DeleteButton" Content="Delete" Margin="3"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; csla:InvokeMethod.MethodName="RemoveItem"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; csla:InvokeMethod.Resource="{StaticResource metaHardwareSupplierListData}"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; csla:InvokeMethod.TriggerEvent="Click"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; csla:InvokeMethod.MethodParameter="{Binding}"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IsEnabled="{Binding Mode=OneWay, Path=CanRemoveItem}"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Style="{StaticResource Button}"/&gt;<br><br>Error Message:<br>Csla.DataPortalException occurred<br>&nbsp; Message="DataPortal.Update failed (System.Data.SqlClient.SqlException: The DELETE statement conflicted with the REFERENCE constraint \"FK_EquipmentHistory_meta_HardwareSupplier\". The conflict occurred in database \"MobileSalesAssistant\", table \"dbo.EquipmentHistory\", column 'HardwareSupplierId'.\r\nThe statement has been terminated.\r\n&nbsp;&nbsp; at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection)\r\n&nbsp;&nbsp; at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)\r\n&nbsp;&nbsp; at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj)\r\n&nbsp;&nbsp; at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)\r\n&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)\r\n&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async)\r\n&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, DbAsyncResult result)\r\n&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(DbAsyncResult result, String methodName, Boolean sendToPipe)\r\n&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()\r\n&nbsp;&nbsp; at System.Data.Linq.SqlClient.SqlProvider.Execute(Expression query, QueryInfo queryInfo, IObjectReaderFactory factory, Object[] parentArgs, Object[] userArgs, ICompiledSubQuery[] subQueries, Object lastResult)\r\n&nbsp;&nbsp; at System.Data.Linq.SqlClient.SqlProvider.ExecuteAll(Expression query, QueryInfo[] queryInfos, IObjectReaderFactory factory, Object[] userArguments, ICompiledSubQuery[] subQueries)\r\n&nbsp;&nbsp; at System.Data.Linq.SqlClient.SqlProvider.System.Data.Linq.Provider.IProvider.Execute(Expression query)\r\n&nbsp;&nbsp; at System.Data.Linq.ChangeDirector.StandardChangeDirector.DynamicDelete(TrackedObject item)\r\n&nbsp;&nbsp; at System.Data.Linq.ChangeDirector.StandardChangeDirector.Delete(TrackedObject item)\r\n&nbsp;&nbsp; at System.Data.Linq.ChangeProcessor.SubmitChanges(ConflictMode failureMode)\r\n&nbsp;&nbsp; at System.Data.Linq.DataContext.SubmitChanges(ConflictMode failureMode)\r\n&nbsp;&nbsp; at System.Data.Linq.DataContext.SubmitChanges()\r\n&nbsp;&nbsp; at MobileSalesAssistant.Business.BusinessClasses.meta_HardwareSupplierList.DataPortal_Update() in C:\\FSSLtd\\Perforce\\Products\\MobileSalesAssistant\\MobileSalesAssistantSilverlight\\MobileSalesAssistant.Business.Server\\BusinessClasses\\meta_HardwareSupplierList.cs:line 105\r\n&nbsp;&nbsp; at dm(Object , Object[] )\r\n&nbsp;&nbsp; at Csla.Reflection.MethodCaller.CallMethod(Object obj, DynamicMethodHandle methodHandle, Object[] parameters) in C:\\FSSLtd\\Perforce\\OpenSourceLibs\\cslalightcs-3.7.0-090721\\cslacs\\Csla\\Reflection\\MethodCaller.cs:line 332)"<br>&nbsp; Source="Csla"<br>&nbsp; StackTrace:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, DbAsyncResult result)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(DbAsyncResult result, String methodName, Boolean sendToPipe)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.SqlClient.SqlProvider.Execute(Expression query, QueryInfo queryInfo, IObjectReaderFactory factory, Object[] parentArgs, Object[] userArgs, ICompiledSubQuery[] subQueries, Object lastResult)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.SqlClient.SqlProvider.ExecuteAll(Expression query, QueryInfo[] queryInfos, IObjectReaderFactory factory, Object[] userArguments, ICompiledSubQuery[] subQueries)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.SqlClient.SqlProvider.System.Data.Linq.Provider.IProvider.Execute(Expression query)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.ChangeDirector.StandardChangeDirector.DynamicDelete(TrackedObject item)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.ChangeDirector.StandardChangeDirector.Delete(TrackedObject item)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.ChangeProcessor.SubmitChanges(ConflictMode failureMode)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.DataContext.SubmitChanges(ConflictMode failureMode)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.DataContext.SubmitChanges()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at MobileSalesAssistant.Business.BusinessClasses.meta_HardwareSupplierList.DataPortal_Update() in C:\FSSLtd\Perforce\Products\MobileSalesAssistant\MobileSalesAssistantSilverlight\MobileSalesAssistant.Business.Server\BusinessClasses\meta_HardwareSupplierList.cs:line 105<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at dm(Object , Object[] )<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Reflection.MethodCaller.CallMethod(Object obj, DynamicMethodHandle methodHandle, Object[] parameters) in C:\FSSLtd\Perforce\OpenSourceLibs\cslalightcs-3.7.0-090721\cslacs\Csla\Reflection\MethodCaller.cs:line 332<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Reflection.MethodCaller.CallMethod(Object obj, DynamicMethodHandle methodHandle, Object[] parameters) in C:\FSSLtd\Perforce\OpenSourceLibs\cslalightcs-3.7.0-090721\cslacs\Csla\Reflection\MethodCaller.cs:line 336<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Reflection.MethodCaller.CallMethod(Object obj, String method, Object[] parameters) in C:\FSSLtd\Perforce\OpenSourceLibs\cslalightcs-3.7.0-090721\cslacs\Csla\Reflection\MethodCaller.cs:line 260<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Reflection.LateBoundObject.CallMethod(String method) in C:\FSSLtd\Perforce\OpenSourceLibs\cslalightcs-3.7.0-090721\cslacs\Csla\Reflection\LateBoundObject.cs:line 70<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Server.SimpleDataPortal.Update(Object obj, DataPortalContext context) in C:\FSSLtd\Perforce\OpenSourceLibs\cslalightcs-3.7.0-090721\cslacs\Csla\Server\SimpleDataPortal.cs:line 230<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.DataPortal.Update(Object obj) in C:\FSSLtd\Perforce\OpenSourceLibs\cslalightcs-3.7.0-090721\cslacs\Csla\DataPortal.cs:line 480<br>&nbsp; InnerException: Csla.Reflection.CallMethodException<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Message="DataPortal_Update method call failed"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Source="Csla"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StackTrace:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, DbAsyncResult result)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(DbAsyncResult result, String methodName, Boolean sendToPipe)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.SqlClient.SqlProvider.Execute(Expression query, QueryInfo queryInfo, IObjectReaderFactory factory, Object[] parentArgs, Object[] userArgs, ICompiledSubQuery[] subQueries, Object lastResult)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.SqlClient.SqlProvider.ExecuteAll(Expression query, QueryInfo[] queryInfos, IObjectReaderFactory factory, Object[] userArguments, ICompiledSubQuery[] subQueries)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.SqlClient.SqlProvider.System.Data.Linq.Provider.IProvider.Execute(Expression query)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.ChangeDirector.StandardChangeDirector.DynamicDelete(TrackedObject item)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.ChangeDirector.StandardChangeDirector.Delete(TrackedObject item)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.ChangeProcessor.SubmitChanges(ConflictMode failureMode)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.DataContext.SubmitChanges(ConflictMode failureMode)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.DataContext.SubmitChanges()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at MobileSalesAssistant.Business.BusinessClasses.meta_HardwareSupplierList.DataPortal_Update() in C:\FSSLtd\Perforce\Products\MobileSalesAssistant\MobileSalesAssistantSilverlight\MobileSalesAssistant.Business.Server\BusinessClasses\meta_HardwareSupplierList.cs:line 105<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at dm(Object , Object[] )<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Reflection.MethodCaller.CallMethod(Object obj, DynamicMethodHandle methodHandle, Object[] parameters) in C:\FSSLtd\Perforce\OpenSourceLibs\cslalightcs-3.7.0-090721\cslacs\Csla\Reflection\MethodCaller.cs:line 332<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Reflection.MethodCaller.CallMethod(Object obj, DynamicMethodHandle methodHandle, Object[] parameters) in C:\FSSLtd\Perforce\OpenSourceLibs\cslalightcs-3.7.0-090721\cslacs\Csla\Reflection\MethodCaller.cs:line 336<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Reflection.MethodCaller.CallMethod(Object obj, String method, Object[] parameters) in C:\FSSLtd\Perforce\OpenSourceLibs\cslalightcs-3.7.0-090721\cslacs\Csla\Reflection\MethodCaller.cs:line 260<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Reflection.LateBoundObject.CallMethod(String method) in C:\FSSLtd\Perforce\OpenSourceLibs\cslalightcs-3.7.0-090721\cslacs\Csla\Reflection\LateBoundObject.cs:line 70<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Server.SimpleDataPortal.Update(Object obj, DataPortalContext context) in C:\FSSLtd\Perforce\OpenSourceLibs\cslalightcs-3.7.0-090721\cslacs\Csla\Server\SimpleDataPortal.cs:line 230<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InnerException: System.Data.SqlClient.SqlException<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Message="The DELETE statement conflicted with the REFERENCE constraint \"FK_EquipmentHistory_meta_HardwareSupplier\". The conflict occurred in database \"MobileSalesAssistant\", table \"dbo.EquipmentHistory\", column 'HardwareSupplierId'.\r\nThe statement has been terminated."<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Source=".Net SqlClient Data Provider"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ErrorCode=-2146232060<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Class=16<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LineNumber=1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Number=547<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Procedure=""<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Server=".\\SQLEXPRESS"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; State=0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StackTrace:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, DbAsyncResult result)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(DbAsyncResult result, String methodName, Boolean sendToPipe)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.SqlClient.SqlProvider.Execute(Expression query, QueryInfo queryInfo, IObjectReaderFactory factory, Object[] parentArgs, Object[] userArgs, ICompiledSubQuery[] subQueries, Object lastResult)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.SqlClient.SqlProvider.ExecuteAll(Expression query, QueryInfo[] queryInfos, IObjectReaderFactory factory, Object[] userArguments, ICompiledSubQuery[] subQueries)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.SqlClient.SqlProvider.System.Data.Linq.Provider.IProvider.Execute(Expression query)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.ChangeDirector.StandardChangeDirector.DynamicDelete(TrackedObject item)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.ChangeDirector.StandardChangeDirector.Delete(TrackedObject item)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.ChangeProcessor.SubmitChanges(ConflictMode failureMode)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.DataContext.SubmitChanges(ConflictMode failureMode)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Linq.DataContext.SubmitChanges()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at MobileSalesAssistant.Business.BusinessClasses.meta_HardwareSupplierList.DataPortal_Update() in C:\FSSLtd\Perforce\Products\MobileSalesAssistant\MobileSalesAssistantSilverlight\MobileSalesAssistant.Business.Server\BusinessClasses\meta_HardwareSupplierList.cs:line 105<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at dm(Object , Object[] )<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Reflection.MethodCaller.CallMethod(Object obj, DynamicMethodHandle methodHandle, Object[] parameters) in C:\FSSLtd\Perforce\OpenSourceLibs\cslalightcs-3.7.0-090721\cslacs\Csla\Reflection\MethodCaller.cs:line 332<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InnerException: <br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Fintanv replied on Wednesday, November 11, 2009</h2><P>Well the error is being kicked back from your database where there are child 'supplier equipment' records that are not being deleted prior to attempting to delete the parent 'hardware supplier' record.&nbsp; Hence you are violating a foreign key constraint.&nbsp; As to why the delete button is not being disabled, we would have to see the code that controls the value of "CanRemoveItem".</P>
<P>Cheers,</P>
<P>Fintan</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Adam replied on Wednesday, November 11, 2009</h2>Hi Fintan<br><br>Thanks for the information. The CanRemoveItem part is what I am intrested in and is part of the framework which is why I am wondering why its not working. I am running CSLA 3.7.0 for Silverlight if that helps.<br><br>Regards<br><br>Adam<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, November 11, 2009</h2><P>If you are going to manually control the UI control's state you need to tell InvokeMethod to use manual mode - that's another property you need to set on InvokeMethod.</P>
<P>My guess is that InvokeMethod is fighting your manual binding.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Adam replied on Tuesday, November 24, 2009</h2>Ah I see well after many attepts I have found csla:InvokeMethod.ManualEnableControl = "True" but this won't allow me to hide/disable the delete button so I have inplemented CanRemoteItem seperatly and attached it to the Visibility property as that appaers to work! Anyway thanks for the info :)<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
