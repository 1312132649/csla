<html><header><title>Need help to update data</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Need help to update data</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4103.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>amit posted on Monday, December 31, 2007</h2><P>Hi All..<BR>I am a new to the CSLA,,,and trying to write code for updating the data..but I don't want to&nbsp; use any data binding (csla data source). I want to take values from text box and call save() method<BR>as </P><FONT color=#0000ff size=2>
<P>&nbsp;object</FONT><FONT size=2> objProjectListName = MyApp_Bo.</FONT><FONT color=#2b91af size=2>ProjectList</FONT><FONT size=2>.GetProjectListName(txtName.Text);&nbsp;</FONT>&nbsp;&nbsp;&nbsp;&nbsp;<FONT size=2></P>
<P>((MyApp_Bo.</FONT><FONT color=#2b91af size=2>ProjectList</FONT><FONT size=2>)(objProjectListName)).Id = </FONT><FONT color=#0000ff size=2>new</FONT><FONT size=2> </FONT><FONT color=#2b91af size=2>Guid</FONT><FONT size=2>();</P>
<P>((MyApp_Bo.</FONT><FONT color=#2b91af size=2>ProjectList</FONT><FONT size=2>)(objProjectListName)).Name = txtName.Text;</P>
<P>((MyApp_Bo.</FONT><FONT color=#2b91af size=2>ProjectList</FONT><FONT size=2>)(objProjectListName)).Description = txtDesc.Text;</P>
<P>((MyApp_Bo.</FONT><FONT color=#2b91af size=2>ProjectList</FONT><FONT size=2>)(objProjectListName)).ApplyEdit();</P>
<P>((MyApp_Bo.</FONT><FONT color=#2b91af size=2>ProjectList</FONT><FONT size=2>)(objProjectListName)).Save(); </P>
<P></FONT>but when&nbsp;I &nbsp;run this code it executes DataPortal_Insert() method rather than DataPortal_Update() method, I think it is due to IsDirty is always set to false.</P>
<P>can anybody pls help me..</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Monday, December 31, 2007</h2>What does your GetProjectListName and DataPortal_Fetch look like?&nbsp; <br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Monday, December 31, 2007</h2><P>It will run the Isert if the object IsNew. It will do the Update when IsNew=False.</P>
<P>When you fetch the BO you should call MarkOld as one of the last steps.</P>
<P>You may be creating a new BO in your DP_Fetch which does not follow the standard pattern.</P>
<P>Joe</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
