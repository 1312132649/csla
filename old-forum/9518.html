<html><header><title>BypassPropertyChecks, MVC binding and IsDirty</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>BypassPropertyChecks, MVC binding and IsDirty</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9518.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>nelis posted on Friday, September 10, 2010</h2><p>When using MVC binding you probably want to postpone the property checks till after all properties are bound. When using BypassPropertyChecks however, IsDirty management is also disabled. So after binding IsDirty is still false (suppose it was false before binding). Manually invoking MarkDirty leads to possible unnecessary database updates.</p>
<p>Any thoughts?</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xAvailx replied on Friday, September 10, 2010</h2><p>&gt;&gt;&nbsp;When using MVC binding you probably want to postpone the property checks till after all properties are bound. &nbsp;&lt;&lt;</p>
<p>Can you further explain why you want that? When you do model binding, it is not any different than setting the values that come from the form to the model directly...e.g.</p>
<p>myModel.FirstName = form[&quot;FirstName&quot;];</p>
<p>So I don&#39;t see why you would wan&#39;t to disable property checks.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, September 10, 2010</h2><p><div style='padding-left: 50px;background-color:silver'><b>xAvailx<br></b></p>
<p>So I don&#39;t see why you would wan&#39;t to disable property checks.</p>
<div style="clear:both;"></div>
<p></div></p>
<p>There are good reasons to suppress the checks.</p>
<p>In a complex object with dependent rules, it is quite possible for a rule to be run numerous times as various properties are changed. In an interactive application that&#39;s good. </p>
<p>But in a block mode app like the web or a service, all the property values are set as a block/batch and it is inefficient to run the rules multiple times. It is more efficient to suppress rule checking, load all the property values, resume rule checking and then force all rules to run. The new ISuppressRuleChecking interface supports this approach.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xAvailx replied on Friday, September 10, 2010</h2><p>That makes sense, wasn&#39;t aware this was in CSLA. So do you have to explicitly call a method to run the validation rules after setting the properties? Is there any info on how this works/examples.</p>
<p>Thanks.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xAvailx replied on Friday, September 10, 2010</h2><p>Found it.</p>
<p>http://www.lhotka.net/cslabugs/edit_bug.aspx?id=790</p>
<p>http://www.lhotka.net/cslabugs/view_svn_file_revisions.aspx?id=790</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, September 10, 2010</h2><p>There&#39;s a new ASP.NET MVC sample in the Samples download - or will be in the next release. Gary added it to svn a few days ago, so you can get it there, or when the beta for 4.0.2 starts.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Friday, September 10, 2010</h2><p>This is not the purpose behind BypassPropertyChecks. What you want instead is the SuppressRuleChecking property on BusinessRules (ValidationRules in 3.8 and earlier).</p>
<p>In CSLA 4 there&#39;s an ISuppressRuleChecking interface on BusinessBase so a UI framework can directly suppress, resume and check rules - specifically added to make ASP.NET MVC development easier.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>nelis replied on Friday, September 10, 2010</h2><p>Thanks, that&#39;s what I was looking for</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
