<html><header><title>FieldManager.UpdateChildren calls in Parent-Child-GrandChild</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>FieldManager.UpdateChildren calls in Parent-Child-GrandChild</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12390.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>swegele posted on Saturday, February 22, 2014</h2><p>I see in ProjectTracker...the ProjectEdit calls FieldManager.UpdateChildren(this)</p>
<p>This hits framework code in the listbase which loops through calling Update/Insert/Delete on its children.</p>
<p>If I have another level deeper...</p>
<p>1.&nbsp; Do I have to also call FieldManager.UpdateChildren(this)? It doesn&#39;t seem like this recurses past the first level in the graph right?</p>
<p>2.&nbsp; Would it be a good habit to call that at the end of each dataportal insert/update just in case some other developer adds a child property and doesn&#39;t know CSLA enough to add that...but they would probably copy it if they were just making their own grandchild from my example.&nbsp; Not much of a performance hit.</p>
<p>Thanks,</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Saturday, February 22, 2014</h2><p>Hi,</p>
<p>1. yes - this call only goes one level down. So you must add a new one in the child level to process &quot;grandchildren&quot;.</p>
<p>2. I have often seen the need to supply an extra parameter (f.ex ParentId) in the UpdateChildren call. IE: You can send multiple extra parameters on the DataPortal.UpdateCild/FieldManager.UpdateChildren and childrens Child_Insert/Child_Update/Child_Delete methods must all have these parameters. So I have never added this as a &quot;default&quot; coding standard in my code.&nbsp;</p>
<p>IE: Will new children always know the parent id (or maybe the parent is also a new object an has no parenid until is is saved)?&nbsp;</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
