<html><header><title>Using Web Service for Data Access methods XYZ_FETCH().</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Using Web Service for Data Access methods XYZ_FETCH().</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9400.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>tarekahf posted on Wednesday, August 18, 2010</h2><p>I have developed applications (name Staff On-Line Services)&nbsp;using CSLA .NET 2.x which provides the logged in staff with their profile information (Education, Expereince, Salary...etc) from the back end legacy systems. The Back-End System is based in Adabas/Unix. The application is running live for almost one year. Since not all data is in Adabas, the Developed Business Objects read from Adabas as well as from SQL Server and MS Access as required.</p>
<p>Currently the Business Objects, in the XYZ_FETCH() part,&nbsp;are simply openning&nbsp;OLEDB connection to to Adabas (and/or MS Access + SQL Server) and using Command and SafeDataReader Object to fetch the required fields and fill the BO Properties.</p>
<p>Since we are migrating our core business modules from Adabas/Unix to SAP, the Development Team from Germany is developing custom Web Services to provide the required Details for Each Business Object. Note that there will be no changes to the current Business Object Desing.</p>
<p>We have a total of 20+ Business Objects which need to be modified to read the required Object Properties from the Web Services instead.</p>
<p>Since the migration process will be done gradually, so not all objects will have to be modified in one go, and since there will be parallel run period, so the Business Object must support reading the data using the old way (from Adabas/SQL/MS Access) and also support reading the Data from the new Web Services (SAP).</p>
<p>I hope I was able to explaing the requirements for change to the Business Objects developed using CSLA .NET method.</p>
<p>The Questions:<br />============</p>
<p>1.&nbsp;The Data Access Region, the method XYZ_FETCH() which is currently reading the data using OLEDB connection to Adabas using simple Commad and SafeDataReader objects. What is the best way to implement the change to read from the Web Service ? Just simple&nbsp;call&nbsp;the Web Service inside XYZ_FETCH() instead of openning a connection and&nbsp;SafeDataReader&nbsp;using a&nbsp;Command Object ?</p>
<p>2. What is the best method to implement support for reading the Data from Dual sources (OLEDB vs. Web Service) ? What is your recommendation ? I am thinking to allow the user to choose the source of the Data as soon as he logs in.</p>
<p>3. I was thinking I can do Configuration Changes in Web.Config to change the source of the Data for XYZ_FETCH(), since that was one of the good reason why we are have to use CSLA approach (Logical Architecture), but I could not figure out how to do that, any help on this issue ? I mean, it was mentioned that using CSLA you will be able to Focus on Business Requirements, ie, write your code regardless of the Physical Architecture, but I cannot figure out how to implement this feature with regards to my requirements.</p>
<p>3. I can migrate to CLSA 3.x, will this add any value to the implemented solution ?</p>
<p>Appeciate your feedback.</p>
<p>Tarek.</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Wednesday, August 18, 2010</h2><p>There are four data access models supported by CSLA: <a href="http://www.lhotka.net/cslanet/faq/DataFaq.ashx">http://www.lhotka.net/cslanet/faq/DataFaq.ashx</a></p>
<p>These are discussed in Chapter 18, and in even more detail in the Core 3.8 video series where there&#39;s an entire video on the topic along with samples.</p>
<p>Options 2-4 provide the indirection required to switch between DAL implementations via configuration.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
