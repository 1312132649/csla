<html><header><title>Mulitple DB Vendors in distributed application</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Mulitple DB Vendors in distributed application</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3455.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Guppy posted on Thursday, August 30, 2007</h2>Hi<br><br>I'm currently in the process of reading the C# 2005 book and only up to chapter six, so there is a chance this is answered in a future chapter, but my mind is wondering off and has a query that I was hoping someone could point me in the right direction of.<br><br>The system I would like to use CSLA for would run on the desktop and a web server, with the master DB being behind the web server. The desktop client can work remotely and then sych through a web service as needed.<br><br>On the desktop I had planned to use the embedded MS Sql Express option,
but doubt very much if we'll have SQL Server on the web server (more
likely MySQL or Informix).<br><br>The query I had was how should I be structuring my project so that I can have the same (by same I mean version) business objects running on both platforms and support different DB backends easily?<br><br>I appreciate that I will be effectively providing three interfaces, web, web service and windows forms, however I clearly want to have a common business object library which uses a different DB depending on where it is.<br><br>I am not sure yet (as I've not got to the web services chapter) if I will have implement the web service myself or follow Rockford's approach.<br><br>If anyone has any guidance on where I should be looking for explinations on this, or how they would layout the project I would be very greatful.<br><br>Thank you.<br><br>Glenn<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>LiamGrossmann replied on Thursday, August 30, 2007</h2><P>The standard CSLA templates do not support databases from other vendors - they are geared towards SQL Server.</P>
<P>If you want to support multiple databases (from differenct vendors) you should look to extending the CSLA templates to use the Microsoft Data Access Application Block - part of the Enterprise Patterns and Practices (<SPAN><A href="http://msdn2.microsoft.com/en-us/library/aa480453.aspx">http://msdn2.microsoft.com/en-us/library/aa480453.aspx</A>)</SPAN></P>
<P><SPAN><FONT face="Times New Roman" size=3>I'm&nbsp; not too sure how well the MS DAAB will cope with MySQL or INformix but it does work for DB2 and Oracle and does abstract your DAL so that it is database vendor independent.</FONT></SPAN></P>
<P><SPAN></SPAN>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Guppy replied on Thursday, August 30, 2007</h2>That sounds like it could be more work that I would have hoped for. We're only considering another product for the central database instead of sql server as we have in-house management skills for it.<br><br>I assume we wouldn't have any problems if we had sql server express on the clients and then sql server on the central db? I assume there will be a way of telling the software which db server to use.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Clayton replied on Thursday, August 30, 2007</h2>MS's Enterprise Library Data block should serve your needs. With it you can write your data access code one way in your business objects, and use the configuration files in each location to determine the database to use.<br><br>The other trick will be to use your stored procedures as the interface into your database. If you write your stored procedures with the same names, parameters, etc., I believe you may be able to get the result your looking for. I'm not familiar enough with non-MS databases to say for sure though.<br><br>It should be easy enough to write a small test harness to verify and the results of a successful test will be worth the effort.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Thursday, August 30, 2007</h2><P>The MS DAAB is a nice piece of code.</P>
<P>I wrote something similar before it was published and then just reviewed it to ensure I hadn't overlooked anything major.</P>
<P>It basically abstracts all the ADO.Net commands so you can do stuff like:</P>
<P>DAL.ExecuteScalar("SomeQuery") and get back a result in your BO.</P>
<P>You also have access to all the other ADO commands - you just don't have to bother setting each one up in your DataPortal_Fetch anymore.</P>
<P>The key thing is that it returns the Interfaces for each object (like IDataReader, ICommand, I...etc)</P>
<P>This allows you to use any provider at runtime. I simply set a value in my config file and I can switch databases.</P>
<P>If you have a choice though - use the same DB server everywhere to keep things simple and to leverage the power of that DB server. I always get stuck with the lowest common functionality.</P>
<P>Joe</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Guppy replied on Monday, September 03, 2007</h2>Thanks for all the feedback. Do you have any comments on the scope of the effort required to implement DAAB?<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
