<html><header><title>IsDirty OnPropertyChanged?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>IsDirty OnPropertyChanged?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8829.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>gstempeck posted on Thursday, April 22, 2010</h2><p>Greetings,</p>
<p>Just a suggestion for inclusion to CSLA at some point.&nbsp; We have styles that change based on IsNew, IsSaveable, etc - but adding a similar style for IsDirty doesn&#39;t work out well because it&#39;s missing an OnPropertyChanged.</p>
<p>This may have already been suggested, but if not - I think&nbsp;this would be helpful for WPF development purposes.</p>
<p>For example,</p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-family:&#39;Courier New&#39;;color:#1000a0;font-size:10pt;">protected</span><span style="font-family:&#39;Courier New&#39;;font-size:10pt;"> <a href="http://www.aisto.com/roeder/dotnet/Default.aspx?Target=code://mscorlib:2.0.0.0:b77a5c561934e089/System.Void" title="System.Void"><span style="color:#0000ff;">void</span></a> <b><a href="http://www.aisto.com/roeder/dotnet/Default.aspx?Target=code://Csla:3.8.1.0:93be5fdc093e4c30/Csla.Core.BusinessBase/MarkDirty(Boolean)">MarkDirty</a></b>(<a href="http://www.aisto.com/roeder/dotnet/Default.aspx?Target=code://mscorlib:2.0.0.0:b77a5c561934e089/System.Boolean" title="System.Boolean"><span style="color:#0000ff;">bool</span></a> suppressEvent)</span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-family:&#39;Courier New&#39;;font-size:10pt;">{</span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-family:&#39;Courier New&#39;;font-size:10pt;">&nbsp;&nbsp;&nbsp; // Add code to call OnPropertyChanged for IsDirty specifically</span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-family:&#39;Courier New&#39;;font-size:10pt;">&nbsp;&nbsp;&nbsp; <span style="color:#1000a0;">this</span>.<a href="http://www.aisto.com/roeder/dotnet/Default.aspx?Target=code://Csla:3.8.1.0:93be5fdc093e4c30/Csla.Core.BusinessBase/_isDirty:Boolean" title="bool Csla.Core.BusinessBase._isDirty;"><span style="color:#0000ff;">_isDirty</span></a> = <span style="color:maroon;">true</span>; this.OnPropertyChanged(&quot;IsDirty&quot;);</span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-family:&#39;Courier New&#39;;font-size:10pt;">&nbsp;&nbsp;&nbsp; <span style="color:#1000a0;">if</span> (!suppressEvent)</span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-family:&#39;Courier New&#39;;font-size:10pt;">&nbsp;&nbsp;&nbsp; {</span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-family:&#39;Courier New&#39;;font-size:10pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<span style="color:#1000a0;">this</span>.<a href="http://www.aisto.com/roeder/dotnet/Default.aspx?Target=code://Csla:3.8.1.0:93be5fdc093e4c30/Csla.Core.BindableBase/OnUnknownPropertyChanged()" title="void Csla.Core.BindableBase.OnUnknownPropertyChanged();"><span style="color:#0000ff;">OnUnknownPropertyChanged</span></a>();</span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-family:&#39;Courier New&#39;;font-size:10pt;">&nbsp;&nbsp; &nbsp;}</span></p>
<p class="MsoNormal" style="margin:0in 0in 0pt;"><span style="font-family:&#39;Courier New&#39;;font-size:10pt;">}</span><span style="color:#1f497d;"></span></p>
<p>Hope all is well,</p>
<p>GS</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, April 22, 2010</h2><p>Thank you for the feedback.</p>
<p>This has been discussed many times. The problem is that this change would conflict with Windows Forms behaviors, and a lot of people still use Windows Forms. Eventually I&#39;m sure I&#39;ll make this change, but transition takes time.</p>
<p>In the meantime there are good answers for WPF users - most notably the ViewModelBase and CslaDataProvider types, along with the ObjectStatus component. All three of these are WPF components that elevate important metastate properties to a bindable level, including raising appropriate PropertyChanged events.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
