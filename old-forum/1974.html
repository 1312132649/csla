<html><header><title>Windows Authentication - PTWeb getting started</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Windows Authentication - PTWeb getting started</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1974.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>blp4383 posted on Thursday, December 14, 2006</h2><P>Having trouble getting roles to be recognized when changing sample app to windows authentication.&nbsp; </P>
<P>Changed web.config&nbsp;authentication to "windows", impersonation = true</P><FONT color=#0000ff size=2>
<P>&lt;</FONT><FONT color=#800000 size=2>authentication</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>mode</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>Windows</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>&gt;</FONT><FONT color=#0000ff size=2>&lt;/</FONT><FONT color=#800000 size=2>authentication</FONT><FONT color=#0000ff size=2>&gt;<BR>&lt;</FONT><FONT color=#800000 size=2>identity</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>impersonate</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>true</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</FONT></P>
<P><FONT color=#000000>I also commented out the code in global.asax.&nbsp; </FONT></P>
<P><FONT color=#000000>I added my windows Id to the security table users, and added the role of Aminstrator to the table roles for my user id.&nbsp; Yet when I run the <FONT color=#000000>web</FONT> app I do not see any of the Administrator features on the web pages.&nbsp; </FONT></P>
<P><FONT color=#000000>Is there another step that I am missing?&nbsp; Code I have to add to make the roles for my windows user id to be recognized?&nbsp; </FONT></P>
<P><FONT color=#000000>Thanks</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, December 14, 2006</h2>It might be totally wrong, but I think your Windows user account needs to belong to a group of the same name.&nbsp; What's the administrators role that PTracker expects?&nbsp; You'll need to create a Windows Group, and add your user to that group for it to work.&nbsp; Oh, you'll need to log off and log back onto Windows as well, as your group membership is only read once during login.<br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>blp4383 replied on Tuesday, December 19, 2006</h2>fyi&nbsp;Andy, Thanks&nbsp;that worked for me...I appreciate the help.&nbsp; </div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
