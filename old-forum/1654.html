<html><header><title>File Not Found exception with web services host and PTracker</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>File Not Found exception with web services host and PTracker</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1654.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>SultanOfSuede posted on Wednesday, November 01, 2006</h2><P>The FNF error has been dealt with in other threads, but I'm still having the problem when trying to set up the Project Tracker 1.0 sample.&nbsp; The answers given in the other threads haven't helped me.</P>
<P>I've installed CSLA 2.1 in the GAC.&nbsp; I can run PTracker successfully in a two-tier configuration.&nbsp; I log in as pm, add/edit resources, etc.&nbsp;&nbsp;I can browse to&nbsp;<A href="http://localhost/WebServicesHost/WebServicePortal.asmx">http://localhost/WebServicesHost/WebServicePortal.asmx</A>&nbsp;and see the data portal methods and I can gen a file against the URL using wsdl.exe.&nbsp; (I'm not using a port configuration at the moment.&nbsp; I did earlier after configuring IIS and got the same problem.)</P>
<P>When I go to the web services configuration though, I get the error below.&nbsp; Maybe PTracker 1.0 (from the Apress website) doesn't work with 2.1?&nbsp; I've verified that the CSLA authentication types are the same in both the PTWin project and the WebServicesHost project config files.&nbsp; The database strings are identical as well.&nbsp; I've Beyond Compared the \bin directories of the business library, the UI and the services host as well and they're the same.&nbsp; Each of these assemblies references the same released version of CSLA 2.1 dll that is hosted&nbsp;in the GAC.&nbsp;&nbsp; &nbsp;</P>
<P>What am I missing?&nbsp; I've not been able to find the actual PTracker code on Rocky's site, so I assumed that it was still the same as what is on the publisher site.</P>
<P>************** Exception Text **************<BR>System.IO.FileNotFoundException: Could not load file or assembly 'Csla' or one of its dependencies. The system cannot find the file specified.<BR>File name: 'Csla'<BR>&nbsp;&nbsp; at System.Reflection.Assembly.nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, Assembly locationHint, StackCrawlMark&amp; stackMark, Boolean throwOnFileNotFound, Boolean forIntrospection)<BR>&nbsp;&nbsp; at System.Reflection.Assembly.InternalLoad(AssemblyName assemblyRef, Evidence assemblySecurity, StackCrawlMark&amp; stackMark, Boolean forIntrospection)<BR>&nbsp;&nbsp; at System.Reflection.Assembly.InternalLoad(String assemblyString, Evidence assemblySecurity, StackCrawlMark&amp; stackMark, Boolean forIntrospection)<BR>&nbsp;&nbsp; at System.Activator.CreateInstance(String assemblyName, String typeName, Boolean ignoreCase, BindingFlags bindingAttr, Binder binder, Object[] args, CultureInfo culture, Object[] activationAttributes, Evidence securityInfo, StackCrawlMark&amp; stackMark)<BR>&nbsp;&nbsp; at System.Activator.CreateInstance(String assemblyName, String typeName)<BR>&nbsp;&nbsp; at Csla.DataPortal.GetDataPortalProxy(Boolean forceLocal)<BR>&nbsp;&nbsp; at Csla.DataPortal.Fetch(Type objectType, Object criteria)<BR>&nbsp;&nbsp; at Csla.DataPortal.Fetch[T](Object criteria)<BR>&nbsp;&nbsp; at ProjectTracker.Library.Security.PTPrincipal.Login(String username, String password) in C:\CSLA\csla20cs\ProjectTracker20cs\ProjectTracker.Library\Security\PTPrincipal.cs:line 15<BR>&nbsp;&nbsp; at PTWin.LoginForm.OK_Click(Object sender, EventArgs e) in C:\CSLA\csla20cs\ProjectTracker20cs\PTWin\LoginForm.cs:line 23<BR>&nbsp;&nbsp; at System.Windows.Forms.Control.OnClick(EventArgs e)<BR>&nbsp;&nbsp; at System.Windows.Forms.Button.OnClick(EventArgs e)<BR>&nbsp;&nbsp; at System.Windows.Forms.Button.PerformClick()<BR>&nbsp;&nbsp; at System.Windows.Forms.Form.ProcessDialogKey(Keys keyData)<BR>&nbsp;&nbsp; at System.Windows.Forms.TextBoxBase.ProcessDialogKey(Keys keyData)<BR>&nbsp;&nbsp; at System.Windows.Forms.Control.PreProcessMessage(Message&amp; msg)<BR>&nbsp;&nbsp; at System.Windows.Forms.Control.PreProcessControlMessageInternal(Control target, Message&amp; msg)<BR>&nbsp;&nbsp; at System.Windows.Forms.Application.ThreadContext.PreTranslateMessage(MSG&amp; msg)</P>
<P>WRN: Assembly binding logging is turned OFF.<BR>To enable assembly bind failure logging, set the registry value [HKLM\Software\Microsoft\Fusion!EnableLog] (DWORD) to 1.<BR>Note: There is some performance penalty associated with assembly bind failure logging.<BR>To turn this feature off, remove the registry value [HKLM\Software\Microsoft\Fusion!EnableLog].</P>
<P>&nbsp;</P>
<P>************** Loaded Assemblies **************<BR>mscorlib<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.42 (RTM.050727-4200)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/Microsoft.NET/Framework/v2.0.50727/mscorlib.dll</A><BR>----------------------------------------<BR>PTWin<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 1.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 1.0.0.0<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/CSLA/csla20cs/ProjectTracker20cs/PTWin/bin/Release/PTWin.exe</A><BR>----------------------------------------<BR>System.Windows.Forms<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.42 (RTM.050727-4200)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_MSIL/System.Windows.Forms/2.0.0.0__b77a5c561934e089/System.Windows.Forms.dll</A><BR>----------------------------------------<BR>System<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.42 (RTM.050727-4200)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_MSIL/System/2.0.0.0__b77a5c561934e089/System.dll</A><BR>----------------------------------------<BR>System.Drawing<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.42 (RTM.050727-4200)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_MSIL/System.Drawing/2.0.0.0__b03f5f7f11d50a3a/System.Drawing.dll</A><BR>----------------------------------------<BR>Csla<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.1.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 1.0.0.0<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_MSIL/Csla/2.1.0.0__93be5fdc093e4c30/Csla.dll</A><BR>----------------------------------------<BR>System.Configuration<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.42 (RTM.050727-4200)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_MSIL/System.Configuration/2.0.0.0__b03f5f7f11d50a3a/System.Configuration.dll</A><BR>----------------------------------------<BR>System.Xml<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.42 (RTM.050727-4200)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_MSIL/System.Xml/2.0.0.0__b77a5c561934e089/System.Xml.dll</A><BR>----------------------------------------<BR>ProjectTracker.Library<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 1.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 1.0.0.0<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/CSLA/csla20cs/ProjectTracker20cs/PTWin/bin/Release/ProjectTracker.Library.DLL</A><BR>----------------------------------------<BR>System.Web<BR>&nbsp;&nbsp;&nbsp; Assembly Version: 2.0.0.0<BR>&nbsp;&nbsp;&nbsp; Win32 Version: 2.0.50727.210 (QFE.050727-2100)<BR>&nbsp;&nbsp;&nbsp; CodeBase: <A>file:///C:/WINDOWS/assembly/GAC_32/System.Web/2.0.0.0__b03f5f7f11d50a3a/System.Web.dll</A><BR>----------------------------------------</P>
<P>************** JIT Debugging **************<BR>To enable just-in-time (JIT) debugging, the .config file for this<BR>application or computer (machine.config) must have the<BR>jitDebugging value set in the system.windows.forms section.<BR>The application must also be compiled with debugging<BR>enabled.</P>
<P>For example:</P>
<P>&lt;configuration&gt;<BR>&nbsp;&nbsp;&nbsp; &lt;system.windows.forms jitDebugging="true" /&gt;<BR>&lt;/configuration&gt;</P>
<P>When JIT debugging is enabled, any unhandled exception<BR>will be sent to the JIT debugger registered on the computer<BR>rather than be handled by this dialog box.</P>
<P><BR>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SultanOfSuede replied on Wednesday, November 01, 2006</h2>BTW, the error occurs in the login.&nbsp;&nbsp;It doesn't occur when I use a two-tier configuration (no remoting of any sort).&nbsp; </div><div style='padding:0 15 3 15;background-color:powderblue'><h2>guyroch replied on Wednesday, November 01, 2006</h2><P>Make sure the Csla reference in you web.config is in lower case w/ capital "C".</P>
<P><FONT color=#008000>&nbsp; &lt;system.runtime.remoting&gt; <BR>&nbsp;&nbsp;&nbsp; &lt;application&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;service&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;wellknown mode="SingleCall" objectUri="</FONT><FONT color=#008000>RemotingPortal.rem</FONT><FONT color=#008000>" type="<FONT color=#0000ff><STRONG>Csla</STRONG></FONT>.Server.Hosts.RemotingPortal, <FONT color=#0000ff size=4><STRONG>Csla</STRONG></FONT>"/&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/service&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;channels&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;channel ref="http"&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;serverProviders&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;provider ref="wsdl"/&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;formatter ref="soap" typeFilterLevel="Full"/&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;formatter ref="binary" typeFilterLevel="Full"/&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/serverProviders&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/channel&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/channels&gt;<BR>&nbsp;&nbsp;&nbsp; &lt;/application&gt;<BR>&nbsp; &lt;/system.runtime.remoting&gt;</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SultanOfSuede replied on Wednesday, November 01, 2006</h2><P>I'm using the web services proxy configuration in PTWin's config file.&nbsp; Here's what I have:</P><FONT color=#0000ff size=2>
<P>&lt;</FONT><FONT color=#800000 size=2>add</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>key</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>CslaDataPortalProxy</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>Csla.DataPortalClient.WebServicesProxy, Csla</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</FONT></P><FONT color=#0000ff size=2>
<P>&lt;</FONT><FONT color=#800000 size=2>add</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>key</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>CslaDataPortalUrl</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>http://localhost/WebServicesHost/WebServicePortal.asmx</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>/&gt;</FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000>Control clicking the hyperlink above shows me a web page with the methods listed for the data portal.&nbsp; The value for the data portal proxy looks right to me based on my check of the CSLA source code.&nbsp; </FONT></P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>guyroch replied on Wednesday, November 01, 2006</h2>Oops, sorry.&nbsp; I'm not familiar with the web services proxy.&nbsp; :(</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
