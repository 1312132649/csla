<html><header><title>Type Initializer Error</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Type Initializer Error</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6158.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>CyclingFoodmanPA posted on Wednesday, January 14, 2009</h2><P>I am making progress in getting a prototype of my application to use Silverlight and am basing it on the Rolodex example, but it is a slow process :(.&nbsp; Currently I am getting a type initializer error after I go into the login screen and get to the following code:</P><FONT color=#808080 size=2><FONT color=#808080 size=2>
<P>BASIdentity.GetIdentity(username, password, (o, e) =&gt;<BR>{<BR>&nbsp;&nbsp;&nbsp;if (e.Object == null)<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetPrincipal(BASIdentity.UnauthenticatedIdentity());<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;else<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetPrincipal(e.Object);<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;completed(null, EventArgs.Empty);<BR>});</P>
<P>This code is in my BASPrincipal.cs module and here is the exception message generated:<BR>System.TypeInitializationException was unhandled by user code<BR>&nbsp; Message="The type initializer for 'BAS.Business.Security.BASIdentity' threw an exception."<BR>&nbsp; TypeName="BAS.Business.Security.BASIdentity"<BR>&nbsp; StackTrace:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at BAS.Business.Security.BASIdentity.GetIdentity(String username, String password, EventHandler`1 completed)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at BAS.Business.Security.BASPrincipal.Login(String username, String password, EventHandler`1 completed)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at BAS.LoginControl.LogInButton_Click(Object sender, RoutedEventArgs e)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Windows.Controls.Primitives.ButtonBase.OnClick()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Windows.Controls.Button.OnClick()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Windows.Controls.Primitives.ButtonBase.OnMouseLeftButtonUp(MouseButtonEventArgs e)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Windows.Controls.Control.OnMouseLeftButtonUp(Control ctrl, EventArgs e)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at MS.Internal.JoltHelper.FireEvent(IntPtr unmanagedObj, IntPtr unmanagedObjArgs, Int32 argsTypeIndex, String eventName)<BR>&nbsp; InnerException: System.TypeLoadException<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Message="Could not load type 'System.Windows.Controls.IEditableObject' from assembly 'System.Windows.Controls.Data, Version=2.0.5.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35'."<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StackTrace:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Core.FieldManager.PropertyInfoManager.get_PropertyInfoCache()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Core.FieldManager.PropertyInfoManager.GetPropertyListCache(Type objectType)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.Core.FieldManager.PropertyInfoManager.RegisterProperty[T](Type objectType, PropertyInfo`1 info)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at Csla.ReadOnlyBase`1.RegisterProperty[P](PropertyInfo`1 info)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at BAS.Business.Security.BASIdentity..cctor()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InnerException: </P>
<P>The code for BASIdentity looks correct and was based on the RolodexIdentity code so I am a bit puzzeled.&nbsp; It is probably something simple, but being new to Silverlight, there are a lot of gotchas and I think I am finding all of them.</P>
<P>Thank you,</P>
<P>Keith</P>
<P>&nbsp;</P></FONT></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, January 14, 2009</h2><P>The core of the exception is this:</P>
<BLOCKQUOTE dir=ltr>
<P>Message="Could not load type 'System.Windows.Controls.IEditableObject' from assembly 'System.Windows.Controls.Data, Version=2.0.5.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35'."</P></BLOCKQUOTE>
<P>It seems that you might not have a reference to this assembly in your main SL app, so the assembly isn't in the xap file, so the type loader can't find it.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Wednesday, January 14, 2009</h2>









 

 
  
 




<div class=Section1>

<p class=MsoNormal><span>I think your Silverlight run time is too old.&nbsp; This
interface was moved from Controls.Data into (I think) System.ComponentModel in
RTM of Silverlight.<o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b><span>Sergey Barskiy<o:p></o:p></span></b></p>

<p class=MsoNormal><b><i><span>Principal Consultant<o:p></o:p></span></i></b></p>

<p class=MsoNormal><span>office: 678.405.0687 |
mobile:&nbsp;404.388.1899</span><span><o:p></o:p></span></p>

<p class=MsoNormal><span><img width=119 height=26 id="Picture_x0020_1" alt="cid:_2_0648EA840648E85C001BBCB886257279"><br>
</span><b><span>Microsoft Worldwide Partner of the Year |</span></b><span> </span><b><span>Custom
Development Solutions, Technical Innovation</span></b><span><o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<div>

<p class=MsoNormal><b><span>From:</span></b><span> CyclingFoodmanPA
[mailto:cslanet@lhotka.net] <br>
<b>Sent:</b> Wednesday, January 14, 2009 8:26 PM<br>
<b>To:</b> Sergey Barskiy<br>
<b>Subject:</b> [CSLA .NET] Type Initializer Error<o:p></o:p></span></p>

</div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p>I am making progress in getting a prototype of my application to use
Silverlight and am basing it on the Rolodex example, but it is a slow process
:(.&nbsp; Currently I am getting a type initializer error after I go into the
login screen and get to the following code:<o:p></o:p></p>

<p><span>BASIdentity.GetIdentity(username,
password, (o, e) =&gt;<br>
{<br>
&nbsp;&nbsp;&nbsp;if (e.Object == null)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetPrincipal(BASIdentity.UnauthenticatedIdentity());<br>
&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;else<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetPrincipal(e.Object);<br>
&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;completed(null, EventArgs.Empty);<br>
});<o:p></o:p></span></p>

<p><span>This code is in my BASPrincipal.cs
module and here is the exception message generated:<br>
System.TypeInitializationException was unhandled by user code<br>
&nbsp; Message=&quot;The type initializer for
'BAS.Business.Security.BASIdentity' threw an exception.&quot;<br>
&nbsp; TypeName=&quot;BAS.Business.Security.BASIdentity&quot;<br>
&nbsp; StackTrace:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at
BAS.Business.Security.BASIdentity.GetIdentity(String username, String password,
EventHandler`1 completed)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at
BAS.Business.Security.BASPrincipal.Login(String username, String password,
EventHandler`1 completed)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at
BAS.LoginControl.LogInButton_Click(Object sender, RoutedEventArgs e)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at
System.Windows.Controls.Primitives.ButtonBase.OnClick()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at
System.Windows.Controls.Button.OnClick()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at
System.Windows.Controls.Primitives.ButtonBase.OnMouseLeftButtonUp(MouseButtonEventArgs
e)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Windows.Controls.Control.OnMouseLeftButtonUp(Control
ctrl, EventArgs e)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at MS.Internal.JoltHelper.FireEvent(IntPtr
unmanagedObj, IntPtr unmanagedObjArgs, Int32 argsTypeIndex, String eventName)<br>
&nbsp; InnerException: System.TypeLoadException<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Message=&quot;Could not load type 'System.Windows.Controls.IEditableObject'
from assembly 'System.Windows.Controls.Data, Version=2.0.5.0, Culture=neutral,
PublicKeyToken=31bf3856ad364e35'.&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StackTrace:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at
Csla.Core.FieldManager.PropertyInfoManager.get_PropertyInfoCache()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at
Csla.Core.FieldManager.PropertyInfoManager.GetPropertyListCache(Type
objectType)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at
Csla.Core.FieldManager.PropertyInfoManager.RegisterProperty[T](Type objectType,
PropertyInfo`1 info)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at
Csla.ReadOnlyBase`1.RegisterProperty[P](PropertyInfo`1 info)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at
BAS.Business.Security.BASIdentity..cctor()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InnerException: <o:p></o:p></span></p>

<p><span>The code for BASIdentity looks
correct and was based on the RolodexIdentity code so I am a bit puzzeled.&nbsp;
It is probably something simple, but being new to Silverlight, there are a lot
of gotchas and I think I am finding all of them.<o:p></o:p></span></p>

<p><span>Thank you,<o:p></o:p></span></p>

<p><span>Keith<o:p></o:p></span></p>

<p><span>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><br>
<br>
<o:p></o:p></p>

</div>



</div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
