<html><header><title>CancelEdit operation from editlevel=n to editlevel=0 in one step (e. g. &quot;TotalCancelEdit()&quot;)</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CancelEdit operation from editlevel=n to editlevel=0 in one step (e. g. &quot;TotalCancelEdit()&quot;)</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/5883.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Andreas posted on Wednesday, November 26, 2008</h2><P>Is there any way to reset all previous BeginEdit() operations in one step or do I have&nbsp;to call always CancelEdit() until EditLevel==0?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Wednesday, November 26, 2008</h2>That would probably be the correct way to do it, considering that methods for syncing the edit level of child objects added after BeginEdit() has been called basically call BeginEdit() on the child until the edit level matches the parent object.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Andreas replied on Wednesday, November 26, 2008</h2><P><SPAN>Sorry, maybe I missed something. But if&nbsp;I don't care about&nbsp;changes&nbsp;and any&nbsp; BeginEdit/ApplyEdit operation on any of the child objects&nbsp;made before? The parent object in my case a BLB and&nbsp;child objects are BB. I am wondering why&nbsp;the&nbsp; framework could not simply restore the first persisted state from the stack of the parent object?<BR>Depending on the number of EditLevel,&nbsp;e</SPAN><SPAN>ach single CancelEdit() operations can result in many very time consuming deserialization operations. Why not simply&nbsp;grab the first item on the undo stack (index 0) inside&nbsp;BLB&nbsp;and deserialize it, ignoring any higher&nbsp;stack&nbsp;entries?</SPAN></P>
<P><SPAN></SPAN>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tmg4340 replied on Wednesday, November 26, 2008</h2><P><FONT face=Tahoma size=2>You might not - but any binding you have may.&nbsp; If your collection is bound to any controls, I'm betting the .NET binding code would not react well to a "just go to the top" cancellation.&nbsp; Perhaps I'm wrong - but even if I am, how would you implement that kind of conditional logic in CancelEdit()?&nbsp; You can't change the method signature.</FONT></P>
<P><FONT face=Tahoma size=2>- Scott</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Thursday, November 27, 2008</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>Andreas:</strong></div><div> 
<P><SPAN>Sorry, maybe I missed something. But if&nbsp;I don't care about&nbsp;changes&nbsp;and any&nbsp; BeginEdit/ApplyEdit operation on any of the child objects&nbsp;made before? The parent object in my case a BLB and&nbsp;child objects are BB. I am wondering why&nbsp;the&nbsp; framework could not simply restore the first persisted state from the stack of the parent object?<BR>Depending on the number of EditLevel,&nbsp;e</SPAN><SPAN>ach single CancelEdit() operations can result in many very time consuming deserialization operations. Why not simply&nbsp;grab the first item on the undo stack (index 0) inside&nbsp;BLB&nbsp;and deserialize it, ignoring any higher&nbsp;stack&nbsp;entries?</SPAN></P>
<P><SPAN></SPAN>&nbsp;</P>
<P></div></BLOCKQUOTE></P>
<P>Ah, well of course this would be possible. But&nbsp;you would need to code this yourself and the implementation would be sensitive to future changes in the internal implementation detail. </P>
<P>Another fairly efficient approach, though, would be instead to&nbsp;actually call ApplyEdit()&nbsp;in a loop until you reach EditLevel(1), and then call CancelEdit() to restore the&nbsp;first state pushed onto the undo stack. The ApplyEdit() calls would just pop the stack and discard the state without any deserialization.</P>
<P>This would avoid any deserialization of the higher stack entries and could still be implemented without much internal tinkering. &nbsp;</P>
<P>As the other poster noted, though, who knows how the user interface would react to this if the object was bound at the time. </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Andreas replied on Monday, December 01, 2008</h2><P>Data binding is definetly something to consider.&nbsp;Thanks!</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
