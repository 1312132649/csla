<html><header><title>how to map data to a child...</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>how to map data to a child...</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/10559.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Troy posted on Monday, July 25, 2011</h2><p>Hi,</p>
<p>I have a child object called MessageGroups (the parent is Message), now MessageGroups is a List which has an Editable business object call MessageGroup, the below line ( Csla.Data.DataMapper.Map(item, info);) fails because info is null, however I don&#39;t know how to create an instance of MessageGroup because the factory methods within the MessageGroup class are declared as static internal.&nbsp; Code snippet is below.</p>
<p>I don&#39;t see an equivalent implementation of this int he ProjectTracker sample app so I&#39;m not sure the best way to map the properities.</p>
<p>//map message details<br />Csla.Data.DataMapper.Map(messageData, message, messageDataIgnoreList);</p>
<p>//map message groups<br />if (messageData.MessageGroups != null)<br />{<br />&nbsp;&nbsp;&nbsp; MessageGroups groups = null;<br />&nbsp;&nbsp;&nbsp; foreach (MessageGroupData item in messageData.MessageGroups)<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MessageGroup info = null;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Csla.Data.DataMapper.Map(item, info);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; groups.Add(info);<br />&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; message.GroupRecipients = groups;<br />}</p>
<p>&nbsp;</p>
<p>Troy</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>JonnyBee replied on Monday, July 25, 2011</h2><p>Try this:&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </p>
<p>MessageGroups groups = MethodCaller.CreateInstance(typeof(MethodGroups));</p>
<p> MessageGroup info = MethodCaller.CreateInstance(typeof(MessageGroup));</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Troy replied on Monday, July 25, 2011</h2><p>That did it!&nbsp; Thanks so much!</p>
<p>Troy</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
