<html><header><title>CanList...() static authorization method?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CanList...() static authorization method?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/2014.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate posted on Thursday, December 21, 2006</h2><P>Has anyone implemented and/or does it make any sense to have a CanList...() static authorization method, such as CanListProjects()?</P>
<P>This would be synonymous to an NTFS "List Folder" permission in that it would grant users the right to view a list of objects (Projects) whereas CanRead...() grants the user permission to view the item's properties/details.</P>
<P>In the ProjectTracker sample there is no authorization check made in the ProjectList.GetProjectList() method to inhibit unauthorized users from viewing a list of projects.&nbsp; Wouldn't it make sense to at a minimum check to see that the user can read project before dumping the data?&nbsp; And, I can see the possibility where you would want to allow a user read-only access to the list but not grant them access to the full details of an individual item, thus the notion of an addition CanListProjects() static authorization method on the class.</P>
<P>The method would return true if the right was explicitly granted or implicitly (if CanRead...(), CanEdit...() or CanDelete...()).&nbsp; Something like:</P>
<P><CODE>public static bool CanListProjects()<BR>{<BR>&nbsp; &nbsp; if (Csla.ApplicationContext.User.IsInRole("ProjectManager"))<BR>&nbsp; &nbsp; &nbsp; &nbsp; return true;<BR>&nbsp;<BR>&nbsp; &nbsp; return (CanReadProjects() || CanEditProjects() || CanDeleteProjects());<BR>}</CODE></P>
<P>Any thoughts?</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, December 21, 2006</h2>I usually have a CanLoad for collections, although I've never thought about granting implicit rights based on whether or not the user can edit or delete.&nbsp;&nbsp; Sounds like a workable solution, as long as those other rights should always implicity grant a 'list' right.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Thursday, December 21, 2006</h2><P>Yea, I'm trying to remember the relationships - it's been a while since I've dealt with it.&nbsp; But, obviously you are implicitly granted read access if you are explicitly given edit rights.&nbsp; If you can read projects, then you should be able to look at them in list form&nbsp;- thus the implicit authorization there.&nbsp; And, how else could you delete an item if you couldn't see it in a list to select?&nbsp; So, that's where that one comes from.&nbsp; It's the add/create one that gets me.&nbsp; I'm assuming that it is possible to allow a user to create a new item but not view it in a list or make changes to it after it has been saved (edit); although I can't think of a time when this was actually the case...</P>
<P>I know you can see this in action by setting the security on a file in Windows.&nbsp; If you click "Read &amp; Execute", "Read" is automatically checked since it is implicitly granted by the selection.&nbsp; I'm thinking along those same lines so if I had a UI wired-up to these methods, you'd see the same effect as the rules changes.</P>
<P>I was just surprised to see that there was no provision for this in the book and/or sample app, so I figured I'd toss it up for discussion to see if I was in left-field or not.&nbsp; Sounds like I'm not alone if I am <img src="/emoticons/emotion-5.gif" alt="Wink [;)]" />.</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
