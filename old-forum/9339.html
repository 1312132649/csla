<html><header><title>Refresh ReadOnlyList after edit</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Refresh ReadOnlyList after edit</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9339.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>t.kehl posted on Saturday, August 07, 2010</h2><p>Hi.</p>
<p>I have a WPF Application. In this, there is a Grid which is bound to a ReadOnlyList which contains the items to show. Now, when the user DoubleClick on a Item, I create a EditableRoot-Item which the Id of the item which the User has selected and Show a EditForm. After Editing, the Item will be saved. This is working great. Now, what is the best strategy to update the item in the bounded ReadOnlyList that the Grid is showing the new Values?</p>
<p>Thanks for your Info.</p>
<p>Best Regards, Thomas</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonStonecash replied on Saturday, August 07, 2010</h2><p>There are two ways that I can think of.&nbsp; One, re-read the list, and two, add some functionality to the read only business object that allows it to update itself.</p>
<p>The first way, re-reading the list, is simple and easy to do.&nbsp; Unless there are serious performance issues, this is the way to go.</p>
<p>The second way, bypassing some of the protections of the Csla readonly lists, can be done but it is complicated and is prone to breakage.&nbsp; If I were to go down this path, I would add a method to the readonly business class that would accept the newly updated editable object and use the LoadProperty methods to change the values.&nbsp; I am not entirely familiar with WPF, but I would imagine that you could refresh the display by rebinding the list.&nbsp; Having said all of this, I really would avoid this approach.&nbsp; This approach breaks the typical patterns within the application.&nbsp; Someone, down the road, might make a change and not realize that there was this deviation from the pattern.&nbsp; A lot of time might well be spent trying to track down the cause of the defects arising from this.&nbsp; </p>
<p>&nbsp;</p>
<p>Jon Stonecash</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago replied on Friday, August 13, 2010</h2><p>Hi Thomas,</p>
<p>Have a look at </p>
<p><a href="http://www.lhotka.net/weblog/IAmWorkingOnMyUsingCSLANET30EbookAndWroteSomeContentThatIDontThinkImGoingToUseInTheBook.aspx">http://www.lhotka.net/weblog/IAmWorkingOnMyUsingCSLANET30EbookAndWroteSomeContentThatIDontThinkImGoingToUseInTheBook.aspx</a></p>
<p>Regards</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Friday, August 13, 2010</h2><p>Be careful with that though, as it can cause memory leaks.</p>
<p>To do that <i>correctly</i> you really need to use weak references, or a strict publish/subscribe model.</p>
<p>Having objects handle a static event must be done <i>very</i> carefully or those objects will never leave memory - that static event will always have a reference to the object, so the garbage collector will never reclaim them.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago replied on Saturday, August 14, 2010</h2><p>Hi Rocky,</p>
<p><div style='padding-left: 50px;background-color:silver'><b>RockfordLhotka<br></b>
<p>Be careful with that though, as it can cause memory leaks.</p>
<p>To do that <i>correctly</i> you really need to use weak references, or a strict publish/subscribe model.</p>
<p>Having objects handle a static event must be done <i>very</i> carefully or those objects will never leave memory - that static event will always have a reference to the object, so the garbage collector will never reclaim them.</p>
<div style="CLEAR:both;"></div>
</div></p>
<p>You&#39;re right. I think you are referring to this <a href="http://msdn.microsoft.com/en-us/library/system.windows.weakeventmanager.aspx">http://msdn.microsoft.com/en-us/library/system.windows.weakeventmanager.aspx</a></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>tiago replied on Tuesday, August 17, 2010</h2><p>Hi again Rocky,</p>
<p>My test program implements this technique and it works all right with no remoting in place. As soon as I turn remoting on, it doesn&#39;t work... </p>
<p>My project was CSLA 3.0.5 but now is CSLA 4.0.1.</p>
<p>I&#39;m under the very strong impression it did work under 3.0.5... must go back and check</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jlfernandezmiranda replied on Tuesday, August 17, 2010</h2><p>How can I implement a weak event&nbsp; using csla? I need to replace shared static events with weakevent manager? Could you write a sample using vb? I have not found a sample that uses weak event manager :-(</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
