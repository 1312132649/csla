<html><header><title>UNIT Testing in CSLA using MOCK Object</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>UNIT Testing in CSLA using MOCK Object</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/12740.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>nibro posted on Friday, September 05, 2014</h2><p>i want to create unit test project using MSTest that use Mock object.and also using dataportal.</p>
<p>could you please assets me. and give us simple example how can i do it.</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, September 16, 2014</h2><p><a href="http://windingroadway.blogspot.com/2013/12/csla-inversion-of-control-and-unit.html">http://windingroadway.blogspot.com/2013/12/csla-inversion-of-control-and-unit.html</a></p>
<p><a href="http://magenic.com/BlogArchive/AbstractionsinCSLA">http://magenic.com/BlogArchive/AbstractionsinCSLA</a></p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, September 18, 2014</h2><p>In addition to Rocky&#39;s post, I&#39;ve found utilizing a SL patter in the DP methods of your business objects to be helpful.&nbsp; You can then get an interface to your DAL or web server or whatever to do the data access and mock it.&nbsp; In practice this means the only impact in the unit test is that you configure the SL interface to return your mocks instead of doing constructor injection into the Csla object, and except for the SL interface you don&#39;t have any more dependencies than you did before, you&#39;re just changing how Csla objects get their dependencies.&nbsp; From a normal use (such as from your UI) your UI doesn&#39;t need to know what the Csla object needs to do its job which I think is actually preferable (DB vs WS is an implementation detail the UI should not even know about). </p>
<p>As far as the data portal goes, I&#39;d treat that just like .Net framework code; its not worth mocking and we should assume Csla works correctly, just as we assume System.String works correctly.&nbsp; So your unit tests can cause the Csla data portal code to run and it should not concern you any more than calling string.Format.&nbsp; You do want to do things like get, new and save though as your DP_XYZ methods need testing and of course must have the correct signature.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
