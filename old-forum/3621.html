<html><header><title>Invalid cast errors and validation</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Invalid cast errors and validation</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3621.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>boumbara posted on Saturday, September 29, 2007</h2><P>Hello.</P>
<P>I'm&nbsp;new to&nbsp;CSLA, but like what I see so far.&nbsp; I'm in the process of writing a couple of very simple apps and have lots of the key features working fine, but am stuck on this one issue.&nbsp; </P>
<P>I have a property in a class which is an integer.&nbsp; When I pass a&nbsp;non-numeric value to the property I very promptly get an invalid cast error, but I'd really like for my object to report 'invalid property [x] value must be an integer' if I pass in invalid data.&nbsp; One of the things I most liked about CSLA while reading the book was that it allowed me to gather together all my validation code in one place (previously I used to put this all over the place but am trying to mend my ways!).&nbsp; Two possible solutions to this problem resulting from my searching around on the subject are:</P>
<BLOCKQUOTE dir=ltr>
<P>(i) Put validation into the UI to ensure I always pass the correct type through to the properties in my classes.&nbsp; This could be via some kind of mask on the controls or code.</P>
<P>(ii) Change all the properties in my classes to strings and add in some extra validation rules to check that the values really are correct for the data type I really wanted to store.</P></BLOCKQUOTE>
<P>Option (i) seems to break the neatness of having all the validation in one place.&nbsp;&nbsp;</P>
<P>Option (ii) works (I tested that one out) but just feels wrong.&nbsp; This was one of the few suggestions I found&nbsp;while searching around on the topic.&nbsp; There were also a few threads&nbsp;regarding 'smart' data types, but I thought these were a means to handle empty&nbsp;values rather than non-empty and invalid values.</P>
<P>Anyway, I suspect there's an easy answer to all this.&nbsp; Can someone tell me how its done?</P>
<P>Thanks</P>
<P>boumbara</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
