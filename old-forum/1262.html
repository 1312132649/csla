<html><header><title>Can the DataPortal be Ignored?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Can the DataPortal be Ignored?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1262.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>MadGerbil posted on Tuesday, September 19, 2006</h2><P>Greetings:</P>
<P>I've got a developer that I'm showing the CSLA framework and the project he is gonna do first is a very small 1-2 user application that will never require an application server.&nbsp; The dataportal is something I don't understand very well - and this developer is entirely new to the topic - so we were wondering if for a tiny application you could just ignore it.</P>
<P>When a root object loads children, and grandchildren can calls be made directly to constructors that make direct calls to fetch, save, update, delete - completely ignoring DataPortal methods?&nbsp; Is there a downside to doing that in this situtation.</P>
<P>I wouldn't mind seeing a version of CSLA that is built sans DataPortal yet keeps all of the other functionality.&nbsp; It's a brilliant bit of code, but overkill for applications that we are writing - they just have no chance of ever getting big enough to need application servers.</P>
<P>Thoughts?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Tuesday, September 19, 2006</h2>The downside is that the data portal forces you to keep code into a few well defined method.&nbsp; That is, you know data access code won't creep into other areas which it doesn't belong.<br><br>Also, should your tiny app grow and you need to scale it, you'll have to recode to take advantage of the data portal.<br><br>I'm not sure its overkill; it provides some good benefits and the peformance hit is very very low.&nbsp; As Rocky and others have explained many times, the cost of reflection is insignificant compared to the cost of talking to the database itself.<br><br>That said, if you really don't want to use the DP (and I don't recommend not using it) you don't need to modify Csla; just don't call the data portal.&nbsp; Your factory method would end up like this:<br><br>public static MyRootObject GetMyRoot( int id ) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MyRootObject result;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; result = new MyRootObject();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; result.DataPortal_Fetch( new IdCriteria( id ) );<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return result;<br>}<br><br>You should keep using the DataPortal_fetches; this will help you keep your data access code isolated to one portion of your class. <br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DansDreams replied on Tuesday, September 19, 2006</h2><P>I think all of the solutions we'd offer (and I just erased mine) come from the assumption that the DP is a great thing with no real performance cost, so why would you want to abandon it.</P>
<P>Thinking in those terms, I think I'd challenge the beginning premise of your question.&nbsp; If your application is really tiny the question probably should be more of whether you need CSLA at all.&nbsp; If you think you'd benefit from CSLA then I think it is <EM>very</EM> unwise to start tinkering with the implementation of CSLA without specific reasons.</P>
<P>Some have argued that the reflection DataPortal_XYZ paradigm doesn't "feel right" and the data access part of CSLA should work like &lt;insert your favorite solution here&gt;.</P>
<P>I'll share that I have just spent a couple months (not solid) taking a very serious look at CSLA vs. some home-grown alternatives that solve <EM>some</EM> application development problems in a superior way, but at the end of the day I've decided there's tremendous value in using a more widely used framework.&nbsp; But the only way that's really valuable is to use it in common ways.</P>
<P>So, in summary, I'd say that if you've decided to use CSLA on this project then part of the value of that comes from doing so in standard ways, especially when there's no real tangible reason for doing otherwise.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>guyroch replied on Tuesday, September 19, 2006</h2><BLOCKQUOTE><div><img src="/Themes/default/images/icon-quote.gif"> <strong>MadGerbil:</strong></div><div>
<P>the project he is gonna do first is a very small 1-2 user application that will never require an application server.&nbsp; </P>
<P></div></BLOCKQUOTE></P>
<P>Never say never, we never know what the future will toss our way :)</P>
<P>If _your_ current project will never see the light of day to grow beyond 1 or 2 users then I say go ahead, use CSLA as-is and use it to learn.&nbsp; Then, when the time comes, you'll have all you need to build a _bigger_ application based on CSLA - or at the very least you'll be in a better position to make the decision - go with CSLA or not to go with CSLA.</P>
<P>Hope this helps.&nbsp; BTW, I agree with DansDream post.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
