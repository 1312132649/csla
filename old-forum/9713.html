<html><header><title>WcfPortal and Serialization</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>WcfPortal and Serialization</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9713.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>maxal posted on Thursday, November 04, 2010</h2><p>Please, help me with my confusion. Csla ver. 4.0.</p>
<p>I am looking at IWcfDataPortal and see that all methods have attribute&nbsp;[UseNetDataContract]. I assume it means everything, including my objects serialized using&nbsp;NetDataContractSerializer.</p>
<p>Am I right that BinaryFormatter serialization has nothing to do with this?</p>
<p>I noticed this&nbsp;<a href="http://social.msdn.microsoft.com/Forums/en/wcf/thread/2a78d0a8-2499-4817-a67b-d53dfb4afdeb">http://social.msdn.microsoft.com/Forums/en/wcf/thread/2a78d0a8-2499-4817-a67b-d53dfb4afdeb</a>&nbsp;problem with our enums, that&#39;s made us look into all this. Apparently the same problem exists for NetDataContractSerializer and DataContractSerializer.</p>
<p>&nbsp;</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>RockfordLhotka replied on Thursday, November 04, 2010</h2><p>Yes, when using WCF the data portal uses NetDataContractSerializer. DataContractSerializer doesn&#39;t have sufficient features to meet the requirements of the data portal, so I force the use of NDCS.</p>
<p>Those are the only serializers supported by WCF. Certainly you could use the BinaryFormatter manually and use WCF to pass a byte array back and forth. That byte array would, of course, be serialized with the DCS or NDCS :)</p>
<p>What specific problem are you having with passing enum values through the data portal? To my knowledge they work fine?</p></div><div style='padding:0 15 3 15;background-color:lightgreen'><h2>rfcdejong replied on Friday, November 05, 2010</h2><p>Enum&#39;s work fine, when u make sure there is&nbsp;a 0 value inside like this:</p>
<p>public enum MyEnum<br />{<br />&nbsp;&nbsp; NotSet = 0,<br />&nbsp;&nbsp; Yes = 1,<br />&nbsp;&nbsp; No = 2<br />}</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>maxal replied on Monday, November 08, 2010</h2><p>Thank you for reply.</p>
<p>Somehow I had an impression that this is what was done inside, BinaryFormatter and byte array. Obviously, I was wrong. As was mentioned by [rfcdejong] below, the problem was with enumerator that had integer values defined, but no value for zero. Found this in one of the enumerators we were reusing from another project. The fix with dummy zero value works.</p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
