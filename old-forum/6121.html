<html><header><title>Building a web service for consumption - receiving &quot;batch&quot; data from 3rd party</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Building a web service for consumption - receiving &quot;batch&quot; data from 3rd party</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6121.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>jscontreras posted on Sunday, January 11, 2009</h2>Hi,<br>I'm currently designing a web service for our 3rd party providers.&nbsp; They want to be able to pass some type of object containing data about customers into our CRM system.<br><br>The Design<br>Process Flow<br>3rd Passes new data (via webservice) -&gt; webservice receives data object -&gt; webservices calls the Facade which passes the data object to a Business Object -&gt; the Business Object calls the DAO to insert the new data<br><br>The data object being passed in the web service is a container for customer information<br>[FirstName<br>LastName<br>Age<br>Address<br>City<br>State<br>Zip]<br>Can have one or more records.<br><br>Questions/Comments:<br>1. I want to use the CLSA Framework to accomplish, can I use the CLSA to accomplish this design<br>2. I've use Web Services but only internally - I'm a novice using web services externally how can do I this, any samples would be great<br><br>Thanks,<br>Joe<br><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>SonOfPirate replied on Sunday, January 11, 2009</h2><P>Absolutely.&nbsp; Your CSLA business objects will sit behind the service interface.&nbsp; Take a look at the Web Service Interface chapter in the book and the ProjectTracker sample app for example code.</P>
<P>In its simplest form, you'd have a CustomerList that contains Customer business objects.&nbsp; Your service would "translate" the CustomerInfo data transfer objects (DTO) passed into the service method to Customer objects and populate the CustomerList then call the Save method on the list class.&nbsp; It really is that simple.</P>
<P>Hope that helps.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jscontreras replied on Saturday, January 17, 2009</h2>I've design a customer object and reviewed the Sample Web Service in Project Tracker.&nbsp; In the Add Project Web Method it only adds one project at a time.&nbsp; What I'm trying to figure out is if my client sends a bundle of customer information how can I handle that specifically?<br><br>Would it be something below.&nbsp; I'm not sure how to handle via a webservice.<br><br>[Web Method]<br><font><font face="Courier New" size="2"><span>&nbsp; [System.Xml.Serialization.XmlInclude(</span><span>typeof</span><span>(User))]<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public&nbsp;&nbsp;</span><span>ArrayList LoadUsers()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User&nbsp;user&nbsp;=&nbsp;</span><span>new&nbsp;</span><span>User();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return&nbsp;</span><span>user.LoadAllUsers();<br>&nbsp;&nbsp;&nbsp;&nbsp;}</span></font></font><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jscontreras replied on Sunday, January 18, 2009</h2>Ignore Previous Post it was sent by accident.&nbsp; I would like to do something like below<br>[Web Method]<br>public IList&lt;Customer&gt; LoadCustomers(IList CustomerList)<br>{<br>&nbsp;&nbsp;&nbsp; CustomerFacade facade = new CustomerFacade();<br>&nbsp;&nbsp;&nbsp; facade.LoadCustomers(CustomerList); <br>}<br><br><br>LoadCustomers would expose the BO --&gt; DTO behnind the scenes.&nbsp; Is this possible within the Framework.<br><br>Thanks<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
