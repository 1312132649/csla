<html><header><title>Question about MVVMexperiment project</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Question about MVVMexperiment project</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/8170.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>lukky posted on Tuesday, December 15, 2009</h2>@Rocky:<br /><br />In the MVVMexperiment project (CSLA 3.8.2 for Windows), you have the following piece of code in DataListViewModel.cs:<br /><br /> /// <br />    /// Gets or sets the SelectedItems object.<br />    /// <br />    public static readonly DependencyProperty SelectedItemsProperty =<br />        DependencyProperty.Register("SelectedItems"), typeof(System.Collections.ObjectModel.ObservableCollection), typeof(DataListViewModel), new PropertyMetadata(null));<br />    /// <br />    /// Gets or sets the SelectedItems object.<br />    /// <br />    public System.Collections.ObjectModel.ObservableCollection SelectedItems<br />    {<br />      get { return (System.Collections.ObjectModel.ObservableCollection)GetValue(SelectedItemsProperty); }<br />      set { SetValue(SelectedItemsProperty, value); OnPropertyChanged("SelectedItems"); }<br />    }<br /><br />namely, you call OnpropertyChanged() after the call to SetValue(). Is there a reason for this, or is it some leftover from some experiment ?<br /><br />In another file of the same project, DataViewModel.cs, you just call SetValue(), so I'm a bit puzzled.<br /><br />Thanks</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, December 15, 2009</h2>I think I was having trouble getting PropertyChanged to raise reliably. Theoretically DependencyObject (the base class) is supposed to raise the event, but I think it wasn't doing it for some reason...</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lukky replied on Tuesday, December 15, 2009</h2>Rocky,<br /><br />removing the call doesn't seem to change anything as far as I can tell.<br /><br />FYI, I'm running this on Windows 7 + VS2010 beta 2 if it changes anything.<br /><br />If you remember more details, please post :-)<br /><br />regards</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Wednesday, December 16, 2009</h2><P>It may well work now.</P>
<P>I was doing this on beta code, and trying to get SL and .NET to both work with the same code. I don't remember if the problem was on the .NET or SL side of things - but it seems to me there was some inconsistency that I was fighting with.</P>
<P>But if it works properly now, then that's excellent! :)</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
