<html><header><title>Relationships - Parent / Child?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Relationships - Parent / Child?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6938.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>MikeB posted on Wednesday, May 13, 2009</h2><P>I am having a hard time grasping how CSLA .net handles relationships. Of course I know that it uses parent / child terminology to refer to a relationship, but in OO concepts, relationships are defined by use case scenarios "A&nbsp;has&nbsp;B", "A belongs to B", "A is used by B", etc.. In most scenerios, it would seem that A doesn't own B but simply has a reference to B. In the examples I have seen, ProjectTrackers and RolodexEF, the relationships are clearly Parent-Child, Project-Resources and Company-Company contacts for examples.</P>
<P>My Scenerio: </P>
<P>I have a Company object and a CompanyList object. There are several relationships defined in my system where a CompanyList is "referenced". A City object references many Company objects,&nbsp;many CompanyCategory objects&nbsp;reference many Company&nbsp;objects, a Product object references many Company objects, and so on....</P>
<P>The Company&nbsp;objects&nbsp;as described above&nbsp;are by no means&nbsp;child objects of any other. </P>
<P>1) Are they still treated as child objects in the CSLA framework? </P>
<P>2) What about in the case where many objects are "owned" by a parent, but simply referenced by others?</P>
<P>Mike B</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, May 13, 2009</h2>It's hard to answer your questions without knowing your use cases.  It would be odd that Company is shared between so many use cases... unless maybe it's just a readonly, informational object.<br /><br />What is Company's responsiblity?  If its just "display data," sharing could make sense.  If it allows editing, it sounds like your design is incorrect.</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Tom_W replied on Wednesday, May 13, 2009</h2>Hi Mike<br><br>I know exactly where you're coming from, this took me a while to get my head round!<br><br>There's a lot in your post to discuss, but on first read it sounds like reading Chapter 3 of Rocky's book might be a lot of help to you.&nbsp; The ProjectTracker sample app design does cover the sort of scenarios you're talking about in implementation of the relationships between Projects, Resources and Assignments.<br><br>Equally the whole of Chapter 17 relating to the actual implementation of the design in Chapter 3 would probably be useful.<br><br>As you say there is a big difference between owning and referencing an object.&nbsp; In CSLA terms only an object which is owned is a child - one key distinction of a child being that you don't explicitily save it, you tell the parent to save and it updates the children.<br><br>This leads onto another key CSLA concept, which is that a lot of the time you don't really want the full editable object, you want a read only subset of it's data, containing only the data applicable for a certain use case.&nbsp; This is the puropse the xxxxInfo classes in ProjectTracker (e.g. ProjectInfo and ResourceInfo).&nbsp; These info classes would typically provide a GetXXXX method to return the actual full editable object (e.g. CompanyInfo would have a method called GetCompany which would return the editable Company object).<br><br>In terms of collections, the same 'child' concept applies.&nbsp; An Order would contain a child OrderLines collection of editable OrderLine child objects (so the OrderLine is child to OrderLines, OrderLines is child to Order, you would only ever call save on the Order).<br><br>This is different from say a CompaniesInACity collection where I'm guessing the majority of the time you wouldn't be editing the companies, only returning a list of companies for a city.&nbsp; In this case I would expect the items in the collection to be read only Info objects.<br><br>HTH<br><br><br><br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
