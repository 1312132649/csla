<html><header><title>AffectedProperties Issues</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>AffectedProperties Issues</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11404.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>JasonBock posted on Friday, June 08, 2012</h2><p>I don&rsquo;t know if it&rsquo;s because CSLA isn&rsquo;t working as I thought it should, or&nbsp;I&#39;m making a bad assumption, or what, but&nbsp;I have a confusing issue with business rules and affected properties.<br /><br />Here&rsquo;s the simple example. I have three properties, A, B, and C. A affects B, and B affects C, meaning, B is in the list of AffectedProperteis for A, and C is in the AffectedProperties list for B. I change A, and now B is required. I change B, and now C is required. <br /><br />This <span class="remaining-body">is what I want&hellip;except&hellip;when I change A, only B gets affected. C&rsquo;s rule does NOT fire, and so it looks like C is still in a broken state.<br /><br />Do&nbsp;I need to set C as an affected property in A? And&nbsp;if this is the case, I have to make sure B is before C in A&#39;s AffectedProperties list, correct?&nbsp;This seems like it should be unnecessary, but I can&rsquo;t figure out what else to do. Any insight is appreciated - TIA</span></p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Friday, June 08, 2012</h2><p>Hi Jason,</p>
<p>Yes, AffectedProperties only works for the &quot;first&quot; level - in order to avoid circular dependencies. </p>
<p>Is this &quot;lookup&quot; rules that updates properties?</p>
<p>So your options is to </p>
<ul>
<li>Add C to A&#39;s AffectedProperties or</li>
<li>Override PropertyHasChanged and add specific code for revalidaion of property C after regular check of property A&#39;s rules.&nbsp;</li>
<li>Create one rule that sets Error on all properties A/B/C thast triggers when one of the rules is changed (by using InputProperties that is now also considered as Dependency) </li>
</ul></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
