<html><header><title>DataForm AddNew()?</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DataForm AddNew()?</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/9092.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Ranjini posted on Wednesday, June 16, 2010</h2><p class="MsoNormal" style="line-height:normal;margin:0in 0in 10pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">Tools - &nbsp;CSLA 4/Silverlight4</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 10pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">I have researched here and generally on the web as well and cannot seem to find a good direction for my problem, so I thought I will post it here and see what I get.</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 10pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">I have a BB object with a BLB child list. On the UI for editing this BB object, I have a DataForm for editing the BLB child object. Here the XAML for this part</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;"><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">&lt;</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">df</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">:</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">DataForm</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> x</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">:</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">Name</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;dfDomainCPEdit&quot;</span><span style="font-family:Consolas;color:black;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> </span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">Margin</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;5,5,5,5&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> LabelPosition</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;Left&quot;</span><span style="font-family:Consolas;color:black;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> </span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">AutoEdit</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;False&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> AutoCommit</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;True&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> AutoGenerateFields</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;True&quot;</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> </span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;"><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">CommitButtonContent</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;Save&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> CancelButtonContent</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;Cancel&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> CommandButtonsVisibility</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> = &quot;Navigation, Add, Delete&quot;</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> </span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;"><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">ItemsSource</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;{</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">Binding</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> CustomPropertyTypes</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">,</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> Mode</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=TwoWay}&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> CurrentItem</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;{</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">Binding</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> SelectedItem</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">,</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">ElementName</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=dgCustomPropertyType,</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> Mode</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=TwoWay}&quot;</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> </span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">/&gt;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;"><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">&lt;</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">csla</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">:</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">TriggerAction</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> Height</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;0&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> Name</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;AddCustomPropertyTrigger&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> Width</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;0&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> DataContext</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;{</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">Binding</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> Source</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">={</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">StaticResource</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> domainEditModel</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> </span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">}}&quot;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;"><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">TargetControl</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;{</span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">Binding</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> ElementName</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=dfDomainCPEdit}&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> MethodName</span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;AddCustomProperty&quot;</span><span style="font-family:Consolas;color:red;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;"> TriggerEvent</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"> </span><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">=&quot;AddingNewItem&quot; /&gt;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;"><span style="font-family:Consolas;color:blue;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">&nbsp;</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">What I want to do is override the default &ldquo;add&rdquo; behavior, so I can add my child object using the CSLA AddNew(). However, if I do it this way, I get 2 child items added to my list, one good (via </span><span style="font-family:Consolas;color:#a31515;font-size:10pt;mso-fareast-font-family:&#39;Times New Roman&#39;;mso-bidi-font-family:Arial;">TriggerAction</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">) and one bad (default add behavior of DataForm). Can someone clarify what it is that I need to be doing to get the behavior I want?</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;"></span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">Thanks !</span></p>
<p class="MsoNormal" style="line-height:normal;margin:0in 0in 0pt;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;;color:black;font-size:9pt;mso-fareast-font-family:&#39;Times New Roman&#39;;">Ranjini</span></p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
