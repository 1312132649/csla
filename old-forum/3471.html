<html><header><title>CslaDataPortalUrl</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CslaDataPortalUrl</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3471.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Barreto posted on Tuesday, September 04, 2007</h2><P>I have 2 libraries dll that have build-in access to its own remote portal. Let's&nbsp;called&nbsp;Library 'A' and&nbsp;Library 'B'.</P>
<P>Each&nbsp;library must be a different CslaDataPortalUrl and both libraries&nbsp;will work together in my main application.</P>
<P>I tried to configure it in runtime inside of each library's constructor, like that:<FONT color=#2b91af size=2></P></FONT>
<P><FONT size=2></P>
<P>Library A:<BR></FONT><FONT color=#2b91af size=2>ConfigurationManager</FONT><FONT size=2>.AppSettings[</FONT><FONT color=#a31515 size=2>"CslaDataPortalUrl"</FONT><FONT size=2>] = </FONT><FONT color=#a31515 size=2><A href="http://www.mydomain1.com/Portal-A/remotingportal.rem">"http://www.mydomain1.com/Portal-A/remotingportal.rem</A>"</FONT><FONT size=2>; </FONT></P>
<P><FONT size=2>Library B:<BR><FONT color=#2b91af size=2>ConfigurationManager</FONT><FONT size=2>.AppSettings[</FONT><FONT color=#a31515 size=2>"CslaDataPortalUrl"</FONT><FONT size=2>] = </FONT><FONT color=#a31515 size=2><A href="http://www.mydomain2.com/Portal-B/remotingportal.rem">"http://www.mydomain2.com/Portal-B/remotingportal.rem</A>"</FONT><FONT size=2>; </FONT></FONT></P>
<P><FONT size=2>But ConfigurationManager is a Domain Application Configuration then Library 'B' configuration overwrites Library 'A' configuration.</FONT></P>
<P><FONT size=2>Is there a way to do that?</FONT><FONT size=2><BR>Any help would very appreciated.<BR>Thanks.<BR>Jaime Barreto</FONT></P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Tuesday, September 04, 2007</h2><P>You'll need to write your own custom data portal proxy to allow for more flexible configuration.</P>
<P>The problem goes deeper than just that the config settings are per-AppDomain. Within the data portal itself, the proxy object is also per-AppDomain.</P>
<P>So the only answer is to create your own variation on RemotingProxy (copy the code into your project and alter it there to avoid changing CSLA itself).</P>
<P>This concept has been discussed in numerous other threads - search for custom data portal proxy and you'll probably find most of them.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JustinJones replied on Wednesday, September 05, 2007</h2>I haven't actually tried this, but we had a similar problem and looked into this as a possible answer.&nbsp; If Library A and B constitute different modules of the application, you can also place one in a separate AppDomain.&nbsp; The second AppDomain should have it's own App.Config where you can place the url for it's classes.<br><br>Justin.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
