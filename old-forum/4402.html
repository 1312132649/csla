<html><header><title>CslaDataSource 3.0.4 usage in Design mode with VS2005</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>CslaDataSource 3.0.4 usage in Design mode with VS2005</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4402.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rgyorodi posted on Sunday, February 24, 2008</h2><P><FONT size=2>I tested the following scenario with the ProjectTrackerCS and I would like to ask if I am missing something?</FONT></P>
<P><FONT size=2>For the purpose of this testing I modified the ProjectList.aspx page.</FONT></P>
<P><FONT size=2>I included one more GridView (GridView2) and I also included a second CslaDataSource (CslaDataSource1).</FONT></P>
<P><FONT size=2>For CslaDataSource1 I set:</FONT><FONT color=#ff0000></P>
<P><FONT size=2>TypeName</FONT></FONT><FONT color=#0000ff size=2>="ProjectTracker.Library.Admin.Roles, ProjectTracker.Library.Admin"</FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000>If I select for the datasource of GridView2 the newly created CslaDataSource1, GridView2 dissapears from the screen (only the configuration popup remains - if I click elsewhere this will dissapear also)</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000>I also implemented the following code (for testing):</FONT></FONT></P><FONT size=2>
<P></FONT><FONT color=#0000ff size=2>protected</FONT><FONT size=2> </FONT><FONT color=#0000ff size=2>void</FONT><FONT size=2> CslaDataSource1_SelectObject(</FONT><FONT color=#0000ff size=2>object</FONT><FONT size=2> sender, Csla.Web.</FONT><FONT color=#2b91af size=2>SelectObjectArgs</FONT><FONT size=2> e)</P>
<P>{ e.BusinessObject = ProjectTracker.Library.Admin.</FONT><FONT color=#2b91af size=2>Roles</FONT><FONT size=2>.GetRoles(); }</P></FONT>
<P><FONT color=#0000ff size=2><FONT color=#000000>The conclusion (and my problem):</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000>- In runtime everything seems to work fine</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000>- In design mode I cannot choose the fields I would like to be displayed and their properties</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000>- I tested this setup because I am working on another project with similar setup but with much more web forms and databound UI elements (mainly grids) and this means that I will have to manually code / or set the fields mappings</FONT></FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000>So is there a problem in CslaDataSource that does not allow it to work in Design mode with BO's constructed like Roles but it allows it&nbsp;to work with BO's constructed like ProjectList or RoleList or ResourceAssignments? If yes is there a way around the problem? If no, what I am missing here?</FONT></FONT></P>
<P><FONT color=#000000 size=2>Regards,</FONT></P>
<P><FONT color=#0000ff size=2><FONT color=#000000>Robert</FONT></P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Sunday, February 24, 2008</h2><P>You might want to use the config dialog to set the TypeName property, as it will set it correctly <img src="/emoticons/emotion-5.gif" alt="Wink [;)]" /></P>
<P>The problem is that TypeName requires "Type, Assembly". The Assembly you are supplying doesn't exist (ProjectTracker.Library.Admin isn't a dll).</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rgyorodi replied on Monday, February 25, 2008</h2><P>Thank you for your quick reply.</P>
<P>I noticed that after posting the problem. I would have used the config dialog but it was empty. Only after reading through almost all the posts that I found on CslaDataSource I decided to close all my VS2005 instances and rebuild. This time the combo was correctly filled and I was able to choose the correct values.</P>
<P>Unfortunately in my other (bigger) project the combo is not filled even if I restart the VS2005 several times, but the runtime works fine. I would also like to mention that for a correct build process and to be able to debug with Cassini at each rebuild we deploy the BO dll and the CSLA dll (we don't have CSLA in the same solution, and we are not rebuilding that) to the GAC as we are using the CSLA IPrincipal and we also stumbled across the problem with Cassini. This solution seems to fix that problem but as I mentionned before the CslaDataSource is not working in design mode - could it be this the explanation? If yes how should we configure our build/debug environment?</P>
<P>Regards,</P>
<P>Robert</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
