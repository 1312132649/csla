<html><header><title>SQL 2005 Connection Security</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>SQL 2005 Connection Security</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3971.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>jeffq posted on Saturday, December 01, 2007</h2><P>I have an application that uses CSLA remoting between the client and SQL server machine.&nbsp; I am using a Windows Service to host the remoting.&nbsp; The application and host service use Windows authentication rather than CSLA authentication.&nbsp; The connection string to the database on the server machine is using the sa account and its password rather than integrated security.</P>
<P>When a user that has administrator privileges runs the program everything works fine.&nbsp; However when a non-administrative user runs the program all read operations work, but write operations seem to fail.&nbsp; What is strange is no errors are being reported back to the client so it thinks everything is working just fine.&nbsp; The write operations just don't write anything to the database.</P>
<P>Is mixing Windows Authentication with this type of connection string the possible cause of a problem like this?&nbsp; I am getting ready to troubleshoot the problem, but if the real solution is to go back to integrated security and just update the security definitions in the database to allow authorized users write access to the neccesary databases that would be easier.</P>
<P>Has anyone encountered something like this with CSLA before?&nbsp; We are using version 3.0.2 with this application.&nbsp; Thank you for your help!</P>
<P>JeffQ</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Sunday, December 02, 2007</h2><P>If you are using an explicit username/password in your connection string, then it should not matter at all what kind of security you use to get to the app server. The only thing that matters is the u/p passed in the connection string.</P>
<P><EM>Except</EM> that the user identity under which the app server service runs does need to be able to reach the database server (it could fail due to NTFS security or other security concerns).</P>
<P>It is odd that reads work and updates fail. This makes me suspect that you are using the DTC and perhaps the non-admin user is somehow unable to interact with the DTC or some other network service?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jeffq replied on Sunday, December 02, 2007</h2><P>I do believe we are interacting with DTC.&nbsp; We will be working on this Monday.&nbsp; I will let you know what we find if it is interesting in any way.&nbsp; Thank you!</P>
<P>JeffQ</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jeffq replied on Friday, December 07, 2007</h2><P>Thank you for your help on this, it turned out to be a non-problem.&nbsp; The user was not accurately reporting what was really happening.&nbsp; Not the first time that has happened to any of us is it?&nbsp; The software and CSLA was performing as designed.</P>
<P>Jeff</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>jeffq replied on Friday, December 07, 2007</h2><P>This turned out to not be a problem.&nbsp; The user was not reporting the circumstances accurately.&nbsp; Everything works as it should.&nbsp; Thank you for your help!</P>
<P>Jeff</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
