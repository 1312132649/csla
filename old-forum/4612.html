<html><header><title>BindingNavigator add button is disabled</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>BindingNavigator add button is disabled</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/4612.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>triplea posted on Thursday, April 03, 2008</h2><P>I 've never used this control with a CSLA object so apologies if this is obvious. I have a DataGridView and a BindingNavigator control on a form. Also 2 BindingSources. My object model is something like</P>
<P>Invoice (EditableRoot)<BR>InvoiceLines (EditableChildList)<BR>InvoiceLine (EditableChild)</P>
<P>So bindingSource 1 has Invoice as its datasource and bindingSource2 has Invoice.InvoiceLines as its datasource (using bindingSource1 as its data source and setting the DataMember to InvoiceLines).<BR>I bind the grid and the bindingNavigator to bindingSource 2 and all works fine. But the add button is disabled. Of course this is because my child InvoiceLines only has a get and no set. How do you usually go about this? Or am I doing something fundamentally wrong?</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Friday, April 04, 2008</h2><font size="3">The add button is disabled because your bindingsource has "AllowNew" property set to false (default). You must set this property to true.<br><br>And in your InvoiceLineList you will need to override the AddNewCore method with something like this code: </font><br><font size="2"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protected override object AddNewCore() {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InvoiceLine line =&nbsp; InvoiceLine.NewEditableChild();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.Add(line);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return line; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><font size="3">This is necessary because the CSLA business objects does not expose a public constructor - and thus requires you to call the static NewEditableChild method and add the new object to your list.<br><br>/jonny<br></font></font></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>triplea replied on Friday, April 04, 2008</h2><P>Thanks Jonny that worked fine.</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
