<html><header><title>Delay calculation business rules execution</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Delay calculation business rules execution</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/11451.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>rfcdejong posted on Wednesday, July 04, 2012</h2><p>Having:</p>
<p>- differend kind of business rules, validation and calculation.<br />- In a view with databinded controls with binding UpdateSourceTrigger=PropertyChanged.<br />- not using PropertyStatus, but instead using a customized solution looking at the brokenrules of a BO.<br /><br />The nice thing about this is that business rules will be executed right after a key press and that way a validation like &#39;Required&#39; is valid and marked as success.&nbsp;</p>
<p>On the other side the calculate business rules should not calculate until the property hasn&#39;t changed for 0.5 miliseconds or so.</p>
<p>I looked at the <a href="http://www.shujaat.net/2011/12/wpf-45-developers-preview-delay-binding.html">Delay attribute in the WPF 4.5 Binding</a>, but that won&#39;t execute the validation business rules either.</p>
<p>On the other hand, writing <a href="http://www.paulstovell.com/wpf-delaybinding">a custom markup extension binding</a> it would perhaps be possible to write some generic code which also set&#39;s a property on the BO to supress calculation business rules when the delay is active, after that the calculation business rules should execute.</p>
<p>
<p>What would you (anyone, as the reader) recommended? All comments are welcome.</p>
</p></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JonnyBee replied on Thursday, July 05, 2012</h2><p>Hi,</p>
<p>With the &quot;business object&quot; perspective - a value is either written to the BO.Property or not. </p>
<p>So the BO will not know whether this happened as a PropertyChanged or Validated in the UI.&nbsp;</p>
<p><span>I have no good answer for this - the BO has no knowledge of the &quot;context&quot; by which the property was changed.&nbsp;</span></p>
<p><span>You could probable create your own &quot;thread&quot; context and Markup Extension Binding - to set the context value for PropertyChanged or Validated and then check for this is your calculation rules. However - this will have to be your own custom context and code - not supported by CSLA here.&nbsp;</span></p></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
