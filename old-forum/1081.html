<html><header><title>Adding New Row to DevExpress Grid</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Adding New Row to DevExpress Grid</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/1081.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>cash_pat posted on Thursday, August 31, 2006</h2>Hi,<br><br>I am unable to add a new row to my DevEx Grid.<br><br>I Click in an New Row and enter some data in the first Column. Then I shift to the 2nd Column and get and exception because the data in the 2nd Column is dependent on the First column.<br><br>Stepping through the code i found out that neither <b>AddNewCore </b>nor the property corresponsing to the 1st column is being called. <br><br>What am doing wrong.<br><br>regards<br><br>cash pat<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, August 31, 2006</h2>Sounds like the devEx grid doesn't properly support databinding..&nbsp; It should be calling AddNew to add a new row to the list.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Q Johnson replied on Thursday, August 31, 2006</h2><P>I am quite surprised you haven't gotten a useful&nbsp;reply on this yet.&nbsp; There are several very strong users of DevExpress controls in this forum.&nbsp; </P>
<P>My own experience, so far, is limited to CSLA 1.5 with which the DevExpress grid behaves wonderfully.&nbsp; I would be VERY surprised if it incapable of data binding as suggested by the <STRONG>other </STRONG>poster.&nbsp; In my opinion, those kinds of&nbsp;judgement on the scarce sort of information you provided in the first post are nothing but a cheap shot that do a dis-service to those who may be looking for information about competing tool set offerings.</P>
<P>But let's focus on your real problem.&nbsp; You mention that the second column is dependent on the first column.&nbsp; Can you give us an explanation (or the actual code) that describes this dependency?&nbsp; Perhaps your implentation of the validation of the two properties in question has your UI in a no-win position when Property A wants to be populated when Property B isn't?&nbsp; This sounds more likely to me than a shortcoming in the DevExpress grid.&nbsp; </P>
<P>But we'll see!</P>
<P>&nbsp;</P>
<P>&nbsp;</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Thursday, August 31, 2006</h2><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>Q Johnson:</strong></div><div>I would be VERY surprised if it incapable of data binding as suggested by the <strong>other </strong>poster.&nbsp; In my opinion, those kinds of&nbsp;judgement on the scarce sort of information you provided in the first post are nothing but a cheap shot that do a dis-service to those who may be looking for information about competing tool set offerings.</div></BLOCKQUOTE><br><br>I'm sorry your read my post that way, as that's not how it was intended.&nbsp; However, in general its my understanding that the third party grids implement databinding based on the infrastructure setup in the .Net framework, which would be for the grid to call the AddNew method to add a new item to the collection.&nbsp; I assumed (perhaps incorrectly) that the OP setup the binding correctly and that the DevEx grid would do that call.&nbsp; The fact that the AddNewCore is not being called indicates something is going wrong, which at worse is a bug in DevEx.<br><br>It could be that the OP didn't setup the binding correctly though too, and that should be ruled out as well.&nbsp; I am curious to know how the grid is creating the new item (as the item's constructors should be private, internal at most).&nbsp; At item not created within the framework of Csla (directly via a constructor, for example) could cause things to misbehave.<br><br><br>At any rate, much more actual code being posted would help everyone get to the bottom of this.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Q Johnson replied on Thursday, August 31, 2006</h2><P>Sorry if the remark seemed unduly harsh.&nbsp; Thanks for your clarification on intent. I'm happy and hope you are &lt;g&gt;... so to the problem.</P>
<P>Yes, that's my understanding how the grid should handle adding an item, too.&nbsp; However, it shouldn't try to add the item until the user commits the row by hitting enter or selecting a different row, should it?&nbsp; The OP said he got an exception when he changed <STRONG>columns</STRONG> - not rows.&nbsp; We don't even know if he <STRONG>tried</STRONG> to commit the row.&nbsp; So we surely can't know if AddNew <STRONG>should </STRONG>have fired.&nbsp; Anyway - no big deal here.</P>
<P>I'm hoping to hear back from him so we can get to the bottom of this.&nbsp; But I fear he found an unfortunate dependency in validation rules between the two properties bound to the first two columns of his grid and has already solved his problem... which leaves us here wasting time, I guess.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>cash_pat replied on Thursday, August 31, 2006</h2>Sorry guys. Xal helped me Solve it. I was missing the AllowNew=true in my constructor<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, September 01, 2006</h2><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>Q Johnson:</strong></div><div>Sorry if the remark seemed unduly harsh.&nbsp; Thanks for your clarification on intent. I'm happy and hope you are &lt;g&gt;... so to the problem.</div></BLOCKQUOTE><br><br>No offense taken.<br>
<p><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>Q Johnson:</strong></div><div>Yes, that's my understanding how the grid should handle adding an item, too.&nbsp; However, it shouldn't try to add the item until the user commits the row by hitting enter or selecting a different row, should it?&nbsp; </div></BLOCKQUOTE></p>No, my understanding is that the new object is created at the moment the new row is added to the grid (so if you're on the last row and start typing in a column, before anything else it will create the new object using AddNew).&nbsp; It needs to do this, because it needs the new object to store the data the user entered.&nbsp; If the user commits, EndEdit is called on the object I believe.&nbsp; If the user cancels, the new row is removed (which is why its important for objects created in AddNewCore to have a unique value returned by GetIdValue and not just -1 for ALL new objects).<br><br><p><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>Q Johnson:</strong></div><div>The OP said he got an exception when he changed <strong>columns</strong> - not rows.&nbsp; We don't even know if he <strong>tried</strong> to commit the row.&nbsp; So we surely can't know if AddNew <strong>should </strong>have fired.&nbsp; Anyway - no big deal here.</div></BLOCKQUOTE></p><p>No, AddNew should have been fired as soon as the user started editing the first column.&nbsp; <br></p>At any rate, the problem seems to be solved; AllowNew = false WILL raise an exception if its not set on both the collection and the bindingsource. Sounds like it wasn't set on the list, which will cause AddNew to throw.. although it seems that the DevEx grid doesn't call AddNew until the user moves on to the next column.. weird.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Q Johnson replied on Friday, September 01, 2006</h2><P>re: &gt;&gt;&nbsp; the new object is created at the moment the new row is added to the grid (so if you're on the last row and start typing in a column, before anything else it will create the new object using AddNew).&nbsp; It needs to do this, because it needs the new object to store the data the user entered.&nbsp; If the user commits, EndEdit is called on the object I believe.&nbsp; If the user cancels, the new row is removed (which is why its important for objects created in AddNewCore to have a unique value returned by GetIdValue and not just -1 for ALL new objects). &lt;&lt;</P>
<P>Thanks for correcting my impression of that.&nbsp; I guess the grid is trying to add the row after he gave it some data to try and save (as a result of his update of the first column).&nbsp; If it tried after simply clicking in the new row section of the UI, he wouldn't even have gotten to enter data into that cell, right?.</P>
<P>Good info.&nbsp; Thanks.&nbsp; And&nbsp;it's also the expected good news that Dev Express' grid didn't have any trouble in this scenario, once the BO was coded properly.&nbsp; So everybody's happy.</P>
<P>btw,&nbsp;could you give me a quick pointer on how you select the text from the previous posting to copy here.&nbsp; It looks like there's a special technique to it that I&nbsp;am not using.</P>
<P>Thanks again.</P>
<P>&nbsp;&nbsp;&nbsp; </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>xal replied on Friday, September 01, 2006</h2>Q:<br>Hit the quote button instead of the reply one and you'll see how it works...<br><br>Andr√©s<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, September 01, 2006</h2><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>Q Johnson:</strong></div><div>Thanks for correcting my impression of that.&nbsp; I guess the grid is trying to add the row after he gave it some data to try and save (as a result of his update of the first column).&nbsp; If it tried after simply clicking in the new row section of the UI, he wouldn't even have gotten to enter data into that cell, right?.</div></BLOCKQUOTE><br><br>No problem.&nbsp; It seems the DevEx grid is a bit different though; the standard grid adds the item as soon as you enter edit mode.&nbsp; It seems the DevEx one waits until you leave the cell (thus committing the data for that cell to the BO).&nbsp; At least thats my impression.<br>
<p><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>Q Johnson:</strong></div><div>Good info.&nbsp; Thanks.&nbsp; And&nbsp;it's also the expected good news that Dev Express' grid didn't have any trouble in this scenario, once the BO was coded properly.&nbsp; So everybody's happy.</div></BLOCKQUOTE></p><p>Yes, I should have probably asked about that first, but its one of those details I forgot about.&nbsp; <img src="/emoticons/emotion-1.gif" alt="Smile [:)]" /><br></p>
<p><BLOCKQUOTE><div><img src="/Themes/basicblue/images/icon-quote.gif"> <strong>Q Jhonson:</strong></div><div>btw,&nbsp;could you give me a quick pointer on how you select the text from the previous posting to copy here.&nbsp; It looks like there's a special technique to it that I&nbsp;am not using.</div></BLOCKQUOTE></p>You use &lt;quote user="userName"&gt;&lt;/quote&gt;, except you use square brackets instead of the angled ones.&nbsp; If you click Quote instead of reply, you'll see how to do it.<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
