<html><header><title>DisableIEditableObject in Rolodex Example</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>DisableIEditableObject in Rolodex Example</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/6282.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jack posted on Thursday, January 29, 2009</h2>Is there a reason this is set to true?&nbsp; The 2008 book recommends not setting it - is this a silverlight thing?&nbsp; If so, why is it also in the private constructor?<br><br>If my plan was to have a Silverlight version and one or more non-Silverlight version is this something I should not be turning off? <br><br>I'm asking as I currently have my constuctors defined in my codeGen templates so it will come out in all classes.<br><br>Thanks<br><br>jack<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>sergeyb replied on Thursday, January 29, 2009</h2>









 

 
  
 




<div class=Section1>

<p class=MsoNormal><span>If I recall correctly, it was there to deal with SL data grid
bug, that I think was fixed in December drop.<o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b><span>Sergey Barskiy<o:p></o:p></span></b></p>

<p class=MsoNormal><b><i><span>Principal Consultant<o:p></o:p></span></i></b></p>

<p class=MsoNormal><span>office: 678.405.0687 |
mobile:&nbsp;404.388.1899</span><span><o:p></o:p></span></p>

<p class=MsoNormal><span><img width=119 height=26 id="Picture_x0020_1" alt="cid:_2_0648EA840648E85C001BBCB886257279"><br>
</span><b><span>Microsoft Worldwide Partner of the Year |</span></b><span> </span><b><span>Custom
Development Solutions, Technical Innovation</span></b><span><o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<div>

<p class=MsoNormal><b><span>From:</span></b><span> Jack
[mailto:cslanet@lhotka.net] <br>
<b>Sent:</b> Thursday, January 29, 2009 1:32 AM<br>
<b>To:</b> Sergey Barskiy<br>
<b>Subject:</b> [CSLA .NET] DisableIEditableObject in Rolodex Example<o:p></o:p></span></p>

</div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Is there a reason this is set to true?&nbsp; The 2008 book
recommends not setting it - is this a silverlight thing?&nbsp; If so, why is it
also in the private constructor?<br>
<br>
If my plan was to have a Silverlight version and one or more non-Silverlight
version is this something I should not be turning off? <br>
<br>
I'm asking as I currently have my constuctors defined in my codeGen templates
so it will come out in all classes.<br>
<br>
Thanks<br>
<br>
jack<br>
<br>
<br>
<o:p></o:p></p>

</div>



</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Jack replied on Thursday, January 29, 2009</h2>









 

 
  
 




<div class=Section1>

<p class=MsoNormal><span>Thanks &#8211; I&#8217;m ignoring it then.<o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span>jack<o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<div>

<div>

<p class=MsoNormal><b><span>From:</span></b><span> Sergey Barskiy
[mailto:cslanet@lhotka.net] <br>
<b>Sent:</b> Thursday, January 29, 2009 6:14 AM<br>
<b>To:</b> jaddington@alexandergracie.com<br>
<b>Subject:</b> RE: [CSLA .NET] DisableIEditableObject in Rolodex Example<o:p></o:p></span></p>

</div>

</div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span>If I recall correctly, it was there to deal with SL data grid
bug, that I think was fixed in December drop.<o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b><span>Sergey Barskiy<o:p></o:p></span></b></p>

<p class=MsoNormal><b><i><span>Principal Consultant<o:p></o:p></span></i></b></p>

<p class=MsoNormal><span>office: 678.405.0687 |
mobile:&nbsp;404.388.1899</span><span><o:p></o:p></span></p>

<p class=MsoNormal><span><img width=119 height=26 id="Picture_x0020_1" alt="cid:_2_0648EA840648E85C001BBCB886257279"><br>
</span><b><span>Microsoft Worldwide Partner of the Year |</span></b><span> </span><b><span>Custom
Development Solutions, Technical Innovation</span></b><span><o:p></o:p></span></p>

<p class=MsoNormal><span><o:p>&nbsp;</o:p></span></p>

<div>

<p class=MsoNormal><b><span>From:</span></b><span> Jack
[mailto:cslanet@lhotka.net] <br>
<b>Sent:</b> Thursday, January 29, 2009 1:32 AM<br>
<b>To:</b> Sergey Barskiy<br>
<b>Subject:</b> [CSLA .NET] DisableIEditableObject in Rolodex Example<o:p></o:p></span></p>

</div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Is there a reason this is set
to true?&nbsp; The 2008 book recommends not setting it - is this a silverlight
thing?&nbsp; If so, why is it also in the private constructor?<br>
<br>
If my plan was to have a Silverlight version and one or more non-Silverlight
version is this something I should not be turning off? <br>
<br>
I'm asking as I currently have my constuctors defined in my codeGen templates
so it will come out in all classes.<br>
<br>
Thanks<br>
<br>
jack<br>
<br>
<o:p></o:p></p>

<p class=MsoNormal><br>
<br>
<o:p></o:p></p>

</div>



</div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Thursday, January 29, 2009</h2><P>Just as an aside, I use DisableIEditableObject in my WinForms application, because evidently some elements of the UI design are unusual and are seemingly incompatible with the default binding implementation. (I'd do it differently and be compatible, but I lost that battle).</P>
<P>Anyway, turning&nbsp;IEditableObject off (DisableIEditableObject=true)&nbsp;means your objects will ignore all calls made via the IEditableObject interface, making you completely responsible for doing BeginEdit()/ApplyEdit()/CancelEdit() yourself.&nbsp; You still have N-level undo capability, provided you implement it yourself by making these calls at the correct point in time. </P>
<P>My understanding from the forum here is that WPF and Silverlight are better behaved (more consistent?) in their handling of IEditableObject and that disabling it should rarely be necessary. </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lukky replied on Thursday, January 29, 2009</h2>Hi rsbaker,<br><br>I've started handling this myself in my winforms application too because the d*mn BindingSource would keep causing EditLevel errors.<br><br>As I already mentioned in another post, I wish there was some document somewhere that would detail the exact mechanism that the BindingSource when deciding to call IEditbaleObject's BeginEdit(). I've tried to trace it, and it seems that it's actually the CurrencyManager that does it, but it's over my head for now.<br><br>As you've probably noticed yourself, when you pass a BO as the BindingSource's DataSource, sometimes the BindingSource will call BeginEdit() on the BO, and sometimes not, and I've not been able to understand clearly the reason.<br><br>Do you maybe have some insight into this issue ? If so, please share <img src="/emoticons/emotion-2.gif" alt="Big Smile [:D]" /><br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>rsbaker0 replied on Thursday, January 29, 2009</h2><P>I think most EditLevel errors can be avoided by using CSLA managed properties in 3.5 for child lists and BO's (the managed property infrastructure will set the edit level properly when a child BO is born while editing) and by properly unbinding the object, saving it, and rebinding the returned reference (search for RebindUI for examples). </P>
<P>The show stopper for me was that we have a ERLB side by side with a property sheet for the current object in the list. Once IEditableObject.BeginEdit() has been called, subsequent CopyState() aren't cascaded through the object graph to the BO descendants anymore, so my undo didn't work. There might be a solution, but I decided to take over the edit management myself and so far it's working OK.</P>
<P>Incidentally, once I disabled IEditableObject and doing my own BeginEdit(), I found all my EditLevel problems where I wasn't syncing up the edit level (this was before managed properties, and one of the main reasons I use them for child objects now). </P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lukky replied on Thursday, January 29, 2009</h2>Actually, the EditLevel problems that I'm referring to did not come from Child Properties. I've only really started using CSLA with version 3.6, and I've used managed properties since day 1.<br><br>No, actually the problem was coming from the fact that I wanted to provide the user with a way to recover from errors happening during Save(). Basically, I would Clone() the BO before saving, and in case of exception being thrown, I'd rebind the cloned BO. At that time I was using the CSLA BindingSourceNode + BindingSourceHelper classes.<br><br>What happened is that sometimes when rebinding the object, the EditLevel would be raised by 2, and other times by 1. This of course caused problems when saving. All this hapenning on the Root BO, not children.<br><br>Maybe it's something to do with the helper classes, maybe not, but since I've been doing it manually, it's been working fine.<br><br>Funny stuff.<br><br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Thursday, January 29, 2009</h2><P>Luc,</P>
<P>"Basically, I would Clone() the BO before saving, and in case of exception being thrown, I'd rebind the cloned BO"</P>
<P>I hope you are aware that as of 3.5 Rocky clones the BO for you automatically on Save. Unless you configure AutoCloneOnUpdate=False in your config file. The default is now True.</P>
<P>I am not sure if this is part of the reason for your pain or not. I do not do much binding in Winforms. I have a Web app and do most things manually.</P>
<P>Joe</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>lukky replied on Thursday, January 29, 2009</h2>Joe,<br><br>Yes, I know that Save() clones automatically, but the problem is that in order to Save, the EditLevel must be at 0. So, if an exception is thrown during the Save, there's no way for the user to cancel his changes.<br><br>By having a clone taken before calling ApplyEdit(), then I can offer the user to cancel the changes. Maybe I get this wrong, but the way I understand it, saving a BO "forces" to give up undo.<br><br>Of course, one could reload the BO. Is that maybe the usual way of handling this ?<br><br>Luc<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Friday, January 30, 2009</h2>Joe, you still need to do a clone before saving, or your form level cancel will break because you'll have called ApplyEdit before calling the save.&nbsp; So it's still a useful pattern.&nbsp; The CslaDataProvider in Wpf does this for you automatically, but in the WinForms world you still need to do it yourself (I think.&nbsp; CslaActionExtender may handle it... but I"ve not had a chance to check out that new component).<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>JoeFallon1 replied on Friday, January 30, 2009</h2><P>Pages 304-312 of the new book discuss the CslaActionExtender. It is supposed to help simplify the complexity associated with binding. </P>
<P>I won't even *try* to summarize 8 pages of Rocky's book in a thread!</P>
<P>Check it out.</P>
<P>Joe</P>
<P>&nbsp;</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
