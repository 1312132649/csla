<html><header><title>A bit confused...</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>A bit confused...</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/152.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>Aliator posted on Friday, May 19, 2006</h2>Hi,<br><br>The fact is that books examples are quite complete and I don't find a single example for my need...<br><br>I have some small tables I want to edit directly from a GridView... Let's say a Family table<br><br>I now I need an editable list to bind to GridView, but how to create it ?<br><br>EditableRootList and EditableChild ? Do I need to create more BOs for this functionality ?<br><br>Thank you.<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>dean replied on Friday, May 19, 2006</h2>Assuming csla 2.0 and each family object is a root object and you want to edit this in a grid view. Then create a collection class called Familys :<br><br>public class Familys<br>&nbsp;inherits BusinessListBase( of Familys, Family)<br><br>This you should bind to the grid view and you should be able to edit the family objects.<br><br>Dean<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>phowatt replied on Friday, May 19, 2006</h2><P>If I understand what you are asking you just want to edit a table using a GridView and&nbsp;are wondering what object types to use.&nbsp; In my experience the most common example of editing a collection with a grid is an example like an order.&nbsp; The root object is the order and the child collection are the order line items.&nbsp; Your root object uses a stored procedure, let's call it GetOrder to retrieve the order and line items from the data base and returns two result sets.&nbsp; The first result set is the order the second result set are the line items.&nbsp; In the Data Access region in the DataPortal_Fetch method of the Order class the first result set is retrieved via a datareader and populates the order properties with the information from the order row.&nbsp; Then the next result set is processed via the EditableChild collection class and the the Editable Child to poplulate the line item collection.</P>
<P>In your example I would do exactly the same thing except the the stored procedure would return only one result set which would be used to populate the Family collection.&nbsp; The root object, let's call it mFamily would not retrieve any data from the database and it would have only one property lets say it is named FamilyRecords.&nbsp; In my form I would then instantiate the EditableRoot class mFamily and bind my GridView to mFamily.FamilyRecords.&nbsp; The only purpose of the root object in this case is to host the collection. I hope this helps</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Aliator replied on Saturday, May 20, 2006</h2>OK, understood...<br><br>Now I'm facing another problem, more related to ASP.Net itself...<br><br>In the page where I have the GridView, I have this error on FamilyDataSource_DeleteObject method:<br><br>"Object reference not set to an instance of an object." for this line of code:<br><br>string _FamilyId = e.Keys["FamilyId"].ToString();<br><br>I'm looking into Project Tracker sources, and see nothing special about handling Keys ?<br><br>What am I missing ?<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>RockfordLhotka replied on Saturday, May 20, 2006</h2><P>If I understand correctly, you have a small table and you just want to allow the user to edit the data in that table - pretty much directly. No parent-child, nothing complex?</P>
<P>This is the Admin\Role and Admin\Roles classes in the ProjectTracker sample, and the associated RoleEdit.aspx page. Roles is an editable root collection, containing editable child objects.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>Aliator replied on Sunday, May 21, 2006</h2>Thank you, I 'll give it a try...<br></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
