<html><header><title>Readonly Property and Editing</title></header><body><div style='float:right'><a href='http://cslanet.com'><img src='https://github.com/MarimerLLC/csla/raw/master/Support/Logos/csla%20win8_compact_s.png'/></a></div><p><h1>Readonly Property and Editing</h1><span style='font-size:small'>Old forum URL: forums.lhotka.net/forums/t/3522.aspx</span></p><hr><div style='padding:0 15 3 15;background-color:powderblue'><h2>culprit posted on Wednesday, September 12, 2007</h2><P>I am looking for the best way to have the UI handle enabling/disabling (or readonly/ not readonly) text boxes for ReadOnly properties in a BusinessBase class. For now I have created these rules in the AuthoriationRules section but it seems like there might be a better/cleaner way:</P><FONT size=2>
<P>AuthorizationRules.AllowWrite(</FONT><FONT color=#a31515 size=2>"BillTo"</FONT><FONT size=2>, </FONT><FONT color=#a31515 size=2>"CANNOTEDIT"</FONT><FONT size=2>)</FONT></P>
<P><FONT size=2>Where there is no "CANNOTEDIT" group.</FONT></P>
<P><FONT size=2>Thank You,</FONT></P>
<P><FONT size=2>Rob</P></FONT></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ajj3085 replied on Wednesday, September 12, 2007</h2>Well, you can do that, use a group name that won't exist.<br><br>Alternately (and more clean, IMO), would be to override CanWriteProperty and test for the properties which should only be readonly.&nbsp; If you hit one, simply return false always.&nbsp; Same effect, just a different method for doing so.&nbsp; It may be quicker too, since there's no need to look through any dictionaries to determine if the user can or cannot write the property.<br><br>HTH<br>Andy<br></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>culprit replied on Wednesday, September 12, 2007</h2><P>Thanks to everyone for the suggestions. I think I will go with overriding the CanWriteProperty as I want to keep everything as simple as possible and easily move to newer versions of the framework.</P>
<P>Rob</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>DansDreams replied on Thursday, September 13, 2007</h2><P>Are we talking about properties that are always ReadOnly, or a case where its determined by the user's permissions or other circumstances?</P>
<P>If it's the former, then the property is readonly by not having a set accessor.&nbsp; That is discoverable via reflection.&nbsp; I modified the ReadWriteAuthorization to do so.</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>triplea replied on Wednesday, September 12, 2007</h2><P>Not sure if this is cleaner but you could add an attribute to all your read-only properties. Make sure you extend from a custom base class or implement an interface that is smart enough to detect if the property exists and return a bool to your custom control, notifying it if it should be read only or not. That would make the code a bit more readable I guess...</P></div><div style='padding:0 15 3 15;background-color:powderblue'><h2>ReadOnlyChild replied on Wednesday, September 12, 2007</h2><P>how does this sound.... </P>
<P>going into the readWriteAuthorization component and adding a new extended property to say to always return "ReadOnly"&nbsp;| false so this "feature and be applied at design time and outside the BO code...</P>
<P>so this would rely on UI, seems that's the approach culprit is looking for, <BR>an side-effect of this would be accessing the BO by other means than your UI will not contain this authorization mechanism, so maybe this is NOT what you are expecting...</P></div><p style='font-size:small'>Copyright (c) Marimer LLC</body></html>
